(()=>{var uj=Object.create,PM=Object.defineProperty,cj=Object.getPrototypeOf,fj=Object.prototype.hasOwnProperty,hj=Object.getOwnPropertyNames,dj=Object.getOwnPropertyDescriptor,aN=t=>PM(t,"__esModule",{value:!0}),cs=(t,n)=>()=>(n||(n={exports:{}},t(n.exports,n)),n.exports),pj=(t,n)=>{aN(t);for(var i in n)PM(t,i,{get:n[i],enumerable:!0})},mj=(t,n,i)=>{if(aN(t),n&&typeof n=="object"||typeof n=="function")for(let s of hj(n))!fj.call(t,s)&&s!=="default"&&PM(t,s,{get:()=>n[s],enumerable:!(i=dj(n,s))||i.enumerable});return t},ur=t=>t&&t.__esModule?t:mj(PM(t!=null?uj(cj(t)):{},"default",{value:t,enumerable:!0}),t),RM=cs((ase,lN)=>{"use strict";var uN=Object.getOwnPropertySymbols,vj=Object.prototype.hasOwnProperty,gj=Object.prototype.propertyIsEnumerable;function yj(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function xj(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var n={},i=0;i<10;i++)n["_"+String.fromCharCode(i)]=i;var s=Object.getOwnPropertyNames(n).map(function(e){return n[e]});if(s.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(e){l[e]=e}),!(Object.keys(Object.assign({},l)).join("")!=="abcdefghijklmnopqrst")}catch(e){return!1}}lN.exports=xj()?Object.assign:function(t,n){for(var i,s=yj(t),l,e=1;e<arguments.length;e++){i=Object(arguments[e]);for(var p in i)vj.call(i,p)&&(s[p]=i[p]);if(uN){l=uN(i);for(var v=0;v<l.length;v++)gj.call(i,l[v])&&(s[l[v]]=i[l[v]])}}return s}}),SN=cs(_i=>{"use strict";var BL=RM(),Ig=60103,cN=60106;_i.Fragment=60107;_i.StrictMode=60108;_i.Profiler=60114;var fN=60109,hN=60110,dN=60112;_i.Suspense=60113;var pN=60115,mN=60116;typeof Symbol=="function"&&Symbol.for&&($c=Symbol.for,Ig=$c("react.element"),cN=$c("react.portal"),_i.Fragment=$c("react.fragment"),_i.StrictMode=$c("react.strict_mode"),_i.Profiler=$c("react.profiler"),fN=$c("react.provider"),hN=$c("react.context"),dN=$c("react.forward_ref"),_i.Suspense=$c("react.suspense"),pN=$c("react.memo"),mN=$c("react.lazy"));var $c,vN=typeof Symbol=="function"&&Symbol.iterator;function Ej(t){return t===null||typeof t!="object"?null:(t=vN&&t[vN]||t["@@iterator"],typeof t=="function"?t:null)}function yE(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yN={};function Og(t,n,i){this.props=t,this.context=n,this.refs=yN,this.updater=i||gN}Og.prototype.isReactComponent={};Og.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(yE(85));this.updater.enqueueSetState(this,t,n,"setState")};Og.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xN(){}xN.prototype=Og.prototype;function NL(t,n,i){this.props=t,this.context=n,this.refs=yN,this.updater=i||gN}var IL=NL.prototype=new xN;IL.constructor=NL;BL(IL,Og.prototype);IL.isPureReactComponent=!0;var OL={current:null},EN=Object.prototype.hasOwnProperty,wN={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,n,i){var s,l={},e=null,p=null;if(n!=null)for(s in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(e=""+n.key),n)EN.call(n,s)&&!wN.hasOwnProperty(s)&&(l[s]=n[s]);var v=arguments.length-2;if(v===1)l.children=i;else if(1<v){for(var w=Array(v),E=0;E<v;E++)w[E]=arguments[E+2];l.children=w}if(t&&t.defaultProps)for(s in v=t.defaultProps,v)l[s]===void 0&&(l[s]=v[s]);return{$$typeof:Ig,type:t,key:e,ref:p,props:l,_owner:OL.current}}function wj(t,n){return{$$typeof:Ig,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function UL(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ig}function Aj(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return n[i]})}var _N=/\/+/g;function kL(t,n){return typeof t=="object"&&t!==null&&t.key!=null?Aj(""+t.key):n.toString(36)}function DM(t,n,i,s,l){var e=typeof t;(e==="undefined"||e==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(e){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case Ig:case cN:p=!0}}if(p)return p=t,l=l(p),t=s===""?"."+kL(p,0):s,Array.isArray(l)?(i="",t!=null&&(i=t.replace(_N,"$&/")+"/"),DM(l,n,i,"",function(E){return E})):l!=null&&(UL(l)&&(l=wj(l,i+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(_N,"$&/")+"/")+t)),n.push(l)),1;if(p=0,s=s===""?".":s+":",Array.isArray(t))for(var v=0;v<t.length;v++){e=t[v];var w=s+kL(e,v);p+=DM(e,n,i,w,l)}else if(w=Ej(t),typeof w=="function")for(t=w.call(t),v=0;!(e=t.next()).done;)e=e.value,w=s+kL(e,v++),p+=DM(e,n,i,w,l);else if(e==="object")throw n=""+t,Error(yE(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n));return p}function FM(t,n,i){if(t==null)return t;var s=[],l=0;return DM(t,s,"","",function(e){return n.call(i,e,l++)}),s}function _j(t){if(t._status===-1){var n=t._result;n=n(),t._status=0,t._result=n,n.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}if(t._status===1)return t._result;throw t._result}var MN={current:null};function dd(){var t=MN.current;if(t===null)throw Error(yE(321));return t}var Mj={ReactCurrentDispatcher:MN,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:OL,IsSomeRendererActing:{current:!1},assign:BL};_i.Children={map:FM,forEach:function(t,n,i){FM(t,function(){n.apply(this,arguments)},i)},count:function(t){var n=0;return FM(t,function(){n++}),n},toArray:function(t){return FM(t,function(n){return n})||[]},only:function(t){if(!UL(t))throw Error(yE(143));return t}};_i.Component=Og;_i.PureComponent=NL;_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mj;_i.cloneElement=function(t,n,i){if(t==null)throw Error(yE(267,t));var s=BL({},t.props),l=t.key,e=t.ref,p=t._owner;if(n!=null){if(n.ref!==void 0&&(e=n.ref,p=OL.current),n.key!==void 0&&(l=""+n.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(w in n)EN.call(n,w)&&!wN.hasOwnProperty(w)&&(s[w]=n[w]===void 0&&v!==void 0?v[w]:n[w])}var w=arguments.length-2;if(w===1)s.children=i;else if(1<w){v=Array(w);for(var E=0;E<w;E++)v[E]=arguments[E+2];s.children=v}return{$$typeof:Ig,type:t.type,key:l,ref:e,props:s,_owner:p}};_i.createContext=function(t,n){return n===void 0&&(n=null),t={$$typeof:hN,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:fN,_context:t},t.Consumer=t};_i.createElement=AN;_i.createFactory=function(t){var n=AN.bind(null,t);return n.type=t,n};_i.createRef=function(){return{current:null}};_i.forwardRef=function(t){return{$$typeof:dN,render:t}};_i.isValidElement=UL;_i.lazy=function(t){return{$$typeof:mN,_payload:{_status:-1,_result:t},_init:_j}};_i.memo=function(t,n){return{$$typeof:pN,type:t,compare:n===void 0?null:n}};_i.useCallback=function(t,n){return dd().useCallback(t,n)};_i.useContext=function(t,n){return dd().useContext(t,n)};_i.useDebugValue=function(){};_i.useEffect=function(t,n){return dd().useEffect(t,n)};_i.useImperativeHandle=function(t,n,i){return dd().useImperativeHandle(t,n,i)};_i.useLayoutEffect=function(t,n){return dd().useLayoutEffect(t,n)};_i.useMemo=function(t,n){return dd().useMemo(t,n)};_i.useReducer=function(t,n,i){return dd().useReducer(t,n,i)};_i.useRef=function(t){return dd().useRef(t)};_i.useState=function(t){return dd().useState(t)};_i.version="17.0.1"}),ho=cs((use,TN)=>{"use strict";TN.exports=SN()}),DN=cs(Ui=>{"use strict";var Ug,xE,BM,XL;typeof performance=="object"&&typeof performance.now=="function"?(bN=performance,Ui.unstable_now=function(){return bN.now()}):(HL=Date,CN=HL.now(),Ui.unstable_now=function(){return HL.now()-CN});var bN,HL,CN;typeof window=="undefined"||typeof MessageChannel!="function"?(kg=null,zL=null,YL=function(){if(kg!==null)try{var t=Ui.unstable_now();kg(!0,t),kg=null}catch(n){throw setTimeout(YL,0),n}},Ug=function(t){kg!==null?setTimeout(Ug,0,t):(kg=t,setTimeout(YL,0))},xE=function(t,n){zL=setTimeout(t,n)},BM=function(){clearTimeout(zL)},Ui.unstable_shouldYield=function(){return!1},XL=Ui.unstable_forceFrameRate=function(){}):(LN=window.setTimeout,PN=window.clearTimeout,typeof console!="undefined"&&(RN=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof RN!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),EE=!1,wE=null,NM=-1,VL=5,WL=0,Ui.unstable_shouldYield=function(){return Ui.unstable_now()>=WL},XL=function(){},Ui.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):VL=0<t?Math.floor(1e3/t):5},jL=new MessageChannel,IM=jL.port2,jL.port1.onmessage=function(){if(wE!==null){var t=Ui.unstable_now();WL=t+VL;try{wE(!0,t)?IM.postMessage(null):(EE=!1,wE=null)}catch(n){throw IM.postMessage(null),n}}else EE=!1},Ug=function(t){wE=t,EE||(EE=!0,IM.postMessage(null))},xE=function(t,n){NM=LN(function(){t(Ui.unstable_now())},n)},BM=function(){PN(NM),NM=-1});var kg,zL,YL,LN,PN,RN,EE,wE,NM,VL,WL,jL,IM;function QL(t,n){var i=t.length;t.push(n);e:for(;;){var s=i-1>>>1,l=t[s];if(l!==void 0&&0<OM(l,n))t[s]=n,t[i]=l,i=s;else break e}}function Uf(t){return t=t[0],t===void 0?null:t}function UM(t){var n=t[0];if(n!==void 0){var i=t.pop();if(i!==n){t[0]=i;e:for(var s=0,l=t.length;s<l;){var e=2*(s+1)-1,p=t[e],v=e+1,w=t[v];if(p!==void 0&&0>OM(p,i))w!==void 0&&0>OM(w,p)?(t[s]=w,t[v]=i,s=v):(t[s]=p,t[e]=i,s=e);else if(w!==void 0&&0>OM(w,i))t[s]=w,t[v]=i,s=v;else break e}}return n}return null}function OM(t,n){var i=t.sortIndex-n.sortIndex;return i!==0?i:t.id-n.id}var Z0=[],Vp=[],Sj=1,ef=null,cl=3,kM=!1,rv=!1,AE=!1;function qL(t){for(var n=Uf(Vp);n!==null;){if(n.callback===null)UM(Vp);else if(n.startTime<=t)UM(Vp),n.sortIndex=n.expirationTime,QL(Z0,n);else break;n=Uf(Vp)}}function JL(t){if(AE=!1,qL(t),!rv)if(Uf(Z0)!==null)rv=!0,Ug(ZL);else{var n=Uf(Vp);n!==null&&xE(JL,n.startTime-t)}}function ZL(t,n){rv=!1,AE&&(AE=!1,BM()),kM=!0;var i=cl;try{for(qL(n),ef=Uf(Z0);ef!==null&&(!(ef.expirationTime>n)||t&&!Ui.unstable_shouldYield());){var s=ef.callback;if(typeof s=="function"){ef.callback=null,cl=ef.priorityLevel;var l=s(ef.expirationTime<=n);n=Ui.unstable_now(),typeof l=="function"?ef.callback=l:ef===Uf(Z0)&&UM(Z0),qL(n)}else UM(Z0);ef=Uf(Z0)}if(ef!==null)var e=!0;else{var p=Uf(Vp);p!==null&&xE(JL,p.startTime-n),e=!1}return e}finally{ef=null,cl=i,kM=!1}}var Tj=XL;Ui.unstable_IdlePriority=5;Ui.unstable_ImmediatePriority=1;Ui.unstable_LowPriority=4;Ui.unstable_NormalPriority=3;Ui.unstable_Profiling=null;Ui.unstable_UserBlockingPriority=2;Ui.unstable_cancelCallback=function(t){t.callback=null};Ui.unstable_continueExecution=function(){rv||kM||(rv=!0,Ug(ZL))};Ui.unstable_getCurrentPriorityLevel=function(){return cl};Ui.unstable_getFirstCallbackNode=function(){return Uf(Z0)};Ui.unstable_next=function(t){switch(cl){case 1:case 2:case 3:var n=3;break;default:n=cl}var i=cl;cl=n;try{return t()}finally{cl=i}};Ui.unstable_pauseExecution=function(){};Ui.unstable_requestPaint=Tj;Ui.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=cl;cl=t;try{return n()}finally{cl=i}};Ui.unstable_scheduleCallback=function(t,n,i){var s=Ui.unstable_now();typeof i=="object"&&i!==null?(i=i.delay,i=typeof i=="number"&&0<i?s+i:s):i=s;switch(t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=i+l,t={id:Sj++,callback:n,priorityLevel:t,startTime:i,expirationTime:l,sortIndex:-1},i>s?(t.sortIndex=i,QL(Vp,t),Uf(Z0)===null&&t===Uf(Vp)&&(AE?BM():AE=!0,xE(JL,i-s))):(t.sortIndex=l,QL(Z0,t),rv||kM||(rv=!0,Ug(ZL))),t};Ui.unstable_wrapCallback=function(t){var n=cl;return function(){var i=cl;cl=n;try{return t.apply(this,arguments)}finally{cl=i}}}}),GM=cs((fse,FN)=>{"use strict";FN.exports=DN()}),E8=cs(tf=>{"use strict";var XM=ho(),No=RM(),oa=GM();function en(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!XM)throw Error(en(227));var BN=new Set,_E={};function iv(t,n){Gg(t,n),Gg(t+"Capture",n)}function Gg(t,n){for(_E[t]=n,t=0;t<n.length;t++)BN.add(n[t])}var pd=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NN=Object.prototype.hasOwnProperty,IN={},ON={};function Cj(t){return NN.call(ON,t)?!0:NN.call(IN,t)?!1:bj.test(t)?ON[t]=!0:(IN[t]=!0,!1)}function Lj(t,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pj(t,n,i,s){if(n===null||typeof n=="undefined"||Lj(t,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vl(t,n,i,s,l,e,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=e,this.removeEmptyString=p}var Ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ca[t]=new Vl(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];Ca[n]=new Vl(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ca[t]=new Vl(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ca[t]=new Vl(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ca[t]=new Vl(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ca[t]=new Vl(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ca[t]=new Vl(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ca[t]=new Vl(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ca[t]=new Vl(t,5,!1,t.toLowerCase(),null,!1,!1)});var KL=/[\-:]([a-z])/g;function $L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(KL,$L);Ca[n]=new Vl(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(KL,$L);Ca[n]=new Vl(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(KL,$L);Ca[n]=new Vl(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ca[t]=new Vl(t,1,!1,t.toLowerCase(),null,!1,!1)});Ca.xlinkHref=new Vl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ca[t]=new Vl(t,1,!1,t.toLowerCase(),null,!0,!0)});function e6(t,n,i,s){var l=Ca.hasOwnProperty(n)?Ca[n]:null,e=l!==null?l.type===0:s?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");e||(Pj(n,i,l,s)&&(i=null),s||l===null?Cj(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):l.mustUseProperty?t[l.propertyName]=i===null?l.type===3?!1:"":i:(n=l.attributeName,s=l.attributeNamespace,i===null?t.removeAttribute(n):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,s?t.setAttributeNS(s,n,i):t.setAttribute(n,i))))}var ov=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ME=60103,sv=60106,Wp=60107,t6=60108,SE=60114,n6=60109,r6=60110,HM=60112,TE=60113,zM=60120,YM=60115,i6=60116,o6=60121,s6=60128,UN=60129,a6=60130,l6=60131;typeof Symbol=="function"&&Symbol.for&&(Ns=Symbol.for,ME=Ns("react.element"),sv=Ns("react.portal"),Wp=Ns("react.fragment"),t6=Ns("react.strict_mode"),SE=Ns("react.profiler"),n6=Ns("react.provider"),r6=Ns("react.context"),HM=Ns("react.forward_ref"),TE=Ns("react.suspense"),zM=Ns("react.suspense_list"),YM=Ns("react.memo"),i6=Ns("react.lazy"),o6=Ns("react.block"),Ns("react.scope"),s6=Ns("react.opaque.id"),UN=Ns("react.debug_trace_mode"),a6=Ns("react.offscreen"),l6=Ns("react.legacy_hidden"));var Ns,kN=typeof Symbol=="function"&&Symbol.iterator;function bE(t){return t===null||typeof t!="object"?null:(t=kN&&t[kN]||t["@@iterator"],typeof t=="function"?t:null)}var u6;function CE(t){if(u6===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);u6=n&&n[1]||""}return`
`+u6+t}var c6=!1;function VM(t,n){if(!t||c6)return"";c6=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(w){var s=w}Reflect.construct(t,[],n)}else{try{n.call()}catch(w){s=w}t.call(n.prototype)}else{try{throw Error()}catch(w){s=w}t()}}catch(w){if(w&&s&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),e=s.stack.split(`
`),p=l.length-1,v=e.length-1;1<=p&&0<=v&&l[p]!==e[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==e[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==e[v])return`
`+l[p].replace(" at new "," at ");while(1<=p&&0<=v);break}}}finally{c6=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?CE(t):""}function Rj(t){switch(t.tag){case 5:return CE(t.type);case 16:return CE("Lazy");case 13:return CE("Suspense");case 19:return CE("SuspenseList");case 0:case 2:case 15:return t=VM(t.type,!1),t;case 11:return t=VM(t.type.render,!1),t;case 22:return t=VM(t.type._render,!1),t;case 1:return t=VM(t.type,!0),t;default:return""}}function Xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wp:return"Fragment";case sv:return"Portal";case SE:return"Profiler";case t6:return"StrictMode";case TE:return"Suspense";case zM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r6:return(t.displayName||"Context")+".Consumer";case n6:return(t._context.displayName||"Context")+".Provider";case HM:var n=t.render;return n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case YM:return Xg(t.type);case o6:return Xg(t._render);case i6:n=t._payload,t=t._init;try{return Xg(t(n))}catch(i){}}return null}function jp(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function GN(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dj(t){var n=GN(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),s=""+t[n];if(!t.hasOwnProperty(n)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,e=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return l.call(this)},set:function(p){s=""+p,e.call(this,p)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function WM(t){t._valueTracker||(t._valueTracker=Dj(t))}function XN(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return t&&(s=GN(t)?t.checked?"true":"false":t.value),t=s,t!==i?(n.setValue(t),!0):!1}function jM(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(n){return t.body}}function f6(t,n){var i=n.checked;return No({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function HN(t,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=jp(n.value!=null?n.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function zN(t,n){n=n.checked,n!=null&&e6(t,"checked",n,!1)}function d6(t,n){zN(t,n);var i=jp(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?h6(t,n.type,i):n.hasOwnProperty("defaultValue")&&h6(t,n.type,jp(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function YN(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function h6(t,n,i){(n!=="number"||jM(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Fj(t){var n="";return XM.Children.forEach(t,function(i){i!=null&&(n+=i)}),n}function p6(t,n){return t=No({children:void 0},n),(n=Fj(n.children))&&(t.children=n),t}function Hg(t,n,i,s){if(t=t.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<t.length;i++)l=n.hasOwnProperty("$"+t[i].value),t[i].selected!==l&&(t[i].selected=l),l&&s&&(t[i].defaultSelected=!0)}else{for(i=""+jp(i),n=null,l=0;l<t.length;l++){if(t[l].value===i){t[l].selected=!0,s&&(t[l].defaultSelected=!0);return}n!==null||t[l].disabled||(n=t[l])}n!==null&&(n.selected=!0)}}function m6(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(en(91));return No({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VN(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(en(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(en(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:jp(i)}}function WN(t,n){var i=jp(n.value),s=jp(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),s!=null&&(t.defaultValue=""+s)}function jN(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}var v6={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function QN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g6(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?QN(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var QM,qN=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(n,i,s,l){MSApp.execUnsafeLocalFunction(function(){return t(n,i,s,l)})}:t}(function(t,n){if(t.namespaceURI!==v6.svg||"innerHTML"in t)t.innerHTML=n;else{for(QM=QM||document.createElement("div"),QM.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=QM.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function LE(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var PE={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bj=["Webkit","ms","Moz","O"];Object.keys(PE).forEach(function(t){Bj.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),PE[n]=PE[t]})});function JN(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||PE.hasOwnProperty(t)&&PE[t]?(""+n).trim():n+"px"}function ZN(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,l=JN(i,n[i],s);i==="float"&&(i="cssFloat"),s?t.setProperty(i,l):t[i]=l}}var Nj=No({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y6(t,n){if(n){if(Nj[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(en(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(en(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error(en(61))}if(n.style!=null&&typeof n.style!="object")throw Error(en(62))}}function x6(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function E6(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w6=null,zg=null,Yg=null;function KN(t){if(t=RE(t)){if(typeof w6!="function")throw Error(en(280));var n=t.stateNode;n&&(n=qM(n),w6(t.stateNode,t.type,n))}}function $N(t){zg?Yg?Yg.push(t):Yg=[t]:zg=t}function eI(){if(zg){var t=zg,n=Yg;if(Yg=zg=null,KN(t),n)for(t=0;t<n.length;t++)KN(n[t])}}function A6(t,n){return t(n)}function tI(t,n,i,s,l){return t(n,i,s,l)}function _6(){}var nI=A6,av=!1,M6=!1;function S6(){(zg!==null||Yg!==null)&&(_6(),eI())}function Ij(t,n,i){if(M6)return t(n,i);M6=!0;try{return nI(t,n,i)}finally{M6=!1,S6()}}function DE(t,n){var i=t.stateNode;if(i===null)return null;var s=qM(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(en(231,n,typeof i));return i}var T6=!1;if(pd)try{Vg={},Object.defineProperty(Vg,"passive",{get:function(){T6=!0}}),window.addEventListener("test",Vg,Vg),window.removeEventListener("test",Vg,Vg)}catch(t){T6=!1}var Vg;function Oj(t,n,i,s,l,e,p,v,w){var E=Array.prototype.slice.call(arguments,3);try{n.apply(i,E)}catch(T){this.onError(T)}}var FE=!1,JM=null,ZM=!1,b6=null,Uj={onError:function(t){FE=!0,JM=t}};function kj(t,n,i,s,l,e,p,v,w){FE=!1,JM=null,Oj.apply(Uj,arguments)}function Gj(t,n,i,s,l,e,p,v,w){if(kj.apply(this,arguments),FE){if(FE){var E=JM;FE=!1,JM=null}else throw Error(en(198));ZM||(ZM=!0,b6=E)}}function lv(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&1026)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function rI(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function iI(t){if(lv(t)!==t)throw Error(en(188))}function Xj(t){var n=t.alternate;if(!n){if(n=lv(t),n===null)throw Error(en(188));return n!==t?null:t}for(var i=t,s=n;;){var l=i.return;if(l===null)break;var e=l.alternate;if(e===null){if(s=l.return,s!==null){i=s;continue}break}if(l.child===e.child){for(e=l.child;e;){if(e===i)return iI(l),t;if(e===s)return iI(l),n;e=e.sibling}throw Error(en(188))}if(i.return!==s.return)i=l,s=e;else{for(var p=!1,v=l.child;v;){if(v===i){p=!0,i=l,s=e;break}if(v===s){p=!0,s=l,i=e;break}v=v.sibling}if(!p){for(v=e.child;v;){if(v===i){p=!0,i=e,s=l;break}if(v===s){p=!0,s=e,i=l;break}v=v.sibling}if(!p)throw Error(en(189))}}if(i.alternate!==s)throw Error(en(190))}if(i.tag!==3)throw Error(en(188));return i.stateNode.current===i?t:n}function oI(t){if(t=Xj(t),!t)return null;for(var n=t;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)break;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function sI(t,n){for(var i=t.alternate;n!==null;){if(n===t||n===i)return!0;n=n.return}return!1}var aI,C6,lI,uI,L6=!1,K0=[],Qp=null,qp=null,Jp=null,BE=new Map,NE=new Map,IE=[],cI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P6(t,n,i,s,l){return{blockedOn:t,domEventName:n,eventSystemFlags:i|16,nativeEvent:l,targetContainers:[s]}}function fI(t,n){switch(t){case"focusin":case"focusout":Qp=null;break;case"dragenter":case"dragleave":qp=null;break;case"mouseover":case"mouseout":Jp=null;break;case"pointerover":case"pointerout":BE.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":NE.delete(n.pointerId)}}function OE(t,n,i,s,l,e){return t===null||t.nativeEvent!==e?(t=P6(n,i,s,l,e),n!==null&&(n=RE(n),n!==null&&C6(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),t)}function Hj(t,n,i,s,l){switch(n){case"focusin":return Qp=OE(Qp,t,n,i,s,l),!0;case"dragenter":return qp=OE(qp,t,n,i,s,l),!0;case"mouseover":return Jp=OE(Jp,t,n,i,s,l),!0;case"pointerover":var e=l.pointerId;return BE.set(e,OE(BE.get(e)||null,t,n,i,s,l)),!0;case"gotpointercapture":return e=l.pointerId,NE.set(e,OE(NE.get(e)||null,t,n,i,s,l)),!0}return!1}function zj(t){var n=uv(t.target);if(n!==null){var i=lv(n);if(i!==null){if(n=i.tag,n===13){if(n=rI(i),n!==null){t.blockedOn=n,uI(t.lanePriority,function(){oa.unstable_runWithPriority(t.priority,function(){lI(i)})});return}}else if(n===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function KM(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=R6(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i!==null)return n=RE(i),n!==null&&C6(n),t.blockedOn=i,!1;n.shift()}return!0}function hI(t,n,i){KM(t)&&i.delete(n)}function Yj(){for(L6=!1;0<K0.length;){var t=K0[0];if(t.blockedOn!==null){t=RE(t.blockedOn),t!==null&&aI(t);break}for(var n=t.targetContainers;0<n.length;){var i=R6(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i!==null){t.blockedOn=i;break}n.shift()}t.blockedOn===null&&K0.shift()}Qp!==null&&KM(Qp)&&(Qp=null),qp!==null&&KM(qp)&&(qp=null),Jp!==null&&KM(Jp)&&(Jp=null),BE.forEach(hI),NE.forEach(hI)}function UE(t,n){t.blockedOn===n&&(t.blockedOn=null,L6||(L6=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,Yj)))}function dI(t){function n(l){return UE(l,t)}if(0<K0.length){UE(K0[0],t);for(var i=1;i<K0.length;i++){var s=K0[i];s.blockedOn===t&&(s.blockedOn=null)}}for(Qp!==null&&UE(Qp,t),qp!==null&&UE(qp,t),Jp!==null&&UE(Jp,t),BE.forEach(n),NE.forEach(n),i=0;i<IE.length;i++)s=IE[i],s.blockedOn===t&&(s.blockedOn=null);for(;0<IE.length&&(i=IE[0],i.blockedOn===null);)zj(i),i.blockedOn===null&&IE.shift()}function $M(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Wg={animationend:$M("Animation","AnimationEnd"),animationiteration:$M("Animation","AnimationIteration"),animationstart:$M("Animation","AnimationStart"),transitionend:$M("Transition","TransitionEnd")},D6={},pI={};pd&&(pI=document.createElement("div").style,"AnimationEvent"in window||(delete Wg.animationend.animation,delete Wg.animationiteration.animation,delete Wg.animationstart.animation),"TransitionEvent"in window||delete Wg.transitionend.transition);function e4(t){if(D6[t])return D6[t];if(!Wg[t])return t;var n=Wg[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in pI)return D6[t]=n[i];return t}var mI=e4("animationend"),vI=e4("animationiteration"),gI=e4("animationstart"),yI=e4("transitionend"),xI=new Map,F6=new Map,Vj=["abort","abort",mI,"animationEnd",vI,"animationIteration",gI,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yI,"transitionEnd","waiting","waiting"];function B6(t,n){for(var i=0;i<t.length;i+=2){var s=t[i],l=t[i+1];l="on"+(l[0].toUpperCase()+l.slice(1)),F6.set(s,n),xI.set(s,l),iv(l,[s])}}var Wj=oa.unstable_now;Wj();var po=8;function jg(t){if((1&t)!==0)return po=15,1;if((2&t)!==0)return po=14,2;if((4&t)!==0)return po=13,4;var n=24&t;return n!==0?(po=12,n):(t&32)!==0?(po=11,32):(n=192&t,n!==0?(po=10,n):(t&256)!==0?(po=9,256):(n=3584&t,n!==0?(po=8,n):(t&4096)!==0?(po=7,4096):(n=4186112&t,n!==0?(po=6,n):(n=62914560&t,n!==0?(po=5,n):t&67108864?(po=4,67108864):(t&134217728)!==0?(po=3,134217728):(n=805306368&t,n!==0?(po=2,n):(1073741824&t)!==0?(po=1,1073741824):(po=8,t))))))}function jj(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Qj(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(en(358,t))}}function kE(t,n){var i=t.pendingLanes;if(i===0)return po=0;var s=0,l=0,e=t.expiredLanes,p=t.suspendedLanes,v=t.pingedLanes;if(e!==0)s=e,l=po=15;else if(e=i&134217727,e!==0){var w=e&~p;w!==0?(s=jg(w),l=po):(v&=e,v!==0&&(s=jg(v),l=po))}else e=i&~p,e!==0?(s=jg(e),l=po):v!==0&&(s=jg(v),l=po);if(s===0)return 0;if(s=31-Zp(s),s=i&((0>s?0:1<<s)<<1)-1,n!==0&&n!==s&&(n&p)===0){if(jg(n),l<=po)return n;po=l}if(n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=s;0<n;)i=31-Zp(n),l=1<<i,s|=t[i],n&=~l;return s}function EI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t4(t,n){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Qg(24&~n),t===0?t4(10,n):t;case 10:return t=Qg(192&~n),t===0?t4(8,n):t;case 8:return t=Qg(3584&~n),t===0&&(t=Qg(4186112&~n),t===0&&(t=512)),t;case 2:return n=Qg(805306368&~n),n===0&&(n=268435456),n}throw Error(en(358,t))}function Qg(t){return t&-t}function N6(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function n4(t,n,i){t.pendingLanes|=n;var s=n-1;t.suspendedLanes&=s,t.pingedLanes&=s,t=t.eventTimes,n=31-Zp(n),t[n]=i}var Zp=Math.clz32?Math.clz32:qj,Jj=Math.log,Zj=Math.LN2;function qj(t){return t===0?32:31-(Jj(t)/Zj|0)|0}var Kj=oa.unstable_UserBlockingPriority,$j=oa.unstable_runWithPriority,r4=!0;function eQ(t,n,i,s){av||_6();var l=I6,e=av;av=!0;try{tI(l,t,n,i,s)}finally{(av=e)||S6()}}function tQ(t,n,i,s){$j(Kj,I6.bind(null,t,n,i,s))}function I6(t,n,i,s){if(r4){var l;if((l=(n&4)===0)&&0<K0.length&&-1<cI.indexOf(t))t=P6(null,t,n,i,s),K0.push(t);else{var e=R6(t,n,i,s);if(e===null)l&&fI(t,s);else{if(l){if(-1<cI.indexOf(t)){t=P6(e,t,n,i,s),K0.push(t);return}if(Hj(e,t,n,i,s))return;fI(t,s)}wI(t,n,s,null,i)}}}}function R6(t,n,i,s){var l=E6(s);if(l=uv(l),l!==null){var e=lv(l);if(e===null)l=null;else{var p=e.tag;if(p===13){if(l=rI(e),l!==null)return l;l=null}else if(p===3){if(e.stateNode.hydrate)return e.tag===3?e.stateNode.containerInfo:null;l=null}else e!==l&&(l=null)}}return wI(t,n,s,l,i),null}var Kp=null,O6=null,i4=null;function AI(){if(i4)return i4;var t,n=O6,i=n.length,s,l="value"in Kp?Kp.value:Kp.textContent,e=l.length;for(t=0;t<i&&n[t]===l[t];t++);var p=i-t;for(s=1;s<=p&&n[i-s]===l[e-s];s++);return i4=l.slice(t,1<s?1-s:void 0)}function o4(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function s4(){return!0}function _I(){return!1}function hc(t){function n(i,s,l,e,p){this._reactName=i,this._targetInst=l,this.type=s,this.nativeEvent=e,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(i=t[v],this[v]=i?i(e):e[v]);return this.isDefaultPrevented=(e.defaultPrevented!=null?e.defaultPrevented:e.returnValue===!1)?s4:_I,this.isPropagationStopped=_I,this}return No(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=s4)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=s4)},persist:function(){},isPersistent:s4}),n}var qg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U6=hc(qg),GE=No({},qg,{view:0,detail:0}),nQ=hc(GE),k6,G6,XE,a4=No({},GE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X6,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==XE&&(XE&&t.type==="mousemove"?(k6=t.screenX-XE.screenX,G6=t.screenY-XE.screenY):G6=k6=0,XE=t),k6)},movementY:function(t){return"movementY"in t?t.movementY:G6}}),MI=hc(a4),rQ=No({},a4,{dataTransfer:0}),iQ=hc(rQ),oQ=No({},GE,{relatedTarget:0}),H6=hc(oQ),sQ=No({},qg,{animationName:0,elapsedTime:0,pseudoElement:0}),aQ=hc(sQ),lQ=No({},qg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uQ=hc(lQ),cQ=No({},qg,{data:0}),SI=hc(cQ),fQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pQ(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=dQ[t])?!!n[t]:!1}function X6(){return pQ}var mQ=No({},GE,{key:function(t){if(t.key){var n=fQ[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=o4(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X6,charCode:function(t){return t.type==="keypress"?o4(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?o4(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vQ=hc(mQ),gQ=No({},a4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TI=hc(gQ),yQ=No({},GE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X6}),xQ=hc(yQ),EQ=No({},qg,{propertyName:0,elapsedTime:0,pseudoElement:0}),wQ=hc(EQ),AQ=No({},a4,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_Q=hc(AQ),MQ=[9,13,27,32],z6=pd&&"CompositionEvent"in window,HE=null;pd&&"documentMode"in document&&(HE=document.documentMode);var SQ=pd&&"TextEvent"in window&&!HE,bI=pd&&(!z6||HE&&8<HE&&11>=HE),CI=String.fromCharCode(32),LI=!1;function PI(t,n){switch(t){case"keyup":return MQ.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jg=!1;function TQ(t,n){switch(t){case"compositionend":return RI(n);case"keypress":return n.which!==32?null:(LI=!0,CI);case"textInput":return t=n.data,t===CI&&LI?null:t;default:return null}}function bQ(t,n){if(Jg)return t==="compositionend"||!z6&&PI(t,n)?(t=AI(),i4=O6=Kp=null,Jg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bI&&n.locale!=="ko"?null:n.data;default:return null}}var CQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DI(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CQ[t.type]:n==="textarea"}function FI(t,n,i,s){$N(s),n=l4(n,"onChange"),0<n.length&&(i=new U6("onChange","change",null,i,s),t.push({event:i,listeners:n}))}var zE=null,YE=null;function LQ(t){BI(t,0)}function u4(t){var n=Zg(t);if(XN(n))return t}function PQ(t,n){if(t==="change")return n}var NI=!1;pd&&(pd?(f4="oninput"in document,f4||(Y6=document.createElement("div"),Y6.setAttribute("oninput","return;"),f4=typeof Y6.oninput=="function"),c4=f4):c4=!1,NI=c4&&(!document.documentMode||9<document.documentMode));var c4,f4,Y6;function OI(){zE&&(zE.detachEvent("onpropertychange",II),YE=zE=null)}function II(t){if(t.propertyName==="value"&&u4(YE)){var n=[];if(FI(n,YE,t,E6(t)),t=LQ,av)t(n);else{av=!0;try{A6(t,n)}finally{av=!1,S6()}}}}function RQ(t,n,i){t==="focusin"?(OI(),zE=n,YE=i,zE.attachEvent("onpropertychange",II)):t==="focusout"&&OI()}function DQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u4(YE)}function FQ(t,n){if(t==="click")return u4(n)}function BQ(t,n){if(t==="input"||t==="change")return u4(n)}function NQ(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nf=typeof Object.is=="function"?Object.is:NQ,IQ=Object.prototype.hasOwnProperty;function VE(t,n){if(nf(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++)if(!IQ.call(n,i[s])||!nf(t[i[s]],n[i[s]]))return!1;return!0}function UI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kI(t,n){var i=UI(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=n&&s>=n)return{node:i,offset:n-t};t=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=UI(i)}}function GI(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?GI(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function XI(){for(var t=window,n=jM();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch(s){i=!1}if(i)t=n.contentWindow;else break;n=jM(t.document)}return n}function V6(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var OQ=pd&&"documentMode"in document&&11>=document.documentMode,Kg=null,W6=null,WE=null,j6=!1;function HI(t,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;j6||Kg==null||Kg!==jM(s)||(s=Kg,"selectionStart"in s&&V6(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),WE&&VE(WE,s)||(WE=s,s=l4(W6,"onSelect"),0<s.length&&(n=new U6("onSelect","select",null,n,i),t.push({event:n,listeners:s}),n.target=Kg)))}B6("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);B6("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);B6(Vj,2);for(var zI="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Q6=0;Q6<zI.length;Q6++)F6.set(zI[Q6],0);Gg("onMouseEnter",["mouseout","mouseover"]);Gg("onMouseLeave",["mouseout","mouseover"]);Gg("onPointerEnter",["pointerout","pointerover"]);Gg("onPointerLeave",["pointerout","pointerover"]);iv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));iv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));iv("onBeforeInput",["compositionend","keypress","textInput","paste"]);iv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));iv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));iv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YI=new Set("cancel close invalid load scroll toggle".split(" ").concat(jE));function VI(t,n,i){var s=t.type||"unknown-event";t.currentTarget=i,Gj(s,n,void 0,t),t.currentTarget=null}function BI(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],l=s.event;s=s.listeners;e:{var e=void 0;if(n)for(var p=s.length-1;0<=p;p--){var v=s[p],w=v.instance,E=v.currentTarget;if(v=v.listener,w!==e&&l.isPropagationStopped())break e;VI(l,v,E),e=w}else for(p=0;p<s.length;p++){if(v=s[p],w=v.instance,E=v.currentTarget,v=v.listener,w!==e&&l.isPropagationStopped())break e;VI(l,v,E),e=w}}}if(ZM)throw t=b6,ZM=!1,b6=null,t}function So(t,n){var i=jI(n),s=t+"__bubble";i.has(s)||(WI(n,t,2,!1),i.add(s))}var QI="_reactListening"+Math.random().toString(36).slice(2);function JI(t){t[QI]||(t[QI]=!0,BN.forEach(function(n){YI.has(n)||qI(n,!1,t,null),qI(n,!0,t,null)}))}function qI(t,n,i,s){var l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,e=i;if(t==="selectionchange"&&i.nodeType!==9&&(e=i.ownerDocument),s!==null&&!n&&YI.has(t)){if(t!=="scroll")return;l|=2,e=s}var p=jI(e),v=t+"__"+(n?"capture":"bubble");p.has(v)||(n&&(l|=4),WI(e,t,l,n),p.add(v))}function WI(t,n,i,s){var l=F6.get(n);switch(l===void 0?2:l){case 0:l=eQ;break;case 1:l=tQ;break;default:l=I6}i=l.bind(null,n,i,t),l=void 0,!T6||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),s?l!==void 0?t.addEventListener(n,i,{capture:!0,passive:l}):t.addEventListener(n,i,!0):l!==void 0?t.addEventListener(n,i,{passive:l}):t.addEventListener(n,i,!1)}function wI(t,n,i,s,l){var e=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=s.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;p=p.return}for(;v!==null;){if(p=uv(v),p===null)return;if(w=p.tag,w===5||w===6){s=e=p;continue e}v=v.parentNode}}s=s.return}Ij(function(){var E=e,T=E6(i),C=[];e:{var R=xI.get(t);if(R!==void 0){var B=U6,A=t;switch(t){case"keypress":if(o4(i)===0)break e;case"keydown":case"keyup":B=vQ;break;case"focusin":A="focus",B=H6;break;case"focusout":A="blur",B=H6;break;case"beforeblur":case"afterblur":B=H6;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=MI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=iQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xQ;break;case mI:case vI:case gI:B=aQ;break;case yI:B=wQ;break;case"scroll":B=nQ;break;case"wheel":B=_Q;break;case"copy":case"cut":case"paste":B=uQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=TI}var H=(n&4)!==0,G=!H&&t==="scroll",O=H?R!==null?R+"Capture":null:R;H=[];for(var U=E,$;U!==null;){$=U;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,O!==null&&(ie=DE(U,O),ie!=null&&H.push(QE(U,ie,$)))),G)break;U=U.return}0<H.length&&(R=new B(R,A,null,i,T),C.push({event:R,listeners:H}))}}if((n&7)===0){e:{if(R=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",R&&(n&16)===0&&(A=i.relatedTarget||i.fromElement)&&(uv(A)||A[ey]))break e;if((B||R)&&(R=T.window===T?T:(R=T.ownerDocument)?R.defaultView||R.parentWindow:window,B?(A=i.relatedTarget||i.toElement,B=E,A=A?uv(A):null,A!==null&&(G=lv(A),A!==G||A.tag!==5&&A.tag!==6))&&(A=null):(B=null,A=E),B!==A)){if(H=MI,ie="onMouseLeave",O="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(H=TI,ie="onPointerLeave",O="onPointerEnter",U="pointer"),G=B==null?R:Zg(B),$=A==null?R:Zg(A),R=new H(ie,U+"leave",B,i,T),R.target=G,R.relatedTarget=$,ie=null,uv(T)===E&&(H=new H(O,U+"enter",A,i,T),H.target=$,H.relatedTarget=G,ie=H),G=ie,B&&A)t:{for(H=B,O=A,U=0,$=H;$;$=$g($))U++;for($=0,ie=O;ie;ie=$g(ie))$++;for(;0<U-$;)H=$g(H),U--;for(;0<$-U;)O=$g(O),$--;for(;U--;){if(H===O||O!==null&&H===O.alternate)break t;H=$g(H),O=$g(O)}H=null}else H=null;B!==null&&ZI(C,R,B,H,!1),A!==null&&G!==null&&ZI(C,G,A,H,!0)}}e:{if(R=E?Zg(E):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var ue=PQ;else if(DI(R))if(NI)ue=BQ;else{ue=DQ;var K=RQ}else(B=R.nodeName)&&B.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(ue=FQ);if(ue&&(ue=ue(t,E))){FI(C,ue,i,T);break e}K&&K(t,R,E),t==="focusout"&&(K=R._wrapperState)&&K.controlled&&R.type==="number"&&h6(R,"number",R.value)}K=E?Zg(E):window;switch(t){case"focusin":(DI(K)||K.contentEditable==="true")&&(Kg=K,W6=E,WE=null);break;case"focusout":WE=W6=Kg=null;break;case"mousedown":j6=!0;break;case"contextmenu":case"mouseup":case"dragend":j6=!1,HI(C,i,T);break;case"selectionchange":if(OQ)break;case"keydown":case"keyup":HI(C,i,T)}var ce;if(z6)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Jg?PI(t,i)&&(ve="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ve="onCompositionStart");ve&&(bI&&i.locale!=="ko"&&(Jg||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Jg&&(ce=AI()):(Kp=T,O6="value"in Kp?Kp.value:Kp.textContent,Jg=!0)),K=l4(E,ve),0<K.length&&(ve=new SI(ve,t,null,i,T),C.push({event:ve,listeners:K}),ce?ve.data=ce:(ce=RI(i),ce!==null&&(ve.data=ce)))),(ce=SQ?TQ(t,i):bQ(t,i))&&(E=l4(E,"onBeforeInput"),0<E.length&&(T=new SI("onBeforeInput","beforeinput",null,i,T),C.push({event:T,listeners:E}),T.data=ce))}BI(C,n)})}function QE(t,n,i){return{instance:t,listener:n,currentTarget:i}}function l4(t,n){for(var i=n+"Capture",s=[];t!==null;){var l=t,e=l.stateNode;l.tag===5&&e!==null&&(l=e,e=DE(t,i),e!=null&&s.unshift(QE(t,e,l)),e=DE(t,n),e!=null&&s.push(QE(t,e,l))),t=t.return}return s}function $g(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZI(t,n,i,s,l){for(var e=n._reactName,p=[];i!==null&&i!==s;){var v=i,w=v.alternate,E=v.stateNode;if(w!==null&&w===s)break;v.tag===5&&E!==null&&(v=E,l?(w=DE(i,e),w!=null&&p.unshift(QE(i,w,v))):l||(w=DE(i,e),w!=null&&p.push(QE(i,w,v)))),i=i.return}p.length!==0&&t.push({event:n,listeners:p})}function h4(){}var q6=null,J6=null;function KI(t,n){switch(t){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function Z6(t,n){return t==="textarea"||t==="option"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $I=typeof setTimeout=="function"?setTimeout:void 0,UQ=typeof clearTimeout=="function"?clearTimeout:void 0;function K6(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ty(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break}return t}function e7(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var $6=0;function kQ(t){return{$$typeof:s6,toString:t,valueOf:t}}var d4=Math.random().toString(36).slice(2),$p="__reactFiber$"+d4,p4="__reactProps$"+d4,ey="__reactContainer$"+d4,t7="__reactEvents$"+d4;function uv(t){var n=t[$p];if(n)return n;for(var i=t.parentNode;i;){if(n=i[ey]||i[$p]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=e7(t);t!==null;){if(i=t[$p])return i;t=e7(t)}return n}t=i,i=t.parentNode}return null}function RE(t){return t=t[$p]||t[ey],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(en(33))}function qM(t){return t[p4]||null}function jI(t){var n=t[t7];return n===void 0&&(n=t[t7]=new Set),n}var eP=[],ny=-1;function em(t){return{current:t}}function To(t){0>ny||(t.current=eP[ny],eP[ny]=null,ny--)}function ts(t,n){ny++,eP[ny]=t.current,t.current=n}var tm={},fl=em(tm),Eu=em(!1),cv=tm;function ry(t,n){var i=t.type.contextTypes;if(!i)return tm;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var l={},e;for(e in i)l[e]=n[e];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),l}function wu(t){return t=t.childContextTypes,t!=null}function m4(){To(Eu),To(fl)}function n7(t,n,i){if(fl.current!==tm)throw Error(en(168));ts(fl,n),ts(Eu,i)}function r7(t,n,i){var s=t.stateNode;if(t=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(en(108,Xg(n)||"Unknown",l));return No({},i,s)}function v4(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tm,cv=fl.current,ts(fl,t),ts(Eu,Eu.current),!0}function i7(t,n,i){var s=t.stateNode;if(!s)throw Error(en(169));i?(t=r7(t,n,cv),s.__reactInternalMemoizedMergedChildContext=t,To(Eu),To(fl),ts(fl,t)):To(Eu),ts(Eu,i)}var tP=null,fv=null,GQ=oa.unstable_runWithPriority,nP=oa.unstable_scheduleCallback,rP=oa.unstable_cancelCallback,XQ=oa.unstable_shouldYield,o7=oa.unstable_requestPaint,iP=oa.unstable_now,HQ=oa.unstable_getCurrentPriorityLevel,g4=oa.unstable_ImmediatePriority,s7=oa.unstable_UserBlockingPriority,a7=oa.unstable_NormalPriority,l7=oa.unstable_LowPriority,u7=oa.unstable_IdlePriority,oP={},zQ=o7!==void 0?o7:function(){},md=null,y4=null,sP=!1,c7=iP(),hl=1e4>c7?iP:function(){return iP()-c7};function iy(){switch(HQ()){case g4:return 99;case s7:return 98;case a7:return 97;case l7:return 96;case u7:return 95;default:throw Error(en(332))}}function f7(t){switch(t){case 99:return g4;case 98:return s7;case 97:return a7;case 96:return l7;case 95:return u7;default:throw Error(en(332))}}function hv(t,n){return t=f7(t),GQ(t,n)}function qE(t,n,i){return t=f7(t),nP(t,n,i)}function $0(){if(y4!==null){var t=y4;y4=null,rP(t)}h7()}function h7(){if(!sP&&md!==null){sP=!0;var t=0;try{var n=md;hv(99,function(){for(;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}}),md=null}catch(i){throw md!==null&&(md=md.slice(t+1)),nP(g4,$0),i}finally{sP=!1}}}var YQ=ov.ReactCurrentBatchConfig;function kf(t,n){if(t&&t.defaultProps){n=No({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}var x4=em(null),E4=null,oy=null,w4=null;function aP(){w4=oy=E4=null}function lP(t){var n=x4.current;To(x4),t.type._context._currentValue=n}function d7(t,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)===n){if(i===null||(i.childLanes&n)===n)break;i.childLanes|=n}else t.childLanes|=n,i!==null&&(i.childLanes|=n);t=t.return}}function sy(t,n){E4=t,w4=oy=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Gf=!0),t.firstContext=null)}function rf(t,n){if(w4!==t&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(w4=t,n=1073741823),n={context:t,observedBits:n,next:null},oy===null){if(E4===null)throw Error(en(308));oy=n,E4.dependencies={lanes:0,firstContext:n,responders:null}}else oy=oy.next=n;return t._currentValue}var nm=!1;function uP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function p7(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rm(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function im(t,n){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}}function m7(t,n){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var l=null,e=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};e===null?l=e=p:e=e.next=p,i=i.next}while(i!==null);e===null?l=e=n:e=e.next=n}else l=e=n;i={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:e,shared:s.shared,effects:s.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function ZE(t,n,i,s){var l=t.updateQueue;nm=!1;var e=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var w=v,E=w.next;w.next=null,p===null?e=E:p.next=E,p=w;var T=t.alternate;if(T!==null){T=T.updateQueue;var C=T.lastBaseUpdate;C!==p&&(C===null?T.firstBaseUpdate=E:C.next=E,T.lastBaseUpdate=w)}}if(e!==null){C=l.baseState,p=0,T=E=w=null;do{v=e.lane;var R=e.eventTime;if((s&v)===v){T!==null&&(T=T.next={eventTime:R,lane:0,tag:e.tag,payload:e.payload,callback:e.callback,next:null});e:{var B=t,A=e;v=n,R=i;switch(A.tag){case 1:if(B=A.payload,typeof B=="function"){C=B.call(R,C,v);break e}C=B;break e;case 3:B.flags=B.flags&-4097|64;case 0:if(B=A.payload,v=typeof B=="function"?B.call(R,C,v):B,v==null)break e;C=No({},C,v);break e;case 2:nm=!0}}e.callback!==null&&(t.flags|=32,v=l.effects,v===null?l.effects=[e]:v.push(e))}else R={eventTime:R,lane:v,tag:e.tag,payload:e.payload,callback:e.callback,next:null},T===null?(E=T=R,w=C):T=T.next=R,p|=v;if(e=e.next,e===null){if(v=l.shared.pending,v===null)break;e=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(1);T===null&&(w=C),l.baseState=w,l.firstBaseUpdate=E,l.lastBaseUpdate=T,JE|=p,t.lanes=p,t.memoizedState=C}}function v7(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var s=t[n],l=s.callback;if(l!==null){if(s.callback=null,s=i,typeof l!="function")throw Error(en(191,l));l.call(s)}}}var g7=new XM.Component().refs;function A4(t,n,i,s){n=t.memoizedState,i=i(s,n),i=i==null?n:No({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var _4={isMounted:function(t){return(t=t._reactInternals)?lv(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var s=dc(),l=om(t),e=rm(s,l);e.payload=n,i!=null&&(e.callback=i),im(t,e),sm(t,l,s)},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var s=dc(),l=om(t),e=rm(s,l);e.tag=1,e.payload=n,i!=null&&(e.callback=i),im(t,e),sm(t,l,s)},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=dc(),s=om(t),l=rm(i,s);l.tag=2,n!=null&&(l.callback=n),im(t,l),sm(t,s,i)}};function y7(t,n,i,s,l,e,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,e,p):n.prototype&&n.prototype.isPureReactComponent?!VE(i,s)||!VE(l,e):!0}function x7(t,n,i){var s=!1,l=tm,e=n.contextType;return typeof e=="object"&&e!==null?e=rf(e):(l=wu(n)?cv:fl.current,s=n.contextTypes,e=(s=s!=null)?ry(t,l):tm),n=new n(i,e),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=_4,t.stateNode=n,n._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=e),n}function E7(t,n,i,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==t&&_4.enqueueReplaceState(n,n.state,null)}function cP(t,n,i,s){var l=t.stateNode;l.props=i,l.state=t.memoizedState,l.refs=g7,uP(t);var e=n.contextType;typeof e=="object"&&e!==null?l.context=rf(e):(e=wu(n)?cv:fl.current,l.context=ry(t,e)),ZE(t,i,l,s),l.state=t.memoizedState,e=n.getDerivedStateFromProps,typeof e=="function"&&(A4(t,n,e,i),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&_4.enqueueReplaceState(l,l.state,null),ZE(t,i,l,s),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4)}var M4=Array.isArray;function KE(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(en(309));var s=i.stateNode}if(!s)throw Error(en(147,t));var l=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===l?n.ref:(n=function(e){var p=s.refs;p===g7&&(p=s.refs={}),e===null?delete p[l]:p[l]=e},n._stringRef=l,n)}if(typeof t!="string")throw Error(en(284));if(!i._owner)throw Error(en(290,t))}return t}function S4(t,n){if(t.type!=="textarea")throw Error(en(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n))}function w7(t){function n(G,O){if(t){var U=G.lastEffect;U!==null?(U.nextEffect=O,G.lastEffect=O):G.firstEffect=G.lastEffect=O,O.nextEffect=null,O.flags=8}}function i(G,O){if(!t)return null;for(;O!==null;)n(G,O),O=O.sibling;return null}function s(G,O){for(G=new Map;O!==null;)O.key!==null?G.set(O.key,O):G.set(O.index,O),O=O.sibling;return G}function l(G,O){return G=am(G,O),G.index=0,G.sibling=null,G}function e(G,O,U){return G.index=U,t?(U=G.alternate,U!==null?(U=U.index,U<O?(G.flags=2,O):U):(G.flags=2,O)):O}function p(G){return t&&G.alternate===null&&(G.flags=2),G}function v(G,O,U,$){return O===null||O.tag!==6?(O=fP(U,G.mode,$),O.return=G,O):(O=l(O,U),O.return=G,O)}function w(G,O,U,$){return O!==null&&O.elementType===U.type?($=l(O,U.props),$.ref=KE(G,O,U),$.return=G,$):($=T4(U.type,U.key,U.props,null,G.mode,$),$.ref=KE(G,O,U),$.return=G,$)}function E(G,O,U,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=hP(U,G.mode,$),O.return=G,O):(O=l(O,U.children||[]),O.return=G,O)}function T(G,O,U,$,ie){return O===null||O.tag!==7?(O=ay(U,G.mode,$,ie),O.return=G,O):(O=l(O,U),O.return=G,O)}function C(G,O,U){if(typeof O=="string"||typeof O=="number")return O=fP(""+O,G.mode,U),O.return=G,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ME:return U=T4(O.type,O.key,O.props,null,G.mode,U),U.ref=KE(G,null,O),U.return=G,U;case sv:return O=hP(O,G.mode,U),O.return=G,O}if(M4(O)||bE(O))return O=ay(O,G.mode,U,null),O.return=G,O;S4(G,O)}return null}function R(G,O,U,$){var ie=O!==null?O.key:null;if(typeof U=="string"||typeof U=="number")return ie!==null?null:v(G,O,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ME:return U.key===ie?U.type===Wp?T(G,O,U.props.children,$,ie):w(G,O,U,$):null;case sv:return U.key===ie?E(G,O,U,$):null}if(M4(U)||bE(U))return ie!==null?null:T(G,O,U,$,null);S4(G,U)}return null}function B(G,O,U,$,ie){if(typeof $=="string"||typeof $=="number")return G=G.get(U)||null,v(O,G,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ME:return G=G.get($.key===null?U:$.key)||null,$.type===Wp?T(O,G,$.props.children,ie,$.key):w(O,G,$,ie);case sv:return G=G.get($.key===null?U:$.key)||null,E(O,G,$,ie)}if(M4($)||bE($))return G=G.get(U)||null,T(O,G,$,ie,null);S4(O,$)}return null}function A(G,O,U,$){for(var ie=null,ue=null,K=O,ce=O=0,ve=null;K!==null&&ce<U.length;ce++){K.index>ce?(ve=K,K=null):ve=K.sibling;var Ve=R(G,K,U[ce],$);if(Ve===null){K===null&&(K=ve);break}t&&K&&Ve.alternate===null&&n(G,K),O=e(Ve,O,ce),ue===null?ie=Ve:ue.sibling=Ve,ue=Ve,K=ve}if(ce===U.length)return i(G,K),ie;if(K===null){for(;ce<U.length;ce++)K=C(G,U[ce],$),K!==null&&(O=e(K,O,ce),ue===null?ie=K:ue.sibling=K,ue=K);return ie}for(K=s(G,K);ce<U.length;ce++)ve=B(K,G,ce,U[ce],$),ve!==null&&(t&&ve.alternate!==null&&K.delete(ve.key===null?ce:ve.key),O=e(ve,O,ce),ue===null?ie=ve:ue.sibling=ve,ue=ve);return t&&K.forEach(function(Me){return n(G,Me)}),ie}function H(G,O,U,$){var ie=bE(U);if(typeof ie!="function")throw Error(en(150));if(U=ie.call(U),U==null)throw Error(en(151));for(var ue=ie=null,K=O,ce=O=0,ve=null,Ve=U.next();K!==null&&!Ve.done;ce++,Ve=U.next()){K.index>ce?(ve=K,K=null):ve=K.sibling;var Me=R(G,K,Ve.value,$);if(Me===null){K===null&&(K=ve);break}t&&K&&Me.alternate===null&&n(G,K),O=e(Me,O,ce),ue===null?ie=Me:ue.sibling=Me,ue=Me,K=ve}if(Ve.done)return i(G,K),ie;if(K===null){for(;!Ve.done;ce++,Ve=U.next())Ve=C(G,Ve.value,$),Ve!==null&&(O=e(Ve,O,ce),ue===null?ie=Ve:ue.sibling=Ve,ue=Ve);return ie}for(K=s(G,K);!Ve.done;ce++,Ve=U.next())Ve=B(K,G,ce,Ve.value,$),Ve!==null&&(t&&Ve.alternate!==null&&K.delete(Ve.key===null?ce:Ve.key),O=e(Ve,O,ce),ue===null?ie=Ve:ue.sibling=Ve,ue=Ve);return t&&K.forEach(function(Ee){return n(G,Ee)}),ie}return function(G,O,U,$){var ie=typeof U=="object"&&U!==null&&U.type===Wp&&U.key===null;ie&&(U=U.props.children);var ue=typeof U=="object"&&U!==null;if(ue)switch(U.$$typeof){case ME:e:{for(ue=U.key,ie=O;ie!==null;){if(ie.key===ue){switch(ie.tag){case 7:if(U.type===Wp){i(G,ie.sibling),O=l(ie,U.props.children),O.return=G,G=O;break e}break;default:if(ie.elementType===U.type){i(G,ie.sibling),O=l(ie,U.props),O.ref=KE(G,ie,U),O.return=G,G=O;break e}}i(G,ie);break}else n(G,ie);ie=ie.sibling}U.type===Wp?(O=ay(U.props.children,G.mode,$,U.key),O.return=G,G=O):($=T4(U.type,U.key,U.props,null,G.mode,$),$.ref=KE(G,O,U),$.return=G,G=$)}return p(G);case sv:e:{for(ie=U.key;O!==null;){if(O.key===ie)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(G,O.sibling),O=l(O,U.children||[]),O.return=G,G=O;break e}else{i(G,O);break}else n(G,O);O=O.sibling}O=hP(U,G.mode,$),O.return=G,G=O}return p(G)}if(typeof U=="string"||typeof U=="number")return U=""+U,O!==null&&O.tag===6?(i(G,O.sibling),O=l(O,U),O.return=G,G=O):(i(G,O),O=fP(U,G.mode,$),O.return=G,G=O),p(G);if(M4(U))return A(G,O,U,$);if(bE(U))return H(G,O,U,$);if(ue&&S4(G,U),typeof U=="undefined"&&!ie)switch(G.tag){case 1:case 22:case 0:case 11:case 15:throw Error(en(152,Xg(G.type)||"Component"))}return i(G,O)}}var b4=w7(!0),A7=w7(!1),$E={},eh=em($E),ew=em($E),tw=em($E);function dv(t){if(t===$E)throw Error(en(174));return t}function dP(t,n){ts(tw,n),ts(ew,t),ts(eh,$E),t=n.nodeType;switch(t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:g6(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=g6(n,t)}To(eh),ts(eh,n)}function ly(){To(eh),To(ew),To(tw)}function _7(t){dv(tw.current);var n=dv(eh.current),i=g6(n,t.type);n!==i&&(ts(ew,t),ts(eh,i))}function pP(t){ew.current===t&&(To(eh),To(ew))}var ns=em(0);function C4(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&64)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vd=null,lm=null,th=!1;function M7(t,n){var i=of(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=n,i.return=t,i.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function S7(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function mP(t){if(th){var n=lm;if(n){var i=n;if(!S7(t,n)){if(n=ty(i.nextSibling),!n||!S7(t,n)){t.flags=t.flags&-1025|2,th=!1,vd=t;return}M7(vd,i)}vd=t,lm=ty(n.firstChild)}else t.flags=t.flags&-1025|2,th=!1,vd=t}}function T7(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vd=t}function L4(t){if(t!==vd)return!1;if(!th)return T7(t),th=!0,!1;var n=t.type;if(t.tag!==5||n!=="head"&&n!=="body"&&!Z6(n,t.memoizedProps))for(n=lm;n;)M7(t,n),n=ty(n.nextSibling);if(T7(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(en(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){lm=ty(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}lm=null}}else lm=vd?ty(t.stateNode.nextSibling):null;return!0}function vP(){lm=vd=null,th=!1}var uy=[];function gP(){for(var t=0;t<uy.length;t++)uy[t]._workInProgressVersionPrimary=null;uy.length=0}var nw=ov.ReactCurrentDispatcher,sf=ov.ReactCurrentBatchConfig,rw=0,fs=null,dl=null,La=null,P4=!1,iw=!1;function Au(){throw Error(en(321))}function yP(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!nf(t[i],n[i]))return!1;return!0}function xP(t,n,i,s,l,e){if(rw=e,fs=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,nw.current=t===null||t.memoizedState===null?VQ:WQ,t=i(s,l),iw){e=0;do{if(iw=!1,!(25>e))throw Error(en(301));e+=1,La=dl=null,n.updateQueue=null,nw.current=jQ,t=i(s,l)}while(iw)}if(nw.current=R4,n=dl!==null&&dl.next!==null,rw=0,La=dl=fs=null,P4=!1,n)throw Error(en(300));return t}function pv(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return La===null?fs.memoizedState=La=t:La=La.next=t,La}function mv(){if(dl===null){var t=fs.alternate;t=t!==null?t.memoizedState:null}else t=dl.next;var n=La===null?fs.memoizedState:La.next;if(n!==null)La=n,dl=t;else{if(t===null)throw Error(en(310));dl=t,t={memoizedState:dl.memoizedState,baseState:dl.baseState,baseQueue:dl.baseQueue,queue:dl.queue,next:null},La===null?fs.memoizedState=La=t:La=La.next=t}return La}function nh(t,n){return typeof n=="function"?n(t):n}function ow(t){var n=mv(),i=n.queue;if(i===null)throw Error(en(311));i.lastRenderedReducer=t;var s=dl,l=s.baseQueue,e=i.pending;if(e!==null){if(l!==null){var p=l.next;l.next=e.next,e.next=p}s.baseQueue=l=e,i.pending=null}if(l!==null){l=l.next,s=s.baseState;var v=p=e=null,w=l;do{var E=w.lane;if((rw&E)===E)v!==null&&(v=v.next={lane:0,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null}),s=w.eagerReducer===t?w.eagerState:t(s,w.action);else{var T={lane:E,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null};v===null?(p=v=T,e=s):v=v.next=T,fs.lanes|=E,JE|=E}w=w.next}while(w!==null&&w!==l);v===null?e=s:v.next=p,nf(s,n.memoizedState)||(Gf=!0),n.memoizedState=s,n.baseState=e,n.baseQueue=v,i.lastRenderedState=s}return[n.memoizedState,i.dispatch]}function sw(t){var n=mv(),i=n.queue;if(i===null)throw Error(en(311));i.lastRenderedReducer=t;var s=i.dispatch,l=i.pending,e=n.memoizedState;if(l!==null){i.pending=null;var p=l=l.next;do e=t(e,p.action),p=p.next;while(p!==l);nf(e,n.memoizedState)||(Gf=!0),n.memoizedState=e,n.baseQueue===null&&(n.baseState=e),i.lastRenderedState=e}return[e,s]}function b7(t,n,i){var s=n._getVersion;s=s(n._source);var l=n._workInProgressVersionPrimary;if(l!==null?t=l===s:(t=t.mutableReadLanes,t=(rw&t)===t)&&(n._workInProgressVersionPrimary=s,uy.push(n)),t)return i(n._source);throw uy.push(n),Error(en(350))}function C7(t,n,i,s){var l=Wl;if(l===null)throw Error(en(349));var e=n._getVersion,p=e(n._source),v=nw.current,w=v.useState(function(){return b7(l,n,i)}),E=w[1],T=w[0];w=La;var C=t.memoizedState,R=C.refs,B=R.getSnapshot,A=C.source;C=C.subscribe;var H=fs;return t.memoizedState={refs:R,source:n,subscribe:s},v.useEffect(function(){R.getSnapshot=i,R.setSnapshot=E;var G=e(n._source);if(!nf(p,G)){G=i(n._source),nf(T,G)||(E(G),G=om(H),l.mutableReadLanes|=G&l.pendingLanes),G=l.mutableReadLanes,l.entangledLanes|=G;for(var O=l.entanglements,U=G;0<U;){var $=31-Zp(U),ie=1<<$;O[$]|=G,U&=~ie}}},[i,n,s]),v.useEffect(function(){return s(n._source,function(){var G=R.getSnapshot,O=R.setSnapshot;try{O(G(n._source));var U=om(H);l.mutableReadLanes|=U&l.pendingLanes}catch($){O(function(){throw $})}})},[n,s]),nf(B,i)&&nf(A,n)&&nf(C,s)||(t={pending:null,dispatch:null,lastRenderedReducer:nh,lastRenderedState:T},t.dispatch=E=EP.bind(null,fs,t),w.queue=t,w.baseQueue=null,T=b7(l,n,i),w.memoizedState=w.baseState=T),T}function L7(t,n,i){var s=mv();return C7(s,t,n,i)}function aw(t){var n=pv();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:nh,lastRenderedState:t},t=t.dispatch=EP.bind(null,fs,t),[n.memoizedState,t]}function D4(t,n,i,s){return t={tag:t,create:n,destroy:i,deps:s,next:null},n=fs.updateQueue,n===null?(n={lastEffect:null},fs.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,n.lastEffect=t)),t}function P7(t){var n=pv();return t={current:t},n.memoizedState=t}function F4(){return mv().memoizedState}function wP(t,n,i,s){var l=pv();fs.flags|=t,l.memoizedState=D4(1|n,i,void 0,s===void 0?null:s)}function AP(t,n,i,s){var l=mv();s=s===void 0?null:s;var e=void 0;if(dl!==null){var p=dl.memoizedState;if(e=p.destroy,s!==null&&yP(s,p.deps)){D4(n,i,e,s);return}}fs.flags|=t,l.memoizedState=D4(1|n,i,e,s)}function R7(t,n){return wP(516,4,t,n)}function B4(t,n){return AP(516,4,t,n)}function D7(t,n){return AP(4,2,t,n)}function F7(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function B7(t,n,i){return i=i!=null?i.concat([t]):null,AP(4,2,F7.bind(null,n,t),i)}function _P(){}function N7(t,n){var i=mv();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&yP(n,s[1])?s[0]:(i.memoizedState=[t,n],t)}function I7(t,n){var i=mv();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&yP(n,s[1])?s[0]:(t=t(),i.memoizedState=[t,n],t)}function QQ(t,n){var i=iy();hv(98>i?98:i,function(){t(!0)}),hv(97<i?97:i,function(){var s=sf.transition;sf.transition=1;try{t(!1),n()}finally{sf.transition=s}})}function EP(t,n,i){var s=dc(),l=om(t),e={lane:l,action:i,eagerReducer:null,eagerState:null,next:null},p=n.pending;if(p===null?e.next=e:(e.next=p.next,p.next=e),n.pending=e,p=t.alternate,t===fs||p!==null&&p===fs)iw=P4=!0;else{if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var v=n.lastRenderedState,w=p(v,i);if(e.eagerReducer=p,e.eagerState=w,nf(w,v))return}catch(E){}finally{}sm(t,l,s)}}var R4={readContext:rf,useCallback:Au,useContext:Au,useEffect:Au,useImperativeHandle:Au,useLayoutEffect:Au,useMemo:Au,useReducer:Au,useRef:Au,useState:Au,useDebugValue:Au,useDeferredValue:Au,useTransition:Au,useMutableSource:Au,useOpaqueIdentifier:Au,unstable_isNewReconciler:!1},VQ={readContext:rf,useCallback:function(t,n){return pv().memoizedState=[t,n===void 0?null:n],t},useContext:rf,useEffect:R7,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,wP(4,2,F7.bind(null,n,t),i)},useLayoutEffect:function(t,n){return wP(4,2,t,n)},useMemo:function(t,n){var i=pv();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var s=pv();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,t=s.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},t=t.dispatch=EP.bind(null,fs,t),[s.memoizedState,t]},useRef:P7,useState:aw,useDebugValue:_P,useDeferredValue:function(t){var n=aw(t),i=n[0],s=n[1];return R7(function(){var l=sf.transition;sf.transition=1;try{s(t)}finally{sf.transition=l}},[t]),i},useTransition:function(){var t=aw(!1),n=t[0];return t=QQ.bind(null,t[1]),P7(t),[t,n]},useMutableSource:function(t,n,i){var s=pv();return s.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:t,subscribe:i},C7(s,t,n,i)},useOpaqueIdentifier:function(){if(th){var t=!1,n=kQ(function(){throw t||(t=!0,i("r:"+($6++).toString(36))),Error(en(355))}),i=aw(n)[1];return(fs.mode&2)===0&&(fs.flags|=516,D4(5,function(){i("r:"+($6++).toString(36))},void 0,null)),n}return n="r:"+($6++).toString(36),aw(n),n},unstable_isNewReconciler:!1},WQ={readContext:rf,useCallback:N7,useContext:rf,useEffect:B4,useImperativeHandle:B7,useLayoutEffect:D7,useMemo:I7,useReducer:ow,useRef:F4,useState:function(){return ow(nh)},useDebugValue:_P,useDeferredValue:function(t){var n=ow(nh),i=n[0],s=n[1];return B4(function(){var l=sf.transition;sf.transition=1;try{s(t)}finally{sf.transition=l}},[t]),i},useTransition:function(){var t=ow(nh)[0];return[F4().current,t]},useMutableSource:L7,useOpaqueIdentifier:function(){return ow(nh)[0]},unstable_isNewReconciler:!1},jQ={readContext:rf,useCallback:N7,useContext:rf,useEffect:B4,useImperativeHandle:B7,useLayoutEffect:D7,useMemo:I7,useReducer:sw,useRef:F4,useState:function(){return sw(nh)},useDebugValue:_P,useDeferredValue:function(t){var n=sw(nh),i=n[0],s=n[1];return B4(function(){var l=sf.transition;sf.transition=1;try{s(t)}finally{sf.transition=l}},[t]),i},useTransition:function(){var t=sw(nh)[0];return[F4().current,t]},useMutableSource:L7,useOpaqueIdentifier:function(){return sw(nh)[0]},unstable_isNewReconciler:!1},qQ=ov.ReactCurrentOwner,Gf=!1;function _u(t,n,i,s){n.child=t===null?A7(n,null,i,s):b4(n,t.child,i,s)}function O7(t,n,i,s,l){i=i.render;var e=n.ref;return sy(n,l),s=xP(t,n,i,s,e,l),t!==null&&!Gf?(n.updateQueue=t.updateQueue,n.flags&=-517,t.lanes&=~l,gd(t,n,l)):(n.flags|=1,_u(t,n,s,l),n.child)}function k7(t,n,i,s,l,e){if(t===null){var p=i.type;return typeof p=="function"&&!MP(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=p,U7(t,n,p,s,l,e)):(t=T4(i.type,null,s,n,n.mode,e),t.ref=n.ref,t.return=n,n.child=t)}return p=t.child,(l&e)===0&&(l=p.memoizedProps,i=i.compare,i=i!==null?i:VE,i(l,s)&&t.ref===n.ref)?gd(t,n,e):(n.flags|=1,t=am(p,s),t.ref=n.ref,t.return=n,n.child=t)}function U7(t,n,i,s,l,e){if(t!==null&&VE(t.memoizedProps,s)&&t.ref===n.ref)if(Gf=!1,(e&l)!==0)(t.flags&16384)!==0&&(Gf=!0);else return n.lanes=t.lanes,gd(t,n,e);return SP(t,n,i,s,e)}function TP(t,n,i){var s=n.pendingProps,l=s.children,e=t!==null?t.memoizedState:null;if(s.mode==="hidden"||s.mode==="unstable-defer-without-hiding")if((n.mode&4)===0)n.memoizedState={baseLanes:0},N4(n,i);else if((i&1073741824)!==0)n.memoizedState={baseLanes:0},N4(n,e!==null?e.baseLanes:i);else return t=e!==null?e.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t},N4(n,t),null;else e!==null?(s=e.baseLanes|i,n.memoizedState=null):s=i,N4(n,s);return _u(t,n,l,i),n.child}function G7(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=128)}function SP(t,n,i,s,l){var e=wu(i)?cv:fl.current;return e=ry(n,e),sy(n,l),i=xP(t,n,i,s,e,l),t!==null&&!Gf?(n.updateQueue=t.updateQueue,n.flags&=-517,t.lanes&=~l,gd(t,n,l)):(n.flags|=1,_u(t,n,i,l),n.child)}function X7(t,n,i,s,l){if(wu(i)){var e=!0;v4(n)}else e=!1;if(sy(n,l),n.stateNode===null)t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),x7(n,i,s),cP(n,i,s,l),s=!0;else if(t===null){var p=n.stateNode,v=n.memoizedProps;p.props=v;var w=p.context,E=i.contextType;typeof E=="object"&&E!==null?E=rf(E):(E=wu(i)?cv:fl.current,E=ry(n,E));var T=i.getDerivedStateFromProps,C=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||w!==E)&&E7(n,p,s,E),nm=!1;var R=n.memoizedState;p.state=R,ZE(n,s,p,l),w=n.memoizedState,v!==s||R!==w||Eu.current||nm?(typeof T=="function"&&(A4(n,i,T,s),w=n.memoizedState),(v=nm||y7(n,i,v,s,R,w,E))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4)):(typeof p.componentDidMount=="function"&&(n.flags|=4),n.memoizedProps=s,n.memoizedState=w),p.props=s,p.state=w,p.context=E,s=v):(typeof p.componentDidMount=="function"&&(n.flags|=4),s=!1)}else{p=n.stateNode,p7(t,n),v=n.memoizedProps,E=n.type===n.elementType?v:kf(n.type,v),p.props=E,C=n.pendingProps,R=p.context,w=i.contextType,typeof w=="object"&&w!==null?w=rf(w):(w=wu(i)?cv:fl.current,w=ry(n,w));var B=i.getDerivedStateFromProps;(T=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==C||R!==w)&&E7(n,p,s,w),nm=!1,R=n.memoizedState,p.state=R,ZE(n,s,p,l);var A=n.memoizedState;v!==C||R!==A||Eu.current||nm?(typeof B=="function"&&(A4(n,i,B,s),A=n.memoizedState),(E=nm||y7(n,i,E,s,R,A,w))?(T||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,A,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,A,w)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=256)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(n.flags|=256),n.memoizedProps=s,n.memoizedState=A),p.props=s,p.state=A,p.context=w,s=E):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(n.flags|=256),s=!1)}return bP(t,n,i,s,e,l)}function bP(t,n,i,s,l,e){G7(t,n);var p=(n.flags&64)!==0;if(!s&&!p)return l&&i7(n,i,!1),gd(t,n,e);s=n.stateNode,qQ.current=n;var v=p&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,t!==null&&p?(n.child=b4(n,t.child,null,e),n.child=b4(n,null,v,e)):_u(t,n,v,e),n.memoizedState=s.state,l&&i7(n,i,!0),n.child}function H7(t){var n=t.stateNode;n.pendingContext?n7(t,n.pendingContext,n.pendingContext!==n.context):n.context&&n7(t,n.context,!1),dP(t,n.containerInfo)}var I4={dehydrated:null,retryLane:0};function W7(t,n,i){var s=n.pendingProps,l=ns.current,e=!1,p;return(p=(n.flags&64)!==0)||(p=t!==null&&t.memoizedState===null?!1:(l&2)!==0),p?(e=!0,n.flags&=-65):t!==null&&t.memoizedState===null||s.fallback===void 0||s.unstable_avoidThisFallback===!0||(l|=1),ts(ns,l&1),t===null?(s.fallback!==void 0&&mP(n),t=s.children,l=s.fallback,e?(t=z7(n,t,l,i),n.child.memoizedState={baseLanes:i},n.memoizedState=I4,t):typeof s.unstable_expectedLoadTime=="number"?(t=z7(n,t,l,i),n.child.memoizedState={baseLanes:i},n.memoizedState=I4,n.lanes=33554432,t):(i=CP({mode:"visible",children:t},n.mode,i,null),i.return=n,n.child=i)):t.memoizedState!==null?e?(s=V7(t,n,s.children,s.fallback,i),e=n.child,l=t.child.memoizedState,e.memoizedState=l===null?{baseLanes:i}:{baseLanes:l.baseLanes|i},e.childLanes=t.childLanes&~i,n.memoizedState=I4,s):(i=Y7(t,n,s.children,i),n.memoizedState=null,i):e?(s=V7(t,n,s.children,s.fallback,i),e=n.child,l=t.child.memoizedState,e.memoizedState=l===null?{baseLanes:i}:{baseLanes:l.baseLanes|i},e.childLanes=t.childLanes&~i,n.memoizedState=I4,s):(i=Y7(t,n,s.children,i),n.memoizedState=null,i)}function z7(t,n,i,s){var l=t.mode,e=t.child;return n={mode:"hidden",children:n},(l&2)===0&&e!==null?(e.childLanes=0,e.pendingProps=n):e=CP(n,l,0,null),i=ay(i,l,s,null),e.return=t,i.return=t,e.sibling=i,t.child=e,i}function Y7(t,n,i,s){var l=t.child;return t=l.sibling,i=am(l,{mode:"visible",children:i}),(n.mode&2)===0&&(i.lanes=s),i.return=n,i.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,n.firstEffect=n.lastEffect=t),n.child=i}function V7(t,n,i,s,l){var e=n.mode,p=t.child;t=p.sibling;var v={mode:"hidden",children:i};return(e&2)===0&&n.child!==p?(i=n.child,i.childLanes=0,i.pendingProps=v,p=i.lastEffect,p!==null?(n.firstEffect=i.firstEffect,n.lastEffect=p,p.nextEffect=null):n.firstEffect=n.lastEffect=null):i=am(p,v),t!==null?s=am(t,s):(s=ay(s,e,l,null),s.flags|=2),s.return=n,i.return=n,i.sibling=s,n.child=i,s}function j7(t,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),d7(t.return,n)}function LP(t,n,i,s,l,e){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:l,lastEffect:e}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=i,p.tailMode=l,p.lastEffect=e)}function Q7(t,n,i){var s=n.pendingProps,l=s.revealOrder,e=s.tail;if(_u(t,n,s.children,i),s=ns.current,(s&2)!==0)s=s&1|2,n.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j7(t,i);else if(t.tag===19)j7(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ts(ns,s),(n.mode&2)===0)n.memoizedState=null;else switch(l){case"forwards":for(i=n.child,l=null;i!==null;)t=i.alternate,t!==null&&C4(t)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),LP(n,!1,l,i,e,n.lastEffect);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(t=l.alternate,t!==null&&C4(t)===null){n.child=l;break}t=l.sibling,l.sibling=i,i=l,l=t}LP(n,!0,i,null,e,n.lastEffect);break;case"together":LP(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function gd(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),JE|=n.lanes,(i&n.childLanes)!==0){if(t!==null&&n.child!==t.child)throw Error(en(153));if(n.child!==null){for(t=n.child,i=am(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=am(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}return null}var q7,PP,J7,Z7;q7=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};PP=function(){};J7=function(t,n,i,s){var l=t.memoizedProps;if(l!==s){t=n.stateNode,dv(eh.current);var e=null;switch(i){case"input":l=f6(t,l),s=f6(t,s),e=[];break;case"option":l=p6(t,l),s=p6(t,s),e=[];break;case"select":l=No({},l,{value:void 0}),s=No({},s,{value:void 0}),e=[];break;case"textarea":l=m6(t,l),s=m6(t,s),e=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=h4)}y6(i,s);var p;i=null;for(E in l)if(!s.hasOwnProperty(E)&&l.hasOwnProperty(E)&&l[E]!=null)if(E==="style"){var v=l[E];for(p in v)v.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(_E.hasOwnProperty(E)?e||(e=[]):(e=e||[]).push(E,null));for(E in s){var w=s[E];if(v=l!=null?l[E]:void 0,s.hasOwnProperty(E)&&w!==v&&(w!=null||v!=null))if(E==="style")if(v){for(p in v)!v.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in w)w.hasOwnProperty(p)&&v[p]!==w[p]&&(i||(i={}),i[p]=w[p])}else i||(e||(e=[]),e.push(E,i)),i=w;else E==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,v=v?v.__html:void 0,w!=null&&v!==w&&(e=e||[]).push(E,w)):E==="children"?typeof w!="string"&&typeof w!="number"||(e=e||[]).push(E,""+w):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(_E.hasOwnProperty(E)?(w!=null&&E==="onScroll"&&So("scroll",t),e||v===w||(e=[])):typeof w=="object"&&w!==null&&w.$$typeof===s6?w.toString():(e=e||[]).push(E,w))}i&&(e=e||[]).push("style",i);var E=e;(n.updateQueue=E)&&(n.flags|=4)}};Z7=function(t,n,i,s){i!==s&&(n.flags|=4)};function lw(t,n){if(!th)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function JQ(t,n,i){var s=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wu(n.type)&&m4(),null;case 3:return ly(),To(Eu),To(fl),gP(),s=n.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(L4(n)?n.flags|=4:s.hydrate||(n.flags|=256)),PP(n),null;case 5:pP(n);var l=dv(tw.current);if(i=n.type,t!==null&&n.stateNode!=null)J7(t,n,i,s,l),t.ref!==n.ref&&(n.flags|=128);else{if(!s){if(n.stateNode===null)throw Error(en(166));return null}if(t=dv(eh.current),L4(n)){s=n.stateNode,i=n.type;var e=n.memoizedProps;s[$p]=n,s[p4]=e;switch(i){case"dialog":So("cancel",s),So("close",s);break;case"iframe":case"object":case"embed":So("load",s);break;case"video":case"audio":for(t=0;t<jE.length;t++)So(jE[t],s);break;case"source":So("error",s);break;case"img":case"image":case"link":So("error",s),So("load",s);break;case"details":So("toggle",s);break;case"input":HN(s,e),So("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!e.multiple},So("invalid",s);break;case"textarea":VN(s,e),So("invalid",s)}y6(i,e),t=null;for(var p in e)e.hasOwnProperty(p)&&(l=e[p],p==="children"?typeof l=="string"?s.textContent!==l&&(t=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(t=["children",""+l]):_E.hasOwnProperty(p)&&l!=null&&p==="onScroll"&&So("scroll",s));switch(i){case"input":WM(s),YN(s,e,!0);break;case"textarea":WM(s),jN(s);break;case"select":case"option":break;default:typeof e.onClick=="function"&&(s.onclick=h4)}s=t,n.updateQueue=s,s!==null&&(n.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,t===v6.html&&(t=QN(i)),t===v6.html?i==="script"?(t=p.createElement("div"),t.innerHTML="<script></script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=p.createElement(i,{is:s.is}):(t=p.createElement(i),i==="select"&&(p=t,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):t=p.createElementNS(t,i),t[$p]=n,t[p4]=s,q7(t,n,!1,!1),n.stateNode=t,p=x6(i,s);switch(i){case"dialog":So("cancel",t),So("close",t),l=s;break;case"iframe":case"object":case"embed":So("load",t),l=s;break;case"video":case"audio":for(l=0;l<jE.length;l++)So(jE[l],t);l=s;break;case"source":So("error",t),l=s;break;case"img":case"image":case"link":So("error",t),So("load",t),l=s;break;case"details":So("toggle",t),l=s;break;case"input":HN(t,s),l=f6(t,s),So("invalid",t);break;case"option":l=p6(t,s);break;case"select":t._wrapperState={wasMultiple:!!s.multiple},l=No({},s,{value:void 0}),So("invalid",t);break;case"textarea":VN(t,s),l=m6(t,s),So("invalid",t);break;default:l=s}y6(i,l);var v=l;for(e in v)if(v.hasOwnProperty(e)){var w=v[e];e==="style"?ZN(t,w):e==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&qN(t,w)):e==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&LE(t,w):typeof w=="number"&&LE(t,""+w):e!=="suppressContentEditableWarning"&&e!=="suppressHydrationWarning"&&e!=="autoFocus"&&(_E.hasOwnProperty(e)?w!=null&&e==="onScroll"&&So("scroll",t):w!=null&&e6(t,e,w,p))}switch(i){case"input":WM(t),YN(t,s,!1);break;case"textarea":WM(t),jN(t);break;case"option":s.value!=null&&t.setAttribute("value",""+jp(s.value));break;case"select":t.multiple=!!s.multiple,e=s.value,e!=null?Hg(t,!!s.multiple,e,!1):s.defaultValue!=null&&Hg(t,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=h4)}KI(i,s)&&(n.flags|=4)}n.ref!==null&&(n.flags|=128)}return null;case 6:if(t&&n.stateNode!=null)Z7(t,n,t.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(en(166));i=dv(tw.current),dv(eh.current),L4(n)?(s=n.stateNode,i=n.memoizedProps,s[$p]=n,s.nodeValue!==i&&(n.flags|=4)):(s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[$p]=n,n.stateNode=s)}return null;case 13:return To(ns),s=n.memoizedState,(n.flags&64)!==0?(n.lanes=i,n):(s=s!==null,i=!1,t===null?n.memoizedProps.fallback!==void 0&&L4(n):i=t.memoizedState!==null,s&&!i&&(n.mode&2)!==0&&(t===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||(ns.current&1)!==0?Pa===0&&(Pa=3):((Pa===0||Pa===3)&&(Pa=4),Wl===null||(JE&134217727)===0&&(cy&134217727)===0||fy(Wl,pl))),(s||i)&&(n.flags|=4),null);case 4:return ly(),PP(n),t===null&&JI(n.stateNode.containerInfo),null;case 10:return lP(n),null;case 17:return wu(n.type)&&m4(),null;case 19:if(To(ns),s=n.memoizedState,s===null)return null;if(e=(n.flags&64)!==0,p=s.rendering,p===null)if(e)lw(s,!1);else{if(Pa!==0||t!==null&&(t.flags&64)!==0)for(t=n.child;t!==null;){if(p=C4(t),p!==null){for(n.flags|=64,lw(s,!1),e=p.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),s.lastEffect===null&&(n.firstEffect=null),n.lastEffect=s.lastEffect,s=i,i=n.child;i!==null;)e=i,t=s,e.flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,p=e.alternate,p===null?(e.childLanes=0,e.lanes=t,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=p.childLanes,e.lanes=p.lanes,e.child=p.child,e.memoizedProps=p.memoizedProps,e.memoizedState=p.memoizedState,e.updateQueue=p.updateQueue,e.type=p.type,t=p.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return ts(ns,ns.current&1|2),n.child}t=t.sibling}s.tail!==null&&hl()>RP&&(n.flags|=64,e=!0,lw(s,!1),n.lanes=33554432)}else{if(!e)if(t=C4(p),t!==null){if(n.flags|=64,e=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),lw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!th)return n=n.lastEffect=s.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*hl()-s.renderingStartTime>RP&&i!==1073741824&&(n.flags|=64,e=!0,lw(s,!1),n.lanes=33554432);s.isBackwards?(p.sibling=n.child,n.child=p):(i=s.last,i!==null?i.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(i=s.tail,s.rendering=i,s.tail=i.sibling,s.lastEffect=n.lastEffect,s.renderingStartTime=hl(),i.sibling=null,n=ns.current,ts(ns,e?n&1|2:n&1),i):null;case 23:case 24:return DP(),t!==null&&t.memoizedState!==null!==(n.memoizedState!==null)&&s.mode!=="unstable-defer-without-hiding"&&(n.flags|=4),null}throw Error(en(156,n.tag))}function ZQ(t){switch(t.tag){case 1:wu(t.type)&&m4();var n=t.flags;return n&4096?(t.flags=n&-4097|64,t):null;case 3:if(ly(),To(Eu),To(fl),gP(),n=t.flags,(n&64)!==0)throw Error(en(285));return t.flags=n&-4097|64,t;case 5:return pP(t),null;case 13:return To(ns),n=t.flags,n&4096?(t.flags=n&-4097|64,t):null;case 19:return To(ns),null;case 4:return ly(),null;case 10:return lP(t),null;case 23:case 24:return DP(),null;default:return null}}function FP(t,n){try{var i="",s=n;do i+=Rj(s),s=s.return;while(s);var l=i}catch(e){l=`
Error generating stack: `+e.message+`
`+e.stack}return{value:t,source:n,stack:l}}function BP(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var KQ=typeof WeakMap=="function"?WeakMap:Map;function K7(t,n,i){i=rm(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){O4||(O4=!0,NP=s),BP(t,n)},i}function $7(t,n,i){i=rm(-1,i),i.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var l=n.value;i.payload=function(){return BP(t,n),s(l)}}var e=t.stateNode;return e!==null&&typeof e.componentDidCatch=="function"&&(i.callback=function(){typeof s!="function"&&(rh===null?rh=new Set([this]):rh.add(this),BP(t,n));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),i}var $Q=typeof WeakSet=="function"?WeakSet:Set;function e8(t){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){um(t,i)}else n.current=null}function eq(t,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.flags&256&&t!==null){var i=t.memoizedProps,s=t.memoizedState;t=n.stateNode,n=t.getSnapshotBeforeUpdate(n.elementType===n.type?i:kf(n.type,i),s),t.__reactInternalSnapshotBeforeUpdate=n}return;case 3:n.flags&256&&K6(n.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(en(163))}function nq(t,n,i){switch(i.tag){case 0:case 11:case 15:case 22:if(n=i.updateQueue,n=n!==null?n.lastEffect:null,n!==null){t=n=n.next;do{if((t.tag&3)===3){var s=t.create;t.destroy=s()}t=t.next}while(t!==n)}if(n=i.updateQueue,n=n!==null?n.lastEffect:null,n!==null){t=n=n.next;do{var l=t;s=l.next,l=l.tag,(l&4)!==0&&(l&1)!==0&&(t8(i,t),tq(i,t)),t=s}while(t!==n)}return;case 1:t=i.stateNode,i.flags&4&&(n===null?t.componentDidMount():(s=i.elementType===i.type?n.memoizedProps:kf(i.type,n.memoizedProps),t.componentDidUpdate(s,n.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),n=i.updateQueue,n!==null&&v7(i,n,t);return;case 3:if(n=i.updateQueue,n!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}v7(i,n,t)}return;case 5:t=i.stateNode,n===null&&i.flags&4&&KI(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&dI(i))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(en(163))}function n8(t,n){for(var i=t;;){if(i.tag===5){var s=i.stateNode;if(n)s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{s=i.stateNode;var l=i.memoizedProps.style;l=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=JN("display",l)}}else if(i.tag===6)i.stateNode.nodeValue=n?"":i.memoizedProps;else if((i.tag!==23&&i.tag!==24||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function i8(t,n){if(fv&&typeof fv.onCommitFiberUnmount=="function")try{fv.onCommitFiberUnmount(tP,n)}catch(e){}switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(t=n.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var i=t=t.next;do{var s=i,l=s.destroy;if(s=s.tag,l!==void 0)if((s&4)!==0)t8(n,i);else{s=n;try{l()}catch(e){um(s,e)}}i=i.next}while(i!==t)}break;case 1:if(e8(n),t=n.stateNode,typeof t.componentWillUnmount=="function")try{t.props=n.memoizedProps,t.state=n.memoizedState,t.componentWillUnmount()}catch(e){um(n,e)}break;case 5:e8(n);break;case 4:r8(t,n)}}function o8(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function s8(t){return t.tag===5||t.tag===3||t.tag===4}function a8(t){e:{for(var n=t.return;n!==null;){if(s8(n))break e;n=n.return}throw Error(en(160))}var i=n;n=i.stateNode;switch(i.tag){case 5:var s=!1;break;case 3:n=n.containerInfo,s=!0;break;case 4:n=n.containerInfo,s=!0;break;default:throw Error(en(161))}i.flags&16&&(LE(n,""),i.flags&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||s8(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2)continue t;if(i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2)){i=i.stateNode;break e}}s?IP(t,i,n):OP(t,i,n)}function IP(t,n,i){var s=t.tag,l=s===5||s===6;if(l)t=l?t.stateNode:t.stateNode.instance,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=h4));else if(s!==4&&(t=t.child,t!==null))for(IP(t,n,i),t=t.sibling;t!==null;)IP(t,n,i),t=t.sibling}function OP(t,n,i){var s=t.tag,l=s===5||s===6;if(l)t=l?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(OP(t,n,i),t=t.sibling;t!==null;)OP(t,n,i),t=t.sibling}function r8(t,n){for(var i=n,s=!1,l,e;;){if(!s){s=i.return;e:for(;;){if(s===null)throw Error(en(160));l=s.stateNode;switch(s.tag){case 5:e=!1;break e;case 3:l=l.containerInfo,e=!0;break e;case 4:l=l.containerInfo,e=!0;break e}s=s.return}s=!0}if(i.tag===5||i.tag===6){e:for(var p=t,v=i,w=v;;)if(i8(p,w),w.child!==null&&w.tag!==4)w.child.return=w,w=w.child;else{if(w===v)break e;for(;w.sibling===null;){if(w.return===null||w.return===v)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}e?(p=l,v=i.stateNode,p.nodeType===8?p.parentNode.removeChild(v):p.removeChild(v)):l.removeChild(i.stateNode)}else if(i.tag===4){if(i.child!==null){l=i.stateNode.containerInfo,e=!0,i.child.return=i,i=i.child;continue}}else if(i8(t,i),i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return,i.tag===4&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function kP(t,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do(s.tag&3)===3&&(t=s.destroy,s.destroy=void 0,t!==void 0&&t()),s=s.next;while(s!==i)}return;case 1:return;case 5:if(i=n.stateNode,i!=null){s=n.memoizedProps;var l=t!==null?t.memoizedProps:s;t=n.type;var e=n.updateQueue;if(n.updateQueue=null,e!==null){for(i[p4]=s,t==="input"&&s.type==="radio"&&s.name!=null&&zN(i,s),x6(t,l),n=x6(t,s),l=0;l<e.length;l+=2){var p=e[l],v=e[l+1];p==="style"?ZN(i,v):p==="dangerouslySetInnerHTML"?qN(i,v):p==="children"?LE(i,v):e6(i,p,v,n)}switch(t){case"input":d6(i,s);break;case"textarea":WN(i,s);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!s.multiple,e=s.value,e!=null?Hg(i,!!s.multiple,e,!1):t!==!!s.multiple&&(s.defaultValue!=null?Hg(i,!!s.multiple,s.defaultValue,!0):Hg(i,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error(en(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:i=n.stateNode,i.hydrate&&(i.hydrate=!1,dI(i.containerInfo));return;case 12:return;case 13:n.memoizedState!==null&&(UP=hl(),n8(n.child,!0)),l8(n);return;case 19:l8(n);return;case 17:return;case 23:case 24:n8(n,n.memoizedState!==null);return}throw Error(en(163))}function l8(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new $Q),n.forEach(function(s){var l=rq.bind(null,t,s);i.has(s)||(i.add(s),s.then(l,l))})}}function iq(t,n){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(n=n.memoizedState,n!==null&&n.dehydrated===null):!1}var oq=Math.ceil,U4=ov.ReactCurrentDispatcher,GP=ov.ReactCurrentOwner,_r=0,Wl=null,Is=null,pl=0,vv=0,XP=em(0),Pa=0,k4=null,hy=0,JE=0,cy=0,HP=0,zP=null,UP=0,RP=Infinity;function dy(){RP=hl()+500}var bn=null,O4=!1,NP=null,rh=null,cm=!1,uw=null,cw=90,YP=[],VP=[],yd=null,fw=0,WP=null,G4=-1,xd=0,X4=0,hw=null,H4=!1;function dc(){return(_r&48)!==0?hl():G4!==-1?G4:G4=hl()}function om(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return iy()===99?1:2;if(xd===0&&(xd=hy),YQ.transition!==0){X4!==0&&(X4=zP!==null?zP.pendingLanes:0),t=xd;var n=4186112&~X4;return n&=-n,n===0&&(t=4186112&~t,n=t&-t,n===0&&(n=8192)),n}return t=iy(),(_r&4)!==0&&t===98?t=t4(12,xd):(t=jj(t),t=t4(t,xd)),t}function sm(t,n,i){if(50<fw)throw fw=0,WP=null,Error(en(185));if(t=z4(t,n),t===null)return null;n4(t,n,i),t===Wl&&(cy|=n,Pa===4&&fy(t,pl));var s=iy();n===1?(_r&8)!==0&&(_r&48)===0?jP(t):(af(t,i),_r===0&&(dy(),$0())):((_r&4)===0||s!==98&&s!==99||(yd===null?yd=new Set([t]):yd.add(t)),af(t,i)),zP=t}function z4(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}function af(t,n){for(var i=t.callbackNode,s=t.suspendedLanes,l=t.pingedLanes,e=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Zp(p),w=1<<v,E=e[v];if(E===-1){if((w&s)===0||(w&l)!==0){E=n,jg(w);var T=po;e[v]=10<=T?E+250:6<=T?E+5e3:-1}}else E<=n&&(t.expiredLanes|=w);p&=~w}if(s=kE(t,t===Wl?pl:0),n=po,s===0)i!==null&&(i!==oP&&rP(i),t.callbackNode=null,t.callbackPriority=0);else{if(i!==null){if(t.callbackPriority===n)return;i!==oP&&rP(i)}n===15?(i=jP.bind(null,t),md===null?(md=[i],y4=nP(g4,h7)):md.push(i),i=oP):n===14?i=qE(99,jP.bind(null,t)):(i=Qj(n),i=qE(i,u8.bind(null,t))),t.callbackPriority=n,t.callbackNode=i}}function u8(t){if(G4=-1,X4=xd=0,(_r&48)!==0)throw Error(en(327));var n=t.callbackNode;if(fm()&&t.callbackNode!==n)return null;var i=kE(t,t===Wl?pl:0);if(i===0)return null;var s=i,l=_r;_r|=16;var e=f8();(Wl!==t||pl!==s)&&(dy(),py(t,s));do try{sq();break}catch(v){c8(t,v)}while(1);if(aP(),U4.current=e,_r=l,Is!==null?s=0:(Wl=null,pl=0,s=Pa),(hy&cy)!==0)py(t,0);else if(s!==0){if(s===2&&(_r|=64,t.hydrate&&(t.hydrate=!1,K6(t.containerInfo)),i=EI(t),i!==0&&(s=dw(t,i))),s===1)throw n=k4,py(t,0),fy(t,i),af(t,hl()),n;t.finishedWork=t.current.alternate,t.finishedLanes=i;switch(s){case 0:case 1:throw Error(en(345));case 2:gv(t);break;case 3:if(fy(t,i),(i&62914560)===i&&(s=UP+500-hl(),10<s)){if(kE(t,0)!==0)break;if(l=t.suspendedLanes,(l&i)!==i){dc(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=$I(gv.bind(null,t),s);break}gv(t);break;case 4:if(fy(t,i),(i&4186112)===i)break;for(s=t.eventTimes,l=-1;0<i;){var p=31-Zp(i);e=1<<p,p=s[p],p>l&&(l=p),i&=~e}if(i=l,i=hl()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oq(i/1960))-i,10<i){t.timeoutHandle=$I(gv.bind(null,t),i);break}gv(t);break;case 5:gv(t);break;default:throw Error(en(329))}}return af(t,hl()),t.callbackNode===n?u8.bind(null,t):null}function fy(t,n){for(n&=~HP,n&=~cy,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Zp(n),s=1<<i;t[i]=-1,n&=~s}}function jP(t){if((_r&48)!==0)throw Error(en(327));if(fm(),t===Wl&&(t.expiredLanes&pl)!==0){var n=pl,i=dw(t,n);(hy&cy)!==0&&(n=kE(t,n),i=dw(t,n))}else n=kE(t,0),i=dw(t,n);if(t.tag!==0&&i===2&&(_r|=64,t.hydrate&&(t.hydrate=!1,K6(t.containerInfo)),n=EI(t),n!==0&&(i=dw(t,n))),i===1)throw i=k4,py(t,0),fy(t,n),af(t,hl()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=n,gv(t),af(t,hl()),null}function aq(){if(yd!==null){var t=yd;yd=null,t.forEach(function(n){n.expiredLanes|=24&n.pendingLanes,af(n,hl())})}$0()}function h8(t,n){var i=_r;_r|=1;try{return t(n)}finally{_r=i,_r===0&&(dy(),$0())}}function d8(t,n){var i=_r;_r&=-2,_r|=8;try{return t(n)}finally{_r=i,_r===0&&(dy(),$0())}}function N4(t,n){ts(XP,vv),vv|=n,hy|=n}function DP(){vv=XP.current,To(XP)}function py(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,UQ(i)),Is!==null)for(i=Is.return;i!==null;){var s=i;switch(s.tag){case 1:s=s.type.childContextTypes,s!=null&&m4();break;case 3:ly(),To(Eu),To(fl),gP();break;case 5:pP(s);break;case 4:ly();break;case 13:To(ns);break;case 19:To(ns);break;case 10:lP(s);break;case 23:case 24:DP()}i=i.return}Wl=t,Is=am(t.current,null),pl=vv=hy=n,Pa=0,k4=null,HP=cy=JE=0}function c8(t,n){do{var i=Is;try{if(aP(),nw.current=R4,P4){for(var s=fs.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}P4=!1}if(rw=0,La=dl=fs=null,iw=!1,GP.current=null,i===null||i.return===null){Pa=1,k4=n,Is=null;break}e:{var e=t,p=i.return,v=i,w=n;if(n=pl,v.flags|=2048,v.firstEffect=v.lastEffect=null,w!==null&&typeof w=="object"&&typeof w.then=="function"){var E=w;if((v.mode&2)===0){var T=v.alternate;T?(v.updateQueue=T.updateQueue,v.memoizedState=T.memoizedState,v.lanes=T.lanes):(v.updateQueue=null,v.memoizedState=null)}var C=(ns.current&1)!==0,R=p;do{var B;if(B=R.tag===13){var A=R.memoizedState;if(A!==null)B=A.dehydrated!==null;else{var H=R.memoizedProps;B=H.fallback===void 0?!1:H.unstable_avoidThisFallback!==!0?!0:!C}}if(B){var G=R.updateQueue;if(G===null){var O=new Set;O.add(E),R.updateQueue=O}else G.add(E);if((R.mode&2)===0){if(R.flags|=64,v.flags|=16384,v.flags&=-2981,v.tag===1)if(v.alternate===null)v.tag=17;else{var U=rm(-1,1);U.tag=2,im(v,U)}v.lanes|=1;break e}w=void 0,v=n;var $=e.pingCache;if($===null?($=e.pingCache=new KQ,w=new Set,$.set(E,w)):(w=$.get(E),w===void 0&&(w=new Set,$.set(E,w))),!w.has(v)){w.add(v);var ie=lq.bind(null,e,E,v);E.then(ie,ie)}R.flags|=4096,R.lanes=n;break e}R=R.return}while(R!==null);w=Error((Xg(v.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Pa!==5&&(Pa=2),w=FP(w,v),R=p;do{switch(R.tag){case 3:e=w,R.flags|=4096,n&=-n,R.lanes|=n;var ue=K7(R,e,n);m7(R,ue);break e;case 1:e=w;var K=R.type,ce=R.stateNode;if((R.flags&64)===0&&(typeof K.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(rh===null||!rh.has(ce)))){R.flags|=4096,n&=-n,R.lanes|=n;var ve=$7(R,e,n);m7(R,ve);break e}}R=R.return}while(R!==null)}p8(i)}catch(Ve){n=Ve,Is===i&&i!==null&&(Is=i=i.return);continue}break}while(1)}function f8(){var t=U4.current;return U4.current=R4,t===null?R4:t}function dw(t,n){var i=_r;_r|=16;var s=f8();Wl===t&&pl===n||py(t,n);do try{uq();break}catch(l){c8(t,l)}while(1);if(aP(),_r=i,U4.current=s,Is!==null)throw Error(en(261));return Wl=null,pl=0,Pa}function uq(){for(;Is!==null;)m8(Is)}function sq(){for(;Is!==null&&!XQ();)m8(Is)}function m8(t){var n=v8(t.alternate,t,vv);t.memoizedProps=t.pendingProps,n===null?p8(t):Is=n,GP.current=null}function p8(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&2048)===0){if(i=JQ(i,n,vv),i!==null){Is=i;return}if(i=n,i.tag!==24&&i.tag!==23||i.memoizedState===null||(vv&1073741824)!==0||(i.mode&4)===0){for(var s=0,l=i.child;l!==null;)s|=l.lanes|l.childLanes,l=l.sibling;i.childLanes=s}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=n.firstEffect),n.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=n.firstEffect),t.lastEffect=n.lastEffect),1<n.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=n:t.firstEffect=n,t.lastEffect=n))}else{if(i=ZQ(n),i!==null){i.flags&=2047,Is=i;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(n=n.sibling,n!==null){Is=n;return}Is=n=t}while(n!==null);Pa===0&&(Pa=5)}function gv(t){var n=iy();return hv(99,cq.bind(null,t,n)),null}function cq(t,n){do fm();while(uw!==null);if((_r&48)!==0)throw Error(en(327));var i=t.finishedWork;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(en(177));t.callbackNode=null;var s=i.lanes|i.childLanes,l=s,e=t.pendingLanes&~l;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=l,t.mutableReadLanes&=l,t.entangledLanes&=l,l=t.entanglements;for(var p=t.eventTimes,v=t.expirationTimes;0<e;){var w=31-Zp(e),E=1<<w;l[w]=0,p[w]=-1,v[w]=-1,e&=~E}if(yd!==null&&(s&24)===0&&yd.has(t)&&yd.delete(t),t===Wl&&(Is=Wl=null,pl=0),1<i.flags?i.lastEffect!==null?(i.lastEffect.nextEffect=i,s=i.firstEffect):s=i:s=i.firstEffect,s!==null){if(l=_r,_r|=32,GP.current=null,q6=r4,p=XI(),V6(p)){if("selectionStart"in p)v={start:p.selectionStart,end:p.selectionEnd};else e:if(v=(v=p.ownerDocument)&&v.defaultView||window,(E=v.getSelection&&v.getSelection())&&E.rangeCount!==0){v=E.anchorNode,e=E.anchorOffset,w=E.focusNode,E=E.focusOffset;try{v.nodeType,w.nodeType}catch(Ve){v=null;break e}var T=0,C=-1,R=-1,B=0,A=0,H=p,G=null;t:for(;;){for(var O;!(H!==v||e!==0&&H.nodeType!==3||(C=T+e),H!==w||E!==0&&H.nodeType!==3||(R=T+E),H.nodeType===3&&(T+=H.nodeValue.length),(O=H.firstChild)===null);)G=H,H=O;for(;;){if(H===p)break t;if(G===v&&++B===e&&(C=T),G===w&&++A===E&&(R=T),(O=H.nextSibling)!==null)break;H=G,G=H.parentNode}H=O}v=C===-1||R===-1?null:{start:C,end:R}}else v=null;v=v||{start:0,end:0}}else v=null;J6={focusedElem:p,selectionRange:v},r4=!1,hw=null,H4=!1,bn=s;do try{fq()}catch(Ve){if(bn===null)throw Error(en(330));um(bn,Ve),bn=bn.nextEffect}while(bn!==null);hw=null,bn=s;do try{for(p=t;bn!==null;){var U=bn.flags;if(U&16&&LE(bn.stateNode,""),U&128){var $=bn.alternate;if($!==null){var ie=$.ref;ie!==null&&(typeof ie=="function"?ie(null):ie.current=null)}}switch(U&1038){case 2:a8(bn),bn.flags&=-3;break;case 6:a8(bn),bn.flags&=-3,kP(bn.alternate,bn);break;case 1024:bn.flags&=-1025;break;case 1028:bn.flags&=-1025,kP(bn.alternate,bn);break;case 4:kP(bn.alternate,bn);break;case 8:v=bn,r8(p,v);var ue=v.alternate;o8(v),ue!==null&&o8(ue)}bn=bn.nextEffect}}catch(Ve){if(bn===null)throw Error(en(330));um(bn,Ve),bn=bn.nextEffect}while(bn!==null);if(ie=J6,$=XI(),U=ie.focusedElem,p=ie.selectionRange,$!==U&&U&&U.ownerDocument&&GI(U.ownerDocument.documentElement,U)){for(p!==null&&V6(U)&&($=p.start,ie=p.end,ie===void 0&&(ie=$),"selectionStart"in U?(U.selectionStart=$,U.selectionEnd=Math.min(ie,U.value.length)):(ie=($=U.ownerDocument||document)&&$.defaultView||window,ie.getSelection&&(ie=ie.getSelection(),v=U.textContent.length,ue=Math.min(p.start,v),p=p.end===void 0?ue:Math.min(p.end,v),!ie.extend&&ue>p&&(v=p,p=ue,ue=v),v=kI(U,ue),e=kI(U,p),v&&e&&(ie.rangeCount!==1||ie.anchorNode!==v.node||ie.anchorOffset!==v.offset||ie.focusNode!==e.node||ie.focusOffset!==e.offset)&&($=$.createRange(),$.setStart(v.node,v.offset),ie.removeAllRanges(),ue>p?(ie.addRange($),ie.extend(e.node,e.offset)):($.setEnd(e.node,e.offset),ie.addRange($)))))),$=[],ie=U;ie=ie.parentNode;)ie.nodeType===1&&$.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<$.length;U++)ie=$[U],ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}r4=!!q6,J6=q6=null,t.current=i,bn=s;do try{for(U=t;bn!==null;){var K=bn.flags;if(K&36&&nq(U,bn.alternate,bn),K&128){$=void 0;var ce=bn.ref;if(ce!==null){var ve=bn.stateNode;switch(bn.tag){case 5:$=ve;break;default:$=ve}typeof ce=="function"?ce($):ce.current=$}}bn=bn.nextEffect}}catch(Ve){if(bn===null)throw Error(en(330));um(bn,Ve),bn=bn.nextEffect}while(bn!==null);bn=null,zQ(),_r=l}else t.current=i;if(cm)cm=!1,uw=t,cw=n;else for(bn=s;bn!==null;)n=bn.nextEffect,bn.nextEffect=null,bn.flags&8&&(K=bn,K.sibling=null,K.stateNode=null),bn=n;if(s=t.pendingLanes,s===0&&(rh=null),s===1?t===WP?fw++:(fw=0,WP=t):fw=0,i=i.stateNode,fv&&typeof fv.onCommitFiberRoot=="function")try{fv.onCommitFiberRoot(tP,i,void 0,(i.current.flags&64)===64)}catch(Ve){}if(af(t,hl()),O4)throw O4=!1,t=NP,NP=null,t;return(_r&8)!==0||$0(),null}function fq(){for(;bn!==null;){var t=bn.alternate;H4||hw===null||((bn.flags&8)!==0?sI(bn,hw)&&(H4=!0):bn.tag===13&&iq(t,bn)&&sI(bn,hw)&&(H4=!0));var n=bn.flags;(n&256)!==0&&eq(t,bn),(n&512)===0||cm||(cm=!0,qE(97,function(){return fm(),null})),bn=bn.nextEffect}}function fm(){if(cw!==90){var t=97<cw?97:cw;return cw=90,hv(t,hq)}return!1}function tq(t,n){YP.push(n,t),cm||(cm=!0,qE(97,function(){return fm(),null}))}function t8(t,n){VP.push(n,t),cm||(cm=!0,qE(97,function(){return fm(),null}))}function hq(){if(uw===null)return!1;var t=uw;if(uw=null,(_r&48)!==0)throw Error(en(331));var n=_r;_r|=32;var i=VP;VP=[];for(var s=0;s<i.length;s+=2){var l=i[s],e=i[s+1],p=l.destroy;if(l.destroy=void 0,typeof p=="function")try{p()}catch(w){if(e===null)throw Error(en(330));um(e,w)}}for(i=YP,YP=[],s=0;s<i.length;s+=2){l=i[s],e=i[s+1];try{var v=l.create;l.destroy=v()}catch(w){if(e===null)throw Error(en(330));um(e,w)}}for(v=t.current.firstEffect;v!==null;)t=v.nextEffect,v.nextEffect=null,v.flags&8&&(v.sibling=null,v.stateNode=null),v=t;return _r=n,$0(),!0}function g8(t,n,i){n=FP(i,n),n=K7(t,n,1),im(t,n),n=dc(),t=z4(t,1),t!==null&&(n4(t,1,n),af(t,n))}function um(t,n){if(t.tag===3)g8(t,t,n);else for(var i=t.return;i!==null;){if(i.tag===3){g8(i,t,n);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rh===null||!rh.has(s))){t=FP(n,t);var l=$7(i,t,1);if(im(i,l),l=dc(),i=z4(i,1),i!==null)n4(i,1,l),af(i,l);else if(typeof s.componentDidCatch=="function"&&(rh===null||!rh.has(s)))try{s.componentDidCatch(n,t)}catch(e){}break}}i=i.return}}function lq(t,n,i){var s=t.pingCache;s!==null&&s.delete(n),n=dc(),t.pingedLanes|=t.suspendedLanes&i,Wl===t&&(pl&i)===i&&(Pa===4||Pa===3&&(pl&62914560)===pl&&500>hl()-UP?py(t,0):HP|=i),af(t,n)}function rq(t,n){var i=t.stateNode;i!==null&&i.delete(n),n=0,n===0&&(n=t.mode,(n&2)===0?n=1:(n&4)===0?n=iy()===99?1:2:(xd===0&&(xd=hy),n=Qg(62914560&~xd),n===0&&(n=4194304))),i=dc(),t=z4(t,n),t!==null&&(n4(t,n,i),af(t,i))}var v8;v8=function(t,n,i){var s=n.lanes;if(t!==null)if(t.memoizedProps!==n.pendingProps||Eu.current)Gf=!0;else if((i&s)!==0)Gf=(t.flags&16384)!==0;else{Gf=!1;switch(n.tag){case 3:H7(n),vP();break;case 5:_7(n);break;case 1:wu(n.type)&&v4(n);break;case 4:dP(n,n.stateNode.containerInfo);break;case 10:s=n.memoizedProps.value;var l=n.type._context;ts(x4,l._currentValue),l._currentValue=s;break;case 13:if(n.memoizedState!==null)return(i&n.child.childLanes)!==0?W7(t,n,i):(ts(ns,ns.current&1),n=gd(t,n,i),n!==null?n.sibling:null);ts(ns,ns.current&1);break;case 19:if(s=(i&n.childLanes)!==0,(t.flags&64)!==0){if(s)return Q7(t,n,i);n.flags|=64}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ts(ns,ns.current),s)break;return null;case 23:case 24:return n.lanes=0,TP(t,n,i)}return gd(t,n,i)}else Gf=!1;n.lanes=0;switch(n.tag){case 2:if(s=n.type,t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),t=n.pendingProps,l=ry(n,fl.current),sy(n,i),l=xP(null,n,s,t,l,i),n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,wu(s)){var e=!0;v4(n)}else e=!1;n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,uP(n);var p=s.getDerivedStateFromProps;typeof p=="function"&&A4(n,s,p,t),l.updater=_4,n.stateNode=l,l._reactInternals=n,cP(n,s,t,i),n=bP(null,n,s,!0,e,i)}else n.tag=0,_u(null,n,l,i),n=n.child;return n;case 16:l=n.elementType;e:{t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),t=n.pendingProps,e=l._init,l=e(l._payload),n.type=l,e=n.tag=dq(l),t=kf(l,t);switch(e){case 0:n=SP(null,n,l,t,i);break e;case 1:n=X7(null,n,l,t,i);break e;case 11:n=O7(null,n,l,t,i);break e;case 14:n=k7(null,n,l,kf(l.type,t),s,i);break e}throw Error(en(306,l,""))}return n;case 0:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:kf(s,l),SP(t,n,s,l,i);case 1:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:kf(s,l),X7(t,n,s,l,i);case 3:if(H7(n),s=n.updateQueue,t===null||s===null)throw Error(en(282));if(s=n.pendingProps,l=n.memoizedState,l=l!==null?l.element:null,p7(t,n),ZE(n,s,null,i),s=n.memoizedState.element,s===l)vP(),n=gd(t,n,i);else{if(l=n.stateNode,(e=l.hydrate)&&(lm=ty(n.stateNode.containerInfo.firstChild),vd=n,e=th=!0),e){if(t=l.mutableSourceEagerHydrationData,t!=null)for(l=0;l<t.length;l+=2)e=t[l],e._workInProgressVersionPrimary=t[l+1],uy.push(e);for(i=A7(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|1024,i=i.sibling}else _u(t,n,s,i),vP();n=n.child}return n;case 5:return _7(n),t===null&&mP(n),s=n.type,l=n.pendingProps,e=t!==null?t.memoizedProps:null,p=l.children,Z6(s,l)?p=null:e!==null&&Z6(s,e)&&(n.flags|=16),G7(t,n),_u(t,n,p,i),n.child;case 6:return t===null&&mP(n),null;case 13:return W7(t,n,i);case 4:return dP(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=b4(n,null,s,i):_u(t,n,s,i),n.child;case 11:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:kf(s,l),O7(t,n,s,l,i);case 7:return _u(t,n,n.pendingProps,i),n.child;case 8:return _u(t,n,n.pendingProps.children,i),n.child;case 12:return _u(t,n,n.pendingProps.children,i),n.child;case 10:e:{s=n.type._context,l=n.pendingProps,p=n.memoizedProps,e=l.value;var v=n.type._context;if(ts(x4,v._currentValue),v._currentValue=e,p!==null)if(v=p.value,e=nf(v,e)?0:(typeof s._calculateChangedBits=="function"?s._calculateChangedBits(v,e):1073741823)|0,e===0){if(p.children===l.children&&!Eu.current){n=gd(t,n,i);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var w=v.dependencies;if(w!==null){p=v.child;for(var E=w.firstContext;E!==null;){if(E.context===s&&(E.observedBits&e)!==0){v.tag===1&&(E=rm(-1,i&-i),E.tag=2,im(v,E)),v.lanes|=i,E=v.alternate,E!==null&&(E.lanes|=i),d7(v.return,i),w.lanes|=i;break}E=E.next}}else p=v.tag===10&&v.type===n.type?null:v.child;if(p!==null)p.return=v;else for(p=v;p!==null;){if(p===n){p=null;break}if(v=p.sibling,v!==null){v.return=p.return,p=v;break}p=p.return}v=p}_u(t,n,l.children,i),n=n.child}return n;case 9:return l=n.type,e=n.pendingProps,s=e.children,sy(n,i),l=rf(l,e.unstable_observedBits),s=s(l),n.flags|=1,_u(t,n,s,i),n.child;case 14:return l=n.type,e=kf(l,n.pendingProps),e=kf(l.type,e),k7(t,n,l,e,s,i);case 15:return U7(t,n,n.type,n.pendingProps,s,i);case 17:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:kf(s,l),t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,wu(s)?(t=!0,v4(n)):t=!1,sy(n,i),x7(n,s,l),cP(n,s,l,i),bP(null,n,s,!0,t,i);case 19:return Q7(t,n,i);case 23:return TP(t,n,i);case 24:return TP(t,n,i)}throw Error(en(156,n.tag))};function pq(t,n,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function of(t,n,i,s){return new pq(t,n,i,s)}function MP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dq(t){if(typeof t=="function")return MP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HM)return 11;if(t===YM)return 14}return 2}function am(t,n){var i=t.alternate;return i===null?(i=of(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function T4(t,n,i,s,l,e){var p=2;if(s=t,typeof t=="function")MP(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Wp:return ay(i.children,l,e,n);case UN:p=8,l|=16;break;case t6:p=8,l|=1;break;case SE:return t=of(12,i,n,l|8),t.elementType=SE,t.type=SE,t.lanes=e,t;case TE:return t=of(13,i,n,l),t.type=TE,t.elementType=TE,t.lanes=e,t;case zM:return t=of(19,i,n,l),t.elementType=zM,t.lanes=e,t;case a6:return CP(i,l,e,n);case l6:return t=of(24,i,n,l),t.elementType=l6,t.lanes=e,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n6:p=10;break e;case r6:p=9;break e;case HM:p=11;break e;case YM:p=14;break e;case i6:p=16,s=null;break e;case o6:p=22;break e}throw Error(en(130,t==null?t:typeof t,""))}return n=of(p,i,n,l),n.elementType=t,n.type=s,n.lanes=e,n}function ay(t,n,i,s){return t=of(7,t,s,n),t.lanes=i,t}function CP(t,n,i,s){return t=of(23,t,s,n),t.elementType=a6,t.lanes=i,t}function fP(t,n,i){return t=of(6,t,null,n),t.lanes=i,t}function hP(t,n,i){return n=of(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function mq(t,n,i){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=N6(0),this.expirationTimes=N6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N6(0),this.mutableSourceEagerHydrationData=null}function vq(t,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sv,key:s==null?null:""+s,children:t,containerInfo:n,implementation:i}}function Y4(t,n,i,s){var l=n.current,e=dc(),p=om(l);e:if(i){i=i._reactInternals;t:{if(lv(i)!==i||i.tag!==1)throw Error(en(170));var v=i;do{switch(v.tag){case 3:v=v.stateNode.context;break t;case 1:if(wu(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break t}}v=v.return}while(v!==null);throw Error(en(171))}if(i.tag===1){var w=i.type;if(wu(w)){i=r7(i,w,v);break e}}i=v}else i=tm;return n.context===null?n.context=i:n.pendingContext=i,n=rm(e,p),n.payload={element:t},s=s===void 0?null:s,s!==null&&(n.callback=s),im(l,n),sm(l,p,e),p}function QP(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function y8(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function qP(t,n){y8(t,n),(t=t.alternate)&&y8(t,n)}function gq(){return null}function JP(t,n,i){var s=i!=null&&i.hydrationOptions!=null&&i.hydrationOptions.mutableSources||null;if(i=new mq(t,n,i!=null&&i.hydrate===!0),n=of(3,null,null,n===2?7:n===1?3:0),i.current=n,n.stateNode=i,uP(n),t[ey]=i.current,JI(t.nodeType===8?t.parentNode:t),s)for(t=0;t<s.length;t++){n=s[t];var l=n._getVersion;l=l(n._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[n,l]:i.mutableSourceEagerHydrationData.push(n,l)}this._internalRoot=i}JP.prototype.render=function(t){Y4(t,this._internalRoot,null,null)};JP.prototype.unmount=function(){var t=this._internalRoot,n=t.containerInfo;Y4(null,t,null,function(){n[ey]=null})};function pw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yq(t,n){if(n||(n=t?t.nodeType===9?t.documentElement:t.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var i;i=t.lastChild;)t.removeChild(i);return new JP(t,0,n?{hydrate:!0}:void 0)}function V4(t,n,i,s,l){var e=i._reactRootContainer;if(e){var p=e._internalRoot;if(typeof l=="function"){var v=l;l=function(){var E=QP(p);v.call(E)}}Y4(n,p,t,l)}else{if(e=i._reactRootContainer=yq(i,s),p=e._internalRoot,typeof l=="function"){var w=l;l=function(){var E=QP(p);w.call(E)}}d8(function(){Y4(n,p,t,l)})}return QP(p)}aI=function(t){if(t.tag===13){var n=dc();sm(t,4,n),qP(t,4)}};C6=function(t){if(t.tag===13){var n=dc();sm(t,67108864,n),qP(t,67108864)}};lI=function(t){if(t.tag===13){var n=dc(),i=om(t);sm(t,i,n),qP(t,i)}};uI=function(t,n){return n()};w6=function(t,n,i){switch(n){case"input":if(d6(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==t&&s.form===t.form){var l=qM(s);if(!l)throw Error(en(90));XN(s),d6(s,l)}}}break;case"textarea":WN(t,i);break;case"select":n=i.value,n!=null&&Hg(t,!!i.multiple,n,!1)}};A6=h8;tI=function(t,n,i,s,l){var e=_r;_r|=4;try{return hv(98,t.bind(null,n,i,s,l))}finally{_r=e,_r===0&&(dy(),$0())}};_6=function(){(_r&49)===0&&(aq(),fm())};nI=function(t,n){var i=_r;_r|=2;try{return t(n)}finally{_r=i,_r===0&&(dy(),$0())}};function x8(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pw(n))throw Error(en(200));return vq(t,n,null,i)}var xq={Events:[RE,Zg,qM,$N,eI,fm,{current:!1}]},mw={findFiberByHostInstance:uv,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Eq={bundleType:mw.bundleType,version:mw.version,rendererPackageName:mw.rendererPackageName,rendererConfig:mw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ov.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oI(t),t===null?null:t.stateNode},findFiberByHostInstance:mw.findFiberByHostInstance||gq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(vw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!vw.isDisabled&&vw.supportsFiber))try{tP=vw.inject(Eq),fv=vw}catch(t){}var vw;tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xq;tf.createPortal=x8;tf.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(en(188)):Error(en(268,Object.keys(t)));return t=oI(n),t=t===null?null:t.stateNode,t};tf.flushSync=function(t,n){var i=_r;if((i&48)!==0)return t(n);_r|=1;try{if(t)return hv(99,t.bind(null,n))}finally{_r=i,$0()}};tf.hydrate=function(t,n,i){if(!pw(n))throw Error(en(200));return V4(null,t,n,!0,i)};tf.render=function(t,n,i){if(!pw(n))throw Error(en(200));return V4(null,t,n,!1,i)};tf.unmountComponentAtNode=function(t){if(!pw(t))throw Error(en(40));return t._reactRootContainer?(d8(function(){V4(null,null,t,!1,function(){t._reactRootContainer=null,t[ey]=null})}),!0):!1};tf.unstable_batchedUpdates=h8;tf.unstable_createPortal=function(t,n){return x8(t,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};tf.unstable_renderSubtreeIntoContainer=function(t,n,i,s){if(!pw(i))throw Error(en(200));if(t==null||t._reactInternals===void 0)throw Error(en(38));return V4(t,n,i,!1,s)};tf.version="17.0.1"}),ZP=cs((dse,w8)=>{"use strict";function A8(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A8)}catch(t){console.error(t)}}A8(),w8.exports=E8()}),Ra=cs((W4,_8)=>{(function(t,n){typeof W4=="object"&&typeof _8!="undefined"?n(W4):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis!="undefined"?globalThis:t||self,n(t.THREE={}))})(W4,function(t){"use strict";Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(m){return typeof m=="number"&&isFinite(m)&&Math.floor(m)===m}),Math.sign===void 0&&(Math.sign=function(m){return m<0?-1:m>0?1:+m}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(m),d=1;d<arguments.length;d++){var c=arguments[d];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])}return u});var n="123",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,e=1,p=2,v=3,w=0,E=1,T=2,C=3,R=0,B=1,A=2,H=1,G=2,O=0,U=1,$=2,ie=3,ue=4,K=5,ce=100,ve=101,Ve=102,Me=103,Ee=104,Ne=200,Oe=201,tt=202,Ze=203,Qe=204,at=205,mt=206,Ht=207,Wt=208,et=209,De=210,Le=0,Ye=1,Re=2,re=3,oe=4,we=5,ge=6,be=7,Ce=0,P=1,_e=2,ke=0,Se=1,se=2,he=3,me=4,xt=5,pt=300,ze=301,At=302,gt=303,Ft=304,Et=306,Pt=307,qt=1e3,Xe=1001,Ct=1002,zt=1003,sn=1004,lr=1004,zn=1005,oi=1005,fr=1006,Zr=1007,ci=1007,Xr=1008,Wr=1008,Mr=1009,eo=1010,Ms=1011,si=1012,Lo=1013,Jo=1014,yo=1015,Fe=1016,bt=1017,Mt=1018,It=1019,Kt=1020,yr=1021,Zn=1022,Qt=1023,Sr=1024,Fi=1025,ki=Qt,Kn=1026,Kr=1027,ca=1028,fi=1029,fa=1030,Wi=1031,tu=1032,Uo=1033,kn=33776,wl=33777,ks=33778,nu=33779,Bi=35840,to=35841,Lu=35842,Zo=35843,os=36196,ru=37492,Pu=37496,Ss=37808,xh=37809,Wv=37810,Bm=37811,t0=37812,jv=37813,jt=37814,_c=37815,Qv=37816,Eh=37817,bi=37818,Mc=37819,qv=37820,Jv=37821,n0=36492,Nm=37840,rn=37841,Po=37842,wh=37843,mf=37844,Ru=37845,Im=37846,Zv=37847,Kv=37848,Om=37849,Ga=37850,Xa=37851,Um=37852,km=37853,Od=2200,Gs=2201,Ah=2202,r0=2300,i0=2301,_h=2302,Du=2400,Fu=2401,vf=2402,Ha=2500,nr=2501,Ud=0,$v=1,ss=2,Ro=3e3,o0=3001,za=3007,Sc=3002,ha=3003,Mh=3004,Gm=3005,Xm=3006,da=3200,e2=3201,iu=0,t2=1,Al=0,gf=7680,kd=7681,s0=7682,Gd=7683,Hm=34055,n2=34056,zm=5386,r2=512,a0=513,Ya=514,Tc=515,Ym=516,i2=517,bc=518,Bu=519,l0=35044,_l=35048,o2=35040,s2=35045,Xd=35049,Hd=35041,a2=35046,l2=35050,u2=35042,Vm="100",u0="300 es";function Xs(){}Object.assign(Xs.prototype,{addEventListener:function(u,d){this._listeners===void 0&&(this._listeners={});var c=this._listeners;c[u]===void 0&&(c[u]=[]),c[u].indexOf(d)===-1&&c[u].push(d)},hasEventListener:function(u,d){if(this._listeners===void 0)return!1;var c=this._listeners;return c[u]!==void 0&&c[u].indexOf(d)!==-1},removeEventListener:function(u,d){if(this._listeners===void 0)return;var c=this._listeners,f=c[u];if(f!==void 0){var x=f.indexOf(d);x!==-1&&f.splice(x,1)}},dispatchEvent:function(u){if(this._listeners===void 0)return;var d=this._listeners,c=d[u.type];if(c!==void 0){u.target=this;for(var f=c.slice(0),x=0,_=f.length;x<_;x++)f[x].call(this,u)}}});for(var Do=[],c0=0;c0<256;c0++)Do[c0]=(c0<16?"0":"")+c0.toString(16);var yf=1234567,$n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var u=Math.random()*4294967295|0,d=Math.random()*4294967295|0,c=Math.random()*4294967295|0,f=Math.random()*4294967295|0,x=Do[u&255]+Do[u>>8&255]+Do[u>>16&255]+Do[u>>24&255]+"-"+Do[d&255]+Do[d>>8&255]+"-"+Do[d>>16&15|64]+Do[d>>24&255]+"-"+Do[c&63|128]+Do[c>>8&255]+"-"+Do[c>>16&255]+Do[c>>24&255]+Do[f&255]+Do[f>>8&255]+Do[f>>16&255]+Do[f>>24&255];return x.toUpperCase()},clamp:function(u,d,c){return Math.max(d,Math.min(c,u))},euclideanModulo:function(u,d){return(u%d+d)%d},mapLinear:function(u,d,c,f,x){return f+(u-d)*(x-f)/(c-d)},lerp:function(u,d,c){return(1-c)*u+c*d},smoothstep:function(u,d,c){return u<=d?0:u>=c?1:(u=(u-d)/(c-d),u*u*(3-2*u))},smootherstep:function(u,d,c){return u<=d?0:u>=c?1:(u=(u-d)/(c-d),u*u*u*(u*(u*6-15)+10))},randInt:function(u,d){return u+Math.floor(Math.random()*(d-u+1))},randFloat:function(u,d){return u+Math.random()*(d-u)},randFloatSpread:function(u){return u*(.5-Math.random())},seededRandom:function(u){return u!==void 0&&(yf=u%2147483647),yf=yf*16807%2147483647,(yf-1)/2147483646},degToRad:function(u){return u*$n.DEG2RAD},radToDeg:function(u){return u*$n.RAD2DEG},isPowerOfTwo:function(u){return(u&u-1)===0&&u!==0},ceilPowerOfTwo:function(u){return Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},floorPowerOfTwo:function(u){return Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},setQuaternionFromProperEuler:function(u,d,c,f,x){var _=Math.cos,L=Math.sin,D=_(c/2),N=L(c/2),Y=_((d+f)/2),z=L((d+f)/2),X=_((d-f)/2),j=L((d-f)/2),q=_((f-d)/2),te=L((f-d)/2);switch(x){case"XYX":u.set(D*z,N*X,N*j,D*Y);break;case"YZY":u.set(N*j,D*z,N*X,D*Y);break;case"ZXZ":u.set(N*X,N*j,D*z,D*Y);break;case"XZX":u.set(D*z,N*te,N*q,D*Y);break;case"YXY":u.set(N*q,D*z,N*te,D*Y);break;case"ZYZ":u.set(N*te,N*q,D*z,D*Y);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+x)}}};function f0(m,u){for(var d=0;d<u.length;d++){var c=u[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function Ts(m,u,d){return u&&f0(m.prototype,u),d&&f0(m,d),m}function Sn(m,u){m.prototype=Object.create(u.prototype),m.prototype.constructor=m,m.__proto__=u}function Ml(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}var kt=function(){function m(d,c){d===void 0&&(d=0),c===void 0&&(c=0),Object.defineProperty(this,"isVector2",{value:!0}),this.x=d,this.y=c}var u=m.prototype;return u.set=function(c,f){return this.x=c,this.y=f,this},u.setScalar=function(c){return this.x=c,this.y=c,this},u.setX=function(c){return this.x=c,this},u.setY=function(c){return this.y=c,this},u.setComponent=function(c,f){switch(c){case 0:this.x=f;break;case 1:this.y=f;break;default:throw new Error("index is out of range: "+c)}return this},u.getComponent=function(c){switch(c){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+c)}},u.clone=function(){return new this.constructor(this.x,this.y)},u.copy=function(c){return this.x=c.x,this.y=c.y,this},u.add=function(c,f){return f!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,f)):(this.x+=c.x,this.y+=c.y,this)},u.addScalar=function(c){return this.x+=c,this.y+=c,this},u.addVectors=function(c,f){return this.x=c.x+f.x,this.y=c.y+f.y,this},u.addScaledVector=function(c,f){return this.x+=c.x*f,this.y+=c.y*f,this},u.sub=function(c,f){return f!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,f)):(this.x-=c.x,this.y-=c.y,this)},u.subScalar=function(c){return this.x-=c,this.y-=c,this},u.subVectors=function(c,f){return this.x=c.x-f.x,this.y=c.y-f.y,this},u.multiply=function(c){return this.x*=c.x,this.y*=c.y,this},u.multiplyScalar=function(c){return this.x*=c,this.y*=c,this},u.divide=function(c){return this.x/=c.x,this.y/=c.y,this},u.divideScalar=function(c){return this.multiplyScalar(1/c)},u.applyMatrix3=function(c){var f=this.x,x=this.y,_=c.elements;return this.x=_[0]*f+_[3]*x+_[6],this.y=_[1]*f+_[4]*x+_[7],this},u.min=function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this},u.max=function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this},u.clamp=function(c,f){return this.x=Math.max(c.x,Math.min(f.x,this.x)),this.y=Math.max(c.y,Math.min(f.y,this.y)),this},u.clampScalar=function(c,f){return this.x=Math.max(c,Math.min(f,this.x)),this.y=Math.max(c,Math.min(f,this.y)),this},u.clampLength=function(c,f){var x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(c,Math.min(f,x)))},u.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},u.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},u.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},u.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},u.negate=function(){return this.x=-this.x,this.y=-this.y,this},u.dot=function(c){return this.x*c.x+this.y*c.y},u.cross=function(c){return this.x*c.y-this.y*c.x},u.lengthSq=function(){return this.x*this.x+this.y*this.y},u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},u.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},u.normalize=function(){return this.divideScalar(this.length()||1)},u.angle=function(){var c=Math.atan2(-this.y,-this.x)+Math.PI;return c},u.distanceTo=function(c){return Math.sqrt(this.distanceToSquared(c))},u.distanceToSquared=function(c){var f=this.x-c.x,x=this.y-c.y;return f*f+x*x},u.manhattanDistanceTo=function(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)},u.setLength=function(c){return this.normalize().multiplyScalar(c)},u.lerp=function(c,f){return this.x+=(c.x-this.x)*f,this.y+=(c.y-this.y)*f,this},u.lerpVectors=function(c,f,x){return this.x=c.x+(f.x-c.x)*x,this.y=c.y+(f.y-c.y)*x,this},u.equals=function(c){return c.x===this.x&&c.y===this.y},u.fromArray=function(c,f){return f===void 0&&(f=0),this.x=c[f],this.y=c[f+1],this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this.x,c[f+1]=this.y,c},u.fromBufferAttribute=function(c,f,x){return x!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(f),this.y=c.getY(f),this},u.rotateAround=function(c,f){var x=Math.cos(f),_=Math.sin(f),L=this.x-c.x,D=this.y-c.y;return this.x=L*x-D*_+c.x,this.y=L*_+D*x+c.y,this},u.random=function(){return this.x=Math.random(),this.y=Math.random(),this},Ts(m,[{key:"width",get:function(){return this.x},set:function(c){this.x=c}},{key:"height",get:function(){return this.y},set:function(c){this.y=c}}]),m}(),as=function(){function m(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}var u=m.prototype;return u.set=function(c,f,x,_,L,D,N,Y,z){var X=this.elements;return X[0]=c,X[1]=_,X[2]=N,X[3]=f,X[4]=L,X[5]=Y,X[6]=x,X[7]=D,X[8]=z,this},u.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},u.clone=function(){return new this.constructor().fromArray(this.elements)},u.copy=function(c){var f=this.elements,x=c.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],this},u.extractBasis=function(c,f,x){return c.setFromMatrix3Column(this,0),f.setFromMatrix3Column(this,1),x.setFromMatrix3Column(this,2),this},u.setFromMatrix4=function(c){var f=c.elements;return this.set(f[0],f[4],f[8],f[1],f[5],f[9],f[2],f[6],f[10]),this},u.multiply=function(c){return this.multiplyMatrices(this,c)},u.premultiply=function(c){return this.multiplyMatrices(c,this)},u.multiplyMatrices=function(c,f){var x=c.elements,_=f.elements,L=this.elements,D=x[0],N=x[3],Y=x[6],z=x[1],X=x[4],j=x[7],q=x[2],te=x[5],ae=x[8],ne=_[0],Q=_[3],xe=_[6],Te=_[1],de=_[4],le=_[7],Ae=_[2],je=_[5],He=_[8];return L[0]=D*ne+N*Te+Y*Ae,L[3]=D*Q+N*de+Y*je,L[6]=D*xe+N*le+Y*He,L[1]=z*ne+X*Te+j*Ae,L[4]=z*Q+X*de+j*je,L[7]=z*xe+X*le+j*He,L[2]=q*ne+te*Te+ae*Ae,L[5]=q*Q+te*de+ae*je,L[8]=q*xe+te*le+ae*He,this},u.multiplyScalar=function(c){var f=this.elements;return f[0]*=c,f[3]*=c,f[6]*=c,f[1]*=c,f[4]*=c,f[7]*=c,f[2]*=c,f[5]*=c,f[8]*=c,this},u.determinant=function(){var c=this.elements,f=c[0],x=c[1],_=c[2],L=c[3],D=c[4],N=c[5],Y=c[6],z=c[7],X=c[8];return f*D*X-f*N*z-x*L*X+x*N*Y+_*L*z-_*D*Y},u.invert=function(){var c=this.elements,f=c[0],x=c[1],_=c[2],L=c[3],D=c[4],N=c[5],Y=c[6],z=c[7],X=c[8],j=X*D-N*z,q=N*Y-X*L,te=z*L-D*Y,ae=f*j+x*q+_*te;if(ae===0)return this.set(0,0,0,0,0,0,0,0,0);var ne=1/ae;return c[0]=j*ne,c[1]=(_*z-X*x)*ne,c[2]=(N*x-_*D)*ne,c[3]=q*ne,c[4]=(X*f-_*Y)*ne,c[5]=(_*L-N*f)*ne,c[6]=te*ne,c[7]=(x*Y-z*f)*ne,c[8]=(D*f-x*L)*ne,this},u.transpose=function(){var c,f=this.elements;return c=f[1],f[1]=f[3],f[3]=c,c=f[2],f[2]=f[6],f[6]=c,c=f[5],f[5]=f[7],f[7]=c,this},u.getNormalMatrix=function(c){return this.setFromMatrix4(c).copy(this).invert().transpose()},u.transposeIntoArray=function(c){var f=this.elements;return c[0]=f[0],c[1]=f[3],c[2]=f[6],c[3]=f[1],c[4]=f[4],c[5]=f[7],c[6]=f[2],c[7]=f[5],c[8]=f[8],this},u.setUvTransform=function(c,f,x,_,L,D,N){var Y=Math.cos(L),z=Math.sin(L);this.set(x*Y,x*z,-x*(Y*D+z*N)+D+c,-_*z,_*Y,-_*(-z*D+Y*N)+N+f,0,0,1)},u.scale=function(c,f){var x=this.elements;return x[0]*=c,x[3]*=c,x[6]*=c,x[1]*=f,x[4]*=f,x[7]*=f,this},u.rotate=function(c){var f=Math.cos(c),x=Math.sin(c),_=this.elements,L=_[0],D=_[3],N=_[6],Y=_[1],z=_[4],X=_[7];return _[0]=f*L+x*Y,_[3]=f*D+x*z,_[6]=f*N+x*X,_[1]=-x*L+f*Y,_[4]=-x*D+f*z,_[7]=-x*N+f*X,this},u.translate=function(c,f){var x=this.elements;return x[0]+=c*x[2],x[3]+=c*x[5],x[6]+=c*x[8],x[1]+=f*x[2],x[4]+=f*x[5],x[7]+=f*x[8],this},u.equals=function(c){for(var f=this.elements,x=c.elements,_=0;_<9;_++)if(f[_]!==x[_])return!1;return!0},u.fromArray=function(c,f){f===void 0&&(f=0);for(var x=0;x<9;x++)this.elements[x]=c[x+f];return this},u.toArray=function(c,f){c===void 0&&(c=[]),f===void 0&&(f=0);var x=this.elements;return c[f]=x[0],c[f+1]=x[1],c[f+2]=x[2],c[f+3]=x[3],c[f+4]=x[4],c[f+5]=x[5],c[f+6]=x[6],c[f+7]=x[7],c[f+8]=x[8],c},m}(),Sl,Cc={getDataURL:function(u){if(/^data:/i.test(u.src))return u.src;if(typeof HTMLCanvasElement=="undefined")return u.src;var d;if(u instanceof HTMLCanvasElement)d=u;else{Sl===void 0&&(Sl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Sl.width=u.width,Sl.height=u.height;var c=Sl.getContext("2d");u instanceof ImageData?c.putImageData(u,0,0):c.drawImage(u,0,0,u.width,u.height),d=Sl}return d.width>2048||d.height>2048?d.toDataURL("image/jpeg",.6):d.toDataURL("image/png")}},Wm=0;function jn(m,u,d,c,f,x,_,L,D,N){m===void 0&&(m=jn.DEFAULT_IMAGE),u===void 0&&(u=jn.DEFAULT_MAPPING),d===void 0&&(d=Xe),c===void 0&&(c=Xe),f===void 0&&(f=fr),x===void 0&&(x=Xr),_===void 0&&(_=Qt),L===void 0&&(L=Mr),D===void 0&&(D=1),N===void 0&&(N=Ro),Object.defineProperty(this,"id",{value:Wm++}),this.uuid=$n.generateUUID(),this.name="",this.image=m,this.mipmaps=[],this.mapping=u,this.wrapS=d,this.wrapT=c,this.magFilter=f,this.minFilter=x,this.anisotropy=D,this.format=_,this.internalFormat=null,this.type=L,this.offset=new kt(0,0),this.repeat=new kt(1,1),this.center=new kt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new as,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=N,this.version=0,this.onUpdate=null}jn.DEFAULT_IMAGE=void 0,jn.DEFAULT_MAPPING=pt,jn.prototype=Object.assign(Object.create(Xs.prototype),{constructor:jn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(u){return this.name=u.name,this.image=u.image,this.mipmaps=u.mipmaps.slice(0),this.mapping=u.mapping,this.wrapS=u.wrapS,this.wrapT=u.wrapT,this.magFilter=u.magFilter,this.minFilter=u.minFilter,this.anisotropy=u.anisotropy,this.format=u.format,this.internalFormat=u.internalFormat,this.type=u.type,this.offset.copy(u.offset),this.repeat.copy(u.repeat),this.center.copy(u.center),this.rotation=u.rotation,this.matrixAutoUpdate=u.matrixAutoUpdate,this.matrix.copy(u.matrix),this.generateMipmaps=u.generateMipmaps,this.premultiplyAlpha=u.premultiplyAlpha,this.flipY=u.flipY,this.unpackAlignment=u.unpackAlignment,this.encoding=u.encoding,this},toJSON:function(u){var d=u===void 0||typeof u=="string";if(!d&&u.textures[this.uuid]!==void 0)return u.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var f=this.image;if(f.uuid===void 0&&(f.uuid=$n.generateUUID()),!d&&u.images[f.uuid]===void 0){var x;if(Array.isArray(f)){x=[];for(var _=0,L=f.length;_<L;_++)f[_].isDataTexture?x.push(h0(f[_].image)):x.push(h0(f[_]))}else x=h0(f);u.images[f.uuid]={uuid:f.uuid,url:x}}c.image=f.uuid}return d||(u.textures[this.uuid]=c),c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(u){if(this.mapping!==pt)return u;if(u.applyMatrix3(this.matrix),u.x<0||u.x>1)switch(this.wrapS){case qt:u.x=u.x-Math.floor(u.x);break;case Xe:u.x=u.x<0?0:1;break;case Ct:Math.abs(Math.floor(u.x)%2)===1?u.x=Math.ceil(u.x)-u.x:u.x=u.x-Math.floor(u.x);break}if(u.y<0||u.y>1)switch(this.wrapT){case qt:u.y=u.y-Math.floor(u.y);break;case Xe:u.y=u.y<0?0:1;break;case Ct:Math.abs(Math.floor(u.y)%2)===1?u.y=Math.ceil(u.y)-u.y:u.y=u.y-Math.floor(u.y);break}return this.flipY&&(u.y=1-u.y),u}}),Object.defineProperty(jn.prototype,"needsUpdate",{set:function(u){u===!0&&this.version++}});function h0(m){return typeof HTMLImageElement!="undefined"&&m instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&m instanceof ImageBitmap?Cc.getDataURL(m):m.data?{data:Array.prototype.slice.call(m.data),width:m.width,height:m.height,type:m.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Ur=function(){function m(d,c,f,x){d===void 0&&(d=0),c===void 0&&(c=0),f===void 0&&(f=0),x===void 0&&(x=1),Object.defineProperty(this,"isVector4",{value:!0}),this.x=d,this.y=c,this.z=f,this.w=x}var u=m.prototype;return u.set=function(c,f,x,_){return this.x=c,this.y=f,this.z=x,this.w=_,this},u.setScalar=function(c){return this.x=c,this.y=c,this.z=c,this.w=c,this},u.setX=function(c){return this.x=c,this},u.setY=function(c){return this.y=c,this},u.setZ=function(c){return this.z=c,this},u.setW=function(c){return this.w=c,this},u.setComponent=function(c,f){switch(c){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;case 3:this.w=f;break;default:throw new Error("index is out of range: "+c)}return this},u.getComponent=function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+c)}},u.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)},u.copy=function(c){return this.x=c.x,this.y=c.y,this.z=c.z,this.w=c.w!==void 0?c.w:1,this},u.add=function(c,f){return f!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,f)):(this.x+=c.x,this.y+=c.y,this.z+=c.z,this.w+=c.w,this)},u.addScalar=function(c){return this.x+=c,this.y+=c,this.z+=c,this.w+=c,this},u.addVectors=function(c,f){return this.x=c.x+f.x,this.y=c.y+f.y,this.z=c.z+f.z,this.w=c.w+f.w,this},u.addScaledVector=function(c,f){return this.x+=c.x*f,this.y+=c.y*f,this.z+=c.z*f,this.w+=c.w*f,this},u.sub=function(c,f){return f!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,f)):(this.x-=c.x,this.y-=c.y,this.z-=c.z,this.w-=c.w,this)},u.subScalar=function(c){return this.x-=c,this.y-=c,this.z-=c,this.w-=c,this},u.subVectors=function(c,f){return this.x=c.x-f.x,this.y=c.y-f.y,this.z=c.z-f.z,this.w=c.w-f.w,this},u.multiplyScalar=function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},u.applyMatrix4=function(c){var f=this.x,x=this.y,_=this.z,L=this.w,D=c.elements;return this.x=D[0]*f+D[4]*x+D[8]*_+D[12]*L,this.y=D[1]*f+D[5]*x+D[9]*_+D[13]*L,this.z=D[2]*f+D[6]*x+D[10]*_+D[14]*L,this.w=D[3]*f+D[7]*x+D[11]*_+D[15]*L,this},u.divideScalar=function(c){return this.multiplyScalar(1/c)},u.setAxisAngleFromQuaternion=function(c){this.w=2*Math.acos(c.w);var f=Math.sqrt(1-c.w*c.w);return f<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=c.x/f,this.y=c.y/f,this.z=c.z/f),this},u.setAxisAngleFromRotationMatrix=function(c){var f,x,_,L,D=.01,N=.1,Y=c.elements,z=Y[0],X=Y[4],j=Y[8],q=Y[1],te=Y[5],ae=Y[9],ne=Y[2],Q=Y[6],xe=Y[10];if(Math.abs(X-q)<D&&Math.abs(j-ne)<D&&Math.abs(ae-Q)<D){if(Math.abs(X+q)<N&&Math.abs(j+ne)<N&&Math.abs(ae+Q)<N&&Math.abs(z+te+xe-3)<N)return this.set(1,0,0,0),this;f=Math.PI;var Te=(z+1)/2,de=(te+1)/2,le=(xe+1)/2,Ae=(X+q)/4,je=(j+ne)/4,He=(ae+Q)/4;return Te>de&&Te>le?Te<D?(x=0,_=.707106781,L=.707106781):(x=Math.sqrt(Te),_=Ae/x,L=je/x):de>le?de<D?(x=.707106781,_=0,L=.707106781):(_=Math.sqrt(de),x=Ae/_,L=He/_):le<D?(x=.707106781,_=.707106781,L=0):(L=Math.sqrt(le),x=je/L,_=He/L),this.set(x,_,L,f),this}var ut=Math.sqrt((Q-ae)*(Q-ae)+(j-ne)*(j-ne)+(q-X)*(q-X));return Math.abs(ut)<.001&&(ut=1),this.x=(Q-ae)/ut,this.y=(j-ne)/ut,this.z=(q-X)/ut,this.w=Math.acos((z+te+xe-1)/2),this},u.min=function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this.w=Math.min(this.w,c.w),this},u.max=function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this.w=Math.max(this.w,c.w),this},u.clamp=function(c,f){return this.x=Math.max(c.x,Math.min(f.x,this.x)),this.y=Math.max(c.y,Math.min(f.y,this.y)),this.z=Math.max(c.z,Math.min(f.z,this.z)),this.w=Math.max(c.w,Math.min(f.w,this.w)),this},u.clampScalar=function(c,f){return this.x=Math.max(c,Math.min(f,this.x)),this.y=Math.max(c,Math.min(f,this.y)),this.z=Math.max(c,Math.min(f,this.z)),this.w=Math.max(c,Math.min(f,this.w)),this},u.clampLength=function(c,f){var x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(c,Math.min(f,x)))},u.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},u.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},u.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},u.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},u.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},u.dot=function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},u.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},u.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},u.normalize=function(){return this.divideScalar(this.length()||1)},u.setLength=function(c){return this.normalize().multiplyScalar(c)},u.lerp=function(c,f){return this.x+=(c.x-this.x)*f,this.y+=(c.y-this.y)*f,this.z+=(c.z-this.z)*f,this.w+=(c.w-this.w)*f,this},u.lerpVectors=function(c,f,x){return this.x=c.x+(f.x-c.x)*x,this.y=c.y+(f.y-c.y)*x,this.z=c.z+(f.z-c.z)*x,this.w=c.w+(f.w-c.w)*x,this},u.equals=function(c){return c.x===this.x&&c.y===this.y&&c.z===this.z&&c.w===this.w},u.fromArray=function(c,f){return f===void 0&&(f=0),this.x=c[f],this.y=c[f+1],this.z=c[f+2],this.w=c[f+3],this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this.x,c[f+1]=this.y,c[f+2]=this.z,c[f+3]=this.w,c},u.fromBufferAttribute=function(c,f,x){return x!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(f),this.y=c.getY(f),this.z=c.getZ(f),this.w=c.getW(f),this},u.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},Ts(m,[{key:"width",get:function(){return this.z},set:function(c){this.z=c}},{key:"height",get:function(){return this.w},set:function(c){this.w=c}}]),m}();function ko(m,u,d){this.width=m,this.height=u,this.scissor=new Ur(0,0,m,u),this.scissorTest=!1,this.viewport=new Ur(0,0,m,u),d=d||{},this.texture=new jn(void 0,d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.image={},this.texture.image.width=m,this.texture.image.height=u,this.texture.generateMipmaps=d.generateMipmaps!==void 0?d.generateMipmaps:!1,this.texture.minFilter=d.minFilter!==void 0?d.minFilter:fr,this.depthBuffer=d.depthBuffer!==void 0?d.depthBuffer:!0,this.stencilBuffer=d.stencilBuffer!==void 0?d.stencilBuffer:!1,this.depthTexture=d.depthTexture!==void 0?d.depthTexture:null}ko.prototype=Object.assign(Object.create(Xs.prototype),{constructor:ko,isWebGLRenderTarget:!0,setSize:function(u,d){(this.width!==u||this.height!==d)&&(this.width=u,this.height=d,this.texture.image.width=u,this.texture.image.height=d,this.dispose()),this.viewport.set(0,0,u,d),this.scissor.set(0,0,u,d)},clone:function(){return new this.constructor().copy(this)},copy:function(u){return this.width=u.width,this.height=u.height,this.viewport.copy(u.viewport),this.texture=u.texture.clone(),this.depthBuffer=u.depthBuffer,this.stencilBuffer=u.stencilBuffer,this.depthTexture=u.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Va(m,u,d){ko.call(this,m,u,d),this.samples=4}Va.prototype=Object.assign(Object.create(ko.prototype),{constructor:Va,isWebGLMultisampleRenderTarget:!0,copy:function(u){return ko.prototype.copy.call(this,u),this.samples=u.samples,this}});var ls=function(){function m(d,c,f,x){d===void 0&&(d=0),c===void 0&&(c=0),f===void 0&&(f=0),x===void 0&&(x=1),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=d,this._y=c,this._z=f,this._w=x}m.slerp=function(c,f,x,_){return x.copy(c).slerp(f,_)},m.slerpFlat=function(c,f,x,_,L,D,N){var Y=x[_+0],z=x[_+1],X=x[_+2],j=x[_+3],q=L[D+0],te=L[D+1],ae=L[D+2],ne=L[D+3];if(j!==ne||Y!==q||z!==te||X!==ae){var Q=1-N,xe=Y*q+z*te+X*ae+j*ne,Te=xe>=0?1:-1,de=1-xe*xe;if(de>Number.EPSILON){var le=Math.sqrt(de),Ae=Math.atan2(le,xe*Te);Q=Math.sin(Q*Ae)/le,N=Math.sin(N*Ae)/le}var je=N*Te;if(Y=Y*Q+q*je,z=z*Q+te*je,X=X*Q+ae*je,j=j*Q+ne*je,Q===1-N){var He=1/Math.sqrt(Y*Y+z*z+X*X+j*j);Y*=He,z*=He,X*=He,j*=He}}c[f]=Y,c[f+1]=z,c[f+2]=X,c[f+3]=j},m.multiplyQuaternionsFlat=function(c,f,x,_,L,D){var N=x[_],Y=x[_+1],z=x[_+2],X=x[_+3],j=L[D],q=L[D+1],te=L[D+2],ae=L[D+3];return c[f]=N*ae+X*j+Y*te-z*q,c[f+1]=Y*ae+X*q+z*j-N*te,c[f+2]=z*ae+X*te+N*q-Y*j,c[f+3]=X*ae-N*j-Y*q-z*te,c};var u=m.prototype;return u.set=function(c,f,x,_){return this._x=c,this._y=f,this._z=x,this._w=_,this._onChangeCallback(),this},u.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)},u.copy=function(c){return this._x=c.x,this._y=c.y,this._z=c.z,this._w=c.w,this._onChangeCallback(),this},u.setFromEuler=function(c,f){if(!(c&&c.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var x=c._x,_=c._y,L=c._z,D=c._order,N=Math.cos,Y=Math.sin,z=N(x/2),X=N(_/2),j=N(L/2),q=Y(x/2),te=Y(_/2),ae=Y(L/2);switch(D){case"XYZ":this._x=q*X*j+z*te*ae,this._y=z*te*j-q*X*ae,this._z=z*X*ae+q*te*j,this._w=z*X*j-q*te*ae;break;case"YXZ":this._x=q*X*j+z*te*ae,this._y=z*te*j-q*X*ae,this._z=z*X*ae-q*te*j,this._w=z*X*j+q*te*ae;break;case"ZXY":this._x=q*X*j-z*te*ae,this._y=z*te*j+q*X*ae,this._z=z*X*ae+q*te*j,this._w=z*X*j-q*te*ae;break;case"ZYX":this._x=q*X*j-z*te*ae,this._y=z*te*j+q*X*ae,this._z=z*X*ae-q*te*j,this._w=z*X*j+q*te*ae;break;case"YZX":this._x=q*X*j+z*te*ae,this._y=z*te*j+q*X*ae,this._z=z*X*ae-q*te*j,this._w=z*X*j-q*te*ae;break;case"XZY":this._x=q*X*j-z*te*ae,this._y=z*te*j-q*X*ae,this._z=z*X*ae+q*te*j,this._w=z*X*j+q*te*ae;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+D)}return f!==!1&&this._onChangeCallback(),this},u.setFromAxisAngle=function(c,f){var x=f/2,_=Math.sin(x);return this._x=c.x*_,this._y=c.y*_,this._z=c.z*_,this._w=Math.cos(x),this._onChangeCallback(),this},u.setFromRotationMatrix=function(c){var f=c.elements,x=f[0],_=f[4],L=f[8],D=f[1],N=f[5],Y=f[9],z=f[2],X=f[6],j=f[10],q=x+N+j;if(q>0){var te=.5/Math.sqrt(q+1);this._w=.25/te,this._x=(X-Y)*te,this._y=(L-z)*te,this._z=(D-_)*te}else if(x>N&&x>j){var ae=2*Math.sqrt(1+x-N-j);this._w=(X-Y)/ae,this._x=.25*ae,this._y=(_+D)/ae,this._z=(L+z)/ae}else if(N>j){var ne=2*Math.sqrt(1+N-x-j);this._w=(L-z)/ne,this._x=(_+D)/ne,this._y=.25*ne,this._z=(Y+X)/ne}else{var Q=2*Math.sqrt(1+j-x-N);this._w=(D-_)/Q,this._x=(L+z)/Q,this._y=(Y+X)/Q,this._z=.25*Q}return this._onChangeCallback(),this},u.setFromUnitVectors=function(c,f){var x=1e-6,_=c.dot(f)+1;return _<x?(_=0,Math.abs(c.x)>Math.abs(c.z)?(this._x=-c.y,this._y=c.x,this._z=0,this._w=_):(this._x=0,this._y=-c.z,this._z=c.y,this._w=_)):(this._x=c.y*f.z-c.z*f.y,this._y=c.z*f.x-c.x*f.z,this._z=c.x*f.y-c.y*f.x,this._w=_),this.normalize()},u.angleTo=function(c){return 2*Math.acos(Math.abs($n.clamp(this.dot(c),-1,1)))},u.rotateTowards=function(c,f){var x=this.angleTo(c);if(x===0)return this;var _=Math.min(1,f/x);return this.slerp(c,_),this},u.identity=function(){return this.set(0,0,0,1)},u.invert=function(){return this.conjugate()},u.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},u.dot=function(c){return this._x*c._x+this._y*c._y+this._z*c._z+this._w*c._w},u.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},u.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},u.normalize=function(){var c=this.length();return c===0?(this._x=0,this._y=0,this._z=0,this._w=1):(c=1/c,this._x=this._x*c,this._y=this._y*c,this._z=this._z*c,this._w=this._w*c),this._onChangeCallback(),this},u.multiply=function(c,f){return f!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(c,f)):this.multiplyQuaternions(this,c)},u.premultiply=function(c){return this.multiplyQuaternions(c,this)},u.multiplyQuaternions=function(c,f){var x=c._x,_=c._y,L=c._z,D=c._w,N=f._x,Y=f._y,z=f._z,X=f._w;return this._x=x*X+D*N+_*z-L*Y,this._y=_*X+D*Y+L*N-x*z,this._z=L*X+D*z+x*Y-_*N,this._w=D*X-x*N-_*Y-L*z,this._onChangeCallback(),this},u.slerp=function(c,f){if(f===0)return this;if(f===1)return this.copy(c);var x=this._x,_=this._y,L=this._z,D=this._w,N=D*c._w+x*c._x+_*c._y+L*c._z;if(N<0?(this._w=-c._w,this._x=-c._x,this._y=-c._y,this._z=-c._z,N=-N):this.copy(c),N>=1)return this._w=D,this._x=x,this._y=_,this._z=L,this;var Y=1-N*N;if(Y<=Number.EPSILON){var z=1-f;return this._w=z*D+f*this._w,this._x=z*x+f*this._x,this._y=z*_+f*this._y,this._z=z*L+f*this._z,this.normalize(),this._onChangeCallback(),this}var X=Math.sqrt(Y),j=Math.atan2(X,N),q=Math.sin((1-f)*j)/X,te=Math.sin(f*j)/X;return this._w=D*q+this._w*te,this._x=x*q+this._x*te,this._y=_*q+this._y*te,this._z=L*q+this._z*te,this._onChangeCallback(),this},u.equals=function(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._w===this._w},u.fromArray=function(c,f){return f===void 0&&(f=0),this._x=c[f],this._y=c[f+1],this._z=c[f+2],this._w=c[f+3],this._onChangeCallback(),this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this._x,c[f+1]=this._y,c[f+2]=this._z,c[f+3]=this._w,c},u.fromBufferAttribute=function(c,f){return this._x=c.getX(f),this._y=c.getY(f),this._z=c.getZ(f),this._w=c.getW(f),this},u._onChange=function(c){return this._onChangeCallback=c,this},u._onChangeCallback=function(){},Ts(m,[{key:"x",get:function(){return this._x},set:function(c){this._x=c,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(c){this._y=c,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(c){this._z=c,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(c){this._w=c,this._onChangeCallback()}}]),m}(),Pe=function(){function m(d,c,f){d===void 0&&(d=0),c===void 0&&(c=0),f===void 0&&(f=0),Object.defineProperty(this,"isVector3",{value:!0}),this.x=d,this.y=c,this.z=f}var u=m.prototype;return u.set=function(c,f,x){return x===void 0&&(x=this.z),this.x=c,this.y=f,this.z=x,this},u.setScalar=function(c){return this.x=c,this.y=c,this.z=c,this},u.setX=function(c){return this.x=c,this},u.setY=function(c){return this.y=c,this},u.setZ=function(c){return this.z=c,this},u.setComponent=function(c,f){switch(c){case 0:this.x=f;break;case 1:this.y=f;break;case 2:this.z=f;break;default:throw new Error("index is out of range: "+c)}return this},u.getComponent=function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+c)}},u.clone=function(){return new this.constructor(this.x,this.y,this.z)},u.copy=function(c){return this.x=c.x,this.y=c.y,this.z=c.z,this},u.add=function(c,f){return f!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,f)):(this.x+=c.x,this.y+=c.y,this.z+=c.z,this)},u.addScalar=function(c){return this.x+=c,this.y+=c,this.z+=c,this},u.addVectors=function(c,f){return this.x=c.x+f.x,this.y=c.y+f.y,this.z=c.z+f.z,this},u.addScaledVector=function(c,f){return this.x+=c.x*f,this.y+=c.y*f,this.z+=c.z*f,this},u.sub=function(c,f){return f!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,f)):(this.x-=c.x,this.y-=c.y,this.z-=c.z,this)},u.subScalar=function(c){return this.x-=c,this.y-=c,this.z-=c,this},u.subVectors=function(c,f){return this.x=c.x-f.x,this.y=c.y-f.y,this.z=c.z-f.z,this},u.multiply=function(c,f){return f!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(c,f)):(this.x*=c.x,this.y*=c.y,this.z*=c.z,this)},u.multiplyScalar=function(c){return this.x*=c,this.y*=c,this.z*=c,this},u.multiplyVectors=function(c,f){return this.x=c.x*f.x,this.y=c.y*f.y,this.z=c.z*f.z,this},u.applyEuler=function(c){return c&&c.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(jm.setFromEuler(c))},u.applyAxisAngle=function(c,f){return this.applyQuaternion(jm.setFromAxisAngle(c,f))},u.applyMatrix3=function(c){var f=this.x,x=this.y,_=this.z,L=c.elements;return this.x=L[0]*f+L[3]*x+L[6]*_,this.y=L[1]*f+L[4]*x+L[7]*_,this.z=L[2]*f+L[5]*x+L[8]*_,this},u.applyNormalMatrix=function(c){return this.applyMatrix3(c).normalize()},u.applyMatrix4=function(c){var f=this.x,x=this.y,_=this.z,L=c.elements,D=1/(L[3]*f+L[7]*x+L[11]*_+L[15]);return this.x=(L[0]*f+L[4]*x+L[8]*_+L[12])*D,this.y=(L[1]*f+L[5]*x+L[9]*_+L[13])*D,this.z=(L[2]*f+L[6]*x+L[10]*_+L[14])*D,this},u.applyQuaternion=function(c){var f=this.x,x=this.y,_=this.z,L=c.x,D=c.y,N=c.z,Y=c.w,z=Y*f+D*_-N*x,X=Y*x+N*f-L*_,j=Y*_+L*x-D*f,q=-L*f-D*x-N*_;return this.x=z*Y+q*-L+X*-N-j*-D,this.y=X*Y+q*-D+j*-L-z*-N,this.z=j*Y+q*-N+z*-D-X*-L,this},u.project=function(c){return this.applyMatrix4(c.matrixWorldInverse).applyMatrix4(c.projectionMatrix)},u.unproject=function(c){return this.applyMatrix4(c.projectionMatrixInverse).applyMatrix4(c.matrixWorld)},u.transformDirection=function(c){var f=this.x,x=this.y,_=this.z,L=c.elements;return this.x=L[0]*f+L[4]*x+L[8]*_,this.y=L[1]*f+L[5]*x+L[9]*_,this.z=L[2]*f+L[6]*x+L[10]*_,this.normalize()},u.divide=function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z,this},u.divideScalar=function(c){return this.multiplyScalar(1/c)},u.min=function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},u.max=function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},u.clamp=function(c,f){return this.x=Math.max(c.x,Math.min(f.x,this.x)),this.y=Math.max(c.y,Math.min(f.y,this.y)),this.z=Math.max(c.z,Math.min(f.z,this.z)),this},u.clampScalar=function(c,f){return this.x=Math.max(c,Math.min(f,this.x)),this.y=Math.max(c,Math.min(f,this.y)),this.z=Math.max(c,Math.min(f,this.z)),this},u.clampLength=function(c,f){var x=this.length();return this.divideScalar(x||1).multiplyScalar(Math.max(c,Math.min(f,x)))},u.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},u.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},u.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},u.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},u.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},u.dot=function(c){return this.x*c.x+this.y*c.y+this.z*c.z},u.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},u.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},u.normalize=function(){return this.divideScalar(this.length()||1)},u.setLength=function(c){return this.normalize().multiplyScalar(c)},u.lerp=function(c,f){return this.x+=(c.x-this.x)*f,this.y+=(c.y-this.y)*f,this.z+=(c.z-this.z)*f,this},u.lerpVectors=function(c,f,x){return this.x=c.x+(f.x-c.x)*x,this.y=c.y+(f.y-c.y)*x,this.z=c.z+(f.z-c.z)*x,this},u.cross=function(c,f){return f!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(c,f)):this.crossVectors(this,c)},u.crossVectors=function(c,f){var x=c.x,_=c.y,L=c.z,D=f.x,N=f.y,Y=f.z;return this.x=_*Y-L*N,this.y=L*D-x*Y,this.z=x*N-_*D,this},u.projectOnVector=function(c){var f=c.lengthSq();if(f===0)return this.set(0,0,0);var x=c.dot(this)/f;return this.copy(c).multiplyScalar(x)},u.projectOnPlane=function(c){return Sh.copy(this).projectOnVector(c),this.sub(Sh)},u.reflect=function(c){return this.sub(Sh.copy(c).multiplyScalar(2*this.dot(c)))},u.angleTo=function(c){var f=Math.sqrt(this.lengthSq()*c.lengthSq());if(f===0)return Math.PI/2;var x=this.dot(c)/f;return Math.acos($n.clamp(x,-1,1))},u.distanceTo=function(c){return Math.sqrt(this.distanceToSquared(c))},u.distanceToSquared=function(c){var f=this.x-c.x,x=this.y-c.y,_=this.z-c.z;return f*f+x*x+_*_},u.manhattanDistanceTo=function(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)+Math.abs(this.z-c.z)},u.setFromSpherical=function(c){return this.setFromSphericalCoords(c.radius,c.phi,c.theta)},u.setFromSphericalCoords=function(c,f,x){var _=Math.sin(f)*c;return this.x=_*Math.sin(x),this.y=Math.cos(f)*c,this.z=_*Math.cos(x),this},u.setFromCylindrical=function(c){return this.setFromCylindricalCoords(c.radius,c.theta,c.y)},u.setFromCylindricalCoords=function(c,f,x){return this.x=c*Math.sin(f),this.y=x,this.z=c*Math.cos(f),this},u.setFromMatrixPosition=function(c){var f=c.elements;return this.x=f[12],this.y=f[13],this.z=f[14],this},u.setFromMatrixScale=function(c){var f=this.setFromMatrixColumn(c,0).length(),x=this.setFromMatrixColumn(c,1).length(),_=this.setFromMatrixColumn(c,2).length();return this.x=f,this.y=x,this.z=_,this},u.setFromMatrixColumn=function(c,f){return this.fromArray(c.elements,f*4)},u.setFromMatrix3Column=function(c,f){return this.fromArray(c.elements,f*3)},u.equals=function(c){return c.x===this.x&&c.y===this.y&&c.z===this.z},u.fromArray=function(c,f){return f===void 0&&(f=0),this.x=c[f],this.y=c[f+1],this.z=c[f+2],this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this.x,c[f+1]=this.y,c[f+2]=this.z,c},u.fromBufferAttribute=function(c,f,x){return x!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(f),this.y=c.getY(f),this.z=c.getZ(f),this},u.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},m}(),Sh=new Pe,jm=new ls,pa=function(){function m(d,c){Object.defineProperty(this,"isBox3",{value:!0}),this.min=d!==void 0?d:new Pe(Infinity,Infinity,Infinity),this.max=c!==void 0?c:new Pe(-Infinity,-Infinity,-Infinity)}var u=m.prototype;return u.set=function(c,f){return this.min.copy(c),this.max.copy(f),this},u.setFromArray=function(c){for(var f=Infinity,x=Infinity,_=Infinity,L=-Infinity,D=-Infinity,N=-Infinity,Y=0,z=c.length;Y<z;Y+=3){var X=c[Y],j=c[Y+1],q=c[Y+2];X<f&&(f=X),j<x&&(x=j),q<_&&(_=q),X>L&&(L=X),j>D&&(D=j),q>N&&(N=q)}return this.min.set(f,x,_),this.max.set(L,D,N),this},u.setFromBufferAttribute=function(c){for(var f=Infinity,x=Infinity,_=Infinity,L=-Infinity,D=-Infinity,N=-Infinity,Y=0,z=c.count;Y<z;Y++){var X=c.getX(Y),j=c.getY(Y),q=c.getZ(Y);X<f&&(f=X),j<x&&(x=j),q<_&&(_=q),X>L&&(L=X),j>D&&(D=j),q>N&&(N=q)}return this.min.set(f,x,_),this.max.set(L,D,N),this},u.setFromPoints=function(c){this.makeEmpty();for(var f=0,x=c.length;f<x;f++)this.expandByPoint(c[f]);return this},u.setFromCenterAndSize=function(c,f){var x=Lc.copy(f).multiplyScalar(.5);return this.min.copy(c).sub(x),this.max.copy(c).add(x),this},u.setFromObject=function(c){return this.makeEmpty(),this.expandByObject(c)},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.min.copy(c.min),this.max.copy(c.max),this},u.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},u.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},u.getCenter=function(c){return c===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),c=new Pe),this.isEmpty()?c.set(0,0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)},u.getSize=function(c){return c===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),c=new Pe),this.isEmpty()?c.set(0,0,0):c.subVectors(this.max,this.min)},u.expandByPoint=function(c){return this.min.min(c),this.max.max(c),this},u.expandByVector=function(c){return this.min.sub(c),this.max.add(c),this},u.expandByScalar=function(c){return this.min.addScalar(-c),this.max.addScalar(c),this},u.expandByObject=function(c){c.updateWorldMatrix(!1,!1);var f=c.geometry;f!==void 0&&(f.boundingBox===null&&f.computeBoundingBox(),Pc.copy(f.boundingBox),Pc.applyMatrix4(c.matrixWorld),this.union(Pc));for(var x=c.children,_=0,L=x.length;_<L;_++)this.expandByObject(x[_]);return this},u.containsPoint=function(c){return!(c.x<this.min.x||c.x>this.max.x||c.y<this.min.y||c.y>this.max.y||c.z<this.min.z||c.z>this.max.z)},u.containsBox=function(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y&&this.min.z<=c.min.z&&c.max.z<=this.max.z},u.getParameter=function(c,f){return f===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),f=new Pe),f.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y),(c.z-this.min.z)/(this.max.z-this.min.z))},u.intersectsBox=function(c){return!(c.max.x<this.min.x||c.min.x>this.max.x||c.max.y<this.min.y||c.min.y>this.max.y||c.max.z<this.min.z||c.min.z>this.max.z)},u.intersectsSphere=function(c){return this.clampPoint(c.center,Lc),Lc.distanceToSquared(c.center)<=c.radius*c.radius},u.intersectsPlane=function(c){var f,x;return c.normal.x>0?(f=c.normal.x*this.min.x,x=c.normal.x*this.max.x):(f=c.normal.x*this.max.x,x=c.normal.x*this.min.x),c.normal.y>0?(f+=c.normal.y*this.min.y,x+=c.normal.y*this.max.y):(f+=c.normal.y*this.max.y,x+=c.normal.y*this.min.y),c.normal.z>0?(f+=c.normal.z*this.min.z,x+=c.normal.z*this.max.z):(f+=c.normal.z*this.max.z,x+=c.normal.z*this.min.z),f<=-c.constant&&x>=-c.constant},u.intersectsTriangle=function(c){if(this.isEmpty())return!1;this.getCenter(Nu),jr.subVectors(this.max,Nu),Ko.subVectors(c.a,Nu),Tl.subVectors(c.b,Nu),Ci.subVectors(c.c,Nu),no.subVectors(Tl,Ko),ji.subVectors(Ci,Tl),ou.subVectors(Ko,Ci);var f=[0,-no.z,no.y,0,-ji.z,ji.y,0,-ou.z,ou.y,no.z,0,-no.x,ji.z,0,-ji.x,ou.z,0,-ou.x,-no.y,no.x,0,-ji.y,ji.x,0,-ou.y,ou.x,0];return Th(f,Ko,Tl,Ci,jr)?(f=[1,0,0,0,1,0,0,0,1],Th(f,Ko,Tl,Ci,jr)?(d0.crossVectors(no,ji),f=[d0.x,d0.y,d0.z],Th(f,Ko,Tl,Ci,jr)):!1):!1},u.clampPoint=function(c,f){return f===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),f=new Pe),f.copy(c).clamp(this.min,this.max)},u.distanceToPoint=function(c){var f=Lc.copy(c).clamp(this.min,this.max);return f.sub(c).length()},u.getBoundingSphere=function(c){return c===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(c.center),c.radius=this.getSize(Lc).length()*.5,c},u.intersect=function(c){return this.min.max(c.min),this.max.min(c.max),this.isEmpty()&&this.makeEmpty(),this},u.union=function(c){return this.min.min(c.min),this.max.max(c.max),this},u.applyMatrix4=function(c){return this.isEmpty()?this:(bs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(c),bs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(c),bs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(c),bs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(c),bs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(c),bs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(c),bs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(c),bs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(c),this.setFromPoints(bs),this)},u.translate=function(c){return this.min.add(c),this.max.add(c),this},u.equals=function(c){return c.min.equals(this.min)&&c.max.equals(this.max)},m}();function Th(m,u,d,c,f){for(var x=0,_=m.length-3;x<=_;x+=3){Iu.fromArray(m,x);var L=f.x*Math.abs(Iu.x)+f.y*Math.abs(Iu.y)+f.z*Math.abs(Iu.z),D=u.dot(Iu),N=d.dot(Iu),Y=c.dot(Iu);if(Math.max(-Math.max(D,N,Y),Math.min(D,N,Y))>L)return!1}return!0}var bs=[new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe],Lc=new Pe,Pc=new pa,Ko=new Pe,Tl=new Pe,Ci=new Pe,no=new Pe,ji=new Pe,ou=new Pe,Nu=new Pe,jr=new Pe,d0=new Pe,Iu=new Pe,hs=new pa,ds=function(){function m(d,c){this.center=d!==void 0?d:new Pe,this.radius=c!==void 0?c:-1}var u=m.prototype;return u.set=function(c,f){return this.center.copy(c),this.radius=f,this},u.setFromPoints=function(c,f){var x=this.center;f!==void 0?x.copy(f):hs.setFromPoints(c).getCenter(x);for(var _=0,L=0,D=c.length;L<D;L++)_=Math.max(_,x.distanceToSquared(c[L]));return this.radius=Math.sqrt(_),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.center.copy(c.center),this.radius=c.radius,this},u.isEmpty=function(){return this.radius<0},u.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},u.containsPoint=function(c){return c.distanceToSquared(this.center)<=this.radius*this.radius},u.distanceToPoint=function(c){return c.distanceTo(this.center)-this.radius},u.intersectsSphere=function(c){var f=this.radius+c.radius;return c.center.distanceToSquared(this.center)<=f*f},u.intersectsBox=function(c){return c.intersectsSphere(this)},u.intersectsPlane=function(c){return Math.abs(c.distanceToPoint(this.center))<=this.radius},u.clampPoint=function(c,f){var x=this.center.distanceToSquared(c);return f===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),f=new Pe),f.copy(c),x>this.radius*this.radius&&(f.sub(this.center).normalize(),f.multiplyScalar(this.radius).add(this.center)),f},u.getBoundingBox=function(c){return c===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),c=new pa),this.isEmpty()?(c.makeEmpty(),c):(c.set(this.center,this.center),c.expandByScalar(this.radius),c)},u.applyMatrix4=function(c){return this.center.applyMatrix4(c),this.radius=this.radius*c.getMaxScaleOnAxis(),this},u.translate=function(c){return this.center.add(c),this},u.equals=function(c){return c.center.equals(this.center)&&c.radius===this.radius},m}(),Go=new Pe,Rc=new Pe,Ou=new Pe,Cs=new Pe,$r=new Pe,Hs=new Pe,Uu=new Pe,zs=function(){function m(d,c){this.origin=d!==void 0?d:new Pe,this.direction=c!==void 0?c:new Pe(0,0,-1)}var u=m.prototype;return u.set=function(c,f){return this.origin.copy(c),this.direction.copy(f),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this},u.at=function(c,f){return f===void 0&&(console.warn("THREE.Ray: .at() target is now required"),f=new Pe),f.copy(this.direction).multiplyScalar(c).add(this.origin)},u.lookAt=function(c){return this.direction.copy(c).sub(this.origin).normalize(),this},u.recast=function(c){return this.origin.copy(this.at(c,Go)),this},u.closestPointToPoint=function(c,f){f===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),f=new Pe),f.subVectors(c,this.origin);var x=f.dot(this.direction);return x<0?f.copy(this.origin):f.copy(this.direction).multiplyScalar(x).add(this.origin)},u.distanceToPoint=function(c){return Math.sqrt(this.distanceSqToPoint(c))},u.distanceSqToPoint=function(c){var f=Go.subVectors(c,this.origin).dot(this.direction);return f<0?this.origin.distanceToSquared(c):(Go.copy(this.direction).multiplyScalar(f).add(this.origin),Go.distanceToSquared(c))},u.distanceSqToSegment=function(c,f,x,_){Rc.copy(c).add(f).multiplyScalar(.5),Ou.copy(f).sub(c).normalize(),Cs.copy(this.origin).sub(Rc);var L=c.distanceTo(f)*.5,D=-this.direction.dot(Ou),N=Cs.dot(this.direction),Y=-Cs.dot(Ou),z=Cs.lengthSq(),X=Math.abs(1-D*D),j,q,te,ae;if(X>0)if(j=D*Y-N,q=D*N-Y,ae=L*X,j>=0)if(q>=-ae)if(q<=ae){var ne=1/X;j*=ne,q*=ne,te=j*(j+D*q+2*N)+q*(D*j+q+2*Y)+z}else q=L,j=Math.max(0,-(D*q+N)),te=-j*j+q*(q+2*Y)+z;else q=-L,j=Math.max(0,-(D*q+N)),te=-j*j+q*(q+2*Y)+z;else q<=-ae?(j=Math.max(0,-(-D*L+N)),q=j>0?-L:Math.min(Math.max(-L,-Y),L),te=-j*j+q*(q+2*Y)+z):q<=ae?(j=0,q=Math.min(Math.max(-L,-Y),L),te=q*(q+2*Y)+z):(j=Math.max(0,-(D*L+N)),q=j>0?L:Math.min(Math.max(-L,-Y),L),te=-j*j+q*(q+2*Y)+z);else q=D>0?-L:L,j=Math.max(0,-(D*q+N)),te=-j*j+q*(q+2*Y)+z;return x&&x.copy(this.direction).multiplyScalar(j).add(this.origin),_&&_.copy(Ou).multiplyScalar(q).add(Rc),te},u.intersectSphere=function(c,f){Go.subVectors(c.center,this.origin);var x=Go.dot(this.direction),_=Go.dot(Go)-x*x,L=c.radius*c.radius;if(_>L)return null;var D=Math.sqrt(L-_),N=x-D,Y=x+D;return N<0&&Y<0?null:N<0?this.at(Y,f):this.at(N,f)},u.intersectsSphere=function(c){return this.distanceSqToPoint(c.center)<=c.radius*c.radius},u.distanceToPlane=function(c){var f=c.normal.dot(this.direction);if(f===0)return c.distanceToPoint(this.origin)===0?0:null;var x=-(this.origin.dot(c.normal)+c.constant)/f;return x>=0?x:null},u.intersectPlane=function(c,f){var x=this.distanceToPlane(c);return x===null?null:this.at(x,f)},u.intersectsPlane=function(c){var f=c.distanceToPoint(this.origin);if(f===0)return!0;var x=c.normal.dot(this.direction);return x*f<0},u.intersectBox=function(c,f){var x,_,L,D,N,Y,z=1/this.direction.x,X=1/this.direction.y,j=1/this.direction.z,q=this.origin;return z>=0?(x=(c.min.x-q.x)*z,_=(c.max.x-q.x)*z):(x=(c.max.x-q.x)*z,_=(c.min.x-q.x)*z),X>=0?(L=(c.min.y-q.y)*X,D=(c.max.y-q.y)*X):(L=(c.max.y-q.y)*X,D=(c.min.y-q.y)*X),x>D||L>_?null:((L>x||x!==x)&&(x=L),(D<_||_!==_)&&(_=D),j>=0?(N=(c.min.z-q.z)*j,Y=(c.max.z-q.z)*j):(N=(c.max.z-q.z)*j,Y=(c.min.z-q.z)*j),x>Y||N>_?null:((N>x||x!==x)&&(x=N),(Y<_||_!==_)&&(_=Y),_<0?null:this.at(x>=0?x:_,f)))},u.intersectsBox=function(c){return this.intersectBox(c,Go)!==null},u.intersectTriangle=function(c,f,x,_,L){$r.subVectors(f,c),Hs.subVectors(x,c),Uu.crossVectors($r,Hs);var D=this.direction.dot(Uu),N;if(D>0){if(_)return null;N=1}else if(D<0)N=-1,D=-D;else return null;Cs.subVectors(this.origin,c);var Y=N*this.direction.dot(Hs.crossVectors(Cs,Hs));if(Y<0)return null;var z=N*this.direction.dot($r.cross(Cs));if(z<0)return null;if(Y+z>D)return null;var X=-N*Cs.dot(Uu);return X<0?null:this.at(X/D,L)},u.applyMatrix4=function(c){return this.origin.applyMatrix4(c),this.direction.transformDirection(c),this},u.equals=function(c){return c.origin.equals(this.origin)&&c.direction.equals(this.direction)},m}(),Pr=function(){function m(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}var u=m.prototype;return u.set=function(c,f,x,_,L,D,N,Y,z,X,j,q,te,ae,ne,Q){var xe=this.elements;return xe[0]=c,xe[4]=f,xe[8]=x,xe[12]=_,xe[1]=L,xe[5]=D,xe[9]=N,xe[13]=Y,xe[2]=z,xe[6]=X,xe[10]=j,xe[14]=q,xe[3]=te,xe[7]=ae,xe[11]=ne,xe[15]=Q,this},u.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},u.clone=function(){return new m().fromArray(this.elements)},u.copy=function(c){var f=this.elements,x=c.elements;return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f[4]=x[4],f[5]=x[5],f[6]=x[6],f[7]=x[7],f[8]=x[8],f[9]=x[9],f[10]=x[10],f[11]=x[11],f[12]=x[12],f[13]=x[13],f[14]=x[14],f[15]=x[15],this},u.copyPosition=function(c){var f=this.elements,x=c.elements;return f[12]=x[12],f[13]=x[13],f[14]=x[14],this},u.extractBasis=function(c,f,x){return c.setFromMatrixColumn(this,0),f.setFromMatrixColumn(this,1),x.setFromMatrixColumn(this,2),this},u.makeBasis=function(c,f,x){return this.set(c.x,f.x,x.x,0,c.y,f.y,x.y,0,c.z,f.z,x.z,0,0,0,0,1),this},u.extractRotation=function(c){var f=this.elements,x=c.elements,_=1/ku.setFromMatrixColumn(c,0).length(),L=1/ku.setFromMatrixColumn(c,1).length(),D=1/ku.setFromMatrixColumn(c,2).length();return f[0]=x[0]*_,f[1]=x[1]*_,f[2]=x[2]*_,f[3]=0,f[4]=x[4]*L,f[5]=x[5]*L,f[6]=x[6]*L,f[7]=0,f[8]=x[8]*D,f[9]=x[9]*D,f[10]=x[10]*D,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this},u.makeRotationFromEuler=function(c){c&&c.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var f=this.elements,x=c.x,_=c.y,L=c.z,D=Math.cos(x),N=Math.sin(x),Y=Math.cos(_),z=Math.sin(_),X=Math.cos(L),j=Math.sin(L);if(c.order==="XYZ"){var q=D*X,te=D*j,ae=N*X,ne=N*j;f[0]=Y*X,f[4]=-Y*j,f[8]=z,f[1]=te+ae*z,f[5]=q-ne*z,f[9]=-N*Y,f[2]=ne-q*z,f[6]=ae+te*z,f[10]=D*Y}else if(c.order==="YXZ"){var Q=Y*X,xe=Y*j,Te=z*X,de=z*j;f[0]=Q+de*N,f[4]=Te*N-xe,f[8]=D*z,f[1]=D*j,f[5]=D*X,f[9]=-N,f[2]=xe*N-Te,f[6]=de+Q*N,f[10]=D*Y}else if(c.order==="ZXY"){var le=Y*X,Ae=Y*j,je=z*X,He=z*j;f[0]=le-He*N,f[4]=-D*j,f[8]=je+Ae*N,f[1]=Ae+je*N,f[5]=D*X,f[9]=He-le*N,f[2]=-D*z,f[6]=N,f[10]=D*Y}else if(c.order==="ZYX"){var ut=D*X,qe=D*j,Be=N*X,rt=N*j;f[0]=Y*X,f[4]=Be*z-qe,f[8]=ut*z+rt,f[1]=Y*j,f[5]=rt*z+ut,f[9]=qe*z-Be,f[2]=-z,f[6]=N*Y,f[10]=D*Y}else if(c.order==="YZX"){var st=D*Y,Je=D*z,ft=N*Y,vt=N*z;f[0]=Y*X,f[4]=vt-st*j,f[8]=ft*j+Je,f[1]=j,f[5]=D*X,f[9]=-N*X,f[2]=-z*X,f[6]=Je*j+ft,f[10]=st-vt*j}else if(c.order==="XZY"){var Vt=D*Y,Gt=D*z,Yt=N*Y,Dt=N*z;f[0]=Y*X,f[4]=-j,f[8]=z*X,f[1]=Vt*j+Dt,f[5]=D*X,f[9]=Gt*j-Yt,f[2]=Yt*j-Gt,f[6]=N*X,f[10]=Dt*j+Vt}return f[3]=0,f[7]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this},u.makeRotationFromQuaternion=function(c){return this.compose(zd,c,Wa)},u.lookAt=function(c,f,x){var _=this.elements;return Ls.subVectors(c,f),Ls.lengthSq()===0&&(Ls.z=1),Ls.normalize(),xr.crossVectors(x,Ls),xr.lengthSq()===0&&(Math.abs(x.z)===1?Ls.x+=1e-4:Ls.z+=1e-4,Ls.normalize(),xr.crossVectors(x,Ls)),xr.normalize(),p0.crossVectors(Ls,xr),_[0]=xr.x,_[4]=p0.x,_[8]=Ls.x,_[1]=xr.y,_[5]=p0.y,_[9]=Ls.y,_[2]=xr.z,_[6]=p0.z,_[10]=Ls.z,this},u.multiply=function(c,f){return f!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(c,f)):this.multiplyMatrices(this,c)},u.premultiply=function(c){return this.multiplyMatrices(c,this)},u.multiplyMatrices=function(c,f){var x=c.elements,_=f.elements,L=this.elements,D=x[0],N=x[4],Y=x[8],z=x[12],X=x[1],j=x[5],q=x[9],te=x[13],ae=x[2],ne=x[6],Q=x[10],xe=x[14],Te=x[3],de=x[7],le=x[11],Ae=x[15],je=_[0],He=_[4],ut=_[8],qe=_[12],Be=_[1],rt=_[5],st=_[9],Je=_[13],ft=_[2],vt=_[6],Vt=_[10],Gt=_[14],Yt=_[3],Dt=_[7],Zt=_[11],un=_[15];return L[0]=D*je+N*Be+Y*ft+z*Yt,L[4]=D*He+N*rt+Y*vt+z*Dt,L[8]=D*ut+N*st+Y*Vt+z*Zt,L[12]=D*qe+N*Je+Y*Gt+z*un,L[1]=X*je+j*Be+q*ft+te*Yt,L[5]=X*He+j*rt+q*vt+te*Dt,L[9]=X*ut+j*st+q*Vt+te*Zt,L[13]=X*qe+j*Je+q*Gt+te*un,L[2]=ae*je+ne*Be+Q*ft+xe*Yt,L[6]=ae*He+ne*rt+Q*vt+xe*Dt,L[10]=ae*ut+ne*st+Q*Vt+xe*Zt,L[14]=ae*qe+ne*Je+Q*Gt+xe*un,L[3]=Te*je+de*Be+le*ft+Ae*Yt,L[7]=Te*He+de*rt+le*vt+Ae*Dt,L[11]=Te*ut+de*st+le*Vt+Ae*Zt,L[15]=Te*qe+de*Je+le*Gt+Ae*un,this},u.multiplyScalar=function(c){var f=this.elements;return f[0]*=c,f[4]*=c,f[8]*=c,f[12]*=c,f[1]*=c,f[5]*=c,f[9]*=c,f[13]*=c,f[2]*=c,f[6]*=c,f[10]*=c,f[14]*=c,f[3]*=c,f[7]*=c,f[11]*=c,f[15]*=c,this},u.determinant=function(){var c=this.elements,f=c[0],x=c[4],_=c[8],L=c[12],D=c[1],N=c[5],Y=c[9],z=c[13],X=c[2],j=c[6],q=c[10],te=c[14],ae=c[3],ne=c[7],Q=c[11],xe=c[15];return ae*(+L*Y*j-_*z*j-L*N*q+x*z*q+_*N*te-x*Y*te)+ne*(+f*Y*te-f*z*q+L*D*q-_*D*te+_*z*X-L*Y*X)+Q*(+f*z*j-f*N*te-L*D*j+x*D*te+L*N*X-x*z*X)+xe*(-_*N*X-f*Y*j+f*N*q+_*D*j-x*D*q+x*Y*X)},u.transpose=function(){var c=this.elements,f;return f=c[1],c[1]=c[4],c[4]=f,f=c[2],c[2]=c[8],c[8]=f,f=c[6],c[6]=c[9],c[9]=f,f=c[3],c[3]=c[12],c[12]=f,f=c[7],c[7]=c[13],c[13]=f,f=c[11],c[11]=c[14],c[14]=f,this},u.setPosition=function(c,f,x){var _=this.elements;return c.isVector3?(_[12]=c.x,_[13]=c.y,_[14]=c.z):(_[12]=c,_[13]=f,_[14]=x),this},u.invert=function(){var c=this.elements,f=c[0],x=c[1],_=c[2],L=c[3],D=c[4],N=c[5],Y=c[6],z=c[7],X=c[8],j=c[9],q=c[10],te=c[11],ae=c[12],ne=c[13],Q=c[14],xe=c[15],Te=j*Q*z-ne*q*z+ne*Y*te-N*Q*te-j*Y*xe+N*q*xe,de=ae*q*z-X*Q*z-ae*Y*te+D*Q*te+X*Y*xe-D*q*xe,le=X*ne*z-ae*j*z+ae*N*te-D*ne*te-X*N*xe+D*j*xe,Ae=ae*j*Y-X*ne*Y-ae*N*q+D*ne*q+X*N*Q-D*j*Q,je=f*Te+x*de+_*le+L*Ae;if(je===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var He=1/je;return c[0]=Te*He,c[1]=(ne*q*L-j*Q*L-ne*_*te+x*Q*te+j*_*xe-x*q*xe)*He,c[2]=(N*Q*L-ne*Y*L+ne*_*z-x*Q*z-N*_*xe+x*Y*xe)*He,c[3]=(j*Y*L-N*q*L-j*_*z+x*q*z+N*_*te-x*Y*te)*He,c[4]=de*He,c[5]=(X*Q*L-ae*q*L+ae*_*te-f*Q*te-X*_*xe+f*q*xe)*He,c[6]=(ae*Y*L-D*Q*L-ae*_*z+f*Q*z+D*_*xe-f*Y*xe)*He,c[7]=(D*q*L-X*Y*L+X*_*z-f*q*z-D*_*te+f*Y*te)*He,c[8]=le*He,c[9]=(ae*j*L-X*ne*L-ae*x*te+f*ne*te+X*x*xe-f*j*xe)*He,c[10]=(D*ne*L-ae*N*L+ae*x*z-f*ne*z-D*x*xe+f*N*xe)*He,c[11]=(X*N*L-D*j*L-X*x*z+f*j*z+D*x*te-f*N*te)*He,c[12]=Ae*He,c[13]=(X*ne*_-ae*j*_+ae*x*q-f*ne*q-X*x*Q+f*j*Q)*He,c[14]=(ae*N*_-D*ne*_-ae*x*Y+f*ne*Y+D*x*Q-f*N*Q)*He,c[15]=(D*j*_-X*N*_+X*x*Y-f*j*Y-D*x*q+f*N*q)*He,this},u.scale=function(c){var f=this.elements,x=c.x,_=c.y,L=c.z;return f[0]*=x,f[4]*=_,f[8]*=L,f[1]*=x,f[5]*=_,f[9]*=L,f[2]*=x,f[6]*=_,f[10]*=L,f[3]*=x,f[7]*=_,f[11]*=L,this},u.getMaxScaleOnAxis=function(){var c=this.elements,f=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],x=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],_=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(f,x,_))},u.makeTranslation=function(c,f,x){return this.set(1,0,0,c,0,1,0,f,0,0,1,x,0,0,0,1),this},u.makeRotationX=function(c){var f=Math.cos(c),x=Math.sin(c);return this.set(1,0,0,0,0,f,-x,0,0,x,f,0,0,0,0,1),this},u.makeRotationY=function(c){var f=Math.cos(c),x=Math.sin(c);return this.set(f,0,x,0,0,1,0,0,-x,0,f,0,0,0,0,1),this},u.makeRotationZ=function(c){var f=Math.cos(c),x=Math.sin(c);return this.set(f,-x,0,0,x,f,0,0,0,0,1,0,0,0,0,1),this},u.makeRotationAxis=function(c,f){var x=Math.cos(f),_=Math.sin(f),L=1-x,D=c.x,N=c.y,Y=c.z,z=L*D,X=L*N;return this.set(z*D+x,z*N-_*Y,z*Y+_*N,0,z*N+_*Y,X*N+x,X*Y-_*D,0,z*Y-_*N,X*Y+_*D,L*Y*Y+x,0,0,0,0,1),this},u.makeScale=function(c,f,x){return this.set(c,0,0,0,0,f,0,0,0,0,x,0,0,0,0,1),this},u.makeShear=function(c,f,x){return this.set(1,f,x,0,c,1,x,0,c,f,1,0,0,0,0,1),this},u.compose=function(c,f,x){var _=this.elements,L=f._x,D=f._y,N=f._z,Y=f._w,z=L+L,X=D+D,j=N+N,q=L*z,te=L*X,ae=L*j,ne=D*X,Q=D*j,xe=N*j,Te=Y*z,de=Y*X,le=Y*j,Ae=x.x,je=x.y,He=x.z;return _[0]=(1-(ne+xe))*Ae,_[1]=(te+le)*Ae,_[2]=(ae-de)*Ae,_[3]=0,_[4]=(te-le)*je,_[5]=(1-(q+xe))*je,_[6]=(Q+Te)*je,_[7]=0,_[8]=(ae+de)*He,_[9]=(Q-Te)*He,_[10]=(1-(q+ne))*He,_[11]=0,_[12]=c.x,_[13]=c.y,_[14]=c.z,_[15]=1,this},u.decompose=function(c,f,x){var _=this.elements,L=ku.set(_[0],_[1],_[2]).length(),D=ku.set(_[4],_[5],_[6]).length(),N=ku.set(_[8],_[9],_[10]).length(),Y=this.determinant();Y<0&&(L=-L),c.x=_[12],c.y=_[13],c.z=_[14],ma.copy(this);var z=1/L,X=1/D,j=1/N;return ma.elements[0]*=z,ma.elements[1]*=z,ma.elements[2]*=z,ma.elements[4]*=X,ma.elements[5]*=X,ma.elements[6]*=X,ma.elements[8]*=j,ma.elements[9]*=j,ma.elements[10]*=j,f.setFromRotationMatrix(ma),x.x=L,x.y=D,x.z=N,this},u.makePerspective=function(c,f,x,_,L,D){D===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var N=this.elements,Y=2*L/(f-c),z=2*L/(x-_),X=(f+c)/(f-c),j=(x+_)/(x-_),q=-(D+L)/(D-L),te=-2*D*L/(D-L);return N[0]=Y,N[4]=0,N[8]=X,N[12]=0,N[1]=0,N[5]=z,N[9]=j,N[13]=0,N[2]=0,N[6]=0,N[10]=q,N[14]=te,N[3]=0,N[7]=0,N[11]=-1,N[15]=0,this},u.makeOrthographic=function(c,f,x,_,L,D){var N=this.elements,Y=1/(f-c),z=1/(x-_),X=1/(D-L),j=(f+c)*Y,q=(x+_)*z,te=(D+L)*X;return N[0]=2*Y,N[4]=0,N[8]=0,N[12]=-j,N[1]=0,N[5]=2*z,N[9]=0,N[13]=-q,N[2]=0,N[6]=0,N[10]=-2*X,N[14]=-te,N[3]=0,N[7]=0,N[11]=0,N[15]=1,this},u.equals=function(c){for(var f=this.elements,x=c.elements,_=0;_<16;_++)if(f[_]!==x[_])return!1;return!0},u.fromArray=function(c,f){f===void 0&&(f=0);for(var x=0;x<16;x++)this.elements[x]=c[x+f];return this},u.toArray=function(c,f){c===void 0&&(c=[]),f===void 0&&(f=0);var x=this.elements;return c[f]=x[0],c[f+1]=x[1],c[f+2]=x[2],c[f+3]=x[3],c[f+4]=x[4],c[f+5]=x[5],c[f+6]=x[6],c[f+7]=x[7],c[f+8]=x[8],c[f+9]=x[9],c[f+10]=x[10],c[f+11]=x[11],c[f+12]=x[12],c[f+13]=x[13],c[f+14]=x[14],c[f+15]=x[15],c},m}(),ku=new Pe,ma=new Pr,zd=new Pe(0,0,0),Wa=new Pe(1,1,1),xr=new Pe,p0=new Pe,Ls=new Pe,bh=function(){function m(d,c,f,x){d===void 0&&(d=0),c===void 0&&(c=0),f===void 0&&(f=0),x===void 0&&(x=m.DefaultOrder),Object.defineProperty(this,"isEuler",{value:!0}),this._x=d,this._y=c,this._z=f,this._order=x}var u=m.prototype;return u.set=function(c,f,x,_){return this._x=c,this._y=f,this._z=x,this._order=_||this._order,this._onChangeCallback(),this},u.clone=function(){return new this.constructor(this._x,this._y,this._z,this._order)},u.copy=function(c){return this._x=c._x,this._y=c._y,this._z=c._z,this._order=c._order,this._onChangeCallback(),this},u.setFromRotationMatrix=function(c,f,x){var _=$n.clamp,L=c.elements,D=L[0],N=L[4],Y=L[8],z=L[1],X=L[5],j=L[9],q=L[2],te=L[6],ae=L[10];f=f||this._order;switch(f){case"XYZ":this._y=Math.asin(_(Y,-1,1)),Math.abs(Y)<.9999999?(this._x=Math.atan2(-j,ae),this._z=Math.atan2(-N,D)):(this._x=Math.atan2(te,X),this._z=0);break;case"YXZ":this._x=Math.asin(-_(j,-1,1)),Math.abs(j)<.9999999?(this._y=Math.atan2(Y,ae),this._z=Math.atan2(z,X)):(this._y=Math.atan2(-q,D),this._z=0);break;case"ZXY":this._x=Math.asin(_(te,-1,1)),Math.abs(te)<.9999999?(this._y=Math.atan2(-q,ae),this._z=Math.atan2(-N,X)):(this._y=0,this._z=Math.atan2(z,D));break;case"ZYX":this._y=Math.asin(-_(q,-1,1)),Math.abs(q)<.9999999?(this._x=Math.atan2(te,ae),this._z=Math.atan2(z,D)):(this._x=0,this._z=Math.atan2(-N,X));break;case"YZX":this._z=Math.asin(_(z,-1,1)),Math.abs(z)<.9999999?(this._x=Math.atan2(-j,X),this._y=Math.atan2(-q,D)):(this._x=0,this._y=Math.atan2(Y,ae));break;case"XZY":this._z=Math.asin(-_(N,-1,1)),Math.abs(N)<.9999999?(this._x=Math.atan2(te,X),this._y=Math.atan2(Y,D)):(this._x=Math.atan2(-j,ae),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+f)}return this._order=f,x!==!1&&this._onChangeCallback(),this},u.setFromQuaternion=function(c,f,x){return Yd.makeRotationFromQuaternion(c),this.setFromRotationMatrix(Yd,f,x)},u.setFromVector3=function(c,f){return this.set(c.x,c.y,c.z,f||this._order)},u.reorder=function(c){return Vd.setFromEuler(this),this.setFromQuaternion(Vd,c)},u.equals=function(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._order===this._order},u.fromArray=function(c){return this._x=c[0],this._y=c[1],this._z=c[2],c[3]!==void 0&&(this._order=c[3]),this._onChangeCallback(),this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this._x,c[f+1]=this._y,c[f+2]=this._z,c[f+3]=this._order,c},u.toVector3=function(c){return c?c.set(this._x,this._y,this._z):new Pe(this._x,this._y,this._z)},u._onChange=function(c){return this._onChangeCallback=c,this},u._onChangeCallback=function(){},Ts(m,[{key:"x",get:function(){return this._x},set:function(c){this._x=c,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(c){this._y=c,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(c){this._z=c,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(c){this._order=c,this._onChangeCallback()}}]),m}();bh.DefaultOrder="XYZ",bh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Yd=new Pr,Vd=new ls,Wd=function(){function m(){this.mask=1|0}var u=m.prototype;return u.set=function(c){this.mask=1<<c|0},u.enable=function(c){this.mask|=1<<c|0},u.enableAll=function(){this.mask=4294967295|0},u.toggle=function(c){this.mask^=1<<c|0},u.disable=function(c){this.mask&=~(1<<c|0)},u.disableAll=function(){this.mask=0},u.test=function(c){return(this.mask&c.mask)!==0},m}(),Tx=0,jd=new Pe,Gu=new ls,su=new Pr,Ps=new Pe,va=new Pe,ps=new Pe,ja=new ls,ms=new Pe(1,0,0),Xu=new Pe(0,1,0),bl=new Pe(0,0,1),Dc={type:"added"},m0={type:"removed"};function Tn(){Object.defineProperty(this,"id",{value:Tx++}),this.uuid=$n.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tn.DefaultUp.clone();var m=new Pe,u=new bh,d=new ls,c=new Pe(1,1,1);function f(){d.setFromEuler(u,!1)}function x(){u.setFromQuaternion(d,void 0,!1)}u._onChange(f),d._onChange(x),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:m},rotation:{configurable:!0,enumerable:!0,value:u},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new Pr},normalMatrix:{value:new as}}),this.matrix=new Pr,this.matrixWorld=new Pr,this.matrixAutoUpdate=Tn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Wd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Tn.DefaultUp=new Pe(0,1,0),Tn.DefaultMatrixAutoUpdate=!0,Tn.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Tn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(u){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(u),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(u){return this.quaternion.premultiply(u),this},setRotationFromAxisAngle:function(u,d){this.quaternion.setFromAxisAngle(u,d)},setRotationFromEuler:function(u){this.quaternion.setFromEuler(u,!0)},setRotationFromMatrix:function(u){this.quaternion.setFromRotationMatrix(u)},setRotationFromQuaternion:function(u){this.quaternion.copy(u)},rotateOnAxis:function(u,d){return Gu.setFromAxisAngle(u,d),this.quaternion.multiply(Gu),this},rotateOnWorldAxis:function(u,d){return Gu.setFromAxisAngle(u,d),this.quaternion.premultiply(Gu),this},rotateX:function(u){return this.rotateOnAxis(ms,u)},rotateY:function(u){return this.rotateOnAxis(Xu,u)},rotateZ:function(u){return this.rotateOnAxis(bl,u)},translateOnAxis:function(u,d){return jd.copy(u).applyQuaternion(this.quaternion),this.position.add(jd.multiplyScalar(d)),this},translateX:function(u){return this.translateOnAxis(ms,u)},translateY:function(u){return this.translateOnAxis(Xu,u)},translateZ:function(u){return this.translateOnAxis(bl,u)},localToWorld:function(u){return u.applyMatrix4(this.matrixWorld)},worldToLocal:function(u){return u.applyMatrix4(su.copy(this.matrixWorld).invert())},lookAt:function(u,d,c){u.isVector3?Ps.copy(u):Ps.set(u,d,c);var f=this.parent;this.updateWorldMatrix(!0,!1),va.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?su.lookAt(va,Ps,this.up):su.lookAt(Ps,va,this.up),this.quaternion.setFromRotationMatrix(su),f&&(su.extractRotation(f.matrixWorld),Gu.setFromRotationMatrix(su),this.quaternion.premultiply(Gu.invert()))},add:function(u){if(arguments.length>1){for(var d=0;d<arguments.length;d++)this.add(arguments[d]);return this}return u===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",u),this):(u&&u.isObject3D?(u.parent!==null&&u.parent.remove(u),u.parent=this,this.children.push(u),u.dispatchEvent(Dc)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",u),this)},remove:function(u){if(arguments.length>1){for(var d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}var c=this.children.indexOf(u);return c!==-1&&(u.parent=null,this.children.splice(c,1),u.dispatchEvent(m0)),this},clear:function(){for(var u=0;u<this.children.length;u++){var d=this.children[u];d.parent=null,d.dispatchEvent(m0)}return this.children.length=0,this},attach:function(u){return this.updateWorldMatrix(!0,!1),su.copy(this.matrixWorld).invert(),u.parent!==null&&(u.parent.updateWorldMatrix(!0,!1),su.multiply(u.parent.matrixWorld)),u.applyMatrix4(su),u.updateWorldMatrix(!1,!1),this.add(u),this},getObjectById:function(u){return this.getObjectByProperty("id",u)},getObjectByName:function(u){return this.getObjectByProperty("name",u)},getObjectByProperty:function(u,d){if(this[u]===d)return this;for(var c=0,f=this.children.length;c<f;c++){var x=this.children[c],_=x.getObjectByProperty(u,d);if(_!==void 0)return _}return},getWorldPosition:function(u){return u===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),u=new Pe),this.updateWorldMatrix(!0,!1),u.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(u){return u===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),u=new ls),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(va,u,ps),u},getWorldScale:function(u){return u===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),u=new Pe),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(va,ja,u),u},getWorldDirection:function(u){u===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),u=new Pe),this.updateWorldMatrix(!0,!1);var d=this.matrixWorld.elements;return u.set(d[8],d[9],d[10]).normalize()},raycast:function(){},traverse:function(u){u(this);for(var d=this.children,c=0,f=d.length;c<f;c++)d[c].traverse(u)},traverseVisible:function(u){if(this.visible===!1)return;u(this);for(var d=this.children,c=0,f=d.length;c<f;c++)d[c].traverseVisible(u)},traverseAncestors:function(u){var d=this.parent;d!==null&&(u(d),d.traverseAncestors(u))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(u){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||u)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,u=!0);for(var d=this.children,c=0,f=d.length;c<f;c++)d[c].updateMatrixWorld(u)},updateWorldMatrix:function(u,d){var c=this.parent;if(u===!0&&c!==null&&c.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),d===!0)for(var f=this.children,x=0,_=f.length;x<_;x++)f[x].updateWorldMatrix(!1,!0)},toJSON:function(u){var d=u===void 0||typeof u=="string",c={};d&&(u={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},c.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};f.uuid=this.uuid,f.type=this.type,this.name!==""&&(f.name=this.name),this.castShadow===!0&&(f.castShadow=!0),this.receiveShadow===!0&&(f.receiveShadow=!0),this.visible===!1&&(f.visible=!1),this.frustumCulled===!1&&(f.frustumCulled=!1),this.renderOrder!==0&&(f.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(f.userData=this.userData),f.layers=this.layers.mask,f.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(f.matrixAutoUpdate=!1),this.isInstancedMesh&&(f.type="InstancedMesh",f.count=this.count,f.instanceMatrix=this.instanceMatrix.toJSON());function x(He,ut){return He[ut.uuid]===void 0&&(He[ut.uuid]=ut.toJSON(u)),ut.uuid}if(this.isMesh||this.isLine||this.isPoints){f.geometry=x(u.geometries,this.geometry);var _=this.geometry.parameters;if(_!==void 0&&_.shapes!==void 0){var L=_.shapes;if(Array.isArray(L))for(var D=0,N=L.length;D<N;D++){var Y=L[D];x(u.shapes,Y)}else x(u.shapes,L)}}if(this.isSkinnedMesh&&(f.bindMode=this.bindMode,f.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(x(u.skeletons,this.skeleton),f.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){for(var z=[],X=0,j=this.material.length;X<j;X++)z.push(x(u.materials,this.material[X]));f.material=z}else f.material=x(u.materials,this.material);if(this.children.length>0){f.children=[];for(var q=0;q<this.children.length;q++)f.children.push(this.children[q].toJSON(u).object)}if(this.animations.length>0){f.animations=[];for(var te=0;te<this.animations.length;te++){var ae=this.animations[te];f.animations.push(x(u.animations,ae))}}if(d){var ne=je(u.geometries),Q=je(u.materials),xe=je(u.textures),Te=je(u.images),de=je(u.shapes),le=je(u.skeletons),Ae=je(u.animations);ne.length>0&&(c.geometries=ne),Q.length>0&&(c.materials=Q),xe.length>0&&(c.textures=xe),Te.length>0&&(c.images=Te),de.length>0&&(c.shapes=de),le.length>0&&(c.skeletons=le),Ae.length>0&&(c.animations=Ae)}return c.object=f,c;function je(He){var ut=[];for(var qe in He){var Be=He[qe];delete Be.metadata,ut.push(Be)}return ut}},clone:function(u){return new this.constructor().copy(this,u)},copy:function(u,d){if(d===void 0&&(d=!0),this.name=u.name,this.up.copy(u.up),this.position.copy(u.position),this.rotation.order=u.rotation.order,this.quaternion.copy(u.quaternion),this.scale.copy(u.scale),this.matrix.copy(u.matrix),this.matrixWorld.copy(u.matrixWorld),this.matrixAutoUpdate=u.matrixAutoUpdate,this.matrixWorldNeedsUpdate=u.matrixWorldNeedsUpdate,this.layers.mask=u.layers.mask,this.visible=u.visible,this.castShadow=u.castShadow,this.receiveShadow=u.receiveShadow,this.frustumCulled=u.frustumCulled,this.renderOrder=u.renderOrder,this.userData=JSON.parse(JSON.stringify(u.userData)),d===!0)for(var c=0;c<u.children.length;c++){var f=u.children[c];this.add(f.clone())}return this}});var Ch=new Pe,c2=new Pe,Qm=new as,ga=function(){function m(d,c){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=d!==void 0?d:new Pe(1,0,0),this.constant=c!==void 0?c:0}var u=m.prototype;return u.set=function(c,f){return this.normal.copy(c),this.constant=f,this},u.setComponents=function(c,f,x,_){return this.normal.set(c,f,x),this.constant=_,this},u.setFromNormalAndCoplanarPoint=function(c,f){return this.normal.copy(c),this.constant=-f.dot(this.normal),this},u.setFromCoplanarPoints=function(c,f,x){var _=Ch.subVectors(x,f).cross(c2.subVectors(c,f)).normalize();return this.setFromNormalAndCoplanarPoint(_,c),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.normal.copy(c.normal),this.constant=c.constant,this},u.normalize=function(){var c=1/this.normal.length();return this.normal.multiplyScalar(c),this.constant*=c,this},u.negate=function(){return this.constant*=-1,this.normal.negate(),this},u.distanceToPoint=function(c){return this.normal.dot(c)+this.constant},u.distanceToSphere=function(c){return this.distanceToPoint(c.center)-c.radius},u.projectPoint=function(c,f){return f===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),f=new Pe),f.copy(this.normal).multiplyScalar(-this.distanceToPoint(c)).add(c)},u.intersectLine=function(c,f){f===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),f=new Pe);var x=c.delta(Ch),_=this.normal.dot(x);if(_===0)return this.distanceToPoint(c.start)===0?f.copy(c.start):void 0;var L=-(c.start.dot(this.normal)+this.constant)/_;return L<0||L>1?void 0:f.copy(x).multiplyScalar(L).add(c.start)},u.intersectsLine=function(c){var f=this.distanceToPoint(c.start),x=this.distanceToPoint(c.end);return f<0&&x>0||x<0&&f>0},u.intersectsBox=function(c){return c.intersectsPlane(this)},u.intersectsSphere=function(c){return c.intersectsPlane(this)},u.coplanarPoint=function(c){return c===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),c=new Pe),c.copy(this.normal).multiplyScalar(-this.constant)},u.applyMatrix4=function(c,f){var x=f||Qm.getNormalMatrix(c),_=this.coplanarPoint(Ch).applyMatrix4(c),L=this.normal.applyMatrix3(x).normalize();return this.constant=-_.dot(L),this},u.translate=function(c){return this.constant-=c.dot(this.normal),this},u.equals=function(c){return c.normal.equals(this.normal)&&c.constant===this.constant},m}(),vs=new Pe,Cl=new Pe,Ys=new Pe,Ll=new Pe,Qa=new Pe,Pl=new Pe,Lh=new Pe,Qd=new Pe,hi=new Pe,Fo=new Pe,xo=function(){function m(d,c,f){this.a=d!==void 0?d:new Pe,this.b=c!==void 0?c:new Pe,this.c=f!==void 0?f:new Pe}m.getNormal=function(c,f,x,_){_===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),_=new Pe),_.subVectors(x,f),vs.subVectors(c,f),_.cross(vs);var L=_.lengthSq();return L>0?_.multiplyScalar(1/Math.sqrt(L)):_.set(0,0,0)},m.getBarycoord=function(c,f,x,_,L){vs.subVectors(_,f),Cl.subVectors(x,f),Ys.subVectors(c,f);var D=vs.dot(vs),N=vs.dot(Cl),Y=vs.dot(Ys),z=Cl.dot(Cl),X=Cl.dot(Ys),j=D*z-N*N;if(L===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),L=new Pe),j===0)return L.set(-2,-1,-1);var q=1/j,te=(z*Y-N*X)*q,ae=(D*X-N*Y)*q;return L.set(1-te-ae,ae,te)},m.containsPoint=function(c,f,x,_){return this.getBarycoord(c,f,x,_,Ll),Ll.x>=0&&Ll.y>=0&&Ll.x+Ll.y<=1},m.getUV=function(c,f,x,_,L,D,N,Y){return this.getBarycoord(c,f,x,_,Ll),Y.set(0,0),Y.addScaledVector(L,Ll.x),Y.addScaledVector(D,Ll.y),Y.addScaledVector(N,Ll.z),Y},m.isFrontFacing=function(c,f,x,_){return vs.subVectors(x,f),Cl.subVectors(c,f),vs.cross(Cl).dot(_)<0};var u=m.prototype;return u.set=function(c,f,x){return this.a.copy(c),this.b.copy(f),this.c.copy(x),this},u.setFromPointsAndIndices=function(c,f,x,_){return this.a.copy(c[f]),this.b.copy(c[x]),this.c.copy(c[_]),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.a.copy(c.a),this.b.copy(c.b),this.c.copy(c.c),this},u.getArea=function(){return vs.subVectors(this.c,this.b),Cl.subVectors(this.a,this.b),vs.cross(Cl).length()*.5},u.getMidpoint=function(c){return c===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),c=new Pe),c.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},u.getNormal=function(c){return m.getNormal(this.a,this.b,this.c,c)},u.getPlane=function(c){return c===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),c=new ga),c.setFromCoplanarPoints(this.a,this.b,this.c)},u.getBarycoord=function(c,f){return m.getBarycoord(c,this.a,this.b,this.c,f)},u.getUV=function(c,f,x,_,L){return m.getUV(c,this.a,this.b,this.c,f,x,_,L)},u.containsPoint=function(c){return m.containsPoint(c,this.a,this.b,this.c)},u.isFrontFacing=function(c){return m.isFrontFacing(this.a,this.b,this.c,c)},u.intersectsBox=function(c){return c.intersectsTriangle(this)},u.closestPointToPoint=function(c,f){f===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),f=new Pe);var x=this.a,_=this.b,L=this.c,D,N;Qa.subVectors(_,x),Pl.subVectors(L,x),Qd.subVectors(c,x);var Y=Qa.dot(Qd),z=Pl.dot(Qd);if(Y<=0&&z<=0)return f.copy(x);hi.subVectors(c,_);var X=Qa.dot(hi),j=Pl.dot(hi);if(X>=0&&j<=X)return f.copy(_);var q=Y*j-X*z;if(q<=0&&Y>=0&&X<=0)return D=Y/(Y-X),f.copy(x).addScaledVector(Qa,D);Fo.subVectors(c,L);var te=Qa.dot(Fo),ae=Pl.dot(Fo);if(ae>=0&&te<=ae)return f.copy(L);var ne=te*z-Y*ae;if(ne<=0&&z>=0&&ae<=0)return N=z/(z-ae),f.copy(x).addScaledVector(Pl,N);var Q=X*ae-te*j;if(Q<=0&&j-X>=0&&te-ae>=0)return Lh.subVectors(L,_),N=(j-X)/(j-X+(te-ae)),f.copy(_).addScaledVector(Lh,N);var xe=1/(Q+ne+q);return D=ne*xe,N=q*xe,f.copy(x).addScaledVector(Qa,D).addScaledVector(Pl,N)},u.equals=function(c){return c.a.equals(this.a)&&c.b.equals(this.b)&&c.c.equals(this.c)},m}(),qa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xo={h:0,s:0,l:0},gs={h:0,s:0,l:0};function Hu(m,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?m+(u-m)*6*d:d<1/2?u:d<2/3?m+(u-m)*6*(2/3-d):m}function zu(m){return m<.04045?m*.0773993808:Math.pow(m*.9478672986+.0521327014,2.4)}function qm(m){return m<.0031308?m*12.92:1.055*Math.pow(m,.41666)-.055}var En=function(){function m(d,c,f){return Object.defineProperty(this,"isColor",{value:!0}),c===void 0&&f===void 0?this.set(d):this.setRGB(d,c,f)}var u=m.prototype;return u.set=function(c){return c&&c.isColor?this.copy(c):typeof c=="number"?this.setHex(c):typeof c=="string"&&this.setStyle(c),this},u.setScalar=function(c){return this.r=c,this.g=c,this.b=c,this},u.setHex=function(c){return c=Math.floor(c),this.r=(c>>16&255)/255,this.g=(c>>8&255)/255,this.b=(c&255)/255,this},u.setRGB=function(c,f,x){return this.r=c,this.g=f,this.b=x,this},u.setHSL=function(c,f,x){if(c=$n.euclideanModulo(c,1),f=$n.clamp(f,0,1),x=$n.clamp(x,0,1),f===0)this.r=this.g=this.b=x;else{var _=x<=.5?x*(1+f):x+f-x*f,L=2*x-_;this.r=Hu(L,_,c+1/3),this.g=Hu(L,_,c),this.b=Hu(L,_,c-1/3)}return this},u.setStyle=function(c){function f(q){if(q===void 0)return;parseFloat(q)<1&&console.warn("THREE.Color: Alpha component of "+c+" will be ignored.")}var x;if(x=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(c)){var _,L=x[1],D=x[2];switch(L){case"rgb":case"rgba":if(_=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(D))return this.r=Math.min(255,parseInt(_[1],10))/255,this.g=Math.min(255,parseInt(_[2],10))/255,this.b=Math.min(255,parseInt(_[3],10))/255,f(_[5]),this;if(_=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(D))return this.r=Math.min(100,parseInt(_[1],10))/100,this.g=Math.min(100,parseInt(_[2],10))/100,this.b=Math.min(100,parseInt(_[3],10))/100,f(_[5]),this;break;case"hsl":case"hsla":if(_=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(D)){var N=parseFloat(_[1])/360,Y=parseInt(_[2],10)/100,z=parseInt(_[3],10)/100;return f(_[5]),this.setHSL(N,Y,z)}break}}else if(x=/^\#([A-Fa-f0-9]+)$/.exec(c)){var X=x[1],j=X.length;if(j===3)return this.r=parseInt(X.charAt(0)+X.charAt(0),16)/255,this.g=parseInt(X.charAt(1)+X.charAt(1),16)/255,this.b=parseInt(X.charAt(2)+X.charAt(2),16)/255,this;if(j===6)return this.r=parseInt(X.charAt(0)+X.charAt(1),16)/255,this.g=parseInt(X.charAt(2)+X.charAt(3),16)/255,this.b=parseInt(X.charAt(4)+X.charAt(5),16)/255,this}return c&&c.length>0?this.setColorName(c):this},u.setColorName=function(c){var f=qa[c];return f!==void 0?this.setHex(f):console.warn("THREE.Color: Unknown color "+c),this},u.clone=function(){return new this.constructor(this.r,this.g,this.b)},u.copy=function(c){return this.r=c.r,this.g=c.g,this.b=c.b,this},u.copyGammaToLinear=function(c,f){return f===void 0&&(f=2),this.r=Math.pow(c.r,f),this.g=Math.pow(c.g,f),this.b=Math.pow(c.b,f),this},u.copyLinearToGamma=function(c,f){f===void 0&&(f=2);var x=f>0?1/f:1;return this.r=Math.pow(c.r,x),this.g=Math.pow(c.g,x),this.b=Math.pow(c.b,x),this},u.convertGammaToLinear=function(c){return this.copyGammaToLinear(this,c),this},u.convertLinearToGamma=function(c){return this.copyLinearToGamma(this,c),this},u.copySRGBToLinear=function(c){return this.r=zu(c.r),this.g=zu(c.g),this.b=zu(c.b),this},u.copyLinearToSRGB=function(c){return this.r=qm(c.r),this.g=qm(c.g),this.b=qm(c.b),this},u.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},u.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},u.getHex=function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},u.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},u.getHSL=function(c){c===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),c={h:0,s:0,l:0});var f=this.r,x=this.g,_=this.b,L=Math.max(f,x,_),D=Math.min(f,x,_),N,Y,z=(D+L)/2;if(D===L)N=0,Y=0;else{var X=L-D;Y=z<=.5?X/(L+D):X/(2-L-D);switch(L){case f:N=(x-_)/X+(x<_?6:0);break;case x:N=(_-f)/X+2;break;case _:N=(f-x)/X+4;break}N/=6}return c.h=N,c.s=Y,c.l=z,c},u.getStyle=function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},u.offsetHSL=function(c,f,x){return this.getHSL(Xo),Xo.h+=c,Xo.s+=f,Xo.l+=x,this.setHSL(Xo.h,Xo.s,Xo.l),this},u.add=function(c){return this.r+=c.r,this.g+=c.g,this.b+=c.b,this},u.addColors=function(c,f){return this.r=c.r+f.r,this.g=c.g+f.g,this.b=c.b+f.b,this},u.addScalar=function(c){return this.r+=c,this.g+=c,this.b+=c,this},u.sub=function(c){return this.r=Math.max(0,this.r-c.r),this.g=Math.max(0,this.g-c.g),this.b=Math.max(0,this.b-c.b),this},u.multiply=function(c){return this.r*=c.r,this.g*=c.g,this.b*=c.b,this},u.multiplyScalar=function(c){return this.r*=c,this.g*=c,this.b*=c,this},u.lerp=function(c,f){return this.r+=(c.r-this.r)*f,this.g+=(c.g-this.g)*f,this.b+=(c.b-this.b)*f,this},u.lerpHSL=function(c,f){this.getHSL(Xo),c.getHSL(gs);var x=$n.lerp(Xo.h,gs.h,f),_=$n.lerp(Xo.s,gs.s,f),L=$n.lerp(Xo.l,gs.l,f);return this.setHSL(x,_,L),this},u.equals=function(c){return c.r===this.r&&c.g===this.g&&c.b===this.b},u.fromArray=function(c,f){return f===void 0&&(f=0),this.r=c[f],this.g=c[f+1],this.b=c[f+2],this},u.toArray=function(c,f){return c===void 0&&(c=[]),f===void 0&&(f=0),c[f]=this.r,c[f+1]=this.g,c[f+2]=this.b,c},u.fromBufferAttribute=function(c,f){return this.r=c.getX(f),this.g=c.getY(f),this.b=c.getZ(f),c.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},u.toJSON=function(){return this.getHex()},m}();En.NAMES=qa,En.prototype.r=1,En.prototype.g=1,En.prototype.b=1;var Yu=function(){function m(d,c,f,x,_,L){L===void 0&&(L=0),this.a=d,this.b=c,this.c=f,this.normal=x&&x.isVector3?x:new Pe,this.vertexNormals=Array.isArray(x)?x:[],this.color=_&&_.isColor?_:new En,this.vertexColors=Array.isArray(_)?_:[],this.materialIndex=L}var u=m.prototype;return u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){this.a=c.a,this.b=c.b,this.c=c.c,this.normal.copy(c.normal),this.color.copy(c.color),this.materialIndex=c.materialIndex;for(var f=0,x=c.vertexNormals.length;f<x;f++)this.vertexNormals[f]=c.vertexNormals[f].clone();for(var _=0,L=c.vertexColors.length;_<L;_++)this.vertexColors[_]=c.vertexColors[_].clone();return this},m}(),Ph=0;function Qn(){Object.defineProperty(this,"id",{value:Ph++}),this.uuid=$n.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=U,this.side=R,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Qe,this.blendDst=at,this.blendEquation=ce,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=re,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Bu,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gf,this.stencilZFail=gf,this.stencilZPass=gf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Qn.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Qn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(u){if(u===void 0)return;for(var d in u){var c=u[d];if(c===void 0){console.warn("THREE.Material: '"+d+"' parameter is undefined.");continue}if(d==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=c===H;continue}var f=this[d];if(f===void 0){console.warn("THREE."+this.type+": '"+d+"' is not a property of this material.");continue}f&&f.isColor?f.set(c):f&&f.isVector3&&c&&c.isVector3?f.copy(c):this[d]=c}},toJSON:function(u){var d=u===void 0||typeof u=="string";d&&(u={textures:{},images:{}});var c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),this.roughness!==void 0&&(c.roughness=this.roughness),this.metalness!==void 0&&(c.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(c.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),this.shininess!==void 0&&(c.shininess=this.shininess),this.clearcoat!==void 0&&(c.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(c.clearcoatMap=this.clearcoatMap.toJSON(u).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(c.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(u).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(c.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(u).uuid,c.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(u).uuid),this.matcap&&this.matcap.isTexture&&(c.matcap=this.matcap.toJSON(u).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(u).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(u).uuid),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(u).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(u).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(u).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(u).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(u).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(u).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(u).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(u).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(u).uuid,c.reflectivity=this.reflectivity,c.refractionRatio=this.refractionRatio,this.combine!==void 0&&(c.combine=this.combine),this.envMapIntensity!==void 0&&(c.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(u).uuid),this.size!==void 0&&(c.size=this.size),this.sizeAttenuation!==void 0&&(c.sizeAttenuation=this.sizeAttenuation),this.blending!==U&&(c.blending=this.blending),this.flatShading===!0&&(c.flatShading=this.flatShading),this.side!==R&&(c.side=this.side),this.vertexColors&&(c.vertexColors=!0),this.opacity<1&&(c.opacity=this.opacity),this.transparent===!0&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,c.stencilWrite=this.stencilWrite,c.stencilWriteMask=this.stencilWriteMask,c.stencilFunc=this.stencilFunc,c.stencilRef=this.stencilRef,c.stencilFuncMask=this.stencilFuncMask,c.stencilFail=this.stencilFail,c.stencilZFail=this.stencilZFail,c.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(c.rotation=this.rotation),this.polygonOffset===!0&&(c.polygonOffset=!0),this.polygonOffsetFactor!==0&&(c.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(c.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(c.linewidth=this.linewidth),this.dashSize!==void 0&&(c.dashSize=this.dashSize),this.gapSize!==void 0&&(c.gapSize=this.gapSize),this.scale!==void 0&&(c.scale=this.scale),this.dithering===!0&&(c.dithering=!0),this.alphaTest>0&&(c.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(c.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(c.wireframe=this.wireframe),this.wireframeLinewidth>1&&(c.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(c.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(c.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(c.morphTargets=!0),this.morphNormals===!0&&(c.morphNormals=!0),this.skinning===!0&&(c.skinning=!0),this.visible===!1&&(c.visible=!1),this.toneMapped===!1&&(c.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(c.userData=this.userData);function f(L){var D=[];for(var N in L){var Y=L[N];delete Y.metadata,D.push(Y)}return D}if(d){var x=f(u.textures),_=f(u.images);x.length>0&&(c.textures=x),_.length>0&&(c.images=_)}return c},clone:function(){return new this.constructor().copy(this)},copy:function(u){this.name=u.name,this.fog=u.fog,this.blending=u.blending,this.side=u.side,this.flatShading=u.flatShading,this.vertexColors=u.vertexColors,this.opacity=u.opacity,this.transparent=u.transparent,this.blendSrc=u.blendSrc,this.blendDst=u.blendDst,this.blendEquation=u.blendEquation,this.blendSrcAlpha=u.blendSrcAlpha,this.blendDstAlpha=u.blendDstAlpha,this.blendEquationAlpha=u.blendEquationAlpha,this.depthFunc=u.depthFunc,this.depthTest=u.depthTest,this.depthWrite=u.depthWrite,this.stencilWriteMask=u.stencilWriteMask,this.stencilFunc=u.stencilFunc,this.stencilRef=u.stencilRef,this.stencilFuncMask=u.stencilFuncMask,this.stencilFail=u.stencilFail,this.stencilZFail=u.stencilZFail,this.stencilZPass=u.stencilZPass,this.stencilWrite=u.stencilWrite;var d=u.clippingPlanes,c=null;if(d!==null){var f=d.length;c=new Array(f);for(var x=0;x!==f;++x)c[x]=d[x].clone()}return this.clippingPlanes=c,this.clipIntersection=u.clipIntersection,this.clipShadows=u.clipShadows,this.shadowSide=u.shadowSide,this.colorWrite=u.colorWrite,this.precision=u.precision,this.polygonOffset=u.polygonOffset,this.polygonOffsetFactor=u.polygonOffsetFactor,this.polygonOffsetUnits=u.polygonOffsetUnits,this.dithering=u.dithering,this.alphaTest=u.alphaTest,this.premultipliedAlpha=u.premultipliedAlpha,this.visible=u.visible,this.toneMapped=u.toneMapped,this.userData=JSON.parse(JSON.stringify(u.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qn.prototype,"needsUpdate",{set:function(u){u===!0&&this.version++}});function Vs(m){Qn.call(this),this.type="MeshBasicMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(m)}Vs.prototype=Object.create(Qn.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isMeshBasicMaterial=!0,Vs.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.map=m.map,this.lightMap=m.lightMap,this.lightMapIntensity=m.lightMapIntensity,this.aoMap=m.aoMap,this.aoMapIntensity=m.aoMapIntensity,this.specularMap=m.specularMap,this.alphaMap=m.alphaMap,this.envMap=m.envMap,this.combine=m.combine,this.reflectivity=m.reflectivity,this.refractionRatio=m.refractionRatio,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.wireframeLinecap=m.wireframeLinecap,this.wireframeLinejoin=m.wireframeLinejoin,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this};var di=new Pe,qd=new kt;function Bn(m,u,d){if(Array.isArray(m))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=m,this.itemSize=u,this.count=m!==void 0?m.length/u:0,this.normalized=d===!0,this.usage=l0,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Bn.prototype,"needsUpdate",{set:function(u){u===!0&&this.version++}}),Object.assign(Bn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(u){return this.usage=u,this},copy:function(u){return this.name=u.name,this.array=new u.array.constructor(u.array),this.itemSize=u.itemSize,this.count=u.count,this.normalized=u.normalized,this.usage=u.usage,this},copyAt:function(u,d,c){u*=this.itemSize,c*=d.itemSize;for(var f=0,x=this.itemSize;f<x;f++)this.array[u+f]=d.array[c+f];return this},copyArray:function(u){return this.array.set(u),this},copyColorsArray:function(u){for(var d=this.array,c=0,f=0,x=u.length;f<x;f++){var _=u[f];_===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",f),_=new En),d[c++]=_.r,d[c++]=_.g,d[c++]=_.b}return this},copyVector2sArray:function(u){for(var d=this.array,c=0,f=0,x=u.length;f<x;f++){var _=u[f];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",f),_=new kt),d[c++]=_.x,d[c++]=_.y}return this},copyVector3sArray:function(u){for(var d=this.array,c=0,f=0,x=u.length;f<x;f++){var _=u[f];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",f),_=new Pe),d[c++]=_.x,d[c++]=_.y,d[c++]=_.z}return this},copyVector4sArray:function(u){for(var d=this.array,c=0,f=0,x=u.length;f<x;f++){var _=u[f];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",f),_=new Ur),d[c++]=_.x,d[c++]=_.y,d[c++]=_.z,d[c++]=_.w}return this},applyMatrix3:function(u){if(this.itemSize===2)for(var d=0,c=this.count;d<c;d++)qd.fromBufferAttribute(this,d),qd.applyMatrix3(u),this.setXY(d,qd.x,qd.y);else if(this.itemSize===3)for(var f=0,x=this.count;f<x;f++)di.fromBufferAttribute(this,f),di.applyMatrix3(u),this.setXYZ(f,di.x,di.y,di.z);return this},applyMatrix4:function(u){for(var d=0,c=this.count;d<c;d++)di.x=this.getX(d),di.y=this.getY(d),di.z=this.getZ(d),di.applyMatrix4(u),this.setXYZ(d,di.x,di.y,di.z);return this},applyNormalMatrix:function(u){for(var d=0,c=this.count;d<c;d++)di.x=this.getX(d),di.y=this.getY(d),di.z=this.getZ(d),di.applyNormalMatrix(u),this.setXYZ(d,di.x,di.y,di.z);return this},transformDirection:function(u){for(var d=0,c=this.count;d<c;d++)di.x=this.getX(d),di.y=this.getY(d),di.z=this.getZ(d),di.transformDirection(u),this.setXYZ(d,di.x,di.y,di.z);return this},set:function(u,d){return d===void 0&&(d=0),this.array.set(u,d),this},getX:function(u){return this.array[u*this.itemSize]},setX:function(u,d){return this.array[u*this.itemSize]=d,this},getY:function(u){return this.array[u*this.itemSize+1]},setY:function(u,d){return this.array[u*this.itemSize+1]=d,this},getZ:function(u){return this.array[u*this.itemSize+2]},setZ:function(u,d){return this.array[u*this.itemSize+2]=d,this},getW:function(u){return this.array[u*this.itemSize+3]},setW:function(u,d){return this.array[u*this.itemSize+3]=d,this},setXY:function(u,d,c){return u*=this.itemSize,this.array[u+0]=d,this.array[u+1]=c,this},setXYZ:function(u,d,c,f){return u*=this.itemSize,this.array[u+0]=d,this.array[u+1]=c,this.array[u+2]=f,this},setXYZW:function(u,d,c,f,x){return u*=this.itemSize,this.array[u+0]=d,this.array[u+1]=c,this.array[u+2]=f,this.array[u+3]=x,this},onUpload:function(u){return this.onUploadCallback=u,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Fc(m,u,d){Bn.call(this,new Int8Array(m),u,d)}Fc.prototype=Object.create(Bn.prototype),Fc.prototype.constructor=Fc;function au(m,u,d){Bn.call(this,new Uint8Array(m),u,d)}au.prototype=Object.create(Bn.prototype),au.prototype.constructor=au;function v0(m,u,d){Bn.call(this,new Uint8ClampedArray(m),u,d)}v0.prototype=Object.create(Bn.prototype),v0.prototype.constructor=v0;function g0(m,u,d){Bn.call(this,new Int16Array(m),u,d)}g0.prototype=Object.create(Bn.prototype),g0.prototype.constructor=g0;function lu(m,u,d){Bn.call(this,new Uint16Array(m),u,d)}lu.prototype=Object.create(Bn.prototype),lu.prototype.constructor=lu;function y0(m,u,d){Bn.call(this,new Int32Array(m),u,d)}y0.prototype=Object.create(Bn.prototype),y0.prototype.constructor=y0;function uu(m,u,d){Bn.call(this,new Uint32Array(m),u,d)}uu.prototype=Object.create(Bn.prototype),uu.prototype.constructor=uu;function x0(m,u,d){Bn.call(this,new Uint16Array(m),u,d)}x0.prototype=Object.create(Bn.prototype),x0.prototype.constructor=x0,x0.prototype.isFloat16BufferAttribute=!0;function an(m,u,d){Bn.call(this,new Float32Array(m),u,d)}an.prototype=Object.create(Bn.prototype),an.prototype.constructor=an;function xf(m,u,d){Bn.call(this,new Float64Array(m),u,d)}xf.prototype=Object.create(Bn.prototype),xf.prototype.constructor=xf;var Jm=function(){function m(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}var u=m.prototype;return u.computeGroups=function(c){var f=[],x,_,L=void 0,D=c.faces;for(_=0;_<D.length;_++){var N=D[_];N.materialIndex!==L&&(L=N.materialIndex,x!==void 0&&(x.count=_*3-x.start,f.push(x)),x={start:_*3,materialIndex:L})}x!==void 0&&(x.count=_*3-x.start,f.push(x)),this.groups=f},u.fromGeometry=function(c){var f=c.faces,x=c.vertices,_=c.faceVertexUvs,L=_[0]&&_[0].length>0,D=_[1]&&_[1].length>0,N=c.morphTargets,Y=N.length,z;if(Y>0){z=[];for(var X=0;X<Y;X++)z[X]={name:N[X].name,data:[]};this.morphTargets.position=z}var j=c.morphNormals,q=j.length,te;if(q>0){te=[];for(var ae=0;ae<q;ae++)te[ae]={name:j[ae].name,data:[]};this.morphTargets.normal=te}var ne=c.skinIndices,Q=c.skinWeights,xe=ne.length===x.length,Te=Q.length===x.length;x.length>0&&f.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var de=0;de<f.length;de++){var le=f[de];this.vertices.push(x[le.a],x[le.b],x[le.c]);var Ae=le.vertexNormals;if(Ae.length===3)this.normals.push(Ae[0],Ae[1],Ae[2]);else{var je=le.normal;this.normals.push(je,je,je)}var He=le.vertexColors;if(He.length===3)this.colors.push(He[0],He[1],He[2]);else{var ut=le.color;this.colors.push(ut,ut,ut)}if(L===!0){var qe=_[0][de];qe!==void 0?this.uvs.push(qe[0],qe[1],qe[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",de),this.uvs.push(new kt,new kt,new kt))}if(D===!0){var Be=_[1][de];Be!==void 0?this.uvs2.push(Be[0],Be[1],Be[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",de),this.uvs2.push(new kt,new kt,new kt))}for(var rt=0;rt<Y;rt++){var st=N[rt].vertices;z[rt].data.push(st[le.a],st[le.b],st[le.c])}for(var Je=0;Je<q;Je++){var ft=j[Je].vertexNormals[de];te[Je].data.push(ft.a,ft.b,ft.c)}xe&&this.skinIndices.push(ne[le.a],ne[le.b],ne[le.c]),Te&&this.skinWeights.push(Q[le.a],Q[le.b],Q[le.c])}return this.computeGroups(c),this.verticesNeedUpdate=c.verticesNeedUpdate,this.normalsNeedUpdate=c.normalsNeedUpdate,this.colorsNeedUpdate=c.colorsNeedUpdate,this.uvsNeedUpdate=c.uvsNeedUpdate,this.groupsNeedUpdate=c.groupsNeedUpdate,c.boundingSphere!==null&&(this.boundingSphere=c.boundingSphere.clone()),c.boundingBox!==null&&(this.boundingBox=c.boundingBox.clone()),this},m}();function Zm(m){if(m.length===0)return-Infinity;for(var u=m[0],d=1,c=m.length;d<c;++d)m[d]>u&&(u=m[d]);return u}var Km={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function E0(m,u){return new Km[m](u)}var Rh=1,cu=new Pr,w0=new Tn,Vu=new Pe,ys=new pa,Wu=new pa,Eo=new Pe;function Pn(){Object.defineProperty(this,"id",{value:Rh+=2}),this.uuid=$n.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}Pn.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Pn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(u){return Array.isArray(u)?this.index=new(Zm(u)>65535?uu:lu)(u,1):this.index=u,this},getAttribute:function(u){return this.attributes[u]},setAttribute:function(u,d){return this.attributes[u]=d,this},deleteAttribute:function(u){return delete this.attributes[u],this},hasAttribute:function(u){return this.attributes[u]!==void 0},addGroup:function(u,d,c){c===void 0&&(c=0),this.groups.push({start:u,count:d,materialIndex:c})},clearGroups:function(){this.groups=[]},setDrawRange:function(u,d){this.drawRange.start=u,this.drawRange.count=d},applyMatrix4:function(u){var d=this.attributes.position;d!==void 0&&(d.applyMatrix4(u),d.needsUpdate=!0);var c=this.attributes.normal;if(c!==void 0){var f=new as().getNormalMatrix(u);c.applyNormalMatrix(f),c.needsUpdate=!0}var x=this.attributes.tangent;return x!==void 0&&(x.transformDirection(u),x.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(u){return cu.makeRotationX(u),this.applyMatrix4(cu),this},rotateY:function(u){return cu.makeRotationY(u),this.applyMatrix4(cu),this},rotateZ:function(u){return cu.makeRotationZ(u),this.applyMatrix4(cu),this},translate:function(u,d,c){return cu.makeTranslation(u,d,c),this.applyMatrix4(cu),this},scale:function(u,d,c){return cu.makeScale(u,d,c),this.applyMatrix4(cu),this},lookAt:function(u){return w0.lookAt(u),w0.updateMatrix(),this.applyMatrix4(w0.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vu).negate(),this.translate(Vu.x,Vu.y,Vu.z),this},setFromObject:function(u){var d=u.geometry;if(u.isPoints||u.isLine){var c=new an(d.vertices.length*3,3),f=new an(d.colors.length*3,3);if(this.setAttribute("position",c.copyVector3sArray(d.vertices)),this.setAttribute("color",f.copyColorsArray(d.colors)),d.lineDistances&&d.lineDistances.length===d.vertices.length){var x=new an(d.lineDistances.length,1);this.setAttribute("lineDistance",x.copyArray(d.lineDistances))}d.boundingSphere!==null&&(this.boundingSphere=d.boundingSphere.clone()),d.boundingBox!==null&&(this.boundingBox=d.boundingBox.clone())}else u.isMesh&&(d&&d.isGeometry&&this.fromGeometry(d));return this},setFromPoints:function(u){for(var d=[],c=0,f=u.length;c<f;c++){var x=u[c];d.push(x.x,x.y,x.z||0)}return this.setAttribute("position",new an(d,3)),this},updateFromObject:function(u){var d=u.geometry;if(u.isMesh){var c=d.__directGeometry;if(d.elementsNeedUpdate===!0&&(c=void 0,d.elementsNeedUpdate=!1),c===void 0)return this.fromGeometry(d);c.verticesNeedUpdate=d.verticesNeedUpdate,c.normalsNeedUpdate=d.normalsNeedUpdate,c.colorsNeedUpdate=d.colorsNeedUpdate,c.uvsNeedUpdate=d.uvsNeedUpdate,c.groupsNeedUpdate=d.groupsNeedUpdate,d.verticesNeedUpdate=!1,d.normalsNeedUpdate=!1,d.colorsNeedUpdate=!1,d.uvsNeedUpdate=!1,d.groupsNeedUpdate=!1,d=c}if(d.verticesNeedUpdate===!0){var f=this.attributes.position;f!==void 0&&(f.copyVector3sArray(d.vertices),f.needsUpdate=!0),d.verticesNeedUpdate=!1}if(d.normalsNeedUpdate===!0){var x=this.attributes.normal;x!==void 0&&(x.copyVector3sArray(d.normals),x.needsUpdate=!0),d.normalsNeedUpdate=!1}if(d.colorsNeedUpdate===!0){var _=this.attributes.color;_!==void 0&&(_.copyColorsArray(d.colors),_.needsUpdate=!0),d.colorsNeedUpdate=!1}if(d.uvsNeedUpdate){var L=this.attributes.uv;L!==void 0&&(L.copyVector2sArray(d.uvs),L.needsUpdate=!0),d.uvsNeedUpdate=!1}if(d.lineDistancesNeedUpdate){var D=this.attributes.lineDistance;D!==void 0&&(D.copyArray(d.lineDistances),D.needsUpdate=!0),d.lineDistancesNeedUpdate=!1}return d.groupsNeedUpdate&&(d.computeGroups(u.geometry),this.groups=d.groups,d.groupsNeedUpdate=!1),this},fromGeometry:function(u){return u.__directGeometry=new Jm().fromGeometry(u),this.fromDirectGeometry(u.__directGeometry)},fromDirectGeometry:function(u){var d=new Float32Array(u.vertices.length*3);if(this.setAttribute("position",new Bn(d,3).copyVector3sArray(u.vertices)),u.normals.length>0){var c=new Float32Array(u.normals.length*3);this.setAttribute("normal",new Bn(c,3).copyVector3sArray(u.normals))}if(u.colors.length>0){var f=new Float32Array(u.colors.length*3);this.setAttribute("color",new Bn(f,3).copyColorsArray(u.colors))}if(u.uvs.length>0){var x=new Float32Array(u.uvs.length*2);this.setAttribute("uv",new Bn(x,2).copyVector2sArray(u.uvs))}if(u.uvs2.length>0){var _=new Float32Array(u.uvs2.length*2);this.setAttribute("uv2",new Bn(_,2).copyVector2sArray(u.uvs2))}this.groups=u.groups;for(var L in u.morphTargets){for(var D=[],N=u.morphTargets[L],Y=0,z=N.length;Y<z;Y++){var X=N[Y],j=new an(X.data.length*3,3);j.name=X.name,D.push(j.copyVector3sArray(X.data))}this.morphAttributes[L]=D}if(u.skinIndices.length>0){var q=new an(u.skinIndices.length*4,4);this.setAttribute("skinIndex",q.copyVector4sArray(u.skinIndices))}if(u.skinWeights.length>0){var te=new an(u.skinWeights.length*4,4);this.setAttribute("skinWeight",te.copyVector4sArray(u.skinWeights))}return u.boundingSphere!==null&&(this.boundingSphere=u.boundingSphere.clone()),u.boundingBox!==null&&(this.boundingBox=u.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new pa);var u=this.attributes.position,d=this.morphAttributes.position;if(u&&u.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Pe(-Infinity,-Infinity,-Infinity),new Pe(Infinity,Infinity,Infinity));return}if(u!==void 0){if(this.boundingBox.setFromBufferAttribute(u),d)for(var c=0,f=d.length;c<f;c++){var x=d[c];ys.setFromBufferAttribute(x),this.morphTargetsRelative?(Eo.addVectors(this.boundingBox.min,ys.min),this.boundingBox.expandByPoint(Eo),Eo.addVectors(this.boundingBox.max,ys.max),this.boundingBox.expandByPoint(Eo)):(this.boundingBox.expandByPoint(ys.min),this.boundingBox.expandByPoint(ys.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ds);var u=this.attributes.position,d=this.morphAttributes.position;if(u&&u.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Pe,Infinity);return}if(u){var c=this.boundingSphere.center;if(ys.setFromBufferAttribute(u),d)for(var f=0,x=d.length;f<x;f++){var _=d[f];Wu.setFromBufferAttribute(_),this.morphTargetsRelative?(Eo.addVectors(ys.min,Wu.min),ys.expandByPoint(Eo),Eo.addVectors(ys.max,Wu.max),ys.expandByPoint(Eo)):(ys.expandByPoint(Wu.min),ys.expandByPoint(Wu.max))}ys.getCenter(c);for(var L=0,D=0,N=u.count;D<N;D++)Eo.fromBufferAttribute(u,D),L=Math.max(L,c.distanceToSquared(Eo));if(d)for(var Y=0,z=d.length;Y<z;Y++)for(var X=d[Y],j=this.morphTargetsRelative,q=0,te=X.count;q<te;q++)Eo.fromBufferAttribute(X,q),j&&(Vu.fromBufferAttribute(u,q),Eo.add(Vu)),L=Math.max(L,c.distanceToSquared(Eo));this.boundingSphere.radius=Math.sqrt(L),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var u=this.index,d=this.getAttribute("position");if(d!==void 0){var c=this.getAttribute("normal");if(c===void 0)c=new Bn(new Float32Array(d.count*3),3),this.setAttribute("normal",c);else for(var f=0,x=c.count;f<x;f++)c.setXYZ(f,0,0,0);var _=new Pe,L=new Pe,D=new Pe,N=new Pe,Y=new Pe,z=new Pe,X=new Pe,j=new Pe;if(u)for(var q=0,te=u.count;q<te;q+=3){var ae=u.getX(q+0),ne=u.getX(q+1),Q=u.getX(q+2);_.fromBufferAttribute(d,ae),L.fromBufferAttribute(d,ne),D.fromBufferAttribute(d,Q),X.subVectors(D,L),j.subVectors(_,L),X.cross(j),N.fromBufferAttribute(c,ae),Y.fromBufferAttribute(c,ne),z.fromBufferAttribute(c,Q),N.add(X),Y.add(X),z.add(X),c.setXYZ(ae,N.x,N.y,N.z),c.setXYZ(ne,Y.x,Y.y,Y.z),c.setXYZ(Q,z.x,z.y,z.z)}else for(var xe=0,Te=d.count;xe<Te;xe+=3)_.fromBufferAttribute(d,xe+0),L.fromBufferAttribute(d,xe+1),D.fromBufferAttribute(d,xe+2),X.subVectors(D,L),j.subVectors(_,L),X.cross(j),c.setXYZ(xe+0,X.x,X.y,X.z),c.setXYZ(xe+1,X.x,X.y,X.z),c.setXYZ(xe+2,X.x,X.y,X.z);this.normalizeNormals(),c.needsUpdate=!0}},merge:function(u,d){if(!(u&&u.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",u);return}d===void 0&&(d=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes;for(var f in c){if(u.attributes[f]===void 0)continue;for(var x=c[f],_=x.array,L=u.attributes[f],D=L.array,N=L.itemSize*d,Y=Math.min(D.length,_.length-N),z=0,X=N;z<Y;z++,X++)_[X]=D[z]}return this},normalizeNormals:function(){for(var u=this.attributes.normal,d=0,c=u.count;d<c;d++)Eo.fromBufferAttribute(u,d),Eo.normalize(),u.setXYZ(d,Eo.x,Eo.y,Eo.z)},toNonIndexed:function(){function u(Te,de){for(var le=Te.array,Ae=Te.itemSize,je=Te.normalized,He=new le.constructor(de.length*Ae),ut=0,qe=0,Be=0,rt=de.length;Be<rt;Be++){ut=de[Be]*Ae;for(var st=0;st<Ae;st++)He[qe++]=le[ut++]}return new Bn(He,Ae,je)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var d=new Pn,c=this.index.array,f=this.attributes;for(var x in f){var _=f[x],L=u(_,c);d.setAttribute(x,L)}var D=this.morphAttributes;for(var N in D){for(var Y=[],z=D[N],X=0,j=z.length;X<j;X++){var q=z[X],te=u(q,c);Y.push(te)}d.morphAttributes[N]=Y}d.morphTargetsRelative=this.morphTargetsRelative;for(var ae=this.groups,ne=0,Q=ae.length;ne<Q;ne++){var xe=ae[ne];d.addGroup(xe.start,xe.count,xe.materialIndex)}return d},toJSON:function(){var u={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),Object.keys(this.userData).length>0&&(u.userData=this.userData),this.parameters!==void 0){var d=this.parameters;for(var c in d)d[c]!==void 0&&(u[c]=d[c]);return u}u.data={attributes:{}};var f=this.index;f!==null&&(u.data.index={type:f.array.constructor.name,array:Array.prototype.slice.call(f.array)});var x=this.attributes;for(var _ in x){var L=x[_],D=L.toJSON(u.data);L.name!==""&&(D.name=L.name),u.data.attributes[_]=D}var N={},Y=!1;for(var z in this.morphAttributes){for(var X=this.morphAttributes[z],j=[],q=0,te=X.length;q<te;q++){var ae=X[q],ne=ae.toJSON(u.data);ae.name!==""&&(ne.name=ae.name),j.push(ne)}j.length>0&&(N[z]=j,Y=!0)}Y&&(u.data.morphAttributes=N,u.data.morphTargetsRelative=this.morphTargetsRelative);var Q=this.groups;Q.length>0&&(u.data.groups=JSON.parse(JSON.stringify(Q)));var xe=this.boundingSphere;return xe!==null&&(u.data.boundingSphere={center:xe.center.toArray(),radius:xe.radius}),u},clone:function(){return new Pn().copy(this)},copy:function(u){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var d={};this.name=u.name;var c=u.index;c!==null&&this.setIndex(c.clone(d));var f=u.attributes;for(var x in f){var _=f[x];this.setAttribute(x,_.clone(d))}var L=u.morphAttributes;for(var D in L){for(var N=[],Y=L[D],z=0,X=Y.length;z<X;z++)N.push(Y[z].clone(d));this.morphAttributes[D]=N}this.morphTargetsRelative=u.morphTargetsRelative;for(var j=u.groups,q=0,te=j.length;q<te;q++){var ae=j[q];this.addGroup(ae.start,ae.count,ae.materialIndex)}var ne=u.boundingBox;ne!==null&&(this.boundingBox=ne.clone());var Q=u.boundingSphere;return Q!==null&&(this.boundingSphere=Q.clone()),this.drawRange.start=u.drawRange.start,this.drawRange.count=u.drawRange.count,this.userData=u.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Dh=new Pr,Ws=new zs,fu=new ds,hu=new Pe,du=new Pe,Rl=new Pe,$m=new Pe,e1=new Pe,A0=new Pe,_0=new Pe,M0=new Pe,Nn=new Pe,Bo=new kt,Qi=new kt,wo=new kt,Dl=new Pe,S0=new Pe;function Tr(m,u){Tn.call(this),this.type="Mesh",this.geometry=m!==void 0?m:new Pn,this.material=u!==void 0?u:new Vs,this.updateMorphTargets()}Tr.prototype=Object.assign(Object.create(Tn.prototype),{constructor:Tr,isMesh:!0,copy:function(u){return Tn.prototype.copy.call(this,u),u.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=u.morphTargetInfluences.slice()),u.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},u.morphTargetDictionary)),this.material=u.material,this.geometry=u.geometry,this},updateMorphTargets:function(){var u=this.geometry;if(u.isBufferGeometry){var d=u.morphAttributes,c=Object.keys(d);if(c.length>0){var f=d[c[0]];if(f!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var x=0,_=f.length;x<_;x++){var L=f[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=x}}}}else{var D=u.morphTargets;D!==void 0&&D.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(u,d){var c=this.geometry,f=this.material,x=this.matrixWorld;if(f===void 0)return;if(c.boundingSphere===null&&c.computeBoundingSphere(),fu.copy(c.boundingSphere),fu.applyMatrix4(x),u.ray.intersectsSphere(fu)===!1)return;if(Dh.copy(x).invert(),Ws.copy(u.ray).applyMatrix4(Dh),c.boundingBox!==null&&Ws.intersectsBox(c.boundingBox)===!1)return;var _;if(c.isBufferGeometry){var L=c.index,D=c.attributes.position,N=c.morphAttributes.position,Y=c.morphTargetsRelative,z=c.attributes.uv,X=c.attributes.uv2,j=c.groups,q=c.drawRange;if(L!==null)if(Array.isArray(f))for(var te=0,ae=j.length;te<ae;te++)for(var ne=j[te],Q=f[ne.materialIndex],xe=Math.max(ne.start,q.start),Te=Math.min(ne.start+ne.count,q.start+q.count),de=xe,le=Te;de<le;de+=3){var Ae=L.getX(de),je=L.getX(de+1),He=L.getX(de+2);_=ju(this,Q,u,Ws,D,N,Y,z,X,Ae,je,He),_&&(_.faceIndex=Math.floor(de/3),_.face.materialIndex=ne.materialIndex,d.push(_))}else for(var ut=Math.max(0,q.start),qe=Math.min(L.count,q.start+q.count),Be=ut,rt=qe;Be<rt;Be+=3){var st=L.getX(Be),Je=L.getX(Be+1),ft=L.getX(Be+2);_=ju(this,f,u,Ws,D,N,Y,z,X,st,Je,ft),_&&(_.faceIndex=Math.floor(Be/3),d.push(_))}else if(D!==void 0)if(Array.isArray(f))for(var vt=0,Vt=j.length;vt<Vt;vt++)for(var Gt=j[vt],Yt=f[Gt.materialIndex],Dt=Math.max(Gt.start,q.start),Zt=Math.min(Gt.start+Gt.count,q.start+q.count),un=Dt,Yn=Zt;un<Yn;un+=3){var Ot=un,Er=un+1,er=un+2;_=ju(this,Yt,u,Ws,D,N,Y,z,X,Ot,Er,er),_&&(_.faceIndex=Math.floor(un/3),_.face.materialIndex=Gt.materialIndex,d.push(_))}else for(var dr=Math.max(0,q.start),gn=Math.min(D.count,q.start+q.count),br=dr,pr=gn;br<pr;br+=3){var wi=br,Hr=br+1,Xi=br+2;_=ju(this,f,u,Ws,D,N,Y,z,X,wi,Hr,Xi),_&&(_.faceIndex=Math.floor(br/3),d.push(_))}}else if(c.isGeometry){var fo=Array.isArray(f),es=c.vertices,zo=c.faces,Hi,$e=c.faceVertexUvs[0];$e.length>0&&(Hi=$e);for(var We=0,yn=zo.length;We<yn;We++){var $t=zo[We],tr=fo?f[$t.materialIndex]:f;if(tr===void 0)continue;var dt=es[$t.a],Mn=es[$t.b],wn=es[$t.c];if(_=Fh(this,tr,u,Ws,dt,Mn,wn,Dl),_){if(Hi&&Hi[We]){var Xn=Hi[We];Bo.copy(Xn[0]),Qi.copy(Xn[1]),wo.copy(Xn[2]),_.uv=xo.getUV(Dl,dt,Mn,wn,Bo,Qi,wo,new kt)}_.face=$t,_.faceIndex=We,d.push(_)}}}}});function Fh(m,u,d,c,f,x,_,L){var D;if(u.side===B?D=c.intersectTriangle(_,x,f,!0,L):D=c.intersectTriangle(f,x,_,u.side!==A,L),D===null)return null;S0.copy(L),S0.applyMatrix4(m.matrixWorld);var N=d.ray.origin.distanceTo(S0);return N<d.near||N>d.far?null:{distance:N,point:S0.clone(),object:m}}function ju(m,u,d,c,f,x,_,L,D,N,Y,z){hu.fromBufferAttribute(f,N),du.fromBufferAttribute(f,Y),Rl.fromBufferAttribute(f,z);var X=m.morphTargetInfluences;if(u.morphTargets&&x&&X){_0.set(0,0,0),M0.set(0,0,0),Nn.set(0,0,0);for(var j=0,q=x.length;j<q;j++){var te=X[j],ae=x[j];if(te===0)continue;$m.fromBufferAttribute(ae,N),e1.fromBufferAttribute(ae,Y),A0.fromBufferAttribute(ae,z),_?(_0.addScaledVector($m,te),M0.addScaledVector(e1,te),Nn.addScaledVector(A0,te)):(_0.addScaledVector($m.sub(hu),te),M0.addScaledVector(e1.sub(du),te),Nn.addScaledVector(A0.sub(Rl),te))}hu.add(_0),du.add(M0),Rl.add(Nn)}m.isSkinnedMesh&&(m.boneTransform(N,hu),m.boneTransform(Y,du),m.boneTransform(z,Rl));var ne=Fh(m,u,d,c,hu,du,Rl,Dl);if(ne){L&&(Bo.fromBufferAttribute(L,N),Qi.fromBufferAttribute(L,Y),wo.fromBufferAttribute(L,z),ne.uv=xo.getUV(Dl,hu,du,Rl,Bo,Qi,wo,new kt)),D&&(Bo.fromBufferAttribute(D,N),Qi.fromBufferAttribute(D,Y),wo.fromBufferAttribute(D,z),ne.uv2=xo.getUV(Dl,hu,du,Rl,Bo,Qi,wo,new kt));var Q=new Yu(N,Y,z);xo.getNormal(hu,du,Rl,Q.normal),ne.face=Q}return ne}var Qu=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;d===void 0&&(d=1),c===void 0&&(c=1),f===void 0&&(f=1),x===void 0&&(x=1),_===void 0&&(_=1),L===void 0&&(L=1),D=m.call(this)||this,D.type="BoxBufferGeometry",D.parameters={width:d,height:c,depth:f,widthSegments:x,heightSegments:_,depthSegments:L};var N=Ml(D);x=Math.floor(x),_=Math.floor(_),L=Math.floor(L);var Y=[],z=[],X=[],j=[],q=0,te=0;ae("z","y","x",-1,-1,f,c,d,L,_,0),ae("z","y","x",1,-1,f,c,-d,L,_,1),ae("x","z","y",1,1,d,f,c,x,L,2),ae("x","z","y",1,-1,d,f,-c,x,L,3),ae("x","y","z",1,-1,d,c,f,x,_,4),ae("x","y","z",-1,-1,d,c,-f,x,_,5),D.setIndex(Y),D.setAttribute("position",new an(z,3)),D.setAttribute("normal",new an(X,3)),D.setAttribute("uv",new an(j,2));function ae(ne,Q,xe,Te,de,le,Ae,je,He,ut,qe){for(var Be=le/He,rt=Ae/ut,st=le/2,Je=Ae/2,ft=je/2,vt=He+1,Vt=ut+1,Gt=0,Yt=0,Dt=new Pe,Zt=0;Zt<Vt;Zt++)for(var un=Zt*rt-Je,Yn=0;Yn<vt;Yn++){var Ot=Yn*Be-st;Dt[ne]=Ot*Te,Dt[Q]=un*de,Dt[xe]=ft,z.push(Dt.x,Dt.y,Dt.z),Dt[ne]=0,Dt[Q]=0,Dt[xe]=je>0?1:-1,X.push(Dt.x,Dt.y,Dt.z),j.push(Yn/He),j.push(1-Zt/ut),Gt+=1}for(var Er=0;Er<ut;Er++)for(var er=0;er<He;er++){var dr=q+er+vt*Er,gn=q+er+vt*(Er+1),br=q+(er+1)+vt*(Er+1),pr=q+(er+1)+vt*Er;Y.push(dr,gn,pr),Y.push(gn,br,pr),Yt+=6}N.addGroup(te,Yt,qe),te+=Yt,q+=Gt}return D}return u}(Pn);function Fl(m){var u={};for(var d in m){u[d]={};for(var c in m[d]){var f=m[d][c];f&&(f.isColor||f.isMatrix3||f.isMatrix4||f.isVector2||f.isVector3||f.isVector4||f.isTexture)?u[d][c]=f.clone():Array.isArray(f)?u[d][c]=f.slice():u[d][c]=f}}return u}function $o(m){for(var u={},d=0;d<m.length;d++){var c=Fl(m[d]);for(var f in c)u[f]=c[f]}return u}var Jd={clone:Fl,merge:$o},t1=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,n1=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function lo(m){Qn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=t1,this.fragmentShader=n1,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,m!==void 0&&(m.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(m))}lo.prototype=Object.create(Qn.prototype),lo.prototype.constructor=lo,lo.prototype.isShaderMaterial=!0,lo.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.fragmentShader=m.fragmentShader,this.vertexShader=m.vertexShader,this.uniforms=Fl(m.uniforms),this.defines=Object.assign({},m.defines),this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.lights=m.lights,this.clipping=m.clipping,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this.extensions=Object.assign({},m.extensions),this.glslVersion=m.glslVersion,this},lo.prototype.toJSON=function(m){var u=Qn.prototype.toJSON.call(this,m);u.glslVersion=this.glslVersion,u.uniforms={};for(var d in this.uniforms){var c=this.uniforms[d],f=c.value;f&&f.isTexture?u.uniforms[d]={type:"t",value:f.toJSON(m).uuid}:f&&f.isColor?u.uniforms[d]={type:"c",value:f.getHex()}:f&&f.isVector2?u.uniforms[d]={type:"v2",value:f.toArray()}:f&&f.isVector3?u.uniforms[d]={type:"v3",value:f.toArray()}:f&&f.isVector4?u.uniforms[d]={type:"v4",value:f.toArray()}:f&&f.isMatrix3?u.uniforms[d]={type:"m3",value:f.toArray()}:f&&f.isMatrix4?u.uniforms[d]={type:"m4",value:f.toArray()}:u.uniforms[d]={value:f}}Object.keys(this.defines).length>0&&(u.defines=this.defines),u.vertexShader=this.vertexShader,u.fragmentShader=this.fragmentShader;var x={};for(var _ in this.extensions)this.extensions[_]===!0&&(x[_]=!0);return Object.keys(x).length>0&&(u.extensions=x),u};function ln(){Tn.call(this),this.type="Camera",this.matrixWorldInverse=new Pr,this.projectionMatrix=new Pr,this.projectionMatrixInverse=new Pr}ln.prototype=Object.assign(Object.create(Tn.prototype),{constructor:ln,isCamera:!0,copy:function(u,d){return Tn.prototype.copy.call(this,u,d),this.matrixWorldInverse.copy(u.matrixWorldInverse),this.projectionMatrix.copy(u.projectionMatrix),this.projectionMatrixInverse.copy(u.projectionMatrixInverse),this},getWorldDirection:function(u){u===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),u=new Pe),this.updateWorldMatrix(!0,!1);var d=this.matrixWorld.elements;return u.set(-d[8],-d[9],-d[10]).normalize()},updateMatrixWorld:function(u){Tn.prototype.updateMatrixWorld.call(this,u),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(u,d){Tn.prototype.updateWorldMatrix.call(this,u,d),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function ro(m,u,d,c){m===void 0&&(m=50),u===void 0&&(u=1),d===void 0&&(d=.1),c===void 0&&(c=2e3),ln.call(this),this.type="PerspectiveCamera",this.fov=m,this.zoom=1,this.near=d,this.far=c,this.focus=10,this.aspect=u,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ro.prototype=Object.assign(Object.create(ln.prototype),{constructor:ro,isPerspectiveCamera:!0,copy:function(u,d){return ln.prototype.copy.call(this,u,d),this.fov=u.fov,this.zoom=u.zoom,this.near=u.near,this.far=u.far,this.focus=u.focus,this.aspect=u.aspect,this.view=u.view===null?null:Object.assign({},u.view),this.filmGauge=u.filmGauge,this.filmOffset=u.filmOffset,this},setFocalLength:function(u){var d=.5*this.getFilmHeight()/u;this.fov=$n.RAD2DEG*2*Math.atan(d),this.updateProjectionMatrix()},getFocalLength:function(){var u=Math.tan($n.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/u},getEffectiveFOV:function(){return $n.RAD2DEG*2*Math.atan(Math.tan($n.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(u,d,c,f,x,_){this.aspect=u/d,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=u,this.view.fullHeight=d,this.view.offsetX=c,this.view.offsetY=f,this.view.width=x,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var u=this.near,d=u*Math.tan($n.DEG2RAD*.5*this.fov)/this.zoom,c=2*d,f=this.aspect*c,x=-.5*f,_=this.view;if(this.view!==null&&this.view.enabled){var L=_.fullWidth,D=_.fullHeight;x+=_.offsetX*f/L,d-=_.offsetY*c/D,f*=_.width/L,c*=_.height/D}var N=this.filmOffset;N!==0&&(x+=u*N/this.getFilmWidth()),this.projectionMatrix.makePerspective(x,x+f,d,d-c,u,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(u){var d=Tn.prototype.toJSON.call(this,u);return d.object.fov=this.fov,d.object.zoom=this.zoom,d.object.near=this.near,d.object.far=this.far,d.object.focus=this.focus,d.object.aspect=this.aspect,this.view!==null&&(d.object.view=Object.assign({},this.view)),d.object.filmGauge=this.filmGauge,d.object.filmOffset=this.filmOffset,d}});var Bc=90,Rs=1;function js(m,u,d){if(Tn.call(this),this.type="CubeCamera",d.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=d;var c=new ro(Bc,Rs,m,u);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Pe(1,0,0)),this.add(c);var f=new ro(Bc,Rs,m,u);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new Pe(-1,0,0)),this.add(f);var x=new ro(Bc,Rs,m,u);x.layers=this.layers,x.up.set(0,0,1),x.lookAt(new Pe(0,1,0)),this.add(x);var _=new ro(Bc,Rs,m,u);_.layers=this.layers,_.up.set(0,0,-1),_.lookAt(new Pe(0,-1,0)),this.add(_);var L=new ro(Bc,Rs,m,u);L.layers=this.layers,L.up.set(0,-1,0),L.lookAt(new Pe(0,0,1)),this.add(L);var D=new ro(Bc,Rs,m,u);D.layers=this.layers,D.up.set(0,-1,0),D.lookAt(new Pe(0,0,-1)),this.add(D),this.update=function(N,Y){this.parent===null&&this.updateMatrixWorld();var z=N.xr.enabled,X=N.getRenderTarget();N.xr.enabled=!1;var j=d.texture.generateMipmaps;d.texture.generateMipmaps=!1,N.setRenderTarget(d,0),N.render(Y,c),N.setRenderTarget(d,1),N.render(Y,f),N.setRenderTarget(d,2),N.render(Y,x),N.setRenderTarget(d,3),N.render(Y,_),N.setRenderTarget(d,4),N.render(Y,L),d.texture.generateMipmaps=j,N.setRenderTarget(d,5),N.render(Y,D),N.setRenderTarget(X),N.xr.enabled=z}}js.prototype=Object.create(Tn.prototype),js.prototype.constructor=js;function Qs(m,u,d,c,f,x,_,L,D,N){m=m!==void 0?m:[],u=u!==void 0?u:ze,_=_!==void 0?_:Zn,jn.call(this,m,u,d,c,f,x,_,L,D,N),this.flipY=!1,this._needsFlipEnvMap=!0}Qs.prototype=Object.create(jn.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isCubeTexture=!0,Object.defineProperty(Qs.prototype,"images",{get:function(){return this.image},set:function(u){this.image=u}});function ya(m,u,d){Number.isInteger(u)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),u=d),ko.call(this,m,m,u),u=u||{},this.texture=new Qs(void 0,u.mapping,u.wrapS,u.wrapT,u.magFilter,u.minFilter,u.format,u.type,u.anisotropy,u.encoding),this.texture._needsFlipEnvMap=!1}ya.prototype=Object.create(ko.prototype),ya.prototype.constructor=ya,ya.prototype.isWebGLCubeRenderTarget=!0,ya.prototype.fromEquirectangularTexture=function(m,u){this.texture.type=u.type,this.texture.format=Qt,this.texture.encoding=u.encoding,this.texture.generateMipmaps=u.generateMipmaps,this.texture.minFilter=u.minFilter,this.texture.magFilter=u.magFilter;var d={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},c=new Qu(5,5,5),f=new lo({name:"CubemapFromEquirect",uniforms:Fl(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,side:B,blending:O});f.uniforms.tEquirect.value=u;var x=new Tr(c,f),_=u.minFilter;u.minFilter===Xr&&(u.minFilter=fr);var L=new js(1,10,this);return L.update(m,x),u.minFilter=_,x.geometry.dispose(),x.material.dispose(),this},ya.prototype.clear=function(m,u,d,c){for(var f=m.getRenderTarget(),x=0;x<6;x++)m.setRenderTarget(this,x),m.clear(u,d,c);m.setRenderTarget(f)};function Bl(m,u,d,c,f,x,_,L,D,N,Y,z){jn.call(this,null,x,_,L,D,N,c,f,Y,z),this.image={data:m||null,width:u||1,height:d||1},this.magFilter=D!==void 0?D:zt,this.minFilter=N!==void 0?N:zt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Bl.prototype=Object.create(jn.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isDataTexture=!0;var Nc=new ds,Ja=new Pe,qu=function(){function m(d,c,f,x,_,L){this.planes=[d!==void 0?d:new ga,c!==void 0?c:new ga,f!==void 0?f:new ga,x!==void 0?x:new ga,_!==void 0?_:new ga,L!==void 0?L:new ga]}var u=m.prototype;return u.set=function(c,f,x,_,L,D){var N=this.planes;return N[0].copy(c),N[1].copy(f),N[2].copy(x),N[3].copy(_),N[4].copy(L),N[5].copy(D),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){for(var f=this.planes,x=0;x<6;x++)f[x].copy(c.planes[x]);return this},u.setFromProjectionMatrix=function(c){var f=this.planes,x=c.elements,_=x[0],L=x[1],D=x[2],N=x[3],Y=x[4],z=x[5],X=x[6],j=x[7],q=x[8],te=x[9],ae=x[10],ne=x[11],Q=x[12],xe=x[13],Te=x[14],de=x[15];return f[0].setComponents(N-_,j-Y,ne-q,de-Q).normalize(),f[1].setComponents(N+_,j+Y,ne+q,de+Q).normalize(),f[2].setComponents(N+L,j+z,ne+te,de+xe).normalize(),f[3].setComponents(N-L,j-z,ne-te,de-xe).normalize(),f[4].setComponents(N-D,j-X,ne-ae,de-Te).normalize(),f[5].setComponents(N+D,j+X,ne+ae,de+Te).normalize(),this},u.intersectsObject=function(c){var f=c.geometry;return f.boundingSphere===null&&f.computeBoundingSphere(),Nc.copy(f.boundingSphere).applyMatrix4(c.matrixWorld),this.intersectsSphere(Nc)},u.intersectsSprite=function(c){return Nc.center.set(0,0,0),Nc.radius=.7071067811865476,Nc.applyMatrix4(c.matrixWorld),this.intersectsSphere(Nc)},u.intersectsSphere=function(c){for(var f=this.planes,x=c.center,_=-c.radius,L=0;L<6;L++){var D=f[L].distanceToPoint(x);if(D<_)return!1}return!0},u.intersectsBox=function(c){for(var f=this.planes,x=0;x<6;x++){var _=f[x];if(Ja.x=_.normal.x>0?c.max.x:c.min.x,Ja.y=_.normal.y>0?c.max.y:c.min.y,Ja.z=_.normal.z>0?c.max.z:c.min.z,_.distanceToPoint(Ja)<0)return!1}return!0},u.containsPoint=function(c){for(var f=this.planes,x=0;x<6;x++)if(f[x].distanceToPoint(c)<0)return!1;return!0},m}();function Zd(){var m=null,u=!1,d=null,c=null;function f(x,_){d(x,_),c=m.requestAnimationFrame(f)}return{start:function(){if(u===!0)return;if(d===null)return;c=m.requestAnimationFrame(f),u=!0},stop:function(){m.cancelAnimationFrame(c),u=!1},setAnimationLoop:function(_){d=_},setContext:function(_){m=_}}}function Kd(m,u){var d=u.isWebGL2,c=new WeakMap;function f(N,Y){var z=N.array,X=N.usage,j=m.createBuffer();m.bindBuffer(Y,j),m.bufferData(Y,z,X),N.onUploadCallback();var q=5126;return z instanceof Float32Array?q=5126:z instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):z instanceof Uint16Array?N.isFloat16BufferAttribute?d?q=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):q=5123:z instanceof Int16Array?q=5122:z instanceof Uint32Array?q=5125:z instanceof Int32Array?q=5124:z instanceof Int8Array?q=5120:z instanceof Uint8Array&&(q=5121),{buffer:j,type:q,bytesPerElement:z.BYTES_PER_ELEMENT,version:N.version}}function x(N,Y,z){var X=Y.array,j=Y.updateRange;m.bindBuffer(z,N),j.count===-1?m.bufferSubData(z,0,X):(d?m.bufferSubData(z,j.offset*X.BYTES_PER_ELEMENT,X,j.offset,j.count):m.bufferSubData(z,j.offset*X.BYTES_PER_ELEMENT,X.subarray(j.offset,j.offset+j.count)),j.count=-1)}function _(N){return N.isInterleavedBufferAttribute&&(N=N.data),c.get(N)}function L(N){N.isInterleavedBufferAttribute&&(N=N.data);var Y=c.get(N);Y&&(m.deleteBuffer(Y.buffer),c.delete(N))}function D(N,Y){if(N.isGLBufferAttribute){var z=c.get(N);(!z||z.version<N.version)&&c.set(N,{buffer:N.buffer,type:N.type,bytesPerElement:N.elementSize,version:N.version});return}N.isInterleavedBufferAttribute&&(N=N.data);var X=c.get(N);X===void 0?c.set(N,f(N,Y)):X.version<N.version&&(x(X.buffer,N,Y),X.version=N.version)}return{get:_,remove:L,update:D}}var Za=function(m){Sn(u,m);function u(d,c,f,x){var _;d===void 0&&(d=1),c===void 0&&(c=1),f===void 0&&(f=1),x===void 0&&(x=1),_=m.call(this)||this,_.type="PlaneBufferGeometry",_.parameters={width:d,height:c,widthSegments:f,heightSegments:x};for(var L=d/2,D=c/2,N=Math.floor(f),Y=Math.floor(x),z=N+1,X=Y+1,j=d/N,q=c/Y,te=[],ae=[],ne=[],Q=[],xe=0;xe<X;xe++)for(var Te=xe*q-D,de=0;de<z;de++){var le=de*j-L;ae.push(le,-Te,0),ne.push(0,0,1),Q.push(de/N),Q.push(1-xe/Y)}for(var Ae=0;Ae<Y;Ae++)for(var je=0;je<N;je++){var He=je+z*Ae,ut=je+z*(Ae+1),qe=je+1+z*(Ae+1),Be=je+1+z*Ae;te.push(He,ut,Be),te.push(ut,qe,Be)}return _.setIndex(te),_.setAttribute("position",new an(ae,3)),_.setAttribute("normal",new an(ne,3)),_.setAttribute("uv",new an(Q,2)),_}return u}(Pn),$d=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Bh=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nh=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,qs=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,us=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Nl="vec3 transformed = vec3( position );",ep=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xa=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,f2=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,T0=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,r1=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bx=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,h2=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,d2=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,tp=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,i1=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,b0=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,p2=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,m2=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ih=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Cx=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lx=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,v2=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,g2=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ef="gl_FragColor = linearToOutputTexel( gl_FragColor );",Px=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Rx=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ju=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Dx=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,y2=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Fx=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,x2=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,Ic=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,E2=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Bx=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,w2=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,np=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,xs=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,A2=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,o1=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,Ea=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,Ka=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rp=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Nx=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$a=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,s1=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Ix=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(		0, 1,		0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Zu=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Oh=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,Oc=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,a1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,l1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Js=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Ox=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,_2=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,M2=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ip=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ux=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kx=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,S=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,b=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,I=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,J=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,ee=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,fe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,Ge=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,it=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Rt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,nn=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,In=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,sr=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vn=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Li=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qi=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,el=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lt=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
							f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
							f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Bt=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hn=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,On=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ni=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,qn=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,pi=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ei=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rr=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Gi=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ku=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Gx=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(	1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,	1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,	1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Uh=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,wf=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,S2=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,zT=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,YT=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,VT=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,WT=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,jT=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,QT=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,qT=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JT=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ZT=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KT=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ai=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,$T=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Xx=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,e5=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,t5=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,li=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,n5=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,r5=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fn=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,AA=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,i5=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o5=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s5=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,a5=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l5=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_A=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u5=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hr=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c5=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f5=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Fr=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,h5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,d5=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Br=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,p5=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,m5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,v5=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ir={alphamap_fragment:$d,alphamap_pars_fragment:Bh,alphatest_fragment:Nh,aomap_fragment:qs,aomap_pars_fragment:us,begin_vertex:Nl,beginnormal_vertex:ep,bsdfs:xa,bumpmap_pars_fragment:f2,clipping_planes_fragment:T0,clipping_planes_pars_fragment:r1,clipping_planes_pars_vertex:bx,clipping_planes_vertex:h2,color_fragment:d2,color_pars_fragment:tp,color_pars_vertex:i1,color_vertex:b0,common:p2,cube_uv_reflection_fragment:m2,defaultnormal_vertex:Ih,displacementmap_pars_vertex:Cx,displacementmap_vertex:Lx,emissivemap_fragment:v2,emissivemap_pars_fragment:g2,encodings_fragment:Ef,encodings_pars_fragment:Px,envmap_fragment:Rx,envmap_common_pars_fragment:Ju,envmap_pars_fragment:Dx,envmap_pars_vertex:y2,envmap_physical_pars_fragment:Ea,envmap_vertex:Fx,fog_vertex:x2,fog_pars_vertex:Ic,fog_fragment:E2,fog_pars_fragment:Bx,gradientmap_pars_fragment:w2,lightmap_fragment:np,lightmap_pars_fragment:xs,lights_lambert_vertex:A2,lights_pars_begin:o1,lights_toon_fragment:Ka,lights_toon_pars_fragment:rp,lights_phong_fragment:Nx,lights_phong_pars_fragment:$a,lights_physical_fragment:s1,lights_physical_pars_fragment:Ix,lights_fragment_begin:Zu,lights_fragment_maps:Oh,lights_fragment_end:Oc,logdepthbuf_fragment:a1,logdepthbuf_pars_fragment:l1,logdepthbuf_pars_vertex:Js,logdepthbuf_vertex:Ox,map_fragment:_2,map_pars_fragment:M2,map_particle_fragment:ip,map_particle_pars_fragment:Ux,metalnessmap_fragment:kx,metalnessmap_pars_fragment:S,morphnormal_vertex:b,morphtarget_pars_vertex:I,morphtarget_vertex:J,normal_fragment_begin:ee,normal_fragment_maps:fe,normalmap_pars_fragment:Ge,clearcoat_normal_fragment_begin:it,clearcoat_normal_fragment_maps:Rt,clearcoat_pars_fragment:nn,packing:In,premultiplied_alpha_fragment:sr,project_vertex:vn,dithering_fragment:Li,dithering_pars_fragment:qi,roughnessmap_fragment:el,roughnessmap_pars_fragment:wt,shadowmap_pars_fragment:lt,shadowmap_pars_vertex:Bt,shadowmap_vertex:hn,shadowmask_pars_fragment:On,skinbase_vertex:Ni,skinning_pars_vertex:qn,skinning_vertex:pi,skinnormal_vertex:Ei,specularmap_fragment:Rr,specularmap_pars_fragment:Gi,tonemapping_fragment:Ku,tonemapping_pars_fragment:Gx,transmissionmap_fragment:Uh,transmissionmap_pars_fragment:wf,uv_pars_fragment:S2,uv_pars_vertex:zT,uv_vertex:YT,uv2_pars_fragment:VT,uv2_pars_vertex:WT,uv2_vertex:jT,worldpos_vertex:QT,background_frag:qT,background_vert:JT,cube_frag:ZT,cube_vert:KT,depth_frag:ai,depth_vert:$T,distanceRGBA_frag:Xx,distanceRGBA_vert:e5,equirect_frag:t5,equirect_vert:li,linedashed_frag:n5,linedashed_vert:r5,meshbasic_frag:wA,meshbasic_vert:Fn,meshlambert_frag:AA,meshlambert_vert:i5,meshmatcap_frag:o5,meshmatcap_vert:s5,meshtoon_frag:a5,meshtoon_vert:l5,meshphong_frag:_A,meshphong_vert:u5,meshphysical_frag:hr,meshphysical_vert:c5,normal_frag:f5,normal_vert:Fr,points_frag:h5,points_vert:d5,shadow_frag:Br,shadow_vert:p5,sprite_frag:m5,sprite_vert:v5},on={common:{diffuse:{value:new En(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new as},uv2Transform:{value:new as},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new kt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new En(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new En(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new as}},sprite:{diffuse:{value:new En(15658734)},opacity:{value:1},center:{value:new kt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new as}}},Il={basic:{uniforms:$o([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.fog]),vertexShader:Ir.meshbasic_vert,fragmentShader:Ir.meshbasic_frag},lambert:{uniforms:$o([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.fog,on.lights,{emissive:{value:new En(0)}}]),vertexShader:Ir.meshlambert_vert,fragmentShader:Ir.meshlambert_frag},phong:{uniforms:$o([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.fog,on.lights,{emissive:{value:new En(0)},specular:{value:new En(1118481)},shininess:{value:30}}]),vertexShader:Ir.meshphong_vert,fragmentShader:Ir.meshphong_frag},standard:{uniforms:$o([on.common,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.roughnessmap,on.metalnessmap,on.fog,on.lights,{emissive:{value:new En(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ir.meshphysical_vert,fragmentShader:Ir.meshphysical_frag},toon:{uniforms:$o([on.common,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.gradientmap,on.fog,on.lights,{emissive:{value:new En(0)}}]),vertexShader:Ir.meshtoon_vert,fragmentShader:Ir.meshtoon_frag},matcap:{uniforms:$o([on.common,on.bumpmap,on.normalmap,on.displacementmap,on.fog,{matcap:{value:null}}]),vertexShader:Ir.meshmatcap_vert,fragmentShader:Ir.meshmatcap_frag},points:{uniforms:$o([on.points,on.fog]),vertexShader:Ir.points_vert,fragmentShader:Ir.points_frag},dashed:{uniforms:$o([on.common,on.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ir.linedashed_vert,fragmentShader:Ir.linedashed_frag},depth:{uniforms:$o([on.common,on.displacementmap]),vertexShader:Ir.depth_vert,fragmentShader:Ir.depth_frag},normal:{uniforms:$o([on.common,on.bumpmap,on.normalmap,on.displacementmap,{opacity:{value:1}}]),vertexShader:Ir.normal_vert,fragmentShader:Ir.normal_frag},sprite:{uniforms:$o([on.sprite,on.fog]),vertexShader:Ir.sprite_vert,fragmentShader:Ir.sprite_frag},background:{uniforms:{uvTransform:{value:new as},t2D:{value:null}},vertexShader:Ir.background_vert,fragmentShader:Ir.background_frag},cube:{uniforms:$o([on.envmap,{opacity:{value:1}}]),vertexShader:Ir.cube_vert,fragmentShader:Ir.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ir.equirect_vert,fragmentShader:Ir.equirect_frag},distanceRGBA:{uniforms:$o([on.common,on.displacementmap,{referencePosition:{value:new Pe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ir.distanceRGBA_vert,fragmentShader:Ir.distanceRGBA_frag},shadow:{uniforms:$o([on.lights,on.fog,{color:{value:new En(0)},opacity:{value:1}}]),vertexShader:Ir.shadow_vert,fragmentShader:Ir.shadow_frag}};Il.physical={uniforms:$o([Il.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new kt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new En(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ir.meshphysical_vert,fragmentShader:Ir.meshphysical_frag};function Hx(m,u,d,c,f){var x=new En(0),_=0,L,D,N=null,Y=0,z=null;function X(q,te,ae,ne){var Q=te.isScene===!0?te.background:null;Q&&Q.isTexture&&(Q=u.get(Q));var xe=m.xr,Te=xe.getSession&&xe.getSession();Te&&Te.environmentBlendMode==="additive"&&(Q=null),Q===null?j(x,_):Q&&Q.isColor&&(j(Q,1),ne=!0),(m.autoClear||ne)&&m.clear(m.autoClearColor,m.autoClearDepth,m.autoClearStencil),Q&&(Q.isCubeTexture||Q.isWebGLCubeRenderTarget||Q.mapping===Et)?(D===void 0&&(D=new Tr(new Qu(1,1,1),new lo({name:"BackgroundCubeMaterial",uniforms:Fl(Il.cube.uniforms),vertexShader:Il.cube.vertexShader,fragmentShader:Il.cube.fragmentShader,side:B,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),D.geometry.deleteAttribute("uv"),D.onBeforeRender=function(de,le,Ae){this.matrixWorld.copyPosition(Ae.matrixWorld)},Object.defineProperty(D.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),c.update(D)),Q.isWebGLCubeRenderTarget&&(Q=Q.texture),D.material.uniforms.envMap.value=Q,D.material.uniforms.flipEnvMap.value=Q.isCubeTexture&&Q._needsFlipEnvMap?-1:1,(N!==Q||Y!==Q.version||z!==m.toneMapping)&&(D.material.needsUpdate=!0,N=Q,Y=Q.version,z=m.toneMapping),q.unshift(D,D.geometry,D.material,0,0,null)):Q&&Q.isTexture&&(L===void 0&&(L=new Tr(new Za(2,2),new lo({name:"BackgroundMaterial",uniforms:Fl(Il.background.uniforms),vertexShader:Il.background.vertexShader,fragmentShader:Il.background.fragmentShader,side:R,depthTest:!1,depthWrite:!1,fog:!1})),L.geometry.deleteAttribute("normal"),Object.defineProperty(L.material,"map",{get:function(){return this.uniforms.t2D.value}}),c.update(L)),L.material.uniforms.t2D.value=Q,Q.matrixAutoUpdate===!0&&Q.updateMatrix(),L.material.uniforms.uvTransform.value.copy(Q.matrix),(N!==Q||Y!==Q.version||z!==m.toneMapping)&&(L.material.needsUpdate=!0,N=Q,Y=Q.version,z=m.toneMapping),q.unshift(L,L.geometry,L.material,0,0,null))}function j(q,te){d.buffers.color.setClear(q.r,q.g,q.b,te,f)}return{getClearColor:function(){return x},setClearColor:function(te,ae){ae===void 0&&(ae=1),x.set(te),_=ae,j(x,_)},getClearAlpha:function(){return _},setClearAlpha:function(te){_=te,j(x,_)},render:X}}function g5(m,u,d,c){var f=m.getParameter(34921),x=c.isWebGL2?null:u.get("OES_vertex_array_object"),_=c.isWebGL2||x!==null,L={},D=te(null),N=D;function Y(rt,st,Je,ft,vt){var Vt=!1;if(_){var Gt=q(ft,Je,st);N!==Gt&&(N=Gt,X(N.object)),Vt=ae(ft,vt),Vt&&ne(ft,vt)}else{var Yt=st.wireframe===!0;(N.geometry!==ft.id||N.program!==Je.id||N.wireframe!==Yt)&&(N.geometry=ft.id,N.program=Je.id,N.wireframe=Yt,Vt=!0)}rt.isInstancedMesh===!0&&(Vt=!0),vt!==null&&d.update(vt,34963),Vt&&(Ae(rt,st,Je,ft),vt!==null&&m.bindBuffer(34963,d.get(vt).buffer))}function z(){return c.isWebGL2?m.createVertexArray():x.createVertexArrayOES()}function X(rt){return c.isWebGL2?m.bindVertexArray(rt):x.bindVertexArrayOES(rt)}function j(rt){return c.isWebGL2?m.deleteVertexArray(rt):x.deleteVertexArrayOES(rt)}function q(rt,st,Je){var ft=Je.wireframe===!0,vt=L[rt.id];vt===void 0&&(vt={},L[rt.id]=vt);var Vt=vt[st.id];Vt===void 0&&(Vt={},vt[st.id]=Vt);var Gt=Vt[ft];return Gt===void 0&&(Gt=te(z()),Vt[ft]=Gt),Gt}function te(rt){for(var st=[],Je=[],ft=[],vt=0;vt<f;vt++)st[vt]=0,Je[vt]=0,ft[vt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:st,enabledAttributes:Je,attributeDivisors:ft,object:rt,attributes:{},index:null}}function ae(rt,st){var Je=N.attributes,ft=rt.attributes,vt=0;for(var Vt in ft){var Gt=Je[Vt],Yt=ft[Vt];if(Gt===void 0)return!0;if(Gt.attribute!==Yt)return!0;if(Gt.data!==Yt.data)return!0;vt++}return N.attributesNum!==vt?!0:N.index!==st}function ne(rt,st){var Je={},ft=rt.attributes,vt=0;for(var Vt in ft){var Gt=ft[Vt],Yt={};Yt.attribute=Gt,Gt.data&&(Yt.data=Gt.data),Je[Vt]=Yt,vt++}N.attributes=Je,N.attributesNum=vt,N.index=st}function Q(){for(var rt=N.newAttributes,st=0,Je=rt.length;st<Je;st++)rt[st]=0}function xe(rt){Te(rt,0)}function Te(rt,st){var Je=N.newAttributes,ft=N.enabledAttributes,vt=N.attributeDivisors;if(Je[rt]=1,ft[rt]===0&&(m.enableVertexAttribArray(rt),ft[rt]=1),vt[rt]!==st){var Vt=c.isWebGL2?m:u.get("ANGLE_instanced_arrays");Vt[c.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](rt,st),vt[rt]=st}}function de(){for(var rt=N.newAttributes,st=N.enabledAttributes,Je=0,ft=st.length;Je<ft;Je++)st[Je]!==rt[Je]&&(m.disableVertexAttribArray(Je),st[Je]=0)}function le(rt,st,Je,ft,vt,Vt){c.isWebGL2===!0&&(Je===5124||Je===5125)?m.vertexAttribIPointer(rt,st,Je,vt,Vt):m.vertexAttribPointer(rt,st,Je,ft,vt,Vt)}function Ae(rt,st,Je,ft){if(c.isWebGL2===!1&&(rt.isInstancedMesh||ft.isInstancedBufferGeometry)&&u.get("ANGLE_instanced_arrays")===null)return;Q();var vt=ft.attributes,Vt=Je.getAttributes(),Gt=st.defaultAttributeValues;for(var Yt in Vt){var Dt=Vt[Yt];if(Dt>=0){var Zt=vt[Yt];if(Zt!==void 0){var un=Zt.normalized,Yn=Zt.itemSize,Ot=d.get(Zt);if(Ot===void 0)continue;var Er=Ot.buffer,er=Ot.type,dr=Ot.bytesPerElement;if(Zt.isInterleavedBufferAttribute){var gn=Zt.data,br=gn.stride,pr=Zt.offset;gn&&gn.isInstancedInterleavedBuffer?(Te(Dt,gn.meshPerAttribute),ft._maxInstanceCount===void 0&&(ft._maxInstanceCount=gn.meshPerAttribute*gn.count)):xe(Dt),m.bindBuffer(34962,Er),le(Dt,Yn,er,un,br*dr,pr*dr)}else Zt.isInstancedBufferAttribute?(Te(Dt,Zt.meshPerAttribute),ft._maxInstanceCount===void 0&&(ft._maxInstanceCount=Zt.meshPerAttribute*Zt.count)):xe(Dt),m.bindBuffer(34962,Er),le(Dt,Yn,er,un,0,0)}else if(Yt==="instanceMatrix"){var wi=d.get(rt.instanceMatrix);if(wi===void 0)continue;var Hr=wi.buffer,Xi=wi.type;Te(Dt+0,1),Te(Dt+1,1),Te(Dt+2,1),Te(Dt+3,1),m.bindBuffer(34962,Hr),m.vertexAttribPointer(Dt+0,4,Xi,!1,64,0),m.vertexAttribPointer(Dt+1,4,Xi,!1,64,16),m.vertexAttribPointer(Dt+2,4,Xi,!1,64,32),m.vertexAttribPointer(Dt+3,4,Xi,!1,64,48)}else if(Yt==="instanceColor"){var fo=d.get(rt.instanceColor);if(fo===void 0)continue;var es=fo.buffer,zo=fo.type;Te(Dt,1),m.bindBuffer(34962,es),m.vertexAttribPointer(Dt,3,zo,!1,12,0)}else if(Gt!==void 0){var Hi=Gt[Yt];if(Hi!==void 0)switch(Hi.length){case 2:m.vertexAttrib2fv(Dt,Hi);break;case 3:m.vertexAttrib3fv(Dt,Hi);break;case 4:m.vertexAttrib4fv(Dt,Hi);break;default:m.vertexAttrib1fv(Dt,Hi)}}}}de()}function je(){qe();for(var rt in L){var st=L[rt];for(var Je in st){var ft=st[Je];for(var vt in ft)j(ft[vt].object),delete ft[vt];delete st[Je]}delete L[rt]}}function He(rt){if(L[rt.id]===void 0)return;var st=L[rt.id];for(var Je in st){var ft=st[Je];for(var vt in ft)j(ft[vt].object),delete ft[vt];delete st[Je]}delete L[rt.id]}function ut(rt){for(var st in L){var Je=L[st];if(Je[rt.id]===void 0)continue;var ft=Je[rt.id];for(var vt in ft)j(ft[vt].object),delete ft[vt];delete Je[rt.id]}}function qe(){if(Be(),N===D)return;N=D,X(N.object)}function Be(){D.geometry=null,D.program=null,D.wireframe=!1}return{setup:Y,reset:qe,resetDefaultState:Be,dispose:je,releaseStatesOfGeometry:He,releaseStatesOfProgram:ut,initAttributes:Q,enableAttribute:xe,disableUnusedAttributes:de}}function zx(m,u,d,c){var f=c.isWebGL2,x;function _(N){x=N}function L(N,Y){m.drawArrays(x,N,Y),d.update(Y,x,1)}function D(N,Y,z){if(z===0)return;var X,j;if(f)X=m,j="drawArraysInstanced";else if(X=u.get("ANGLE_instanced_arrays"),j="drawArraysInstancedANGLE",X===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}X[j](x,N,Y,z),d.update(Y,x,z)}this.setMode=_,this.render=L,this.renderInstances=D}function y5(m,u,d){var c;function f(){if(c!==void 0)return c;var le=u.get("EXT_texture_filter_anisotropic");return le!==null?c=m.getParameter(le.MAX_TEXTURE_MAX_ANISOTROPY_EXT):c=0,c}function x(le){if(le==="highp"){if(m.getShaderPrecisionFormat(35633,36338).precision>0&&m.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";le="mediump"}return le==="mediump"&&(m.getShaderPrecisionFormat(35633,36337).precision>0&&m.getShaderPrecisionFormat(35632,36337).precision>0)?"mediump":"lowp"}var _=typeof WebGL2RenderingContext!="undefined"&&m instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&m instanceof WebGL2ComputeRenderingContext,L=d.precision!==void 0?d.precision:"highp",D=x(L);D!==L&&(console.warn("THREE.WebGLRenderer:",L,"not supported, using",D,"instead."),L=D);var N=d.logarithmicDepthBuffer===!0,Y=m.getParameter(34930),z=m.getParameter(35660),X=m.getParameter(3379),j=m.getParameter(34076),q=m.getParameter(34921),te=m.getParameter(36347),ae=m.getParameter(36348),ne=m.getParameter(36349),Q=z>0,xe=_||!!u.get("OES_texture_float"),Te=Q&&xe,de=_?m.getParameter(36183):0;return{isWebGL2:_,getMaxAnisotropy:f,getMaxPrecision:x,precision:L,logarithmicDepthBuffer:N,maxTextures:Y,maxVertexTextures:z,maxTextureSize:X,maxCubemapSize:j,maxAttributes:q,maxVertexUniforms:te,maxVaryings:ae,maxFragmentUniforms:ne,vertexTextures:Q,floatFragmentTextures:xe,floatVertexTextures:Te,maxSamples:de}}function MA(m){var u=this,d=null,c=0,f=!1,x=!1,_=new ga,L=new as,D={value:null,needsUpdate:!1};this.uniform=D,this.numPlanes=0,this.numIntersection=0,this.init=function(z,X,j){var q=z.length!==0||X||c!==0||f;return f=X,d=Y(z,j,0),c=z.length,q},this.beginShadows=function(){x=!0,Y(null)},this.endShadows=function(){x=!1,N()},this.setState=function(z,X,j){var q=z.clippingPlanes,te=z.clipIntersection,ae=z.clipShadows,ne=m.get(z);if(!f||q===null||q.length===0||x&&!ae)x?Y(null):N();else{var Q=x?0:c,xe=Q*4,Te=ne.clippingState||null;D.value=Te,Te=Y(q,X,xe,j);for(var de=0;de!==xe;++de)Te[de]=d[de];ne.clippingState=Te,this.numIntersection=te?this.numPlanes:0,this.numPlanes+=Q}};function N(){D.value!==d&&(D.value=d,D.needsUpdate=c>0),u.numPlanes=c,u.numIntersection=0}function Y(z,X,j,q){var te=z!==null?z.length:0,ae=null;if(te!==0){if(ae=D.value,q!==!0||ae===null){var ne=j+te*4,Q=X.matrixWorldInverse;L.getNormalMatrix(Q),(ae===null||ae.length<ne)&&(ae=new Float32Array(ne));for(var xe=0,Te=j;xe!==te;++xe,Te+=4)_.copy(z[xe]).applyMatrix4(Q,L),_.normal.toArray(ae,Te),ae[Te+3]=_.constant}D.value=ae,D.needsUpdate=!0}return u.numPlanes=te,u.numIntersection=0,ae}}function x5(m){var u=new WeakMap;function d(_,L){return L===gt?_.mapping=ze:L===Ft&&(_.mapping=At),_}function c(_){if(_&&_.isTexture){var L=_.mapping;if(L===gt||L===Ft)if(u.has(_)){var D=u.get(_).texture;return d(D,_.mapping)}else{var N=_.image;if(N&&N.height>0){var Y=m.getRenderList(),z=m.getRenderTarget(),X=m.getRenderState(),j=new ya(N.height/2);return j.fromEquirectangularTexture(m,_),u.set(_,j),m.setRenderTarget(z),m.setRenderList(Y),m.setRenderState(X),_.addEventListener("dispose",f),d(j.texture,_.mapping)}else return null}}return _}function f(_){var L=_.target;L.removeEventListener("dispose",f);var D=u.get(L);D!==void 0&&(u.delete(L),D.dispose())}function x(){u=new WeakMap}return{get:c,dispose:x}}function E5(m){var u={};return{has:function(c){if(u[c]!==void 0)return u[c]!==null;var f;switch(c){case"WEBGL_depth_texture":f=m.getExtension("WEBGL_depth_texture")||m.getExtension("MOZ_WEBGL_depth_texture")||m.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":f=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":f=m.getExtension("WEBGL_compressed_texture_s3tc")||m.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":f=m.getExtension("WEBGL_compressed_texture_pvrtc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:f=m.getExtension(c)}return u[c]=f,f!==null},get:function(c){return this.has(c)||console.warn("THREE.WebGLRenderer: "+c+" extension not supported."),u[c]}}}function w5(m,u,d,c){var f=new WeakMap,x=new WeakMap;function _(z){var X=z.target,j=f.get(X);j.index!==null&&u.remove(j.index);for(var q in j.attributes)u.remove(j.attributes[q]);X.removeEventListener("dispose",_),f.delete(X);var te=x.get(j);te&&(u.remove(te),x.delete(j)),c.releaseStatesOfGeometry(j),X.isInstancedBufferGeometry===!0&&delete X._maxInstanceCount,d.memory.geometries--}function L(z,X){var j=f.get(X);return j||(X.addEventListener("dispose",_),X.isBufferGeometry?j=X:X.isGeometry&&(X._bufferGeometry===void 0&&(X._bufferGeometry=new Pn().setFromObject(z)),j=X._bufferGeometry),f.set(X,j),d.memory.geometries++,j)}function D(z){var X=z.attributes;for(var j in X)u.update(X[j],34962);var q=z.morphAttributes;for(var te in q)for(var ae=q[te],ne=0,Q=ae.length;ne<Q;ne++)u.update(ae[ne],34962)}function N(z){var X=[],j=z.index,q=z.attributes.position,te=0;if(j!==null){var ae=j.array;te=j.version;for(var ne=0,Q=ae.length;ne<Q;ne+=3){var xe=ae[ne+0],Te=ae[ne+1],de=ae[ne+2];X.push(xe,Te,Te,de,de,xe)}}else{var le=q.array;te=q.version;for(var Ae=0,je=le.length/3-1;Ae<je;Ae+=3){var He=Ae+0,ut=Ae+1,qe=Ae+2;X.push(He,ut,ut,qe,qe,He)}}var Be=new(Zm(X)>65535?uu:lu)(X,1);Be.version=te;var rt=x.get(z);rt&&u.remove(rt),x.set(z,Be)}function Y(z){var X=x.get(z);if(X){var j=z.index;j!==null&&(X.version<j.version&&N(z))}else N(z);return x.get(z)}return{get:L,update:D,getWireframeAttribute:Y}}function A5(m,u,d,c){var f=c.isWebGL2,x;function _(X){x=X}var L,D;function N(X){L=X.type,D=X.bytesPerElement}function Y(X,j){m.drawElements(x,j,L,X*D),d.update(j,x,1)}function z(X,j,q){if(q===0)return;var te,ae;if(f)te=m,ae="drawElementsInstanced";else if(te=u.get("ANGLE_instanced_arrays"),ae="drawElementsInstancedANGLE",te===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}te[ae](x,j,L,X*D,q),d.update(j,x,q)}this.setMode=_,this.setIndex=N,this.render=Y,this.renderInstances=z}function _5(m){var u={geometries:0,textures:0},d={frame:0,calls:0,triangles:0,points:0,lines:0};function c(x,_,L){d.calls++;switch(_){case 4:d.triangles+=L*(x/3);break;case 1:d.lines+=L*(x/2);break;case 3:d.lines+=L*(x-1);break;case 2:d.lines+=L*x;break;case 0:d.points+=L*x;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",_);break}}function f(){d.frame++,d.calls=0,d.triangles=0,d.points=0,d.lines=0}return{memory:u,render:d,programs:null,autoReset:!0,reset:f,update:c}}function M5(m,u){return m[0]-u[0]}function S5(m,u){return Math.abs(u[1])-Math.abs(m[1])}function T5(m){for(var u={},d=new Float32Array(8),c=[],f=0;f<8;f++)c[f]=[f,0];function x(_,L,D,N){var Y=_.morphTargetInfluences,z=Y===void 0?0:Y.length,X=u[L.id];if(X===void 0){X=[];for(var j=0;j<z;j++)X[j]=[j,0];u[L.id]=X}for(var q=0;q<z;q++){var te=X[q];te[0]=q,te[1]=Y[q]}X.sort(S5);for(var ae=0;ae<8;ae++)ae<z&&X[ae][1]?(c[ae][0]=X[ae][0],c[ae][1]=X[ae][1]):(c[ae][0]=Number.MAX_SAFE_INTEGER,c[ae][1]=0);c.sort(M5);for(var ne=D.morphTargets&&L.morphAttributes.position,Q=D.morphNormals&&L.morphAttributes.normal,xe=0,Te=0;Te<8;Te++){var de=c[Te],le=de[0],Ae=de[1];le!==Number.MAX_SAFE_INTEGER&&Ae?(ne&&L.getAttribute("morphTarget"+Te)!==ne[le]&&L.setAttribute("morphTarget"+Te,ne[le]),Q&&L.getAttribute("morphNormal"+Te)!==Q[le]&&L.setAttribute("morphNormal"+Te,Q[le]),d[Te]=Ae,xe+=Ae):(ne&&L.hasAttribute("morphTarget"+Te)===!0&&L.deleteAttribute("morphTarget"+Te),Q&&L.hasAttribute("morphNormal"+Te)===!0&&L.deleteAttribute("morphNormal"+Te),d[Te]=0)}var je=L.morphTargetsRelative?1:1-xe;N.getUniforms().setValue(m,"morphTargetBaseInfluence",je),N.getUniforms().setValue(m,"morphTargetInfluences",d)}return{update:x}}function b5(m,u,d,c){var f=new WeakMap;function x(L){var D=c.render.frame,N=L.geometry,Y=u.get(L,N);return f.get(Y)!==D&&(N.isGeometry&&Y.updateFromObject(L),u.update(Y),f.set(Y,D)),L.isInstancedMesh&&(d.update(L.instanceMatrix,34962),L.instanceColor!==null&&d.update(L.instanceColor,34962)),Y}function _(){f=new WeakMap}return{update:x,dispose:_}}function op(m,u,d,c){m===void 0&&(m=null),u===void 0&&(u=1),d===void 0&&(d=1),c===void 0&&(c=1),jn.call(this,null),this.image={data:m,width:u,height:d,depth:c},this.magFilter=zt,this.minFilter=zt,this.wrapR=Xe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}op.prototype=Object.create(jn.prototype),op.prototype.constructor=op,op.prototype.isDataTexture2DArray=!0;function sp(m,u,d,c){m===void 0&&(m=null),u===void 0&&(u=1),d===void 0&&(d=1),c===void 0&&(c=1),jn.call(this,null),this.image={data:m,width:u,height:d,depth:c},this.magFilter=zt,this.minFilter=zt,this.wrapR=Xe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}sp.prototype=Object.create(jn.prototype),sp.prototype.constructor=sp,sp.prototype.isDataTexture3D=!0;var Yx=new jn,SA=new op,C5=new sp,TA=new Qs,Af=[],bA=[],CA=new Float32Array(16),T2=new Float32Array(9),LA=new Float32Array(4);function ap(m,u,d){var c=m[0];if(c<=0||c>0)return m;var f=u*d,x=Af[f];if(x===void 0&&(x=new Float32Array(f),Af[f]=x),u!==0){c.toArray(x,0);for(var _=1,L=0;_!==u;++_)L+=d,m[_].toArray(x,L)}return x}function Ol(m,u){if(m.length!==u.length)return!1;for(var d=0,c=m.length;d<c;d++)if(m[d]!==u[d])return!1;return!0}function Ul(m,u){for(var d=0,c=u.length;d<c;d++)m[d]=u[d]}function PA(m,u){var d=bA[u];d===void 0&&(d=new Int32Array(u),bA[u]=d);for(var c=0;c!==u;++c)d[c]=m.allocateTextureUnit();return d}function L5(m,u){var d=this.cache;if(d[0]===u)return;m.uniform1f(this.addr,u),d[0]=u}function P5(m,u){var d=this.cache;if(u.x!==void 0)(d[0]!==u.x||d[1]!==u.y)&&(m.uniform2f(this.addr,u.x,u.y),d[0]=u.x,d[1]=u.y);else{if(Ol(d,u))return;m.uniform2fv(this.addr,u),Ul(d,u)}}function R5(m,u){var d=this.cache;if(u.x!==void 0)(d[0]!==u.x||d[1]!==u.y||d[2]!==u.z)&&(m.uniform3f(this.addr,u.x,u.y,u.z),d[0]=u.x,d[1]=u.y,d[2]=u.z);else if(u.r!==void 0)(d[0]!==u.r||d[1]!==u.g||d[2]!==u.b)&&(m.uniform3f(this.addr,u.r,u.g,u.b),d[0]=u.r,d[1]=u.g,d[2]=u.b);else{if(Ol(d,u))return;m.uniform3fv(this.addr,u),Ul(d,u)}}function RA(m,u){var d=this.cache;if(u.x!==void 0)(d[0]!==u.x||d[1]!==u.y||d[2]!==u.z||d[3]!==u.w)&&(m.uniform4f(this.addr,u.x,u.y,u.z,u.w),d[0]=u.x,d[1]=u.y,d[2]=u.z,d[3]=u.w);else{if(Ol(d,u))return;m.uniform4fv(this.addr,u),Ul(d,u)}}function D5(m,u){var d=this.cache,c=u.elements;if(c===void 0){if(Ol(d,u))return;m.uniformMatrix2fv(this.addr,!1,u),Ul(d,u)}else{if(Ol(d,c))return;LA.set(c),m.uniformMatrix2fv(this.addr,!1,LA),Ul(d,c)}}function F5(m,u){var d=this.cache,c=u.elements;if(c===void 0){if(Ol(d,u))return;m.uniformMatrix3fv(this.addr,!1,u),Ul(d,u)}else{if(Ol(d,c))return;T2.set(c),m.uniformMatrix3fv(this.addr,!1,T2),Ul(d,c)}}function B5(m,u){var d=this.cache,c=u.elements;if(c===void 0){if(Ol(d,u))return;m.uniformMatrix4fv(this.addr,!1,u),Ul(d,u)}else{if(Ol(d,c))return;CA.set(c),m.uniformMatrix4fv(this.addr,!1,CA),Ul(d,c)}}function N5(m,u,d){var c=this.cache,f=d.allocateTextureUnit();c[0]!==f&&(m.uniform1i(this.addr,f),c[0]=f),d.safeSetTexture2D(u||Yx,f)}function I5(m,u,d){var c=this.cache,f=d.allocateTextureUnit();c[0]!==f&&(m.uniform1i(this.addr,f),c[0]=f),d.setTexture2DArray(u||SA,f)}function O5(m,u,d){var c=this.cache,f=d.allocateTextureUnit();c[0]!==f&&(m.uniform1i(this.addr,f),c[0]=f),d.setTexture3D(u||C5,f)}function U5(m,u,d){var c=this.cache,f=d.allocateTextureUnit();c[0]!==f&&(m.uniform1i(this.addr,f),c[0]=f),d.safeSetTextureCube(u||TA,f)}function Uc(m,u){var d=this.cache;if(d[0]===u)return;m.uniform1i(this.addr,u),d[0]=u}function kc(m,u){var d=this.cache;if(Ol(d,u))return;m.uniform2iv(this.addr,u),Ul(d,u)}function _f(m,u){var d=this.cache;if(Ol(d,u))return;m.uniform3iv(this.addr,u),Ul(d,u)}function Mf(m,u){var d=this.cache;if(Ol(d,u))return;m.uniform4iv(this.addr,u),Ul(d,u)}function k5(m,u){var d=this.cache;if(d[0]===u)return;m.uniform1ui(this.addr,u),d[0]=u}function G5(m){switch(m){case 5126:return L5;case 35664:return P5;case 35665:return R5;case 35666:return RA;case 35674:return D5;case 35675:return F5;case 35676:return B5;case 5124:case 35670:return Uc;case 35667:case 35671:return kc;case 35668:case 35672:return _f;case 35669:case 35673:return Mf;case 5125:return k5;case 35678:case 36198:case 36298:case 36306:case 35682:return N5;case 35679:case 36299:case 36307:return O5;case 35680:case 36300:case 36308:case 36293:return U5;case 36289:case 36303:case 36311:case 36292:return I5}}function X5(m,u){m.uniform1fv(this.addr,u)}function H5(m,u){m.uniform1iv(this.addr,u)}function Vx(m,u){m.uniform2iv(this.addr,u)}function z5(m,u){m.uniform3iv(this.addr,u)}function Y5(m,u){m.uniform4iv(this.addr,u)}function DA(m,u){var d=ap(u,this.size,2);m.uniform2fv(this.addr,d)}function V5(m,u){var d=ap(u,this.size,3);m.uniform3fv(this.addr,d)}function W5(m,u){var d=ap(u,this.size,4);m.uniform4fv(this.addr,d)}function j5(m,u){var d=ap(u,this.size,4);m.uniformMatrix2fv(this.addr,!1,d)}function Q5(m,u){var d=ap(u,this.size,9);m.uniformMatrix3fv(this.addr,!1,d)}function q5(m,u){var d=ap(u,this.size,16);m.uniformMatrix4fv(this.addr,!1,d)}function FA(m,u,d){var c=u.length,f=PA(d,c);m.uniform1iv(this.addr,f);for(var x=0;x!==c;++x)d.safeSetTexture2D(u[x]||Yx,f[x])}function J5(m,u,d){var c=u.length,f=PA(d,c);m.uniform1iv(this.addr,f);for(var x=0;x!==c;++x)d.safeSetTextureCube(u[x]||TA,f[x])}function Z5(m){switch(m){case 5126:return X5;case 35664:return DA;case 35665:return V5;case 35666:return W5;case 35674:return j5;case 35675:return Q5;case 35676:return q5;case 5124:case 35670:return H5;case 35667:case 35671:return Vx;case 35668:case 35672:return z5;case 35669:case 35673:return Y5;case 35678:case 36198:case 36298:case 36306:case 35682:return FA;case 35680:case 36300:case 36308:case 36293:return J5}}function K5(m,u,d){this.id=m,this.addr=d,this.cache=[],this.setValue=G5(u.type)}function BA(m,u,d){this.id=m,this.addr=d,this.cache=[],this.size=u.size,this.setValue=Z5(u.type)}BA.prototype.updateCache=function(m){var u=this.cache;m instanceof Float32Array&&u.length!==m.length&&(this.cache=new Float32Array(m.length)),Ul(u,m)};function NA(m){this.id=m,this.seq=[],this.map={}}NA.prototype.setValue=function(m,u,d){for(var c=this.seq,f=0,x=c.length;f!==x;++f){var _=c[f];_.setValue(m,u[_.id],d)}};var Wx=/([\w\d_]+)(\])?(\[|\.)?/g;function IA(m,u){m.seq.push(u),m.map[u.id]=u}function OA(m,u,d){var c=m.name,f=c.length;for(Wx.lastIndex=0;;){var x=Wx.exec(c),_=Wx.lastIndex,L=x[1],D=x[2]==="]",N=x[3];if(D&&(L=L|0),N===void 0||N==="["&&_+2===f){IA(d,N===void 0?new K5(L,m,u):new BA(L,m,u));break}else{var Y=d.map,z=Y[L];z===void 0&&(z=new NA(L),IA(d,z)),d=z}}}function C0(m,u){this.seq=[],this.map={};for(var d=m.getProgramParameter(u,35718),c=0;c<d;++c){var f=m.getActiveUniform(u,c),x=m.getUniformLocation(u,f.name);OA(f,x,this)}}C0.prototype.setValue=function(m,u,d,c){var f=this.map[u];f!==void 0&&f.setValue(m,d,c)},C0.prototype.setOptional=function(m,u,d){var c=u[d];c!==void 0&&this.setValue(m,d,c)},C0.upload=function(m,u,d,c){for(var f=0,x=u.length;f!==x;++f){var _=u[f],L=d[_.id];L.needsUpdate!==!1&&_.setValue(m,L.value,c)}},C0.seqWithValue=function(m,u){for(var d=[],c=0,f=m.length;c!==f;++c){var x=m[c];x.id in u&&d.push(x)}return d};function UA(m,u,d){var c=m.createShader(u);return m.shaderSource(c,d),m.compileShader(c),c}var jx=0;function $5(m){for(var u=m.split(`
`),d=0;d<u.length;d++)u[d]=d+1+": "+u[d];return u.join(`
`)}function kA(m){switch(m){case Ro:return["Linear","( value )"];case o0:return["sRGB","( value )"];case Sc:return["RGBE","( value )"];case Mh:return["RGBM","( value, 7.0 )"];case Gm:return["RGBM","( value, 16.0 )"];case Xm:return["RGBD","( value, 256.0 )"];case za:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case ha:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",m),["Linear","( value )"]}}function Qx(m,u,d){var c=m.getShaderParameter(u,35713),f=m.getShaderInfoLog(u).trim();if(c&&f==="")return"";var x=m.getShaderSource(u);return"THREE.WebGLShader: gl.getShaderInfoLog() "+d+`
`+f+$5(x)}function u1(m,u){var d=kA(u);return"vec4 "+m+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function eb(m,u){var d=kA(u);return"vec4 "+m+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function tb(m,u){var d;switch(u){case Se:d="Linear";break;case se:d="Reinhard";break;case he:d="OptimizedCineon";break;case me:d="ACESFilmic";break;case xt:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",u),d="Linear"}return"vec3 "+m+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function nb(m){var u=[m.extensionDerivatives||m.envMapCubeUV||m.bumpMap||m.tangentSpaceNormalMap||m.clearcoatNormalMap||m.flatShading||m.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(m.extensionFragDepth||m.logarithmicDepthBuffer)&&m.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",m.extensionDrawBuffers&&m.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(m.extensionShaderTextureLOD||m.envMap)&&m.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return u.filter(c1).join(`
`)}function rb(m){var u=[];for(var d in m){var c=m[d];if(c===!1)continue;u.push("#define "+d+" "+c)}return u.join(`
`)}function GA(m,u){for(var d={},c=m.getProgramParameter(u,35721),f=0;f<c;f++){var x=m.getActiveAttrib(u,f),_=x.name;d[_]=m.getAttribLocation(u,_)}return d}function c1(m){return m!==""}function XA(m,u){return m.replace(/NUM_DIR_LIGHTS/g,u.numDirLights).replace(/NUM_SPOT_LIGHTS/g,u.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,u.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,u.numPointLights).replace(/NUM_HEMI_LIGHTS/g,u.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,u.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,u.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,u.numPointLightShadows)}function HA(m,u){return m.replace(/NUM_CLIPPING_PLANES/g,u.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,u.numClippingPlanes-u.numClipIntersection)}var ib=/^[ \t]*#include +<([\w\d./]+)>/gm;function qx(m){return m.replace(ib,ob)}function ob(m,u){var d=Ir[u];if(d===void 0)throw new Error("Can not resolve #include <"+u+">");return qx(d)}var sb=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,L0=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Sf(m){return m.replace(L0,zA).replace(sb,P0)}function P0(m,u,d,c){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),zA(m,u,d,c)}function zA(m,u,d,c){for(var f="",x=parseInt(u);x<parseInt(d);x++)f+=c.replace(/\[\s*i\s*\]/g,"[ "+x+" ]").replace(/UNROLLED_LOOP_INDEX/g,x);return f}function b2(m){var u="precision "+m.precision+` float;
precision `+m.precision+" int;";return m.precision==="highp"?u+=`
#define HIGH_PRECISION`:m.precision==="mediump"?u+=`
#define MEDIUM_PRECISION`:m.precision==="lowp"&&(u+=`
#define LOW_PRECISION`),u}function ab(m){var u="SHADOWMAP_TYPE_BASIC";return m.shadowMapType===E?u="SHADOWMAP_TYPE_PCF":m.shadowMapType===T?u="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===C&&(u="SHADOWMAP_TYPE_VSM"),u}function lb(m){var u="ENVMAP_TYPE_CUBE";if(m.envMap)switch(m.envMapMode){case ze:case At:u="ENVMAP_TYPE_CUBE";break;case Et:case Pt:u="ENVMAP_TYPE_CUBE_UV";break}return u}function Jx(m){var u="ENVMAP_MODE_REFLECTION";if(m.envMap)switch(m.envMapMode){case At:case Pt:u="ENVMAP_MODE_REFRACTION";break}return u}function ub(m){var u="ENVMAP_BLENDING_NONE";if(m.envMap)switch(m.combine){case Ce:u="ENVMAP_BLENDING_MULTIPLY";break;case P:u="ENVMAP_BLENDING_MIX";break;case _e:u="ENVMAP_BLENDING_ADD";break}return u}function cb(m,u,d,c){var f=m.getContext(),x=d.defines,_=d.vertexShader,L=d.fragmentShader,D=ab(d),N=lb(d),Y=Jx(d),z=ub(d),X=m.gammaFactor>0?m.gammaFactor:1,j=d.isWebGL2?"":nb(d),q=rb(x),te=f.createProgram(),ae,ne,Q=d.glslVersion?"#version "+d.glslVersion+`
`:"";d.isRawShaderMaterial?(ae=[q].filter(c1).join(`
`),ae.length>0&&(ae+=`
`),ne=[j,q].filter(c1).join(`
`),ne.length>0&&(ne+=`
`)):(ae=[b2(d),"#define SHADER_NAME "+d.shaderName,q,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+X,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+Y:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&d.flatShading===!1?"#define USE_MORPHNORMALS":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+D:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(c1).join(`
`),ne=[j,b2(d),"#define SHADER_NAME "+d.shaderName,q,d.alphaTest?"#define ALPHATEST "+d.alphaTest+(d.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+X,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+N:"",d.envMap?"#define "+Y:"",d.envMap?"#define "+z:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.sheen?"#define USE_SHEEN":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+D:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(d.extensionShaderTextureLOD||d.envMap)&&d.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",d.toneMapping!==ke?"#define TONE_MAPPING":"",d.toneMapping!==ke?Ir.tonemapping_pars_fragment:"",d.toneMapping!==ke?tb("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":"",Ir.encodings_pars_fragment,d.map?u1("mapTexelToLinear",d.mapEncoding):"",d.matcap?u1("matcapTexelToLinear",d.matcapEncoding):"",d.envMap?u1("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMap?u1("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.lightMap?u1("lightMapTexelToLinear",d.lightMapEncoding):"",eb("linearToOutputTexel",d.outputEncoding),d.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"",`
`].filter(c1).join(`
`)),_=qx(_),_=XA(_,d),_=HA(_,d),L=qx(L),L=XA(L,d),L=HA(L,d),_=Sf(_),L=Sf(L),d.isWebGL2&&d.isRawShaderMaterial!==!0&&(Q=`#version 300 es
`,ae=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ae,ne=["#define varying in",d.glslVersion===u0?"":"out highp vec4 pc_fragColor;",d.glslVersion===u0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ne);var xe=Q+ae+_,Te=Q+ne+L,de=UA(f,35633,xe),le=UA(f,35632,Te);if(f.attachShader(te,de),f.attachShader(te,le),d.index0AttributeName!==void 0?f.bindAttribLocation(te,0,d.index0AttributeName):d.morphTargets===!0&&f.bindAttribLocation(te,0,"position"),f.linkProgram(te),m.debug.checkShaderErrors){var Ae=f.getProgramInfoLog(te).trim(),je=f.getShaderInfoLog(de).trim(),He=f.getShaderInfoLog(le).trim(),ut=!0,qe=!0;if(f.getProgramParameter(te,35714)===!1){ut=!1;var Be=Qx(f,de,"vertex"),rt=Qx(f,le,"fragment");console.error("THREE.WebGLProgram: shader error: ",f.getError(),"35715",f.getProgramParameter(te,35715),"gl.getProgramInfoLog",Ae,Be,rt)}else Ae!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",Ae):(je===""||He==="")&&(qe=!1);qe&&(this.diagnostics={runnable:ut,programLog:Ae,vertexShader:{log:je,prefix:ae},fragmentShader:{log:He,prefix:ne}})}f.deleteShader(de),f.deleteShader(le);var st;this.getUniforms=function(){return st===void 0&&(st=new C0(f,te)),st};var Je;return this.getAttributes=function(){return Je===void 0&&(Je=GA(f,te)),Je},this.destroy=function(){c.releaseStatesOfProgram(this),f.deleteProgram(te),this.program=void 0},this.name=d.shaderName,this.id=jx++,this.cacheKey=u,this.usedTimes=1,this.program=te,this.vertexShader=de,this.fragmentShader=le,this}function YA(m,u,d,c,f,x){var _=[],L=c.isWebGL2,D=c.logarithmicDepthBuffer,N=c.floatVertexTextures,Y=c.maxVertexUniforms,z=c.vertexTextures,X=c.precision,j={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},q=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function te(le){var Ae=le.skeleton,je=Ae.bones;if(N)return 1024;var He=Y,ut=Math.floor((He-20)/4),qe=Math.min(ut,je.length);return qe<je.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+je.length+" bones. This GPU supports "+qe+"."),0):qe}function ae(le){var Ae;return le?le.isTexture?Ae=le.encoding:le.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Ae=le.texture.encoding):Ae=Ro,Ae}function ne(le,Ae,je,He,ut){var qe=He.fog,Be=le.isMeshStandardMaterial?He.environment:null,rt=u.get(le.envMap||Be),st=j[le.type],Je=ut.isSkinnedMesh?te(ut):0;le.precision!==null&&(X=c.getMaxPrecision(le.precision),X!==le.precision&&console.warn("THREE.WebGLProgram.getParameters:",le.precision,"not supported, using",X,"instead."));var ft,vt;if(st){var Vt=Il[st];ft=Vt.vertexShader,vt=Vt.fragmentShader}else ft=le.vertexShader,vt=le.fragmentShader;var Gt=m.getRenderTarget(),Yt={isWebGL2:L,shaderID:st,shaderName:le.type,vertexShader:ft,fragmentShader:vt,defines:le.defines,isRawShaderMaterial:le.isRawShaderMaterial===!0,glslVersion:le.glslVersion,precision:X,instancing:ut.isInstancedMesh===!0,instancingColor:ut.isInstancedMesh===!0&&ut.instanceColor!==null,supportsVertexTextures:z,outputEncoding:Gt!==null?ae(Gt.texture):m.outputEncoding,map:!!le.map,mapEncoding:ae(le.map),matcap:!!le.matcap,matcapEncoding:ae(le.matcap),envMap:!!rt,envMapMode:rt&&rt.mapping,envMapEncoding:ae(rt),envMapCubeUV:!!rt&&(rt.mapping===Et||rt.mapping===Pt),lightMap:!!le.lightMap,lightMapEncoding:ae(le.lightMap),aoMap:!!le.aoMap,emissiveMap:!!le.emissiveMap,emissiveMapEncoding:ae(le.emissiveMap),bumpMap:!!le.bumpMap,normalMap:!!le.normalMap,objectSpaceNormalMap:le.normalMapType===t2,tangentSpaceNormalMap:le.normalMapType===iu,clearcoatMap:!!le.clearcoatMap,clearcoatRoughnessMap:!!le.clearcoatRoughnessMap,clearcoatNormalMap:!!le.clearcoatNormalMap,displacementMap:!!le.displacementMap,roughnessMap:!!le.roughnessMap,metalnessMap:!!le.metalnessMap,specularMap:!!le.specularMap,alphaMap:!!le.alphaMap,gradientMap:!!le.gradientMap,sheen:!!le.sheen,transmissionMap:!!le.transmissionMap,combine:le.combine,vertexTangents:le.normalMap&&le.vertexTangents,vertexColors:le.vertexColors,vertexUvs:!!le.map||!!le.bumpMap||!!le.normalMap||!!le.specularMap||!!le.alphaMap||!!le.emissiveMap||!!le.roughnessMap||!!le.metalnessMap||!!le.clearcoatMap||!!le.clearcoatRoughnessMap||!!le.clearcoatNormalMap||!!le.displacementMap||!!le.transmissionMap,uvsVertexOnly:!(!!le.map||!!le.bumpMap||!!le.normalMap||!!le.specularMap||!!le.alphaMap||!!le.emissiveMap||!!le.roughnessMap||!!le.metalnessMap||!!le.clearcoatNormalMap||!!le.transmissionMap)&&!!le.displacementMap,fog:!!qe,useFog:le.fog,fogExp2:qe&&qe.isFogExp2,flatShading:le.flatShading,sizeAttenuation:le.sizeAttenuation,logarithmicDepthBuffer:D,skinning:le.skinning&&Je>0,maxBones:Je,useVertexTexture:N,morphTargets:le.morphTargets,morphNormals:le.morphNormals,maxMorphTargets:m.maxMorphTargets,maxMorphNormals:m.maxMorphNormals,numDirLights:Ae.directional.length,numPointLights:Ae.point.length,numSpotLights:Ae.spot.length,numRectAreaLights:Ae.rectArea.length,numHemiLights:Ae.hemi.length,numDirLightShadows:Ae.directionalShadowMap.length,numPointLightShadows:Ae.pointShadowMap.length,numSpotLightShadows:Ae.spotShadowMap.length,numClippingPlanes:x.numPlanes,numClipIntersection:x.numIntersection,dithering:le.dithering,shadowMapEnabled:m.shadowMap.enabled&&je.length>0,shadowMapType:m.shadowMap.type,toneMapping:le.toneMapped?m.toneMapping:ke,physicallyCorrectLights:m.physicallyCorrectLights,premultipliedAlpha:le.premultipliedAlpha,alphaTest:le.alphaTest,doubleSided:le.side===A,flipSided:le.side===B,depthPacking:le.depthPacking!==void 0?le.depthPacking:!1,index0AttributeName:le.index0AttributeName,extensionDerivatives:le.extensions&&le.extensions.derivatives,extensionFragDepth:le.extensions&&le.extensions.fragDepth,extensionDrawBuffers:le.extensions&&le.extensions.drawBuffers,extensionShaderTextureLOD:le.extensions&&le.extensions.shaderTextureLOD,rendererExtensionFragDepth:L||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:L||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:L||d.has("EXT_shader_texture_lod"),customProgramCacheKey:le.customProgramCacheKey()};return Yt}function Q(le){var Ae=[];if(le.shaderID?Ae.push(le.shaderID):(Ae.push(le.fragmentShader),Ae.push(le.vertexShader)),le.defines!==void 0)for(var je in le.defines)Ae.push(je),Ae.push(le.defines[je]);if(le.isRawShaderMaterial===!1){for(var He=0;He<q.length;He++)Ae.push(le[q[He]]);Ae.push(m.outputEncoding),Ae.push(m.gammaFactor)}return Ae.push(le.customProgramCacheKey),Ae.join()}function xe(le){var Ae=j[le.type],je;if(Ae){var He=Il[Ae];je=Jd.clone(He.uniforms)}else je=le.uniforms;return je}function Te(le,Ae){for(var je,He=0,ut=_.length;He<ut;He++){var qe=_[He];if(qe.cacheKey===Ae){je=qe,++je.usedTimes;break}}return je===void 0&&(je=new cb(m,Ae,le,f),_.push(je)),je}function de(le){if(--le.usedTimes===0){var Ae=_.indexOf(le);_[Ae]=_[_.length-1],_.pop(),le.destroy()}}return{getParameters:ne,getProgramCacheKey:Q,getUniforms:xe,acquireProgram:Te,releaseProgram:de,programs:_}}function fb(){var m=new WeakMap;function u(x){var _=m.get(x);return _===void 0&&(_={},m.set(x,_)),_}function d(x){m.delete(x)}function c(x,_,L){m.get(x)[_]=L}function f(){m=new WeakMap}return{get:u,remove:d,update:c,dispose:f}}function hb(m,u){return m.groupOrder!==u.groupOrder?m.groupOrder-u.groupOrder:m.renderOrder!==u.renderOrder?m.renderOrder-u.renderOrder:m.program!==u.program?m.program.id-u.program.id:m.material.id!==u.material.id?m.material.id-u.material.id:m.z!==u.z?m.z-u.z:m.id-u.id}function db(m,u){return m.groupOrder!==u.groupOrder?m.groupOrder-u.groupOrder:m.renderOrder!==u.renderOrder?m.renderOrder-u.renderOrder:m.z!==u.z?u.z-m.z:m.id-u.id}function VA(m){var u=[],d=0,c=[],f=[],x={id:-1};function _(){d=0,c.length=0,f.length=0}function L(X,j,q,te,ae,ne){var Q=u[d],xe=m.get(q);return Q===void 0?(Q={id:X.id,object:X,geometry:j,material:q,program:xe.program||x,groupOrder:te,renderOrder:X.renderOrder,z:ae,group:ne},u[d]=Q):(Q.id=X.id,Q.object=X,Q.geometry=j,Q.material=q,Q.program=xe.program||x,Q.groupOrder=te,Q.renderOrder=X.renderOrder,Q.z=ae,Q.group=ne),d++,Q}function D(X,j,q,te,ae,ne){var Q=L(X,j,q,te,ae,ne);(q.transparent===!0?f:c).push(Q)}function N(X,j,q,te,ae,ne){var Q=L(X,j,q,te,ae,ne);(q.transparent===!0?f:c).unshift(Q)}function Y(X,j){c.length>1&&c.sort(X||hb),f.length>1&&f.sort(j||db)}function z(){for(var X=d,j=u.length;X<j;X++){var q=u[X];if(q.id===null)break;q.id=null,q.object=null,q.geometry=null,q.material=null,q.program=null,q.group=null}}return{opaque:c,transparent:f,init:_,push:D,unshift:N,finish:z,sort:Y}}function pb(m){var u=new WeakMap;function d(f,x){var _=u.get(f),L;return _===void 0?(L=new VA(m),u.set(f,new WeakMap),u.get(f).set(x,L)):(L=_.get(x),L===void 0&&(L=new VA(m),_.set(x,L))),L}function c(){u=new WeakMap}return{get:d,dispose:c}}function WA(){var m={};return{get:function(d){if(m[d.id]!==void 0)return m[d.id];var c;switch(d.type){case"DirectionalLight":c={direction:new Pe,color:new En};break;case"SpotLight":c={position:new Pe,direction:new Pe,color:new En,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new Pe,color:new En,distance:0,decay:0};break;case"HemisphereLight":c={direction:new Pe,skyColor:new En,groundColor:new En};break;case"RectAreaLight":c={color:new En,position:new Pe,halfWidth:new Pe,halfHeight:new Pe};break}return m[d.id]=c,c}}}function mb(){var m={};return{get:function(d){if(m[d.id]!==void 0)return m[d.id];var c;switch(d.type){case"DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt,shadowCameraNear:1,shadowCameraFar:1e3};break}return m[d.id]=c,c}}}var vb=0;function gb(m,u){return(u.castShadow?1:0)-(m.castShadow?1:0)}function yb(m,u){for(var d=new WA,c=mb(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},x=0;x<9;x++)f.probe.push(new Pe);var _=new Pe,L=new Pr,D=new Pr;function N(Y,z,X){for(var j=0,q=0,te=0,ae=0;ae<9;ae++)f.probe[ae].set(0,0,0);var ne=0,Q=0,xe=0,Te=0,de=0,le=0,Ae=0,je=0,He=X.matrixWorldInverse;Y.sort(gb);for(var ut=0,qe=Y.length;ut<qe;ut++){var Be=Y[ut],rt=Be.color,st=Be.intensity,Je=Be.distance,ft=Be.shadow&&Be.shadow.map?Be.shadow.map.texture:null;if(Be.isAmbientLight)j+=rt.r*st,q+=rt.g*st,te+=rt.b*st;else if(Be.isLightProbe)for(var vt=0;vt<9;vt++)f.probe[vt].addScaledVector(Be.sh.coefficients[vt],st);else if(Be.isDirectionalLight){var Vt=d.get(Be);if(Vt.color.copy(Be.color).multiplyScalar(Be.intensity),Vt.direction.setFromMatrixPosition(Be.matrixWorld),_.setFromMatrixPosition(Be.target.matrixWorld),Vt.direction.sub(_),Vt.direction.transformDirection(He),Be.castShadow){var Gt=Be.shadow,Yt=c.get(Be);Yt.shadowBias=Gt.bias,Yt.shadowNormalBias=Gt.normalBias,Yt.shadowRadius=Gt.radius,Yt.shadowMapSize=Gt.mapSize,f.directionalShadow[ne]=Yt,f.directionalShadowMap[ne]=ft,f.directionalShadowMatrix[ne]=Be.shadow.matrix,le++}f.directional[ne]=Vt,ne++}else if(Be.isSpotLight){var Dt=d.get(Be);if(Dt.position.setFromMatrixPosition(Be.matrixWorld),Dt.position.applyMatrix4(He),Dt.color.copy(rt).multiplyScalar(st),Dt.distance=Je,Dt.direction.setFromMatrixPosition(Be.matrixWorld),_.setFromMatrixPosition(Be.target.matrixWorld),Dt.direction.sub(_),Dt.direction.transformDirection(He),Dt.coneCos=Math.cos(Be.angle),Dt.penumbraCos=Math.cos(Be.angle*(1-Be.penumbra)),Dt.decay=Be.decay,Be.castShadow){var Zt=Be.shadow,un=c.get(Be);un.shadowBias=Zt.bias,un.shadowNormalBias=Zt.normalBias,un.shadowRadius=Zt.radius,un.shadowMapSize=Zt.mapSize,f.spotShadow[xe]=un,f.spotShadowMap[xe]=ft,f.spotShadowMatrix[xe]=Be.shadow.matrix,je++}f.spot[xe]=Dt,xe++}else if(Be.isRectAreaLight){var Yn=d.get(Be);Yn.color.copy(rt).multiplyScalar(st),Yn.position.setFromMatrixPosition(Be.matrixWorld),Yn.position.applyMatrix4(He),D.identity(),L.copy(Be.matrixWorld),L.premultiply(He),D.extractRotation(L),Yn.halfWidth.set(Be.width*.5,0,0),Yn.halfHeight.set(0,Be.height*.5,0),Yn.halfWidth.applyMatrix4(D),Yn.halfHeight.applyMatrix4(D),f.rectArea[Te]=Yn,Te++}else if(Be.isPointLight){var Ot=d.get(Be);if(Ot.position.setFromMatrixPosition(Be.matrixWorld),Ot.position.applyMatrix4(He),Ot.color.copy(Be.color).multiplyScalar(Be.intensity),Ot.distance=Be.distance,Ot.decay=Be.decay,Be.castShadow){var Er=Be.shadow,er=c.get(Be);er.shadowBias=Er.bias,er.shadowNormalBias=Er.normalBias,er.shadowRadius=Er.radius,er.shadowMapSize=Er.mapSize,er.shadowCameraNear=Er.camera.near,er.shadowCameraFar=Er.camera.far,f.pointShadow[Q]=er,f.pointShadowMap[Q]=ft,f.pointShadowMatrix[Q]=Be.shadow.matrix,Ae++}f.point[Q]=Ot,Q++}else if(Be.isHemisphereLight){var dr=d.get(Be);dr.direction.setFromMatrixPosition(Be.matrixWorld),dr.direction.transformDirection(He),dr.direction.normalize(),dr.skyColor.copy(Be.color).multiplyScalar(st),dr.groundColor.copy(Be.groundColor).multiplyScalar(st),f.hemi[de]=dr,de++}}Te>0&&(u.isWebGL2||m.has("OES_texture_float_linear")===!0?(f.rectAreaLTC1=on.LTC_FLOAT_1,f.rectAreaLTC2=on.LTC_FLOAT_2):m.has("OES_texture_half_float_linear")===!0?(f.rectAreaLTC1=on.LTC_HALF_1,f.rectAreaLTC2=on.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),f.ambient[0]=j,f.ambient[1]=q,f.ambient[2]=te;var gn=f.hash;(gn.directionalLength!==ne||gn.pointLength!==Q||gn.spotLength!==xe||gn.rectAreaLength!==Te||gn.hemiLength!==de||gn.numDirectionalShadows!==le||gn.numPointShadows!==Ae||gn.numSpotShadows!==je)&&(f.directional.length=ne,f.spot.length=xe,f.rectArea.length=Te,f.point.length=Q,f.hemi.length=de,f.directionalShadow.length=le,f.directionalShadowMap.length=le,f.pointShadow.length=Ae,f.pointShadowMap.length=Ae,f.spotShadow.length=je,f.spotShadowMap.length=je,f.directionalShadowMatrix.length=le,f.pointShadowMatrix.length=Ae,f.spotShadowMatrix.length=je,gn.directionalLength=ne,gn.pointLength=Q,gn.spotLength=xe,gn.rectAreaLength=Te,gn.hemiLength=de,gn.numDirectionalShadows=le,gn.numPointShadows=Ae,gn.numSpotShadows=je,f.version=vb++)}return{setup:N,state:f}}function jA(m,u){var d=new yb(m,u),c=[],f=[];function x(){c.length=0,f.length=0}function _(Y){c.push(Y)}function L(Y){f.push(Y)}function D(Y){d.setup(c,f,Y)}var N={lightsArray:c,shadowsArray:f,lights:d};return{init:x,state:N,setupLights:D,pushLight:_,pushShadow:L}}function xb(m,u){var d=new WeakMap;function c(x,_){var L;return d.has(x)===!1?(L=new jA(m,u),d.set(x,new WeakMap),d.get(x).set(_,L)):d.get(x).has(_)===!1?(L=new jA(m,u),d.get(x).set(_,L)):L=d.get(x).get(_),L}function f(){d=new WeakMap}return{get:c,dispose:f}}function R0(m){Qn.call(this),this.type="MeshDepthMaterial",this.depthPacking=da,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(m)}R0.prototype=Object.create(Qn.prototype),R0.prototype.constructor=R0,R0.prototype.isMeshDepthMaterial=!0,R0.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.depthPacking=m.depthPacking,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.map=m.map,this.alphaMap=m.alphaMap,this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this};function tl(m){Qn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Pe,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(m)}tl.prototype=Object.create(Qn.prototype),tl.prototype.constructor=tl,tl.prototype.isMeshDistanceMaterial=!0,tl.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.referencePosition.copy(m.referencePosition),this.nearDistance=m.nearDistance,this.farDistance=m.farDistance,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.map=m.map,this.alphaMap=m.alphaMap,this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this};var kh=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,C2=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function QA(m,u,d){var c=new qu,f=new kt,x=new kt,_=new Ur,L=[],D=[],N={},Y={0:B,1:R,2:A},z=new lo({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new kt},radius:{value:4}},vertexShader:C2,fragmentShader:kh}),X=z.clone();X.defines.HORIZONAL_PASS=1;var j=new Pn;j.setAttribute("position",new Bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var q=new Tr(j,z),te=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E,this.render=function(de,le,Ae){if(te.enabled===!1)return;if(te.autoUpdate===!1&&te.needsUpdate===!1)return;if(de.length===0)return;var je=m.getRenderTarget(),He=m.getActiveCubeFace(),ut=m.getActiveMipmapLevel(),qe=m.state;qe.setBlending(O),qe.buffers.color.setClear(1,1,1,1),qe.buffers.depth.setTest(!0),qe.setScissorTest(!1);for(var Be=0,rt=de.length;Be<rt;Be++){var st=de[Be],Je=st.shadow;if(Je===void 0){console.warn("THREE.WebGLShadowMap:",st,"has no shadow.");continue}if(Je.autoUpdate===!1&&Je.needsUpdate===!1)continue;f.copy(Je.mapSize);var ft=Je.getFrameExtents();if(f.multiply(ft),x.copy(Je.mapSize),(f.x>d||f.y>d)&&(f.x>d&&(x.x=Math.floor(d/ft.x),f.x=x.x*ft.x,Je.mapSize.x=x.x),f.y>d&&(x.y=Math.floor(d/ft.y),f.y=x.y*ft.y,Je.mapSize.y=x.y)),Je.map===null&&!Je.isPointLightShadow&&this.type===C){var vt={minFilter:fr,magFilter:fr,format:Qt};Je.map=new ko(f.x,f.y,vt),Je.map.texture.name=st.name+".shadowMap",Je.mapPass=new ko(f.x,f.y,vt),Je.camera.updateProjectionMatrix()}if(Je.map===null){var Vt={minFilter:zt,magFilter:zt,format:Qt};Je.map=new ko(f.x,f.y,Vt),Je.map.texture.name=st.name+".shadowMap",Je.camera.updateProjectionMatrix()}m.setRenderTarget(Je.map),m.clear();for(var Gt=Je.getViewportCount(),Yt=0;Yt<Gt;Yt++){var Dt=Je.getViewport(Yt);_.set(x.x*Dt.x,x.y*Dt.y,x.x*Dt.z,x.y*Dt.w),qe.viewport(_),Je.updateMatrices(st,Yt),c=Je.getFrustum(),Te(le,Ae,Je.camera,st,this.type)}!Je.isPointLightShadow&&this.type===C&&ae(Je,Ae),Je.needsUpdate=!1}te.needsUpdate=!1,m.setRenderTarget(je,He,ut)};function ae(de,le){var Ae=u.update(q);z.uniforms.shadow_pass.value=de.map.texture,z.uniforms.resolution.value=de.mapSize,z.uniforms.radius.value=de.radius,m.setRenderTarget(de.mapPass),m.clear(),m.renderBufferDirect(le,null,Ae,z,q,null),X.uniforms.shadow_pass.value=de.mapPass.texture,X.uniforms.resolution.value=de.mapSize,X.uniforms.radius.value=de.radius,m.setRenderTarget(de.map),m.clear(),m.renderBufferDirect(le,null,Ae,X,q,null)}function ne(de,le,Ae){var je=de<<0|le<<1|Ae<<2,He=L[je];return He===void 0&&(He=new R0({depthPacking:e2,morphTargets:de,skinning:le}),L[je]=He),He}function Q(de,le,Ae){var je=de<<0|le<<1|Ae<<2,He=D[je];return He===void 0&&(He=new tl({morphTargets:de,skinning:le}),D[je]=He),He}function xe(de,le,Ae,je,He,ut,qe){var Be=null,rt=ne,st=de.customDepthMaterial;if(je.isPointLight===!0&&(rt=Q,st=de.customDistanceMaterial),st===void 0){var Je=!1;Ae.morphTargets===!0&&(Je=le.morphAttributes&&le.morphAttributes.position&&le.morphAttributes.position.length>0);var ft=!1;de.isSkinnedMesh===!0&&(Ae.skinning===!0?ft=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",de));var vt=de.isInstancedMesh===!0;Be=rt(Je,ft,vt)}else Be=st;if(m.localClippingEnabled&&Ae.clipShadows===!0&&Ae.clippingPlanes.length!==0){var Vt=Be.uuid,Gt=Ae.uuid,Yt=N[Vt];Yt===void 0&&(Yt={},N[Vt]=Yt);var Dt=Yt[Gt];Dt===void 0&&(Dt=Be.clone(),Yt[Gt]=Dt),Be=Dt}return Be.visible=Ae.visible,Be.wireframe=Ae.wireframe,qe===C?Be.side=Ae.shadowSide!==null?Ae.shadowSide:Ae.side:Be.side=Ae.shadowSide!==null?Ae.shadowSide:Y[Ae.side],Be.clipShadows=Ae.clipShadows,Be.clippingPlanes=Ae.clippingPlanes,Be.clipIntersection=Ae.clipIntersection,Be.wireframeLinewidth=Ae.wireframeLinewidth,Be.linewidth=Ae.linewidth,je.isPointLight===!0&&Be.isMeshDistanceMaterial===!0&&(Be.referencePosition.setFromMatrixPosition(je.matrixWorld),Be.nearDistance=He,Be.farDistance=ut),Be}function Te(de,le,Ae,je,He){if(de.visible===!1)return;var ut=de.layers.test(le.layers);if(ut&&(de.isMesh||de.isLine||de.isPoints)&&((de.castShadow||de.receiveShadow&&He===C)&&(!de.frustumCulled||c.intersectsObject(de)))){de.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,de.matrixWorld);var qe=u.update(de),Be=de.material;if(Array.isArray(Be))for(var rt=qe.groups,st=0,Je=rt.length;st<Je;st++){var ft=rt[st],vt=Be[ft.materialIndex];if(vt&&vt.visible){var Vt=xe(de,qe,vt,je,Ae.near,Ae.far,He);m.renderBufferDirect(Ae,null,qe,Vt,de,ft)}}else if(Be.visible){var Gt=xe(de,qe,Be,je,Ae.near,Ae.far,He);m.renderBufferDirect(Ae,null,qe,Gt,de,null)}}for(var Yt=de.children,Dt=0,Zt=Yt.length;Dt<Zt;Dt++)Te(Yt[Dt],le,Ae,je,He)}}function Eb(m,u,d){var c,f,x=d.isWebGL2;function _(){var dt=!1,Mn=new Ur,wn=null,Xn=new Ur(0,0,0,0);return{setMask:function(Jt){wn!==Jt&&!dt&&(m.colorMask(Jt,Jt,Jt,Jt),wn=Jt)},setLocked:function(Jt){dt=Jt},setClear:function(Jt,mr,kr,_o,Ii){Ii===!0&&(Jt*=_o,mr*=_o,kr*=_o),Mn.set(Jt,mr,kr,_o),Xn.equals(Mn)===!1&&(m.clearColor(Jt,mr,kr,_o),Xn.copy(Mn))},reset:function(){dt=!1,wn=null,Xn.set(-1,0,0,0)}}}function L(){var dt=!1,Mn=null,wn=null,Xn=null;return{setTest:function(Jt){Jt?Zt(2929):un(2929)},setMask:function(Jt){Mn!==Jt&&!dt&&(m.depthMask(Jt),Mn=Jt)},setFunc:function(Jt){if(wn!==Jt){if(Jt)switch(Jt){case Le:m.depthFunc(512);break;case Ye:m.depthFunc(519);break;case Re:m.depthFunc(513);break;case re:m.depthFunc(515);break;case oe:m.depthFunc(514);break;case we:m.depthFunc(518);break;case ge:m.depthFunc(516);break;case be:m.depthFunc(517);break;default:m.depthFunc(515)}else m.depthFunc(515);wn=Jt}},setLocked:function(Jt){dt=Jt},setClear:function(Jt){Xn!==Jt&&(m.clearDepth(Jt),Xn=Jt)},reset:function(){dt=!1,Mn=null,wn=null,Xn=null}}}function D(){var dt=!1,Mn=null,wn=null,Xn=null,An=null,Jt=null,mr=null,kr=null,_o=null;return{setTest:function(ui){dt||(ui?Zt(2960):un(2960))},setMask:function(ui){Mn!==ui&&!dt&&(m.stencilMask(ui),Mn=ui)},setFunc:function(ui,zr,Yo){(wn!==ui||Xn!==zr||An!==Yo)&&(m.stencilFunc(ui,zr,Yo),wn=ui,Xn=zr,An=Yo)},setOp:function(ui,zr,Yo){(Jt!==ui||mr!==zr||kr!==Yo)&&(m.stencilOp(ui,zr,Yo),Jt=ui,mr=zr,kr=Yo)},setLocked:function(ui){dt=ui},setClear:function(ui){_o!==ui&&(m.clearStencil(ui),_o=ui)},reset:function(){dt=!1,Mn=null,wn=null,Xn=null,An=null,Jt=null,mr=null,kr=null,_o=null}}}var N=new _,Y=new L,z=new D,X={},j=null,q=null,te=null,ae=null,ne=null,Q=null,xe=null,Te=null,de=null,le=!1,Ae=null,je=null,He=null,ut=null,qe=null,Be=m.getParameter(35661),rt=!1,st=0,Je=m.getParameter(7938);Je.indexOf("WebGL")!==-1?(st=parseFloat(/^WebGL\ ([0-9])/.exec(Je)[1]),rt=st>=1):Je.indexOf("OpenGL ES")!==-1&&(st=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Je)[1]),rt=st>=2);var ft=null,vt={},Vt=new Ur,Gt=new Ur;function Yt(dt,Mn,wn){var Xn=new Uint8Array(4),An=m.createTexture();m.bindTexture(dt,An),m.texParameteri(dt,10241,9728),m.texParameteri(dt,10240,9728);for(var Jt=0;Jt<wn;Jt++)m.texImage2D(Mn+Jt,0,6408,1,1,0,6408,5121,Xn);return An}var Dt={};Dt[3553]=Yt(3553,3553,1),Dt[34067]=Yt(34067,34069,6),N.setClear(0,0,0,1),Y.setClear(1),z.setClear(0),Zt(2929),Y.setFunc(re),br(!1),pr(e),Zt(2884),dr(O);function Zt(dt){X[dt]!==!0&&(m.enable(dt),X[dt]=!0)}function un(dt){X[dt]!==!1&&(m.disable(dt),X[dt]=!1)}function Yn(dt){return j!==dt?(m.useProgram(dt),j=dt,!0):!1}var Ot=(c={},c[ce]=32774,c[ve]=32778,c[Ve]=32779,c);if(x)Ot[Me]=32775,Ot[Ee]=32776;else{var Er=u.get("EXT_blend_minmax");Er!==null&&(Ot[Me]=Er.MIN_EXT,Ot[Ee]=Er.MAX_EXT)}var er=(f={},f[Ne]=0,f[Oe]=1,f[tt]=768,f[Qe]=770,f[De]=776,f[Wt]=774,f[mt]=772,f[Ze]=769,f[at]=771,f[et]=775,f[Ht]=773,f);function dr(dt,Mn,wn,Xn,An,Jt,mr,kr){if(dt===O){q&&(un(3042),q=!1);return}if(q||(Zt(3042),q=!0),dt!==K){if(dt!==te||kr!==le){if((ae!==ce||xe!==ce)&&(m.blendEquation(32774),ae=ce,xe=ce),kr)switch(dt){case U:m.blendFuncSeparate(1,771,1,771);break;case $:m.blendFunc(1,1);break;case ie:m.blendFuncSeparate(0,0,769,771);break;case ue:m.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}else switch(dt){case U:m.blendFuncSeparate(770,771,1,771);break;case $:m.blendFunc(770,1);break;case ie:m.blendFunc(0,769);break;case ue:m.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}ne=null,Q=null,Te=null,de=null,te=dt,le=kr}return}An=An||Mn,Jt=Jt||wn,mr=mr||Xn,(Mn!==ae||An!==xe)&&(m.blendEquationSeparate(Ot[Mn],Ot[An]),ae=Mn,xe=An),(wn!==ne||Xn!==Q||Jt!==Te||mr!==de)&&(m.blendFuncSeparate(er[wn],er[Xn],er[Jt],er[mr]),ne=wn,Q=Xn,Te=Jt,de=mr),te=dt,le=null}function gn(dt,Mn){dt.side===A?un(2884):Zt(2884);var wn=dt.side===B;Mn&&(wn=!wn),br(wn),dt.blending===U&&dt.transparent===!1?dr(O):dr(dt.blending,dt.blendEquation,dt.blendSrc,dt.blendDst,dt.blendEquationAlpha,dt.blendSrcAlpha,dt.blendDstAlpha,dt.premultipliedAlpha),Y.setFunc(dt.depthFunc),Y.setTest(dt.depthTest),Y.setMask(dt.depthWrite),N.setMask(dt.colorWrite);var Xn=dt.stencilWrite;z.setTest(Xn),Xn&&(z.setMask(dt.stencilWriteMask),z.setFunc(dt.stencilFunc,dt.stencilRef,dt.stencilFuncMask),z.setOp(dt.stencilFail,dt.stencilZFail,dt.stencilZPass)),Hr(dt.polygonOffset,dt.polygonOffsetFactor,dt.polygonOffsetUnits)}function br(dt){Ae!==dt&&(dt?m.frontFace(2304):m.frontFace(2305),Ae=dt)}function pr(dt){dt!==l?(Zt(2884),dt!==je&&(dt===e?m.cullFace(1029):dt===p?m.cullFace(1028):m.cullFace(1032))):un(2884),je=dt}function wi(dt){dt!==He&&(rt&&m.lineWidth(dt),He=dt)}function Hr(dt,Mn,wn){dt?(Zt(32823),(ut!==Mn||qe!==wn)&&(m.polygonOffset(Mn,wn),ut=Mn,qe=wn)):un(32823)}function Xi(dt){dt?Zt(3089):un(3089)}function fo(dt){dt===void 0&&(dt=33984+Be-1),ft!==dt&&(m.activeTexture(dt),ft=dt)}function es(dt,Mn){ft===null&&fo();var wn=vt[ft];wn===void 0&&(wn={type:void 0,texture:void 0},vt[ft]=wn),(wn.type!==dt||wn.texture!==Mn)&&(m.bindTexture(dt,Mn||Dt[dt]),wn.type=dt,wn.texture=Mn)}function zo(){var dt=vt[ft];dt!==void 0&&dt.type!==void 0&&(m.bindTexture(dt.type,null),dt.type=void 0,dt.texture=void 0)}function Hi(){try{m.compressedTexImage2D.apply(m,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function $e(){try{m.texImage2D.apply(m,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function We(){try{m.texImage3D.apply(m,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function yn(dt){Vt.equals(dt)===!1&&(m.scissor(dt.x,dt.y,dt.z,dt.w),Vt.copy(dt))}function $t(dt){Gt.equals(dt)===!1&&(m.viewport(dt.x,dt.y,dt.z,dt.w),Gt.copy(dt))}function tr(){X={},ft=null,vt={},j=null,q=null,te=null,ae=null,ne=null,Q=null,xe=null,Te=null,de=null,le=!1,Ae=null,je=null,He=null,ut=null,qe=null,N.reset(),Y.reset(),z.reset()}return{buffers:{color:N,depth:Y,stencil:z},enable:Zt,disable:un,useProgram:Yn,setBlending:dr,setMaterial:gn,setFlipSided:br,setCullFace:pr,setLineWidth:wi,setPolygonOffset:Hr,setScissorTest:Xi,activeTexture:fo,bindTexture:es,unbindTexture:zo,compressedTexImage2D:Hi,texImage2D:$e,texImage3D:We,scissor:yn,viewport:$t,reset:tr}}function wb(m,u,d,c,f,x,_){var L,D,N=f.isWebGL2,Y=f.maxTextures,z=f.maxCubemapSize,X=f.maxTextureSize,j=f.maxSamples,q=new WeakMap,te,ae=!1;try{ae=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch($e){}function ne($e,We){return ae?new OffscreenCanvas($e,We):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function Q($e,We,yn,$t){var tr=1;if(($e.width>$t||$e.height>$t)&&(tr=$t/Math.max($e.width,$e.height)),tr<1||We===!0)if(typeof HTMLImageElement!="undefined"&&$e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&$e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&$e instanceof ImageBitmap){var dt=We?$n.floorPowerOfTwo:Math.floor,Mn=dt(tr*$e.width),wn=dt(tr*$e.height);te===void 0&&(te=ne(Mn,wn));var Xn=yn?ne(Mn,wn):te;Xn.width=Mn,Xn.height=wn;var An=Xn.getContext("2d");return An.drawImage($e,0,0,Mn,wn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$e.width+"x"+$e.height+") to ("+Mn+"x"+wn+")."),Xn}else return"data"in $e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$e.width+"x"+$e.height+")."),$e;return $e}function xe($e){return $n.isPowerOfTwo($e.width)&&$n.isPowerOfTwo($e.height)}function Te($e){return N?!1:$e.wrapS!==Xe||$e.wrapT!==Xe||$e.minFilter!==zt&&$e.minFilter!==fr}function de($e,We){return $e.generateMipmaps&&We&&$e.minFilter!==zt&&$e.minFilter!==fr}function le($e,We,yn,$t){m.generateMipmap($e);var tr=c.get(We);tr.__maxMipLevel=Math.log(Math.max(yn,$t))*Math.LOG2E}function Ae($e,We,yn){if(N===!1)return We;if($e!==null){if(m[$e]!==void 0)return m[$e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$e+"'")}var $t=We;return We===6403&&(yn===5126&&($t=33326),yn===5131&&($t=33325),yn===5121&&($t=33321)),We===6407&&(yn===5126&&($t=34837),yn===5131&&($t=34843),yn===5121&&($t=32849)),We===6408&&(yn===5126&&($t=34836),yn===5131&&($t=34842),yn===5121&&($t=32856)),($t===33325||$t===33326||$t===34842||$t===34836)&&u.get("EXT_color_buffer_float"),$t}function je($e){return $e===zt||$e===sn||$e===zn?9728:9729}function He($e){var We=$e.target;We.removeEventListener("dispose",He),qe(We),We.isVideoTexture&&q.delete(We),_.memory.textures--}function ut($e){var We=$e.target;We.removeEventListener("dispose",ut),Be(We),_.memory.textures--}function qe($e){var We=c.get($e);if(We.__webglInit===void 0)return;m.deleteTexture(We.__webglTexture),c.remove($e)}function Be($e){var We=c.get($e),yn=c.get($e.texture);if(!$e)return;if(yn.__webglTexture!==void 0&&m.deleteTexture(yn.__webglTexture),$e.depthTexture&&$e.depthTexture.dispose(),$e.isWebGLCubeRenderTarget)for(var $t=0;$t<6;$t++)m.deleteFramebuffer(We.__webglFramebuffer[$t]),We.__webglDepthbuffer&&m.deleteRenderbuffer(We.__webglDepthbuffer[$t]);else m.deleteFramebuffer(We.__webglFramebuffer),We.__webglDepthbuffer&&m.deleteRenderbuffer(We.__webglDepthbuffer),We.__webglMultisampledFramebuffer&&m.deleteFramebuffer(We.__webglMultisampledFramebuffer),We.__webglColorRenderbuffer&&m.deleteRenderbuffer(We.__webglColorRenderbuffer),We.__webglDepthRenderbuffer&&m.deleteRenderbuffer(We.__webglDepthRenderbuffer);c.remove($e.texture),c.remove($e)}var rt=0;function st(){rt=0}function Je(){var $e=rt;return $e>=Y&&console.warn("THREE.WebGLTextures: Trying to use "+$e+" texture units while this GPU supports only "+Y),rt+=1,$e}function ft($e,We){var yn=c.get($e);if($e.isVideoTexture&&Xi($e),$e.version>0&&yn.__version!==$e.version){var $t=$e.image;if($t===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if($t.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Yn(yn,$e,We);return}}d.activeTexture(33984+We),d.bindTexture(3553,yn.__webglTexture)}function vt($e,We){var yn=c.get($e);if($e.version>0&&yn.__version!==$e.version){Yn(yn,$e,We);return}d.activeTexture(33984+We),d.bindTexture(35866,yn.__webglTexture)}function Vt($e,We){var yn=c.get($e);if($e.version>0&&yn.__version!==$e.version){Yn(yn,$e,We);return}d.activeTexture(33984+We),d.bindTexture(32879,yn.__webglTexture)}function Gt($e,We){var yn=c.get($e);if($e.version>0&&yn.__version!==$e.version){Ot(yn,$e,We);return}d.activeTexture(33984+We),d.bindTexture(34067,yn.__webglTexture)}var Yt=(L={},L[qt]=10497,L[Xe]=33071,L[Ct]=33648,L),Dt=(D={},D[zt]=9728,D[sn]=9984,D[zn]=9986,D[fr]=9729,D[Zr]=9985,D[Xr]=9987,D);function Zt($e,We,yn){yn?(m.texParameteri($e,10242,Yt[We.wrapS]),m.texParameteri($e,10243,Yt[We.wrapT]),($e===32879||$e===35866)&&m.texParameteri($e,32882,Yt[We.wrapR]),m.texParameteri($e,10240,Dt[We.magFilter]),m.texParameteri($e,10241,Dt[We.minFilter])):(m.texParameteri($e,10242,33071),m.texParameteri($e,10243,33071),($e===32879||$e===35866)&&m.texParameteri($e,32882,33071),(We.wrapS!==Xe||We.wrapT!==Xe)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),m.texParameteri($e,10240,je(We.magFilter)),m.texParameteri($e,10241,je(We.minFilter)),We.minFilter!==zt&&We.minFilter!==fr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var $t=u.get("EXT_texture_filter_anisotropic");if($t){if(We.type===yo&&u.get("OES_texture_float_linear")===null)return;if(We.type===Fe&&(N||u.get("OES_texture_half_float_linear"))===null)return;(We.anisotropy>1||c.get(We).__currentAnisotropy)&&(m.texParameterf($e,$t.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(We.anisotropy,f.getMaxAnisotropy())),c.get(We).__currentAnisotropy=We.anisotropy)}}function un($e,We){$e.__webglInit===void 0&&($e.__webglInit=!0,We.addEventListener("dispose",He),$e.__webglTexture=m.createTexture(),_.memory.textures++)}function Yn($e,We,yn){var $t=3553;We.isDataTexture2DArray&&($t=35866),We.isDataTexture3D&&($t=32879),un($e,We),d.activeTexture(33984+yn),d.bindTexture($t,$e.__webglTexture),m.pixelStorei(37440,We.flipY),m.pixelStorei(37441,We.premultiplyAlpha),m.pixelStorei(3317,We.unpackAlignment);var tr=Te(We)&&xe(We.image)===!1,dt=Q(We.image,tr,!1,X),Mn=xe(dt)||N,wn=x.convert(We.format),Xn=x.convert(We.type),An=Ae(We.internalFormat,wn,Xn);Zt($t,We,Mn);var Jt,mr=We.mipmaps;if(We.isDepthTexture)An=6402,N?We.type===yo?An=36012:We.type===Jo?An=33190:We.type===Kt?An=35056:An=33189:We.type===yo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),We.format===Kn&&An===6402&&(We.type!==si&&We.type!==Jo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),We.type=si,Xn=x.convert(We.type))),We.format===Kr&&An===6402&&(An=34041,We.type!==Kt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),We.type=Kt,Xn=x.convert(We.type))),d.texImage2D(3553,0,An,dt.width,dt.height,0,wn,Xn,null);else if(We.isDataTexture)if(mr.length>0&&Mn){for(var kr=0,_o=mr.length;kr<_o;kr++)Jt=mr[kr],d.texImage2D(3553,kr,An,Jt.width,Jt.height,0,wn,Xn,Jt.data);We.generateMipmaps=!1,$e.__maxMipLevel=mr.length-1}else d.texImage2D(3553,0,An,dt.width,dt.height,0,wn,Xn,dt.data),$e.__maxMipLevel=0;else if(We.isCompressedTexture){for(var Ii=0,ui=mr.length;Ii<ui;Ii++)Jt=mr[Ii],We.format!==Qt&&We.format!==Zn?wn!==null?d.compressedTexImage2D(3553,Ii,An,Jt.width,Jt.height,0,Jt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):d.texImage2D(3553,Ii,An,Jt.width,Jt.height,0,wn,Xn,Jt.data);$e.__maxMipLevel=mr.length-1}else if(We.isDataTexture2DArray)d.texImage3D(35866,0,An,dt.width,dt.height,dt.depth,0,wn,Xn,dt.data),$e.__maxMipLevel=0;else if(We.isDataTexture3D)d.texImage3D(32879,0,An,dt.width,dt.height,dt.depth,0,wn,Xn,dt.data),$e.__maxMipLevel=0;else if(mr.length>0&&Mn){for(var zr=0,Yo=mr.length;zr<Yo;zr++)Jt=mr[zr],d.texImage2D(3553,zr,An,wn,Xn,Jt);We.generateMipmaps=!1,$e.__maxMipLevel=mr.length-1}else d.texImage2D(3553,0,An,wn,Xn,dt),$e.__maxMipLevel=0;de(We,Mn)&&le($t,We,dt.width,dt.height),$e.__version=We.version,We.onUpdate&&We.onUpdate(We)}function Ot($e,We,yn){if(We.image.length!==6)return;un($e,We),d.activeTexture(33984+yn),d.bindTexture(34067,$e.__webglTexture),m.pixelStorei(37440,We.flipY);for(var $t=We&&(We.isCompressedTexture||We.image[0].isCompressedTexture),tr=We.image[0]&&We.image[0].isDataTexture,dt=[],Mn=0;Mn<6;Mn++)!$t&&!tr?dt[Mn]=Q(We.image[Mn],!1,!0,z):dt[Mn]=tr?We.image[Mn].image:We.image[Mn];var wn=dt[0],Xn=xe(wn)||N,An=x.convert(We.format),Jt=x.convert(We.type),mr=Ae(We.internalFormat,An,Jt);Zt(34067,We,Xn);var kr;if($t){for(var _o=0;_o<6;_o++){kr=dt[_o].mipmaps;for(var Ii=0;Ii<kr.length;Ii++){var ui=kr[Ii];We.format!==Qt&&We.format!==Zn?An!==null?d.compressedTexImage2D(34069+_o,Ii,mr,ui.width,ui.height,0,ui.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):d.texImage2D(34069+_o,Ii,mr,ui.width,ui.height,0,An,Jt,ui.data)}}$e.__maxMipLevel=kr.length-1}else{kr=We.mipmaps;for(var zr=0;zr<6;zr++)if(tr){d.texImage2D(34069+zr,0,mr,dt[zr].width,dt[zr].height,0,An,Jt,dt[zr].data);for(var Yo=0;Yo<kr.length;Yo++){var Dp=kr[Yo],Y0=Dp.image[zr].image;d.texImage2D(34069+zr,Yo+1,mr,Y0.width,Y0.height,0,An,Jt,Y0.data)}}else{d.texImage2D(34069+zr,0,mr,An,Jt,dt[zr]);for(var sc=0;sc<kr.length;sc++){var Pf=kr[sc];d.texImage2D(34069+zr,sc+1,mr,An,Jt,Pf.image[zr])}}$e.__maxMipLevel=kr.length}de(We,Xn)&&le(34067,We,wn.width,wn.height),$e.__version=We.version,We.onUpdate&&We.onUpdate(We)}function Er($e,We,yn,$t){var tr=x.convert(We.texture.format),dt=x.convert(We.texture.type),Mn=Ae(We.texture.internalFormat,tr,dt);d.texImage2D($t,0,Mn,We.width,We.height,0,tr,dt,null),m.bindFramebuffer(36160,$e),m.framebufferTexture2D(36160,yn,$t,c.get(We.texture).__webglTexture,0),m.bindFramebuffer(36160,null)}function er($e,We,yn){if(m.bindRenderbuffer(36161,$e),We.depthBuffer&&!We.stencilBuffer){var $t=33189;if(yn){var tr=We.depthTexture;tr&&tr.isDepthTexture&&(tr.type===yo?$t=36012:tr.type===Jo&&($t=33190));var dt=Hr(We);m.renderbufferStorageMultisample(36161,dt,$t,We.width,We.height)}else m.renderbufferStorage(36161,$t,We.width,We.height);m.framebufferRenderbuffer(36160,36096,36161,$e)}else if(We.depthBuffer&&We.stencilBuffer){if(yn){var Mn=Hr(We);m.renderbufferStorageMultisample(36161,Mn,35056,We.width,We.height)}else m.renderbufferStorage(36161,34041,We.width,We.height);m.framebufferRenderbuffer(36160,33306,36161,$e)}else{var wn=x.convert(We.texture.format),Xn=x.convert(We.texture.type),An=Ae(We.texture.internalFormat,wn,Xn);if(yn){var Jt=Hr(We);m.renderbufferStorageMultisample(36161,Jt,An,We.width,We.height)}else m.renderbufferStorage(36161,An,We.width,We.height)}m.bindRenderbuffer(36161,null)}function dr($e,We){var yn=We&&We.isWebGLCubeRenderTarget;if(yn)throw new Error("Depth Texture with cube render targets is not supported");if(m.bindFramebuffer(36160,$e),!(We.depthTexture&&We.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!c.get(We.depthTexture).__webglTexture||We.depthTexture.image.width!==We.width||We.depthTexture.image.height!==We.height)&&(We.depthTexture.image.width=We.width,We.depthTexture.image.height=We.height,We.depthTexture.needsUpdate=!0),ft(We.depthTexture,0);var $t=c.get(We.depthTexture).__webglTexture;if(We.depthTexture.format===Kn)m.framebufferTexture2D(36160,36096,3553,$t,0);else if(We.depthTexture.format===Kr)m.framebufferTexture2D(36160,33306,3553,$t,0);else throw new Error("Unknown depthTexture format")}function gn($e){var We=c.get($e),yn=$e.isWebGLCubeRenderTarget===!0;if($e.depthTexture){if(yn)throw new Error("target.depthTexture not supported in Cube render targets");dr(We.__webglFramebuffer,$e)}else if(yn){We.__webglDepthbuffer=[];for(var $t=0;$t<6;$t++)m.bindFramebuffer(36160,We.__webglFramebuffer[$t]),We.__webglDepthbuffer[$t]=m.createRenderbuffer(),er(We.__webglDepthbuffer[$t],$e,!1)}else m.bindFramebuffer(36160,We.__webglFramebuffer),We.__webglDepthbuffer=m.createRenderbuffer(),er(We.__webglDepthbuffer,$e,!1);m.bindFramebuffer(36160,null)}function br($e){var We=c.get($e),yn=c.get($e.texture);$e.addEventListener("dispose",ut),yn.__webglTexture=m.createTexture(),_.memory.textures++;var $t=$e.isWebGLCubeRenderTarget===!0,tr=$e.isWebGLMultisampleRenderTarget===!0,dt=xe($e)||N;if(N&&$e.texture.format===Zn&&($e.texture.type===yo||$e.texture.type===Fe)&&($e.texture.format=Qt,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),$t){We.__webglFramebuffer=[];for(var Mn=0;Mn<6;Mn++)We.__webglFramebuffer[Mn]=m.createFramebuffer()}else if(We.__webglFramebuffer=m.createFramebuffer(),tr)if(N){We.__webglMultisampledFramebuffer=m.createFramebuffer(),We.__webglColorRenderbuffer=m.createRenderbuffer(),m.bindRenderbuffer(36161,We.__webglColorRenderbuffer);var wn=x.convert($e.texture.format),Xn=x.convert($e.texture.type),An=Ae($e.texture.internalFormat,wn,Xn),Jt=Hr($e);m.renderbufferStorageMultisample(36161,Jt,An,$e.width,$e.height),m.bindFramebuffer(36160,We.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(36160,36064,36161,We.__webglColorRenderbuffer),m.bindRenderbuffer(36161,null),$e.depthBuffer&&(We.__webglDepthRenderbuffer=m.createRenderbuffer(),er(We.__webglDepthRenderbuffer,$e,!0)),m.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if($t){d.bindTexture(34067,yn.__webglTexture),Zt(34067,$e.texture,dt);for(var mr=0;mr<6;mr++)Er(We.__webglFramebuffer[mr],$e,36064,34069+mr);de($e.texture,dt)&&le(34067,$e.texture,$e.width,$e.height),d.bindTexture(34067,null)}else d.bindTexture(3553,yn.__webglTexture),Zt(3553,$e.texture,dt),Er(We.__webglFramebuffer,$e,36064,3553),de($e.texture,dt)&&le(3553,$e.texture,$e.width,$e.height),d.bindTexture(3553,null);$e.depthBuffer&&gn($e)}function pr($e){var We=$e.texture,yn=xe($e)||N;if(de(We,yn)){var $t=$e.isWebGLCubeRenderTarget?34067:3553,tr=c.get(We).__webglTexture;d.bindTexture($t,tr),le($t,We,$e.width,$e.height),d.bindTexture($t,null)}}function wi($e){if($e.isWebGLMultisampleRenderTarget)if(N){var We=c.get($e);m.bindFramebuffer(36008,We.__webglMultisampledFramebuffer),m.bindFramebuffer(36009,We.__webglFramebuffer);var yn=$e.width,$t=$e.height,tr=16384;$e.depthBuffer&&(tr|=256),$e.stencilBuffer&&(tr|=1024),m.blitFramebuffer(0,0,yn,$t,0,0,yn,$t,tr,9728),m.bindFramebuffer(36160,We.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Hr($e){return N&&$e.isWebGLMultisampleRenderTarget?Math.min(j,$e.samples):0}function Xi($e){var We=_.render.frame;q.get($e)!==We&&(q.set($e,We),$e.update())}var fo=!1,es=!1;function zo($e,We){$e&&$e.isWebGLRenderTarget&&(fo===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),fo=!0),$e=$e.texture),ft($e,We)}function Hi($e,We){$e&&$e.isWebGLCubeRenderTarget&&(es===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),es=!0),$e=$e.texture),Gt($e,We)}this.allocateTextureUnit=Je,this.resetTextureUnits=st,this.setTexture2D=ft,this.setTexture2DArray=vt,this.setTexture3D=Vt,this.setTextureCube=Gt,this.setupRenderTarget=br,this.updateRenderTargetMipmap=pr,this.updateMultisampleRenderTarget=wi,this.safeSetTexture2D=zo,this.safeSetTextureCube=Hi}function L2(m,u,d){var c=d.isWebGL2;function f(x){var _;if(x===Mr)return 5121;if(x===bt)return 32819;if(x===Mt)return 32820;if(x===It)return 33635;if(x===eo)return 5120;if(x===Ms)return 5122;if(x===si)return 5123;if(x===Lo)return 5124;if(x===Jo)return 5125;if(x===yo)return 5126;if(x===Fe)return c?5131:(_=u.get("OES_texture_half_float"),_!==null?_.HALF_FLOAT_OES:null);if(x===yr)return 6406;if(x===Zn)return 6407;if(x===Qt)return 6408;if(x===Sr)return 6409;if(x===Fi)return 6410;if(x===Kn)return 6402;if(x===Kr)return 34041;if(x===ca)return 6403;if(x===fi)return 36244;if(x===fa)return 33319;if(x===Wi)return 33320;if(x===tu)return 36248;if(x===Uo)return 36249;if(x===kn||x===wl||x===ks||x===nu)if(_=u.get("WEBGL_compressed_texture_s3tc"),_!==null){if(x===kn)return _.COMPRESSED_RGB_S3TC_DXT1_EXT;if(x===wl)return _.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(x===ks)return _.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(x===nu)return _.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(x===Bi||x===to||x===Lu||x===Zo)if(_=u.get("WEBGL_compressed_texture_pvrtc"),_!==null){if(x===Bi)return _.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(x===to)return _.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(x===Lu)return _.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(x===Zo)return _.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(x===os)return _=u.get("WEBGL_compressed_texture_etc1"),_!==null?_.COMPRESSED_RGB_ETC1_WEBGL:null;if((x===ru||x===Pu)&&(_=u.get("WEBGL_compressed_texture_etc"),_!==null)){if(x===ru)return _.COMPRESSED_RGB8_ETC2;if(x===Pu)return _.COMPRESSED_RGBA8_ETC2_EAC}if(x===Ss||x===xh||x===Wv||x===Bm||x===t0||x===jv||x===jt||x===_c||x===Qv||x===Eh||x===bi||x===Mc||x===qv||x===Jv||x===Nm||x===rn||x===Po||x===wh||x===mf||x===Ru||x===Im||x===Zv||x===Kv||x===Om||x===Ga||x===Xa||x===Um||x===km)return _=u.get("WEBGL_compressed_texture_astc"),_!==null?x:null;if(x===n0)return _=u.get("EXT_texture_compression_bptc"),_!==null?x:null;if(x===Kt)return c?34042:(_=u.get("WEBGL_depth_texture"),_!==null?_.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:f}}function P2(m){m===void 0&&(m=[]),ro.call(this),this.cameras=m}P2.prototype=Object.assign(Object.create(ro.prototype),{constructor:P2,isArrayCamera:!0});function D0(){Tn.call(this),this.type="Group"}D0.prototype=Object.assign(Object.create(Tn.prototype),{constructor:D0,isGroup:!0});function lp(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(lp.prototype,{constructor:lp,getHandSpace:function(){if(this._hand===null&&(this._hand=new D0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var u=0;u<=window.XRHand.LITTLE_PHALANX_TIP;u++){var d=new D0;d.matrixAutoUpdate=!1,d.visible=!1,this._hand.joints.push(d),this._hand.add(d)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new D0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new D0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(u){return this._targetRay!==null&&this._targetRay.dispatchEvent(u),this._grip!==null&&this._grip.dispatchEvent(u),this._hand!==null&&this._hand.dispatchEvent(u),this},disconnect:function(u){return this.dispatchEvent({type:"disconnected",data:u}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(u,d,c){var f=null,x=null,_=null,L=this._targetRay,D=this._grip,N=this._hand;if(u&&d.session.visibilityState!=="visible-blurred")if(N&&u.hand){_=!0;for(var Y=0;Y<=window.XRHand.LITTLE_PHALANX_TIP;Y++)if(u.hand[Y]){var z=d.getJointPose(u.hand[Y],c),X=N.joints[Y];z!==null&&(X.matrix.fromArray(z.transform.matrix),X.matrix.decompose(X.position,X.rotation,X.scale),X.jointRadius=z.radius),X.visible=z!==null;var j=N.joints[window.XRHand.INDEX_PHALANX_TIP],q=N.joints[window.XRHand.THUMB_PHALANX_TIP],te=j.position.distanceTo(q.position),ae=.02,ne=.005;N.inputState.pinching&&te>ae+ne?(N.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:u.handedness,target:this})):!N.inputState.pinching&&te<=ae-ne&&(N.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:u.handedness,target:this}))}}else L!==null&&(f=d.getPose(u.targetRaySpace,c),f!==null&&(L.matrix.fromArray(f.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale))),D!==null&&u.gripSpace&&(x=d.getPose(u.gripSpace,c),x!==null&&(D.matrix.fromArray(x.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)));return L!==null&&(L.visible=f!==null),D!==null&&(D.visible=x!==null),N!==null&&(N.visible=_!==null),this}});function qA(m,u){var d=this,c=null,f=1,x=null,_="local-floor",L=null,D=[],N=new Map,Y=new ro;Y.layers.enable(1),Y.viewport=new Ur;var z=new ro;z.layers.enable(2),z.viewport=new Ur;var X=[Y,z],j=new P2;j.layers.enable(1),j.layers.enable(2);var q=null,te=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(qe){var Be=D[qe];return Be===void 0&&(Be=new lp,D[qe]=Be),Be.getTargetRaySpace()},this.getControllerGrip=function(qe){var Be=D[qe];return Be===void 0&&(Be=new lp,D[qe]=Be),Be.getGripSpace()},this.getHand=function(qe){var Be=D[qe];return Be===void 0&&(Be=new lp,D[qe]=Be),Be.getHandSpace()};function ae(qe){var Be=N.get(qe.inputSource);Be&&Be.dispatchEvent({type:qe.type,data:qe.inputSource})}function ne(){N.forEach(function(qe,Be){qe.disconnect(Be)}),N.clear(),m.setFramebuffer(null),m.setRenderTarget(m.getRenderTarget()),ut.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}function Q(qe){x=qe,ut.setContext(c),ut.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(qe){f=qe,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(qe){_=qe,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return x},this.getSession=function(){return c},this.setSession=function(qe){if(c=qe,c!==null){c.addEventListener("select",ae),c.addEventListener("selectstart",ae),c.addEventListener("selectend",ae),c.addEventListener("squeeze",ae),c.addEventListener("squeezestart",ae),c.addEventListener("squeezeend",ae),c.addEventListener("end",ne);var Be=u.getContextAttributes();Be.xrCompatible!==!0&&u.makeXRCompatible();var rt={antialias:Be.antialias,alpha:Be.alpha,depth:Be.depth,stencil:Be.stencil,framebufferScaleFactor:f},st=new XRWebGLLayer(c,u,rt);c.updateRenderState({baseLayer:st}),c.requestReferenceSpace(_).then(Q),c.addEventListener("inputsourceschange",xe)}};function xe(qe){for(var Be=c.inputSources,rt=0;rt<D.length;rt++)N.set(Be[rt],D[rt]);for(var st=0;st<qe.removed.length;st++){var Je=qe.removed[st],ft=N.get(Je);ft&&(ft.dispatchEvent({type:"disconnected",data:Je}),N.delete(Je))}for(var vt=0;vt<qe.added.length;vt++){var Vt=qe.added[vt],Gt=N.get(Vt);Gt&&Gt.dispatchEvent({type:"connected",data:Vt})}}var Te=new Pe,de=new Pe;function le(qe,Be,rt){Te.setFromMatrixPosition(Be.matrixWorld),de.setFromMatrixPosition(rt.matrixWorld);var st=Te.distanceTo(de),Je=Be.projectionMatrix.elements,ft=rt.projectionMatrix.elements,vt=Je[14]/(Je[10]-1),Vt=Je[14]/(Je[10]+1),Gt=(Je[9]+1)/Je[5],Yt=(Je[9]-1)/Je[5],Dt=(Je[8]-1)/Je[0],Zt=(ft[8]+1)/ft[0],un=vt*Dt,Yn=vt*Zt,Ot=st/(-Dt+Zt),Er=Ot*-Dt;Be.matrixWorld.decompose(qe.position,qe.quaternion,qe.scale),qe.translateX(Er),qe.translateZ(Ot),qe.matrixWorld.compose(qe.position,qe.quaternion,qe.scale),qe.matrixWorldInverse.copy(qe.matrixWorld).invert();var er=vt+Ot,dr=Vt+Ot,gn=un-Er,br=Yn+(st-Er),pr=Gt*Vt/dr*er,wi=Yt*Vt/dr*er;qe.projectionMatrix.makePerspective(gn,br,pr,wi,er,dr)}function Ae(qe,Be){Be===null?qe.matrixWorld.copy(qe.matrix):qe.matrixWorld.multiplyMatrices(Be.matrixWorld,qe.matrix),qe.matrixWorldInverse.copy(qe.matrixWorld).invert()}this.getCamera=function(qe){j.near=z.near=Y.near=qe.near,j.far=z.far=Y.far=qe.far,(q!==j.near||te!==j.far)&&(c.updateRenderState({depthNear:j.near,depthFar:j.far}),q=j.near,te=j.far);var Be=qe.parent,rt=j.cameras;Ae(j,Be);for(var st=0;st<rt.length;st++)Ae(rt[st],Be);qe.matrixWorld.copy(j.matrixWorld);for(var Je=qe.children,ft=0,vt=Je.length;ft<vt;ft++)Je[ft].updateMatrixWorld(!0);return rt.length===2?le(j,Y,z):j.projectionMatrix.copy(Y.projectionMatrix),j};var je=null;function He(qe,Be){if(L=Be.getViewerPose(x),L!==null){var rt=L.views,st=c.renderState.baseLayer;m.setFramebuffer(st.framebuffer);var Je=!1;rt.length!==j.cameras.length&&(j.cameras.length=0,Je=!0);for(var ft=0;ft<rt.length;ft++){var vt=rt[ft],Vt=st.getViewport(vt),Gt=X[ft];Gt.matrix.fromArray(vt.transform.matrix),Gt.projectionMatrix.fromArray(vt.projectionMatrix),Gt.viewport.set(Vt.x,Vt.y,Vt.width,Vt.height),ft===0&&j.matrix.copy(Gt.matrix),Je===!0&&j.cameras.push(Gt)}}for(var Yt=c.inputSources,Dt=0;Dt<D.length;Dt++){var Zt=D[Dt],un=Yt[Dt];Zt.update(un,Be,x)}je&&je(qe,Be)}var ut=new Zd;ut.setAnimationLoop(He),this.setAnimationLoop=function(qe){je=qe},this.dispose=function(){}}Object.assign(qA.prototype,Xs.prototype);function Ab(m){function u(ne,Q){ne.fogColor.value.copy(Q.color),Q.isFog?(ne.fogNear.value=Q.near,ne.fogFar.value=Q.far):Q.isFogExp2&&(ne.fogDensity.value=Q.density)}function d(ne,Q,xe,Te){Q.isMeshBasicMaterial?c(ne,Q):Q.isMeshLambertMaterial?(c(ne,Q),D(ne,Q)):Q.isMeshToonMaterial?(c(ne,Q),Y(ne,Q)):Q.isMeshPhongMaterial?(c(ne,Q),N(ne,Q)):Q.isMeshStandardMaterial?(c(ne,Q),Q.isMeshPhysicalMaterial?X(ne,Q):z(ne,Q)):Q.isMeshMatcapMaterial?(c(ne,Q),j(ne,Q)):Q.isMeshDepthMaterial?(c(ne,Q),q(ne,Q)):Q.isMeshDistanceMaterial?(c(ne,Q),te(ne,Q)):Q.isMeshNormalMaterial?(c(ne,Q),ae(ne,Q)):Q.isLineBasicMaterial?(f(ne,Q),Q.isLineDashedMaterial&&x(ne,Q)):Q.isPointsMaterial?_(ne,Q,xe,Te):Q.isSpriteMaterial?L(ne,Q):Q.isShadowMaterial?(ne.color.value.copy(Q.color),ne.opacity.value=Q.opacity):Q.isShaderMaterial&&(Q.uniformsNeedUpdate=!1)}function c(ne,Q){ne.opacity.value=Q.opacity,Q.color&&ne.diffuse.value.copy(Q.color),Q.emissive&&ne.emissive.value.copy(Q.emissive).multiplyScalar(Q.emissiveIntensity),Q.map&&(ne.map.value=Q.map),Q.alphaMap&&(ne.alphaMap.value=Q.alphaMap),Q.specularMap&&(ne.specularMap.value=Q.specularMap);var xe=m.get(Q).envMap;if(xe){ne.envMap.value=xe,ne.flipEnvMap.value=xe.isCubeTexture&&xe._needsFlipEnvMap?-1:1,ne.reflectivity.value=Q.reflectivity,ne.refractionRatio.value=Q.refractionRatio;var Te=m.get(xe).__maxMipLevel;Te!==void 0&&(ne.maxMipLevel.value=Te)}Q.lightMap&&(ne.lightMap.value=Q.lightMap,ne.lightMapIntensity.value=Q.lightMapIntensity),Q.aoMap&&(ne.aoMap.value=Q.aoMap,ne.aoMapIntensity.value=Q.aoMapIntensity);var de;Q.map?de=Q.map:Q.specularMap?de=Q.specularMap:Q.displacementMap?de=Q.displacementMap:Q.normalMap?de=Q.normalMap:Q.bumpMap?de=Q.bumpMap:Q.roughnessMap?de=Q.roughnessMap:Q.metalnessMap?de=Q.metalnessMap:Q.alphaMap?de=Q.alphaMap:Q.emissiveMap?de=Q.emissiveMap:Q.clearcoatMap?de=Q.clearcoatMap:Q.clearcoatNormalMap?de=Q.clearcoatNormalMap:Q.clearcoatRoughnessMap&&(de=Q.clearcoatRoughnessMap),de!==void 0&&(de.isWebGLRenderTarget&&(de=de.texture),de.matrixAutoUpdate===!0&&de.updateMatrix(),ne.uvTransform.value.copy(de.matrix));var le;Q.aoMap?le=Q.aoMap:Q.lightMap&&(le=Q.lightMap),le!==void 0&&(le.isWebGLRenderTarget&&(le=le.texture),le.matrixAutoUpdate===!0&&le.updateMatrix(),ne.uv2Transform.value.copy(le.matrix))}function f(ne,Q){ne.diffuse.value.copy(Q.color),ne.opacity.value=Q.opacity}function x(ne,Q){ne.dashSize.value=Q.dashSize,ne.totalSize.value=Q.dashSize+Q.gapSize,ne.scale.value=Q.scale}function _(ne,Q,xe,Te){ne.diffuse.value.copy(Q.color),ne.opacity.value=Q.opacity,ne.size.value=Q.size*xe,ne.scale.value=Te*.5,Q.map&&(ne.map.value=Q.map),Q.alphaMap&&(ne.alphaMap.value=Q.alphaMap);var de;Q.map?de=Q.map:Q.alphaMap&&(de=Q.alphaMap),de!==void 0&&(de.matrixAutoUpdate===!0&&de.updateMatrix(),ne.uvTransform.value.copy(de.matrix))}function L(ne,Q){ne.diffuse.value.copy(Q.color),ne.opacity.value=Q.opacity,ne.rotation.value=Q.rotation,Q.map&&(ne.map.value=Q.map),Q.alphaMap&&(ne.alphaMap.value=Q.alphaMap);var xe;Q.map?xe=Q.map:Q.alphaMap&&(xe=Q.alphaMap),xe!==void 0&&(xe.matrixAutoUpdate===!0&&xe.updateMatrix(),ne.uvTransform.value.copy(xe.matrix))}function D(ne,Q){Q.emissiveMap&&(ne.emissiveMap.value=Q.emissiveMap)}function N(ne,Q){ne.specular.value.copy(Q.specular),ne.shininess.value=Math.max(Q.shininess,1e-4),Q.emissiveMap&&(ne.emissiveMap.value=Q.emissiveMap),Q.bumpMap&&(ne.bumpMap.value=Q.bumpMap,ne.bumpScale.value=Q.bumpScale,Q.side===B&&(ne.bumpScale.value*=-1)),Q.normalMap&&(ne.normalMap.value=Q.normalMap,ne.normalScale.value.copy(Q.normalScale),Q.side===B&&ne.normalScale.value.negate()),Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias)}function Y(ne,Q){Q.gradientMap&&(ne.gradientMap.value=Q.gradientMap),Q.emissiveMap&&(ne.emissiveMap.value=Q.emissiveMap),Q.bumpMap&&(ne.bumpMap.value=Q.bumpMap,ne.bumpScale.value=Q.bumpScale,Q.side===B&&(ne.bumpScale.value*=-1)),Q.normalMap&&(ne.normalMap.value=Q.normalMap,ne.normalScale.value.copy(Q.normalScale),Q.side===B&&ne.normalScale.value.negate()),Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias)}function z(ne,Q){ne.roughness.value=Q.roughness,ne.metalness.value=Q.metalness,Q.roughnessMap&&(ne.roughnessMap.value=Q.roughnessMap),Q.metalnessMap&&(ne.metalnessMap.value=Q.metalnessMap),Q.emissiveMap&&(ne.emissiveMap.value=Q.emissiveMap),Q.bumpMap&&(ne.bumpMap.value=Q.bumpMap,ne.bumpScale.value=Q.bumpScale,Q.side===B&&(ne.bumpScale.value*=-1)),Q.normalMap&&(ne.normalMap.value=Q.normalMap,ne.normalScale.value.copy(Q.normalScale),Q.side===B&&ne.normalScale.value.negate()),Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias);var xe=m.get(Q).envMap;xe&&(ne.envMapIntensity.value=Q.envMapIntensity)}function X(ne,Q){z(ne,Q),ne.reflectivity.value=Q.reflectivity,ne.clearcoat.value=Q.clearcoat,ne.clearcoatRoughness.value=Q.clearcoatRoughness,Q.sheen&&ne.sheen.value.copy(Q.sheen),Q.clearcoatMap&&(ne.clearcoatMap.value=Q.clearcoatMap),Q.clearcoatRoughnessMap&&(ne.clearcoatRoughnessMap.value=Q.clearcoatRoughnessMap),Q.clearcoatNormalMap&&(ne.clearcoatNormalScale.value.copy(Q.clearcoatNormalScale),ne.clearcoatNormalMap.value=Q.clearcoatNormalMap,Q.side===B&&ne.clearcoatNormalScale.value.negate()),ne.transmission.value=Q.transmission,Q.transmissionMap&&(ne.transmissionMap.value=Q.transmissionMap)}function j(ne,Q){Q.matcap&&(ne.matcap.value=Q.matcap),Q.bumpMap&&(ne.bumpMap.value=Q.bumpMap,ne.bumpScale.value=Q.bumpScale,Q.side===B&&(ne.bumpScale.value*=-1)),Q.normalMap&&(ne.normalMap.value=Q.normalMap,ne.normalScale.value.copy(Q.normalScale),Q.side===B&&ne.normalScale.value.negate()),Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias)}function q(ne,Q){Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias)}function te(ne,Q){Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias),ne.referencePosition.value.copy(Q.referencePosition),ne.nearDistance.value=Q.nearDistance,ne.farDistance.value=Q.farDistance}function ae(ne,Q){Q.bumpMap&&(ne.bumpMap.value=Q.bumpMap,ne.bumpScale.value=Q.bumpScale,Q.side===B&&(ne.bumpScale.value*=-1)),Q.normalMap&&(ne.normalMap.value=Q.normalMap,ne.normalScale.value.copy(Q.normalScale),Q.side===B&&ne.normalScale.value.negate()),Q.displacementMap&&(ne.displacementMap.value=Q.displacementMap,ne.displacementScale.value=Q.displacementScale,ne.displacementBias.value=Q.displacementBias)}return{refreshFogUniforms:u,refreshMaterialUniforms:d}}function _b(){var m=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return m.style.display="block",m}function f1(m){m=m||{};var u=m.canvas!==void 0?m.canvas:_b(),d=m.context!==void 0?m.context:null,c=m.alpha!==void 0?m.alpha:!1,f=m.depth!==void 0?m.depth:!0,x=m.stencil!==void 0?m.stencil:!0,_=m.antialias!==void 0?m.antialias:!1,L=m.premultipliedAlpha!==void 0?m.premultipliedAlpha:!0,D=m.preserveDrawingBuffer!==void 0?m.preserveDrawingBuffer:!1,N=m.powerPreference!==void 0?m.powerPreference:"default",Y=m.failIfMajorPerformanceCaveat!==void 0?m.failIfMajorPerformanceCaveat:!1,z=null,X=null;this.domElement=u,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ro,this.physicallyCorrectLights=!1,this.toneMapping=ke,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var j=this,q=!1,te=null,ae=0,ne=0,Q=null,xe=null,Te=-1,de=null,le=null,Ae=new Ur,je=new Ur,He=null,ut=u.width,qe=u.height,Be=1,rt=null,st=null,Je=new Ur(0,0,ut,qe),ft=new Ur(0,0,ut,qe),vt=!1,Vt=new qu,Gt=!1,Yt=!1,Dt=new Pr,Zt=new Pe,un={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Yn(){return Q===null?Be:1}var Ot=d;function Er(Ie,Nt){for(var Tt=0;Tt<Ie.length;Tt++){var Xt=Ie[Tt],cn=u.getContext(Xt,Nt);if(cn!==null)return cn}return null}try{var er={alpha:c,depth:f,stencil:x,antialias:_,premultipliedAlpha:L,preserveDrawingBuffer:D,powerPreference:N,failIfMajorPerformanceCaveat:Y};if(u.addEventListener("webglcontextlost",Ii,!1),u.addEventListener("webglcontextrestored",ui,!1),Ot===null){var dr=["webgl2","webgl","experimental-webgl"];if(j.isWebGL1Renderer===!0&&dr.shift(),Ot=Er(dr,er),Ot===null)throw Er(dr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Ot.getShaderPrecisionFormat===void 0&&(Ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}var gn,br,pr,wi,Hr,Xi,fo,es,zo,Hi,$e,We,yn,$t,tr,dt,Mn,wn,Xn,An,Jt;function mr(){gn=new E5(Ot),br=new y5(Ot,gn,m),br.isWebGL2===!1&&(gn.get("WEBGL_depth_texture"),gn.get("OES_texture_float"),gn.get("OES_texture_half_float"),gn.get("OES_texture_half_float_linear"),gn.get("OES_standard_derivatives"),gn.get("OES_element_index_uint"),gn.get("OES_vertex_array_object"),gn.get("ANGLE_instanced_arrays")),gn.get("OES_texture_float_linear"),An=new L2(Ot,gn,br),pr=new Eb(Ot,gn,br),pr.scissor(je.copy(ft).multiplyScalar(Be).floor()),pr.viewport(Ae.copy(Je).multiplyScalar(Be).floor()),wi=new _5(Ot),Hr=new fb,Xi=new wb(Ot,gn,pr,Hr,br,An,wi),fo=new x5(j),es=new Kd(Ot,br),Jt=new g5(Ot,gn,es,br),zo=new w5(Ot,es,wi,Jt),Hi=new b5(Ot,zo,es,wi),Mn=new T5(Ot),tr=new MA(Hr),$e=new YA(j,fo,gn,br,Jt,tr),We=new Ab(Hr),yn=new pb(Hr),$t=new xb(gn,br),dt=new Hx(j,fo,pr,Hi,L),wn=new zx(Ot,gn,wi,br),Xn=new A5(Ot,gn,wi,br),wi.programs=$e.programs,j.capabilities=br,j.extensions=gn,j.properties=Hr,j.renderLists=yn,j.state=pr,j.info=wi}mr();var kr=new qA(j,Ot);this.xr=kr;var _o=new QA(j,Hi,br.maxTextureSize);this.shadowMap=_o,this.getContext=function(){return Ot},this.getContextAttributes=function(){return Ot.getContextAttributes()},this.forceContextLoss=function(){var Ie=gn.get("WEBGL_lose_context");Ie&&Ie.loseContext()},this.forceContextRestore=function(){var Ie=gn.get("WEBGL_lose_context");Ie&&Ie.restoreContext()},this.getPixelRatio=function(){return Be},this.setPixelRatio=function(Ie){if(Ie===void 0)return;Be=Ie,this.setSize(ut,qe,!1)},this.getSize=function(Ie){return Ie===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Ie=new kt),Ie.set(ut,qe)},this.setSize=function(Ie,Nt,Tt){if(kr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ut=Ie,qe=Nt,u.width=Math.floor(Ie*Be),u.height=Math.floor(Nt*Be),Tt!==!1&&(u.style.width=Ie+"px",u.style.height=Nt+"px"),this.setViewport(0,0,Ie,Nt)},this.getDrawingBufferSize=function(Ie){return Ie===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Ie=new kt),Ie.set(ut*Be,qe*Be).floor()},this.setDrawingBufferSize=function(Ie,Nt,Tt){ut=Ie,qe=Nt,Be=Tt,u.width=Math.floor(Ie*Tt),u.height=Math.floor(Nt*Tt),this.setViewport(0,0,Ie,Nt)},this.getCurrentViewport=function(Ie){return Ie===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Ie=new Ur),Ie.copy(Ae)},this.getViewport=function(Ie){return Ie.copy(Je)},this.setViewport=function(Ie,Nt,Tt,Xt){Ie.isVector4?Je.set(Ie.x,Ie.y,Ie.z,Ie.w):Je.set(Ie,Nt,Tt,Xt),pr.viewport(Ae.copy(Je).multiplyScalar(Be).floor())},this.getScissor=function(Ie){return Ie.copy(ft)},this.setScissor=function(Ie,Nt,Tt,Xt){Ie.isVector4?ft.set(Ie.x,Ie.y,Ie.z,Ie.w):ft.set(Ie,Nt,Tt,Xt),pr.scissor(je.copy(ft).multiplyScalar(Be).floor())},this.getScissorTest=function(){return vt},this.setScissorTest=function(Ie){pr.setScissorTest(vt=Ie)},this.setOpaqueSort=function(Ie){rt=Ie},this.setTransparentSort=function(Ie){st=Ie},this.getClearColor=function(){return dt.getClearColor()},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(Ie,Nt,Tt){var Xt=0;(Ie===void 0||Ie)&&(Xt|=16384),(Nt===void 0||Nt)&&(Xt|=256),(Tt===void 0||Tt)&&(Xt|=1024),Ot.clear(Xt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){u.removeEventListener("webglcontextlost",Ii,!1),u.removeEventListener("webglcontextrestored",ui,!1),yn.dispose(),$t.dispose(),Hr.dispose(),fo.dispose(),Hi.dispose(),Jt.dispose(),kr.dispose(),Vc.stop()};function Ii(Ie){Ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),q=!0}function ui(){console.log("THREE.WebGLRenderer: Context Restored."),q=!1,mr()}function zr(Ie){var Nt=Ie.target;Nt.removeEventListener("dispose",zr),Yo(Nt)}function Yo(Ie){Dp(Ie),Hr.remove(Ie)}function Dp(Ie){var Nt=Hr.get(Ie).program;Nt!==void 0&&$e.releaseProgram(Nt)}function Y0(Ie,Nt){Ie.render(function(Tt){j.renderBufferImmediate(Tt,Nt)})}this.renderBufferImmediate=function(Ie,Nt){Jt.initAttributes();var Tt=Hr.get(Ie);Ie.hasPositions&&!Tt.position&&(Tt.position=Ot.createBuffer()),Ie.hasNormals&&!Tt.normal&&(Tt.normal=Ot.createBuffer()),Ie.hasUvs&&!Tt.uv&&(Tt.uv=Ot.createBuffer()),Ie.hasColors&&!Tt.color&&(Tt.color=Ot.createBuffer());var Xt=Nt.getAttributes();Ie.hasPositions&&(Ot.bindBuffer(34962,Tt.position),Ot.bufferData(34962,Ie.positionArray,35048),Jt.enableAttribute(Xt.position),Ot.vertexAttribPointer(Xt.position,3,5126,!1,0,0)),Ie.hasNormals&&(Ot.bindBuffer(34962,Tt.normal),Ot.bufferData(34962,Ie.normalArray,35048),Jt.enableAttribute(Xt.normal),Ot.vertexAttribPointer(Xt.normal,3,5126,!1,0,0)),Ie.hasUvs&&(Ot.bindBuffer(34962,Tt.uv),Ot.bufferData(34962,Ie.uvArray,35048),Jt.enableAttribute(Xt.uv),Ot.vertexAttribPointer(Xt.uv,2,5126,!1,0,0)),Ie.hasColors&&(Ot.bindBuffer(34962,Tt.color),Ot.bufferData(34962,Ie.colorArray,35048),Jt.enableAttribute(Xt.color),Ot.vertexAttribPointer(Xt.color,3,5126,!1,0,0)),Jt.disableUnusedAttributes(),Ot.drawArrays(4,0,Ie.count),Ie.count=0},this.renderBufferDirect=function(Ie,Nt,Tt,Xt,cn,Qr){Nt===null&&(Nt=un);var Or=cn.isMesh&&cn.matrixWorld.determinant()<0,Ai=q1(Ie,Nt,Xt,cn);pr.setMaterial(Xt,Or);var vr=Tt.index,Vo=Tt.attributes.position;if(vr===null){if(Vo===void 0||Vo.count===0)return}else if(vr.count===0)return;var zi=1;Xt.wireframe===!0&&(vr=zo.getWireframeAttribute(Tt),zi=2),(Xt.morphTargets||Xt.morphNormals)&&Mn.update(cn,Tt,Xt,Ai),Jt.setup(cn,Xt,Ai,Tt,vr);var Wo,Un=wn;vr!==null&&(Wo=es.get(vr),Un=Xn,Un.setIndex(Wo));var Es=vr!==null?vr.count:Vo.count,ws=Tt.drawRange.start*zi,mi=Tt.drawRange.count*zi,jo=Qr!==null?Qr.start*zi:0,ei=Qr!==null?Qr.count*zi:Infinity,wr=Math.max(ws,jo),vi=Math.min(Es,ws+mi,jo+ei)-1,Gr=Math.max(0,vi-wr+1);if(Gr===0)return;if(cn.isMesh)Xt.wireframe===!0?(pr.setLineWidth(Xt.wireframeLinewidth*Yn()),Un.setMode(1)):Un.setMode(4);else if(cn.isLine){var qr=Xt.linewidth;qr===void 0&&(qr=1),pr.setLineWidth(qr*Yn()),cn.isLineSegments?Un.setMode(1):cn.isLineLoop?Un.setMode(2):Un.setMode(3)}else cn.isPoints?Un.setMode(0):cn.isSprite&&Un.setMode(4);if(cn.isInstancedMesh)Un.renderInstances(wr,Gr,cn.count);else if(Tt.isInstancedBufferGeometry){var oo=Math.min(Tt.instanceCount,Tt._maxInstanceCount);Un.renderInstances(wr,Gr,oo)}else Un.render(wr,Gr)},this.compile=function(Ie,Nt){X=$t.get(Ie,Nt),X.init(),Ie.traverseVisible(function(Xt){Xt.isLight&&Xt.layers.test(Nt.layers)&&(X.pushLight(Xt),Xt.castShadow&&X.pushShadow(Xt))}),X.setupLights(Nt);var Tt=new WeakMap;Ie.traverse(function(Xt){var cn=Xt.material;if(cn)if(Array.isArray(cn))for(var Qr=0;Qr<cn.length;Qr++){var Or=cn[Qr];Tt.has(Or)===!1&&(Hl(Or,Ie,Xt),Tt.set(Or))}else Tt.has(cn)===!1&&(Hl(cn,Ie,Xt),Tt.set(cn))})};var sc=null;function Pf(Ie){if(kr.isPresenting)return;sc&&sc(Ie)}var Vc=new Zd;Vc.setAnimationLoop(Pf),typeof window!="undefined"&&Vc.setContext(window),this.setAnimationLoop=function(Ie){sc=Ie,kr.setAnimationLoop(Ie),Ie===null?Vc.stop():Vc.start()},this.render=function(Ie,Nt){var Tt,Xt;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Tt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),Xt=arguments[3]),Nt!==void 0&&Nt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(q===!0)return;Jt.resetDefaultState(),Te=-1,de=null,Ie.autoUpdate===!0&&Ie.updateMatrixWorld(),Nt.parent===null&&Nt.updateMatrixWorld(),kr.enabled===!0&&kr.isPresenting===!0&&(Nt=kr.getCamera(Nt)),Ie.isScene===!0&&Ie.onBeforeRender(j,Ie,Nt,Tt||Q),X=$t.get(Ie,Nt),X.init(),Dt.multiplyMatrices(Nt.projectionMatrix,Nt.matrixWorldInverse),Vt.setFromProjectionMatrix(Dt),Yt=this.localClippingEnabled,Gt=tr.init(this.clippingPlanes,Yt,Nt),z=yn.get(Ie,Nt),z.init(),Wc(Ie,Nt,0,j.sortObjects),z.finish(),j.sortObjects===!0&&z.sort(rt,st),Gt===!0&&tr.beginShadows();var cn=X.state.shadowsArray;_o.render(cn,Ie,Nt),X.setupLights(Nt),Gt===!0&&tr.endShadows(),this.info.autoReset===!0&&this.info.reset(),Tt!==void 0&&this.setRenderTarget(Tt),dt.render(z,Ie,Nt,Xt);var Qr=z.opaque,Or=z.transparent;Qr.length>0&&V0(Qr,Ie,Nt),Or.length>0&&V0(Or,Ie,Nt),Ie.isScene===!0&&Ie.onAfterRender(j,Ie,Nt),Q!==null&&(Xi.updateRenderTargetMipmap(Q),Xi.updateMultisampleRenderTarget(Q)),pr.buffers.depth.setTest(!0),pr.buffers.depth.setMask(!0),pr.buffers.color.setMask(!0),pr.setPolygonOffset(!1),z=null,X=null};function Wc(Ie,Nt,Tt,Xt){if(Ie.visible===!1)return;var cn=Ie.layers.test(Nt.layers);if(cn){if(Ie.isGroup)Tt=Ie.renderOrder;else if(Ie.isLOD)Ie.autoUpdate===!0&&Ie.update(Nt);else if(Ie.isLight)X.pushLight(Ie),Ie.castShadow&&X.pushShadow(Ie);else if(Ie.isSprite){if(!Ie.frustumCulled||Vt.intersectsSprite(Ie)){Xt&&Zt.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(Dt);var Qr=Hi.update(Ie),Or=Ie.material;Or.visible&&z.push(Ie,Qr,Or,Tt,Zt.z,null)}}else if(Ie.isImmediateRenderObject)Xt&&Zt.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(Dt),z.push(Ie,null,Ie.material,Tt,Zt.z,null);else if((Ie.isMesh||Ie.isLine||Ie.isPoints)&&(Ie.isSkinnedMesh&&(Ie.skeleton.frame!==wi.render.frame&&(Ie.skeleton.update(),Ie.skeleton.frame=wi.render.frame)),!Ie.frustumCulled||Vt.intersectsObject(Ie))){Xt&&Zt.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(Dt);var Ai=Hi.update(Ie),vr=Ie.material;if(Array.isArray(vr))for(var Vo=Ai.groups,zi=0,Wo=Vo.length;zi<Wo;zi++){var Un=Vo[zi],Es=vr[Un.materialIndex];Es&&Es.visible&&z.push(Ie,Ai,Es,Tt,Zt.z,Un)}else vr.visible&&z.push(Ie,Ai,vr,Tt,Zt.z,null)}}for(var ws=Ie.children,mi=0,jo=ws.length;mi<jo;mi++)Wc(ws[mi],Nt,Tt,Xt)}function V0(Ie,Nt,Tt){for(var Xt=Nt.isScene===!0?Nt.overrideMaterial:null,cn=0,Qr=Ie.length;cn<Qr;cn++){var Or=Ie[cn],Ai=Or.object,vr=Or.geometry,Vo=Xt===null?Or.material:Xt,zi=Or.group;if(Tt.isArrayCamera){le=Tt;for(var Wo=Tt.cameras,Un=0,Es=Wo.length;Un<Es;Un++){var ws=Wo[Un];Ai.layers.test(ws.layers)&&(pr.viewport(Ae.copy(ws.viewport)),X.setupLights(ws),Kh(Ai,Nt,ws,vr,Vo,zi))}}else le=null,Kh(Ai,Nt,Tt,vr,Vo,zi)}}function Kh(Ie,Nt,Tt,Xt,cn,Qr){if(Ie.onBeforeRender(j,Nt,Tt,Xt,cn,Qr),X=$t.get(Nt,le||Tt),Ie.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,Ie.matrixWorld),Ie.normalMatrix.getNormalMatrix(Ie.modelViewMatrix),Ie.isImmediateRenderObject){var Or=q1(Tt,Nt,cn,Ie);pr.setMaterial(cn),Jt.reset(),Y0(Ie,Or)}else j.renderBufferDirect(Tt,Nt,Xt,cn,Ie,Qr);Ie.onAfterRender(j,Nt,Tt,Xt,cn,Qr),X=$t.get(Nt,le||Tt)}function Hl(Ie,Nt,Tt){Nt.isScene!==!0&&(Nt=un);var Xt=Hr.get(Ie),cn=X.state.lights,Qr=X.state.shadowsArray,Or=cn.state.version,Ai=$e.getParameters(Ie,cn.state,Qr,Nt,Tt),vr=$e.getProgramCacheKey(Ai),Vo=Xt.program,zi=!0;if(Vo===void 0)Ie.addEventListener("dispose",zr);else if(Vo.cacheKey!==vr)Dp(Ie);else if(Xt.lightsStateVersion!==Or)zi=!1;else if(Ai.shaderID!==void 0){var Wo=Ie.isMeshStandardMaterial?Nt.environment:null;Xt.envMap=fo.get(Ie.envMap||Wo);return}else zi=!1;zi&&(Ai.uniforms=$e.getUniforms(Ie),Ie.onBeforeCompile(Ai,j),Vo=$e.acquireProgram(Ai,vr),Xt.program=Vo,Xt.uniforms=Ai.uniforms,Xt.outputEncoding=Ai.outputEncoding);var Un=Xt.uniforms;(!Ie.isShaderMaterial&&!Ie.isRawShaderMaterial||Ie.clipping===!0)&&(Xt.numClippingPlanes=tr.numPlanes,Xt.numIntersection=tr.numIntersection,Un.clippingPlanes=tr.uniform),Xt.environment=Ie.isMeshStandardMaterial?Nt.environment:null,Xt.fog=Nt.fog,Xt.envMap=fo.get(Ie.envMap||Xt.environment),Xt.needsLights=Sg(Ie),Xt.lightsStateVersion=Or,Xt.needsLights&&(Un.ambientLightColor.value=cn.state.ambient,Un.lightProbe.value=cn.state.probe,Un.directionalLights.value=cn.state.directional,Un.directionalLightShadows.value=cn.state.directionalShadow,Un.spotLights.value=cn.state.spot,Un.spotLightShadows.value=cn.state.spotShadow,Un.rectAreaLights.value=cn.state.rectArea,Un.ltc_1.value=cn.state.rectAreaLTC1,Un.ltc_2.value=cn.state.rectAreaLTC2,Un.pointLights.value=cn.state.point,Un.pointLightShadows.value=cn.state.pointShadow,Un.hemisphereLights.value=cn.state.hemi,Un.directionalShadowMap.value=cn.state.directionalShadowMap,Un.directionalShadowMatrix.value=cn.state.directionalShadowMatrix,Un.spotShadowMap.value=cn.state.spotShadowMap,Un.spotShadowMatrix.value=cn.state.spotShadowMatrix,Un.pointShadowMap.value=cn.state.pointShadowMap,Un.pointShadowMatrix.value=cn.state.pointShadowMatrix);var Es=Xt.program.getUniforms(),ws=C0.seqWithValue(Es.seq,Un);Xt.uniformsList=ws}function q1(Ie,Nt,Tt,Xt){Nt.isScene!==!0&&(Nt=un),Xi.resetTextureUnits();var cn=Nt.fog,Qr=Tt.isMeshStandardMaterial?Nt.environment:null,Or=Q===null?j.outputEncoding:Q.texture.encoding,Ai=fo.get(Tt.envMap||Qr),vr=Hr.get(Tt),Vo=X.state.lights;if(Gt===!0&&(Yt===!0||Ie!==de)){var zi=Ie===de&&Tt.id===Te;tr.setState(Tt,Ie,zi)}Tt.version===vr.__version?(Tt.fog&&vr.fog!==cn||(vr.environment!==Qr||(vr.needsLights&&vr.lightsStateVersion!==Vo.state.version||(vr.numClippingPlanes!==void 0&&(vr.numClippingPlanes!==tr.numPlanes||vr.numIntersection!==tr.numIntersection)||(vr.outputEncoding!==Or||vr.envMap!==Ai)))))&&Hl(Tt,Nt,Xt):(Hl(Tt,Nt,Xt),vr.__version=Tt.version);var Wo=!1,Un=!1,Es=!1,ws=vr.program,mi=ws.getUniforms(),jo=vr.uniforms;if(pr.useProgram(ws.program)&&(Wo=!0,Un=!0,Es=!0),Tt.id!==Te&&(Te=Tt.id,Un=!0),Wo||de!==Ie){if(mi.setValue(Ot,"projectionMatrix",Ie.projectionMatrix),br.logarithmicDepthBuffer&&mi.setValue(Ot,"logDepthBufFC",2/(Math.log(Ie.far+1)/Math.LN2)),de!==Ie&&(de=Ie,Un=!0,Es=!0),Tt.isShaderMaterial||Tt.isMeshPhongMaterial||Tt.isMeshToonMaterial||Tt.isMeshStandardMaterial||Tt.envMap){var ei=mi.map.cameraPosition;ei!==void 0&&ei.setValue(Ot,Zt.setFromMatrixPosition(Ie.matrixWorld))}(Tt.isMeshPhongMaterial||Tt.isMeshToonMaterial||Tt.isMeshLambertMaterial||Tt.isMeshBasicMaterial||Tt.isMeshStandardMaterial||Tt.isShaderMaterial)&&mi.setValue(Ot,"isOrthographic",Ie.isOrthographicCamera===!0),(Tt.isMeshPhongMaterial||Tt.isMeshToonMaterial||Tt.isMeshLambertMaterial||Tt.isMeshBasicMaterial||Tt.isMeshStandardMaterial||Tt.isShaderMaterial||Tt.isShadowMaterial||Tt.skinning)&&mi.setValue(Ot,"viewMatrix",Ie.matrixWorldInverse)}if(Tt.skinning){mi.setOptional(Ot,Xt,"bindMatrix"),mi.setOptional(Ot,Xt,"bindMatrixInverse");var wr=Xt.skeleton;if(wr){var vi=wr.bones;if(br.floatVertexTextures){if(wr.boneTexture===null){var Gr=Math.sqrt(vi.length*4);Gr=$n.ceilPowerOfTwo(Gr),Gr=Math.max(Gr,4);var qr=new Float32Array(Gr*Gr*4);qr.set(wr.boneMatrices);var oo=new Bl(qr,Gr,Gr,Qt,yo);wr.boneMatrices=qr,wr.boneTexture=oo,wr.boneTextureSize=Gr}mi.setValue(Ot,"boneTexture",wr.boneTexture,Xi),mi.setValue(Ot,"boneTextureSize",wr.boneTextureSize)}else mi.setOptional(Ot,wr,"boneMatrices")}}return(Un||vr.receiveShadow!==Xt.receiveShadow)&&(vr.receiveShadow=Xt.receiveShadow,mi.setValue(Ot,"receiveShadow",Xt.receiveShadow)),Un&&(mi.setValue(Ot,"toneMappingExposure",j.toneMappingExposure),vr.needsLights&&J1(jo,Es),cn&&Tt.fog&&We.refreshFogUniforms(jo,cn),We.refreshMaterialUniforms(jo,Tt,Be,qe),C0.upload(Ot,vr.uniformsList,jo,Xi)),Tt.isShaderMaterial&&Tt.uniformsNeedUpdate===!0&&(C0.upload(Ot,vr.uniformsList,jo,Xi),Tt.uniformsNeedUpdate=!1),Tt.isSpriteMaterial&&mi.setValue(Ot,"center",Xt.center),mi.setValue(Ot,"modelViewMatrix",Xt.modelViewMatrix),mi.setValue(Ot,"normalMatrix",Xt.normalMatrix),mi.setValue(Ot,"modelMatrix",Xt.matrixWorld),ws}function J1(Ie,Nt){Ie.ambientLightColor.needsUpdate=Nt,Ie.lightProbe.needsUpdate=Nt,Ie.directionalLights.needsUpdate=Nt,Ie.directionalLightShadows.needsUpdate=Nt,Ie.pointLights.needsUpdate=Nt,Ie.pointLightShadows.needsUpdate=Nt,Ie.spotLights.needsUpdate=Nt,Ie.spotLightShadows.needsUpdate=Nt,Ie.rectAreaLights.needsUpdate=Nt,Ie.hemisphereLights.needsUpdate=Nt}function Sg(Ie){return Ie.isMeshLambertMaterial||Ie.isMeshToonMaterial||Ie.isMeshPhongMaterial||Ie.isMeshStandardMaterial||Ie.isShadowMaterial||Ie.isShaderMaterial&&Ie.lights===!0}this.setFramebuffer=function(Ie){te!==Ie&&Q===null&&Ot.bindFramebuffer(36160,Ie),te=Ie},this.getActiveCubeFace=function(){return ae},this.getActiveMipmapLevel=function(){return ne},this.getRenderList=function(){return z},this.setRenderList=function(Ie){z=Ie},this.getRenderState=function(){return X},this.setRenderState=function(Ie){X=Ie},this.getRenderTarget=function(){return Q},this.setRenderTarget=function(Ie,Nt,Tt){Nt===void 0&&(Nt=0),Tt===void 0&&(Tt=0),Q=Ie,ae=Nt,ne=Tt,Ie&&Hr.get(Ie).__webglFramebuffer===void 0&&Xi.setupRenderTarget(Ie);var Xt=te,cn=!1;if(Ie){var Qr=Hr.get(Ie).__webglFramebuffer;Ie.isWebGLCubeRenderTarget?(Xt=Qr[Nt],cn=!0):Ie.isWebGLMultisampleRenderTarget?Xt=Hr.get(Ie).__webglMultisampledFramebuffer:Xt=Qr,Ae.copy(Ie.viewport),je.copy(Ie.scissor),He=Ie.scissorTest}else Ae.copy(Je).multiplyScalar(Be).floor(),je.copy(ft).multiplyScalar(Be).floor(),He=vt;if(xe!==Xt&&(Ot.bindFramebuffer(36160,Xt),xe=Xt),pr.viewport(Ae),pr.scissor(je),pr.setScissorTest(He),cn){var Or=Hr.get(Ie.texture);Ot.framebufferTexture2D(36160,36064,34069+Nt,Or.__webglTexture,Tt)}},this.readRenderTargetPixels=function(Ie,Nt,Tt,Xt,cn,Qr,Or){if(!(Ie&&Ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var Ai=Hr.get(Ie).__webglFramebuffer;if(Ie.isWebGLCubeRenderTarget&&Or!==void 0&&(Ai=Ai[Or]),Ai){var vr=!1;Ai!==xe&&(Ot.bindFramebuffer(36160,Ai),vr=!0);try{var Vo=Ie.texture,zi=Vo.format,Wo=Vo.type;if(zi!==Qt&&An.convert(zi)!==Ot.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Wo!==Mr&&An.convert(Wo)!==Ot.getParameter(35738)&&!(Wo===yo&&(br.isWebGL2||gn.get("OES_texture_float")||gn.get("WEBGL_color_buffer_float")))&&!(Wo===Fe&&(br.isWebGL2?gn.get("EXT_color_buffer_float"):gn.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ot.checkFramebufferStatus(36160)===36053?Nt>=0&&Nt<=Ie.width-Xt&&Tt>=0&&Tt<=Ie.height-cn&&Ot.readPixels(Nt,Tt,Xt,cn,An.convert(zi),An.convert(Wo),Qr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{vr&&Ot.bindFramebuffer(36160,xe)}}},this.copyFramebufferToTexture=function(Ie,Nt,Tt){Tt===void 0&&(Tt=0);var Xt=Math.pow(2,-Tt),cn=Math.floor(Nt.image.width*Xt),Qr=Math.floor(Nt.image.height*Xt),Or=An.convert(Nt.format);Xi.setTexture2D(Nt,0),Ot.copyTexImage2D(3553,Tt,Or,Ie.x,Ie.y,cn,Qr,0),pr.unbindTexture()},this.copyTextureToTexture=function(Ie,Nt,Tt,Xt){Xt===void 0&&(Xt=0);var cn=Nt.image.width,Qr=Nt.image.height,Or=An.convert(Tt.format),Ai=An.convert(Tt.type);Xi.setTexture2D(Tt,0),Ot.pixelStorei(37440,Tt.flipY),Ot.pixelStorei(37441,Tt.premultiplyAlpha),Ot.pixelStorei(3317,Tt.unpackAlignment),Nt.isDataTexture?Ot.texSubImage2D(3553,Xt,Ie.x,Ie.y,cn,Qr,Or,Ai,Nt.image.data):Nt.isCompressedTexture?Ot.compressedTexSubImage2D(3553,Xt,Ie.x,Ie.y,Nt.mipmaps[0].width,Nt.mipmaps[0].height,Or,Nt.mipmaps[0].data):Ot.texSubImage2D(3553,Xt,Ie.x,Ie.y,Or,Ai,Nt.image),Xt===0&&Tt.generateMipmaps&&Ot.generateMipmap(3553),pr.unbindTexture()},this.initTexture=function(Ie){Xi.setTexture2D(Ie,0),pr.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Zx(m){f1.call(this,m)}Zx.prototype=Object.assign(Object.create(f1.prototype),{constructor:Zx,isWebGL1Renderer:!0});var Kx=function(){function m(d,c){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new En(d),this.density=c!==void 0?c:25e-5}var u=m.prototype;return u.clone=function(){return new m(this.color,this.density)},u.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},m}(),JA=function(){function m(d,c,f){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new En(d),this.near=c!==void 0?c:1,this.far=f!==void 0?f:1e3}var u=m.prototype;return u.clone=function(){return new m(this.color,this.near,this.far)},u.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},m}(),$x=function(m){Sn(u,m);function u(){var c;return c=m.call(this)||this,Object.defineProperty(Ml(c),"isScene",{value:!0}),c.type="Scene",c.background=null,c.environment=null,c.fog=null,c.overrideMaterial=null,c.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Ml(c)})),c}var d=u.prototype;return d.copy=function(f,x){return m.prototype.copy.call(this,f,x),f.background!==null&&(this.background=f.background.clone()),f.environment!==null&&(this.environment=f.environment.clone()),f.fog!==null&&(this.fog=f.fog.clone()),f.overrideMaterial!==null&&(this.overrideMaterial=f.overrideMaterial.clone()),this.autoUpdate=f.autoUpdate,this.matrixAutoUpdate=f.matrixAutoUpdate,this},d.toJSON=function(f){var x=m.prototype.toJSON.call(this,f);return this.background!==null&&(x.object.background=this.background.toJSON(f)),this.environment!==null&&(x.object.environment=this.environment.toJSON(f)),this.fog!==null&&(x.object.fog=this.fog.toJSON()),x},u}(Tn);function kl(m,u){this.array=m,this.stride=u,this.count=m!==void 0?m.length/u:0,this.usage=l0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$n.generateUUID()}Object.defineProperty(kl.prototype,"needsUpdate",{set:function(u){u===!0&&this.version++}}),Object.assign(kl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(u){return this.usage=u,this},copy:function(u){return this.array=new u.array.constructor(u.array),this.count=u.count,this.stride=u.stride,this.usage=u.usage,this},copyAt:function(u,d,c){u*=this.stride,c*=d.stride;for(var f=0,x=this.stride;f<x;f++)this.array[u+f]=d.array[c+f];return this},set:function(u,d){return d===void 0&&(d=0),this.array.set(u,d),this},clone:function(u){u.arrayBuffers===void 0&&(u.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$n.generateUUID()),u.arrayBuffers[this.array.buffer._uuid]===void 0&&(u.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var d=new this.array.constructor(u.arrayBuffers[this.array.buffer._uuid]),c=new kl(d,this.stride);return c.setUsage(this.usage),c},onUpload:function(u){return this.onUploadCallback=u,this},toJSON:function(u){return u.arrayBuffers===void 0&&(u.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$n.generateUUID()),u.arrayBuffers[this.array.buffer._uuid]===void 0&&(u.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var F0=new Pe;function B0(m,u,d,c){this.name="",this.data=m,this.itemSize=u,this.offset=d,this.normalized=c===!0}Object.defineProperties(B0.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(u){this.data.needsUpdate=u}}}),Object.assign(B0.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(u){for(var d=0,c=this.data.count;d<c;d++)F0.x=this.getX(d),F0.y=this.getY(d),F0.z=this.getZ(d),F0.applyMatrix4(u),this.setXYZ(d,F0.x,F0.y,F0.z);return this},setX:function(u,d){return this.data.array[u*this.data.stride+this.offset]=d,this},setY:function(u,d){return this.data.array[u*this.data.stride+this.offset+1]=d,this},setZ:function(u,d){return this.data.array[u*this.data.stride+this.offset+2]=d,this},setW:function(u,d){return this.data.array[u*this.data.stride+this.offset+3]=d,this},getX:function(u){return this.data.array[u*this.data.stride+this.offset]},getY:function(u){return this.data.array[u*this.data.stride+this.offset+1]},getZ:function(u){return this.data.array[u*this.data.stride+this.offset+2]},getW:function(u){return this.data.array[u*this.data.stride+this.offset+3]},setXY:function(u,d,c){return u=u*this.data.stride+this.offset,this.data.array[u+0]=d,this.data.array[u+1]=c,this},setXYZ:function(u,d,c,f){return u=u*this.data.stride+this.offset,this.data.array[u+0]=d,this.data.array[u+1]=c,this.data.array[u+2]=f,this},setXYZW:function(u,d,c,f,x){return u=u*this.data.stride+this.offset,this.data.array[u+0]=d,this.data.array[u+1]=c,this.data.array[u+2]=f,this.data.array[u+3]=x,this},clone:function(u){if(u===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var d=[],c=0;c<this.count;c++)for(var f=c*this.data.stride+this.offset,x=0;x<this.itemSize;x++)d.push(this.data.array[f+x]);return new Bn(new this.array.constructor(d),this.itemSize,this.normalized)}else return u.interleavedBuffers===void 0&&(u.interleavedBuffers={}),u.interleavedBuffers[this.data.uuid]===void 0&&(u.interleavedBuffers[this.data.uuid]=this.data.clone(u)),new B0(u.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(u){if(u===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var d=[],c=0;c<this.count;c++)for(var f=c*this.data.stride+this.offset,x=0;x<this.itemSize;x++)d.push(this.data.array[f+x]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:d,normalized:this.normalized}}else return u.interleavedBuffers===void 0&&(u.interleavedBuffers={}),u.interleavedBuffers[this.data.uuid]===void 0&&(u.interleavedBuffers[this.data.uuid]=this.data.toJSON(u)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function N0(m){Qn.call(this),this.type="SpriteMaterial",this.color=new En(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(m)}N0.prototype=Object.create(Qn.prototype),N0.prototype.constructor=N0,N0.prototype.isSpriteMaterial=!0,N0.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.map=m.map,this.alphaMap=m.alphaMap,this.rotation=m.rotation,this.sizeAttenuation=m.sizeAttenuation,this};var up,h1=new Pe,cp=new Pe,I0=new Pe,fp=new kt,d1=new kt,e3=new Pr,R2=new Pe,p1=new Pe,D2=new Pe,ZA=new kt,t3=new kt,n3=new kt;function m1(m){if(Tn.call(this),this.type="Sprite",up===void 0){up=new Pn;var u=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),d=new kl(u,5);up.setIndex([0,1,2,0,2,3]),up.setAttribute("position",new B0(d,3,0,!1)),up.setAttribute("uv",new B0(d,2,3,!1))}this.geometry=up,this.material=m!==void 0?m:new N0,this.center=new kt(.5,.5)}m1.prototype=Object.assign(Object.create(Tn.prototype),{constructor:m1,isSprite:!0,raycast:function(u,d){u.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cp.setFromMatrixScale(this.matrixWorld),e3.copy(u.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(u.camera.matrixWorldInverse,this.matrixWorld),I0.setFromMatrixPosition(this.modelViewMatrix),u.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cp.multiplyScalar(-I0.z);var c=this.material.rotation,f,x;c!==0&&(x=Math.cos(c),f=Math.sin(c));var _=this.center;F2(R2.set(-.5,-.5,0),I0,_,cp,f,x),F2(p1.set(.5,-.5,0),I0,_,cp,f,x),F2(D2.set(.5,.5,0),I0,_,cp,f,x),ZA.set(0,0),t3.set(1,0),n3.set(1,1);var L=u.ray.intersectTriangle(R2,p1,D2,!1,h1);if(L===null&&(F2(p1.set(-.5,.5,0),I0,_,cp,f,x),t3.set(0,1),L=u.ray.intersectTriangle(R2,D2,p1,!1,h1),L===null))return;var D=u.ray.origin.distanceTo(h1);if(D<u.near||D>u.far)return;d.push({distance:D,point:h1.clone(),uv:xo.getUV(h1,R2,p1,D2,ZA,t3,n3,new kt),face:null,object:this})},copy:function(u){return Tn.prototype.copy.call(this,u),u.center!==void 0&&this.center.copy(u.center),this.material=u.material,this}});function F2(m,u,d,c,f,x){fp.subVectors(m,d).addScalar(.5).multiply(c),f!==void 0?(d1.x=x*fp.x-f*fp.y,d1.y=f*fp.x+x*fp.y):d1.copy(fp),m.copy(u),m.x+=d1.x,m.y+=d1.y,m.applyMatrix4(e3)}var B2=new Pe,r3=new Pe;function v1(){Tn.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}v1.prototype=Object.assign(Object.create(Tn.prototype),{constructor:v1,isLOD:!0,copy:function(u){Tn.prototype.copy.call(this,u,!1);for(var d=u.levels,c=0,f=d.length;c<f;c++){var x=d[c];this.addLevel(x.object.clone(),x.distance)}return this.autoUpdate=u.autoUpdate,this},addLevel:function(u,d){d===void 0&&(d=0),d=Math.abs(d);var c=this.levels,f;for(f=0;f<c.length&&!(d<c[f].distance);f++);return c.splice(f,0,{distance:d,object:u}),this.add(u),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(u){var d=this.levels;if(d.length>0){var c,f;for(c=1,f=d.length;c<f&&!(u<d[c].distance);c++);return d[c-1].object}return null},raycast:function(u,d){var c=this.levels;if(c.length>0){B2.setFromMatrixPosition(this.matrixWorld);var f=u.ray.origin.distanceTo(B2);this.getObjectForDistance(f).raycast(u,d)}},update:function(u){var d=this.levels;if(d.length>1){B2.setFromMatrixPosition(u.matrixWorld),r3.setFromMatrixPosition(this.matrixWorld);var c=B2.distanceTo(r3)/u.zoom;d[0].object.visible=!0;var f,x;for(f=1,x=d.length;f<x&&c>=d[f].distance;f++)d[f-1].object.visible=!1,d[f].object.visible=!0;for(this._currentLevel=f-1;f<x;f++)d[f].object.visible=!1}},toJSON:function(u){var d=Tn.prototype.toJSON.call(this,u);this.autoUpdate===!1&&(d.object.autoUpdate=!1),d.object.levels=[];for(var c=this.levels,f=0,x=c.length;f<x;f++){var _=c[f];d.object.levels.push({object:_.object.uuid,distance:_.distance})}return d}});function g1(m,u){m&&m.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Tr.call(this,m,u),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pr,this.bindMatrixInverse=new Pr}g1.prototype=Object.assign(Object.create(Tr.prototype),{constructor:g1,isSkinnedMesh:!0,copy:function(u){return Tr.prototype.copy.call(this,u),this.bindMode=u.bindMode,this.bindMatrix.copy(u.bindMatrix),this.bindMatrixInverse.copy(u.bindMatrixInverse),this.skeleton=u.skeleton,this},bind:function(u,d){this.skeleton=u,d===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),d=this.matrixWorld),this.bindMatrix.copy(d),this.bindMatrixInverse.copy(d).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var u=new Ur,d=this.geometry.attributes.skinWeight,c=0,f=d.count;c<f;c++){u.x=d.getX(c),u.y=d.getY(c),u.z=d.getZ(c),u.w=d.getW(c);var x=1/u.manhattanLength();x!==Infinity?u.multiplyScalar(x):u.set(1,0,0,0),d.setXYZW(c,u.x,u.y,u.z,u.w)}},updateMatrixWorld:function(u){Tr.prototype.updateMatrixWorld.call(this,u),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var m=new Pe,u=new Ur,d=new Ur,c=new Pe,f=new Pr;return function(x,_){var L=this.skeleton,D=this.geometry;u.fromBufferAttribute(D.attributes.skinIndex,x),d.fromBufferAttribute(D.attributes.skinWeight,x),m.fromBufferAttribute(D.attributes.position,x).applyMatrix4(this.bindMatrix),_.set(0,0,0);for(var N=0;N<4;N++){var Y=d.getComponent(N);if(Y!==0){var z=u.getComponent(N);f.multiplyMatrices(L.bones[z].matrixWorld,L.boneInverses[z]),_.addScaledVector(c.copy(m).applyMatrix4(f),Y)}}return _.applyMatrix4(this.bindMatrixInverse)}}()});function y1(){Tn.call(this),this.type="Bone"}y1.prototype=Object.assign(Object.create(Tn.prototype),{constructor:y1,isBone:!0});var x1=new Pr,Mb=new Pr;function E1(m,u){m===void 0&&(m=[]),u===void 0&&(u=[]),this.uuid=$n.generateUUID(),this.bones=m.slice(0),this.boneInverses=u,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(E1.prototype,{init:function(){var u=this.bones,d=this.boneInverses;if(this.boneMatrices=new Float32Array(u.length*16),d.length===0)this.calculateInverses();else if(u.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var c=0,f=this.bones.length;c<f;c++)this.boneInverses.push(new Pr)}},calculateInverses:function(){this.boneInverses.length=0;for(var u=0,d=this.bones.length;u<d;u++){var c=new Pr;this.bones[u]&&c.copy(this.bones[u].matrixWorld).invert(),this.boneInverses.push(c)}},pose:function(){for(var u=0,d=this.bones.length;u<d;u++){var c=this.bones[u];c&&c.matrixWorld.copy(this.boneInverses[u]).invert()}for(var f=0,x=this.bones.length;f<x;f++){var _=this.bones[f];_&&(_.parent&&_.parent.isBone?(_.matrix.copy(_.parent.matrixWorld).invert(),_.matrix.multiply(_.matrixWorld)):_.matrix.copy(_.matrixWorld),_.matrix.decompose(_.position,_.quaternion,_.scale))}},update:function(){for(var u=this.bones,d=this.boneInverses,c=this.boneMatrices,f=this.boneTexture,x=0,_=u.length;x<_;x++){var L=u[x]?u[x].matrixWorld:Mb;x1.multiplyMatrices(L,d[x]),x1.toArray(c,x*16)}f!==null&&(f.needsUpdate=!0)},clone:function(){return new E1(this.bones,this.boneInverses)},getBoneByName:function(u){for(var d=0,c=this.bones.length;d<c;d++){var f=this.bones[d];if(f.name===u)return f}return},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(u,d){this.uuid=u.uuid;for(var c=0,f=u.bones.length;c<f;c++){var x=u.bones[c],_=d[x];_===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",x),_=new y1),this.bones.push(_),this.boneInverses.push(new Pr().fromArray(u.boneInverses[c]))}return this.init(),this},toJSON:function(){var u={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};u.uuid=this.uuid;for(var d=this.bones,c=this.boneInverses,f=0,x=d.length;f<x;f++){var _=d[f];u.bones.push(_.uuid);var L=c[f];u.boneInverses.push(L.toArray())}return u}});var N2=new Pr,KA=new Pr,I2=[],hp=new Tr;function O2(m,u,d){Tr.call(this,m,u),this.instanceMatrix=new Bn(new Float32Array(d*16),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}O2.prototype=Object.assign(Object.create(Tr.prototype),{constructor:O2,isInstancedMesh:!0,copy:function(u){return Tr.prototype.copy.call(this,u),this.instanceMatrix.copy(u.instanceMatrix),this.count=u.count,this},getColorAt:function(u,d){d.fromArray(this.instanceColor.array,u*3)},getMatrixAt:function(u,d){d.fromArray(this.instanceMatrix.array,u*16)},raycast:function(u,d){var c=this.matrixWorld,f=this.count;if(hp.geometry=this.geometry,hp.material=this.material,hp.material===void 0)return;for(var x=0;x<f;x++){this.getMatrixAt(x,N2),KA.multiplyMatrices(c,N2),hp.matrixWorld=KA,hp.raycast(u,I2);for(var _=0,L=I2.length;_<L;_++){var D=I2[_];D.instanceId=x,D.object=this,d.push(D)}I2.length=0}},setColorAt:function(u,d){this.instanceColor===null&&(this.instanceColor=new Bn(new Float32Array(this.count*3),3)),d.toArray(this.instanceColor.array,u*3)},setMatrixAt:function(u,d){d.toArray(this.instanceMatrix.array,u*16)},updateMorphTargets:function(){}});function uo(m){Qn.call(this),this.type="LineBasicMaterial",this.color=new En(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(m)}uo.prototype=Object.create(Qn.prototype),uo.prototype.constructor=uo,uo.prototype.isLineBasicMaterial=!0,uo.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.linewidth=m.linewidth,this.linecap=m.linecap,this.linejoin=m.linejoin,this.morphTargets=m.morphTargets,this};var $A=new Pe,e_=new Pe,t_=new Pr,w1=new zs,U2=new ds;function pu(m,u,d){d===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Tn.call(this),this.type="Line",this.geometry=m!==void 0?m:new Pn,this.material=u!==void 0?u:new uo,this.updateMorphTargets()}pu.prototype=Object.assign(Object.create(Tn.prototype),{constructor:pu,isLine:!0,copy:function(u){return Tn.prototype.copy.call(this,u),this.material=u.material,this.geometry=u.geometry,this},computeLineDistances:function(){var u=this.geometry;if(u.isBufferGeometry)if(u.index===null){for(var d=u.attributes.position,c=[0],f=1,x=d.count;f<x;f++)$A.fromBufferAttribute(d,f-1),e_.fromBufferAttribute(d,f),c[f]=c[f-1],c[f]+=$A.distanceTo(e_);u.setAttribute("lineDistance",new an(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(u.isGeometry){var _=u.vertices,L=u.lineDistances;L[0]=0;for(var D=1,N=_.length;D<N;D++)L[D]=L[D-1],L[D]+=_[D-1].distanceTo(_[D])}return this},raycast:function(u,d){var c=this.geometry,f=this.matrixWorld,x=u.params.Line.threshold;if(c.boundingSphere===null&&c.computeBoundingSphere(),U2.copy(c.boundingSphere),U2.applyMatrix4(f),U2.radius+=x,u.ray.intersectsSphere(U2)===!1)return;t_.copy(f).invert(),w1.copy(u.ray).applyMatrix4(t_);var _=x/((this.scale.x+this.scale.y+this.scale.z)/3),L=_*_,D=new Pe,N=new Pe,Y=new Pe,z=new Pe,X=this.isLineSegments?2:1;if(c.isBufferGeometry){var j=c.index,q=c.attributes,te=q.position;if(j!==null)for(var ae=j.array,ne=0,Q=ae.length-1;ne<Q;ne+=X){var xe=ae[ne],Te=ae[ne+1];D.fromBufferAttribute(te,xe),N.fromBufferAttribute(te,Te);var de=w1.distanceSqToSegment(D,N,z,Y);if(de>L)continue;z.applyMatrix4(this.matrixWorld);var le=u.ray.origin.distanceTo(z);if(le<u.near||le>u.far)continue;d.push({distance:le,point:Y.clone().applyMatrix4(this.matrixWorld),index:ne,face:null,faceIndex:null,object:this})}else for(var Ae=0,je=te.count-1;Ae<je;Ae+=X){D.fromBufferAttribute(te,Ae),N.fromBufferAttribute(te,Ae+1);var He=w1.distanceSqToSegment(D,N,z,Y);if(He>L)continue;z.applyMatrix4(this.matrixWorld);var ut=u.ray.origin.distanceTo(z);if(ut<u.near||ut>u.far)continue;d.push({distance:ut,point:Y.clone().applyMatrix4(this.matrixWorld),index:Ae,face:null,faceIndex:null,object:this})}}else if(c.isGeometry)for(var qe=c.vertices,Be=qe.length,rt=0;rt<Be-1;rt+=X){var st=w1.distanceSqToSegment(qe[rt],qe[rt+1],z,Y);if(st>L)continue;z.applyMatrix4(this.matrixWorld);var Je=u.ray.origin.distanceTo(z);if(Je<u.near||Je>u.far)continue;d.push({distance:Je,point:Y.clone().applyMatrix4(this.matrixWorld),index:rt,face:null,faceIndex:null,object:this})}},updateMorphTargets:function(){var u=this.geometry;if(u.isBufferGeometry){var d=u.morphAttributes,c=Object.keys(d);if(c.length>0){var f=d[c[0]];if(f!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var x=0,_=f.length;x<_;x++){var L=f[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=x}}}}else{var D=u.morphTargets;D!==void 0&&D.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var k2=new Pe,A1=new Pe;function wa(m,u){pu.call(this,m,u),this.type="LineSegments"}wa.prototype=Object.assign(Object.create(pu.prototype),{constructor:wa,isLineSegments:!0,computeLineDistances:function(){var u=this.geometry;if(u.isBufferGeometry)if(u.index===null){for(var d=u.attributes.position,c=[],f=0,x=d.count;f<x;f+=2)k2.fromBufferAttribute(d,f),A1.fromBufferAttribute(d,f+1),c[f]=f===0?0:c[f-1],c[f+1]=c[f]+k2.distanceTo(A1);u.setAttribute("lineDistance",new an(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(u.isGeometry)for(var _=u.vertices,L=u.lineDistances,D=0,N=_.length;D<N;D+=2)k2.copy(_[D]),A1.copy(_[D+1]),L[D]=D===0?0:L[D-1],L[D+1]=L[D]+k2.distanceTo(A1);return this}});function G2(m,u){pu.call(this,m,u),this.type="LineLoop"}G2.prototype=Object.assign(Object.create(pu.prototype),{constructor:G2,isLineLoop:!0});function $u(m){Qn.call(this),this.type="PointsMaterial",this.color=new En(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(m)}$u.prototype=Object.create(Qn.prototype),$u.prototype.constructor=$u,$u.prototype.isPointsMaterial=!0,$u.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.map=m.map,this.alphaMap=m.alphaMap,this.size=m.size,this.sizeAttenuation=m.sizeAttenuation,this.morphTargets=m.morphTargets,this};var X2=new Pr,_1=new zs,H2=new ds,z2=new Pe;function dp(m,u){Tn.call(this),this.type="Points",this.geometry=m!==void 0?m:new Pn,this.material=u!==void 0?u:new $u,this.updateMorphTargets()}dp.prototype=Object.assign(Object.create(Tn.prototype),{constructor:dp,isPoints:!0,copy:function(u){return Tn.prototype.copy.call(this,u),this.material=u.material,this.geometry=u.geometry,this},raycast:function(u,d){var c=this.geometry,f=this.matrixWorld,x=u.params.Points.threshold;if(c.boundingSphere===null&&c.computeBoundingSphere(),H2.copy(c.boundingSphere),H2.applyMatrix4(f),H2.radius+=x,u.ray.intersectsSphere(H2)===!1)return;X2.copy(f).invert(),_1.copy(u.ray).applyMatrix4(X2);var _=x/((this.scale.x+this.scale.y+this.scale.z)/3),L=_*_;if(c.isBufferGeometry){var D=c.index,N=c.attributes,Y=N.position;if(D!==null)for(var z=D.array,X=0,j=z.length;X<j;X++){var q=z[X];z2.fromBufferAttribute(Y,q),M1(z2,q,L,f,u,d,this)}else for(var te=0,ae=Y.count;te<ae;te++)z2.fromBufferAttribute(Y,te),M1(z2,te,L,f,u,d,this)}else for(var ne=c.vertices,Q=0,xe=ne.length;Q<xe;Q++)M1(ne[Q],Q,L,f,u,d,this)},updateMorphTargets:function(){var u=this.geometry;if(u.isBufferGeometry){var d=u.morphAttributes,c=Object.keys(d);if(c.length>0){var f=d[c[0]];if(f!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var x=0,_=f.length;x<_;x++){var L=f[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=x}}}}else{var D=u.morphTargets;D!==void 0&&D.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function M1(m,u,d,c,f,x,_){var L=_1.distanceSqToPoint(m);if(L<d){var D=new Pe;_1.closestPointToPoint(m,D),D.applyMatrix4(c);var N=f.ray.origin.distanceTo(D);if(N<f.near||N>f.far)return;x.push({distance:N,distanceToRay:Math.sqrt(L),point:D,index:u,face:null,object:_})}}function i3(m,u,d,c,f,x,_,L,D){jn.call(this,m,u,d,c,f,x,_,L,D),this.format=_!==void 0?_:Zn,this.minFilter=x!==void 0?x:fr,this.magFilter=f!==void 0?f:fr,this.generateMipmaps=!1;var N=this;function Y(){N.needsUpdate=!0,m.requestVideoFrameCallback(Y)}"requestVideoFrameCallback"in m&&m.requestVideoFrameCallback(Y)}i3.prototype=Object.assign(Object.create(jn.prototype),{constructor:i3,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var u=this.image,d="requestVideoFrameCallback"in u;d===!1&&u.readyState>=u.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function pp(m,u,d,c,f,x,_,L,D,N,Y,z){jn.call(this,null,x,_,L,D,N,c,f,Y,z),this.image={width:u,height:d},this.mipmaps=m,this.flipY=!1,this.generateMipmaps=!1}pp.prototype=Object.create(jn.prototype),pp.prototype.constructor=pp,pp.prototype.isCompressedTexture=!0;function mp(m,u,d,c,f,x,_,L,D){jn.call(this,m,u,d,c,f,x,_,L,D),this.needsUpdate=!0}mp.prototype=Object.create(jn.prototype),mp.prototype.constructor=mp,mp.prototype.isCanvasTexture=!0;function S1(m,u,d,c,f,x,_,L,D,N){if(N=N!==void 0?N:Kn,N!==Kn&&N!==Kr)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");d===void 0&&N===Kn&&(d=si),d===void 0&&N===Kr&&(d=Kt),jn.call(this,null,c,f,x,_,L,N,d,D),this.image={width:m,height:u},this.magFilter=_!==void 0?_:zt,this.minFilter=L!==void 0?L:zt,this.flipY=!1,this.generateMipmaps=!1}S1.prototype=Object.create(jn.prototype),S1.prototype.constructor=S1,S1.prototype.isDepthTexture=!0;var Sb=0,Gc=new Pr,o3=new Tn,Y2=new Pe;function Pi(){Object.defineProperty(this,"id",{value:Sb+=2}),this.uuid=$n.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Pi.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Pi,isGeometry:!0,applyMatrix4:function(u){for(var d=new as().getNormalMatrix(u),c=0,f=this.vertices.length;c<f;c++){var x=this.vertices[c];x.applyMatrix4(u)}for(var _=0,L=this.faces.length;_<L;_++){var D=this.faces[_];D.normal.applyMatrix3(d).normalize();for(var N=0,Y=D.vertexNormals.length;N<Y;N++)D.vertexNormals[N].applyMatrix3(d).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(u){return Gc.makeRotationX(u),this.applyMatrix4(Gc),this},rotateY:function(u){return Gc.makeRotationY(u),this.applyMatrix4(Gc),this},rotateZ:function(u){return Gc.makeRotationZ(u),this.applyMatrix4(Gc),this},translate:function(u,d,c){return Gc.makeTranslation(u,d,c),this.applyMatrix4(Gc),this},scale:function(u,d,c){return Gc.makeScale(u,d,c),this.applyMatrix4(Gc),this},lookAt:function(u){return o3.lookAt(u),o3.updateMatrix(),this.applyMatrix4(o3.matrix),this},fromBufferGeometry:function(u){var d=this,c=u.index!==null?u.index:void 0,f=u.attributes;if(f.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var x=f.position,_=f.normal,L=f.color,D=f.uv,N=f.uv2;N!==void 0&&(this.faceVertexUvs[1]=[]);for(var Y=0;Y<x.count;Y++)d.vertices.push(new Pe().fromBufferAttribute(x,Y)),L!==void 0&&d.colors.push(new En().fromBufferAttribute(L,Y));function z(de,le,Ae,je){var He=L===void 0?[]:[d.colors[de].clone(),d.colors[le].clone(),d.colors[Ae].clone()],ut=_===void 0?[]:[new Pe().fromBufferAttribute(_,de),new Pe().fromBufferAttribute(_,le),new Pe().fromBufferAttribute(_,Ae)],qe=new Yu(de,le,Ae,ut,He,je);d.faces.push(qe),D!==void 0&&d.faceVertexUvs[0].push([new kt().fromBufferAttribute(D,de),new kt().fromBufferAttribute(D,le),new kt().fromBufferAttribute(D,Ae)]),N!==void 0&&d.faceVertexUvs[1].push([new kt().fromBufferAttribute(N,de),new kt().fromBufferAttribute(N,le),new kt().fromBufferAttribute(N,Ae)])}var X=u.groups;if(X.length>0)for(var j=0;j<X.length;j++)for(var q=X[j],te=q.start,ae=q.count,ne=te,Q=te+ae;ne<Q;ne+=3)c!==void 0?z(c.getX(ne),c.getX(ne+1),c.getX(ne+2),q.materialIndex):z(ne,ne+1,ne+2,q.materialIndex);else if(c!==void 0)for(var xe=0;xe<c.count;xe+=3)z(c.getX(xe),c.getX(xe+1),c.getX(xe+2));else for(var Te=0;Te<x.count;Te+=3)z(Te,Te+1,Te+2);return this.computeFaceNormals(),u.boundingBox!==null&&(this.boundingBox=u.boundingBox.clone()),u.boundingSphere!==null&&(this.boundingSphere=u.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Y2).negate(),this.translate(Y2.x,Y2.y,Y2.z),this},normalize:function(){this.computeBoundingSphere();var u=this.boundingSphere.center,d=this.boundingSphere.radius,c=d===0?1:1/d,f=new Pr;return f.set(c,0,0,-c*u.x,0,c,0,-c*u.y,0,0,c,-c*u.z,0,0,0,1),this.applyMatrix4(f),this},computeFaceNormals:function(){for(var u=new Pe,d=new Pe,c=0,f=this.faces.length;c<f;c++){var x=this.faces[c],_=this.vertices[x.a],L=this.vertices[x.b],D=this.vertices[x.c];u.subVectors(D,L),d.subVectors(_,L),u.cross(d),u.normalize(),x.normal.copy(u)}},computeVertexNormals:function(u){u===void 0&&(u=!0);for(var d=new Array(this.vertices.length),c=0,f=this.vertices.length;c<f;c++)d[c]=new Pe;if(u)for(var x=new Pe,_=new Pe,L=0,D=this.faces.length;L<D;L++){var N=this.faces[L],Y=this.vertices[N.a],z=this.vertices[N.b],X=this.vertices[N.c];x.subVectors(X,z),_.subVectors(Y,z),x.cross(_),d[N.a].add(x),d[N.b].add(x),d[N.c].add(x)}else{this.computeFaceNormals();for(var j=0,q=this.faces.length;j<q;j++){var te=this.faces[j];d[te.a].add(te.normal),d[te.b].add(te.normal),d[te.c].add(te.normal)}}for(var ae=0,ne=this.vertices.length;ae<ne;ae++)d[ae].normalize();for(var Q=0,xe=this.faces.length;Q<xe;Q++){var Te=this.faces[Q],de=Te.vertexNormals;de.length===3?(de[0].copy(d[Te.a]),de[1].copy(d[Te.b]),de[2].copy(d[Te.c])):(de[0]=d[Te.a].clone(),de[1]=d[Te.b].clone(),de[2]=d[Te.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var u=0,d=this.faces.length;u<d;u++){var c=this.faces[u],f=c.vertexNormals;f.length===3?(f[0].copy(c.normal),f[1].copy(c.normal),f[2].copy(c.normal)):(f[0]=c.normal.clone(),f[1]=c.normal.clone(),f[2]=c.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var u=0,d=this.faces.length;u<d;u++){var c=this.faces[u];c.__originalFaceNormal?c.__originalFaceNormal.copy(c.normal):c.__originalFaceNormal=c.normal.clone(),c.__originalVertexNormals||(c.__originalVertexNormals=[]);for(var f=0,x=c.vertexNormals.length;f<x;f++)c.__originalVertexNormals[f]?c.__originalVertexNormals[f].copy(c.vertexNormals[f]):c.__originalVertexNormals[f]=c.vertexNormals[f].clone()}var _=new Pi;_.faces=this.faces;for(var L=0,D=this.morphTargets.length;L<D;L++){if(!this.morphNormals[L]){this.morphNormals[L]={},this.morphNormals[L].faceNormals=[],this.morphNormals[L].vertexNormals=[];for(var N=this.morphNormals[L].faceNormals,Y=this.morphNormals[L].vertexNormals,z=0,X=this.faces.length;z<X;z++){var j=new Pe,q={a:new Pe,b:new Pe,c:new Pe};N.push(j),Y.push(q)}}var te=this.morphNormals[L];_.vertices=this.morphTargets[L].vertices,_.computeFaceNormals(),_.computeVertexNormals();for(var ae=0,ne=this.faces.length;ae<ne;ae++){var Q=this.faces[ae],xe=te.faceNormals[ae],Te=te.vertexNormals[ae];xe.copy(Q.normal),Te.a.copy(Q.vertexNormals[0]),Te.b.copy(Q.vertexNormals[1]),Te.c.copy(Q.vertexNormals[2])}}for(var de=0,le=this.faces.length;de<le;de++){var Ae=this.faces[de];Ae.normal=Ae.__originalFaceNormal,Ae.vertexNormals=Ae.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new pa),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ds),this.boundingSphere.setFromPoints(this.vertices)},merge:function(u,d,c){if(c===void 0&&(c=0),!(u&&u.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",u);return}var f,x=this.vertices.length,_=this.vertices,L=u.vertices,D=this.faces,N=u.faces,Y=this.colors,z=u.colors;d!==void 0&&(f=new as().getNormalMatrix(d));for(var X=0,j=L.length;X<j;X++){var q=L[X],te=q.clone();d!==void 0&&te.applyMatrix4(d),_.push(te)}for(var ae=0,ne=z.length;ae<ne;ae++)Y.push(z[ae].clone());for(var Q=0,xe=N.length;Q<xe;Q++){var Te=N[Q],de=void 0,le=void 0,Ae=Te.vertexNormals,je=Te.vertexColors,He=new Yu(Te.a+x,Te.b+x,Te.c+x);He.normal.copy(Te.normal),f!==void 0&&He.normal.applyMatrix3(f).normalize();for(var ut=0,qe=Ae.length;ut<qe;ut++)de=Ae[ut].clone(),f!==void 0&&de.applyMatrix3(f).normalize(),He.vertexNormals.push(de);He.color.copy(Te.color);for(var Be=0,rt=je.length;Be<rt;Be++)le=je[Be],He.vertexColors.push(le.clone());He.materialIndex=Te.materialIndex+c,D.push(He)}for(var st=0,Je=u.faceVertexUvs.length;st<Je;st++){var ft=u.faceVertexUvs[st];this.faceVertexUvs[st]===void 0&&(this.faceVertexUvs[st]=[]);for(var vt=0,Vt=ft.length;vt<Vt;vt++){for(var Gt=ft[vt],Yt=[],Dt=0,Zt=Gt.length;Dt<Zt;Dt++)Yt.push(Gt[Dt].clone());this.faceVertexUvs[st].push(Yt)}}},mergeMesh:function(u){if(!(u&&u.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",u);return}u.matrixAutoUpdate&&u.updateMatrix(),this.merge(u.geometry,u.matrix)},mergeVertices:function(u){u===void 0&&(u=4);for(var d={},c=[],f=[],x=Math.pow(10,u),_=0,L=this.vertices.length;_<L;_++){var D=this.vertices[_],N=Math.round(D.x*x)+"_"+Math.round(D.y*x)+"_"+Math.round(D.z*x);d[N]===void 0?(d[N]=_,c.push(this.vertices[_]),f[_]=c.length-1):f[_]=f[d[N]]}for(var Y=[],z=0,X=this.faces.length;z<X;z++){var j=this.faces[z];j.a=f[j.a],j.b=f[j.b],j.c=f[j.c];for(var q=[j.a,j.b,j.c],te=0;te<3;te++)if(q[te]===q[(te+1)%3]){Y.push(z);break}}for(var ae=Y.length-1;ae>=0;ae--){var ne=Y[ae];this.faces.splice(ne,1);for(var Q=0,xe=this.faceVertexUvs.length;Q<xe;Q++)this.faceVertexUvs[Q].splice(ne,1)}var Te=this.vertices.length-c.length;return this.vertices=c,Te},setFromPoints:function(u){this.vertices=[];for(var d=0,c=u.length;d<c;d++){var f=u[d];this.vertices.push(new Pe(f.x,f.y,f.z||0))}return this},sortFacesByMaterialIndex:function(){for(var u=this.faces,d=u.length,c=0;c<d;c++)u[c]._id=c;function f(z,X){return z.materialIndex-X.materialIndex}u.sort(f);var x=this.faceVertexUvs[0],_=this.faceVertexUvs[1],L,D;x&&x.length===d&&(L=[]),_&&_.length===d&&(D=[]);for(var N=0;N<d;N++){var Y=u[N]._id;L&&L.push(x[Y]),D&&D.push(_[Y])}L&&(this.faceVertexUvs[0]=L),D&&(this.faceVertexUvs[1]=D)},toJSON:function(){var u={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.parameters!==void 0){var d=this.parameters;for(var c in d)d[c]!==void 0&&(u[c]=d[c]);return u}for(var f=[],x=0;x<this.vertices.length;x++){var _=this.vertices[x];f.push(_.x,_.y,_.z)}for(var L=[],D=[],N={},Y=[],z={},X=[],j={},q=0;q<this.faces.length;q++){var te=this.faces[q],ae=!0,ne=!1,Q=this.faceVertexUvs[0][q]!==void 0,xe=te.normal.length()>0,Te=te.vertexNormals.length>0,de=te.color.r!==1||te.color.g!==1||te.color.b!==1,le=te.vertexColors.length>0,Ae=0;if(Ae=qe(Ae,0,0),Ae=qe(Ae,1,ae),Ae=qe(Ae,2,ne),Ae=qe(Ae,3,Q),Ae=qe(Ae,4,xe),Ae=qe(Ae,5,Te),Ae=qe(Ae,6,de),Ae=qe(Ae,7,le),L.push(Ae),L.push(te.a,te.b,te.c),L.push(te.materialIndex),Q){var je=this.faceVertexUvs[0][q];L.push(st(je[0]),st(je[1]),st(je[2]))}if(xe&&L.push(Be(te.normal)),Te){var He=te.vertexNormals;L.push(Be(He[0]),Be(He[1]),Be(He[2]))}if(de&&L.push(rt(te.color)),le){var ut=te.vertexColors;L.push(rt(ut[0]),rt(ut[1]),rt(ut[2]))}}function qe(Je,ft,vt){return vt?Je|1<<ft:Je&~(1<<ft)}function Be(Je){var ft=Je.x.toString()+Je.y.toString()+Je.z.toString();return N[ft]!==void 0||(N[ft]=D.length/3,D.push(Je.x,Je.y,Je.z)),N[ft]}function rt(Je){var ft=Je.r.toString()+Je.g.toString()+Je.b.toString();return z[ft]!==void 0||(z[ft]=Y.length,Y.push(Je.getHex())),z[ft]}function st(Je){var ft=Je.x.toString()+Je.y.toString();return j[ft]!==void 0||(j[ft]=X.length/2,X.push(Je.x,Je.y)),j[ft]}return u.data={},u.data.vertices=f,u.data.normals=D,Y.length>0&&(u.data.colors=Y),X.length>0&&(u.data.uvs=[X]),u.data.faces=L,u},clone:function(){return new Pi().copy(this)},copy:function(u){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=u.name;for(var d=u.vertices,c=0,f=d.length;c<f;c++)this.vertices.push(d[c].clone());for(var x=u.colors,_=0,L=x.length;_<L;_++)this.colors.push(x[_].clone());for(var D=u.faces,N=0,Y=D.length;N<Y;N++)this.faces.push(D[N].clone());for(var z=0,X=u.faceVertexUvs.length;z<X;z++){var j=u.faceVertexUvs[z];this.faceVertexUvs[z]===void 0&&(this.faceVertexUvs[z]=[]);for(var q=0,te=j.length;q<te;q++){for(var ae=j[q],ne=[],Q=0,xe=ae.length;Q<xe;Q++){var Te=ae[Q];ne.push(Te.clone())}this.faceVertexUvs[z].push(ne)}}for(var de=u.morphTargets,le=0,Ae=de.length;le<Ae;le++){var je={};if(je.name=de[le].name,de[le].vertices!==void 0){je.vertices=[];for(var He=0,ut=de[le].vertices.length;He<ut;He++)je.vertices.push(de[le].vertices[He].clone())}if(de[le].normals!==void 0){je.normals=[];for(var qe=0,Be=de[le].normals.length;qe<Be;qe++)je.normals.push(de[le].normals[qe].clone())}this.morphTargets.push(je)}for(var rt=u.morphNormals,st=0,Je=rt.length;st<Je;st++){var ft={};if(rt[st].vertexNormals!==void 0){ft.vertexNormals=[];for(var vt=0,Vt=rt[st].vertexNormals.length;vt<Vt;vt++){var Gt=rt[st].vertexNormals[vt],Yt={};Yt.a=Gt.a.clone(),Yt.b=Gt.b.clone(),Yt.c=Gt.c.clone(),ft.vertexNormals.push(Yt)}}if(rt[st].faceNormals!==void 0){ft.faceNormals=[];for(var Dt=0,Zt=rt[st].faceNormals.length;Dt<Zt;Dt++)ft.faceNormals.push(rt[st].faceNormals[Dt].clone())}this.morphNormals.push(ft)}for(var un=u.skinWeights,Yn=0,Ot=un.length;Yn<Ot;Yn++)this.skinWeights.push(un[Yn].clone());for(var Er=u.skinIndices,er=0,dr=Er.length;er<dr;er++)this.skinIndices.push(Er[er].clone());for(var gn=u.lineDistances,br=0,pr=gn.length;br<pr;br++)this.lineDistances.push(gn[br]);var wi=u.boundingBox;wi!==null&&(this.boundingBox=wi.clone());var Hr=u.boundingSphere;return Hr!==null&&(this.boundingSphere=Hr.clone()),this.elementsNeedUpdate=u.elementsNeedUpdate,this.verticesNeedUpdate=u.verticesNeedUpdate,this.uvsNeedUpdate=u.uvsNeedUpdate,this.normalsNeedUpdate=u.normalsNeedUpdate,this.colorsNeedUpdate=u.colorsNeedUpdate,this.lineDistancesNeedUpdate=u.lineDistancesNeedUpdate,this.groupsNeedUpdate=u.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var s3=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;return D=m.call(this)||this,D.type="BoxGeometry",D.parameters={width:d,height:c,depth:f,widthSegments:x,heightSegments:_,depthSegments:L},D.fromBufferGeometry(new Qu(d,c,f,x,_,L)),D.mergeVertices(),D}return u}(Pi),a3=function(m){Sn(u,m);function u(d,c,f,x){var _;d===void 0&&(d=1),c===void 0&&(c=8),f===void 0&&(f=0),x===void 0&&(x=Math.PI*2),_=m.call(this)||this,_.type="CircleBufferGeometry",_.parameters={radius:d,segments:c,thetaStart:f,thetaLength:x},c=Math.max(3,c);var L=[],D=[],N=[],Y=[],z=new Pe,X=new kt;D.push(0,0,0),N.push(0,0,1),Y.push(.5,.5);for(var j=0,q=3;j<=c;j++,q+=3){var te=f+j/c*x;z.x=d*Math.cos(te),z.y=d*Math.sin(te),D.push(z.x,z.y,z.z),N.push(0,0,1),X.x=(D[q]/d+1)/2,X.y=(D[q+1]/d+1)/2,Y.push(X.x,X.y)}for(var ae=1;ae<=c;ae++)L.push(ae,ae+1,0);return _.setIndex(L),_.setAttribute("position",new an(D,3)),_.setAttribute("normal",new an(N,3)),_.setAttribute("uv",new an(Y,2)),_}return u}(Pn),n_=function(m){Sn(u,m);function u(d,c,f,x){var _;return _=m.call(this)||this,_.type="CircleGeometry",_.parameters={radius:d,segments:c,thetaStart:f,thetaLength:x},_.fromBufferGeometry(new a3(d,c,f,x)),_.mergeVertices(),_}return u}(Pi),T1=function(m){Sn(u,m);function u(d,c,f,x,_,L,D,N){var Y;d===void 0&&(d=1),c===void 0&&(c=1),f===void 0&&(f=1),x===void 0&&(x=8),_===void 0&&(_=1),L===void 0&&(L=!1),D===void 0&&(D=0),N===void 0&&(N=Math.PI*2),Y=m.call(this)||this,Y.type="CylinderBufferGeometry",Y.parameters={radiusTop:d,radiusBottom:c,height:f,radialSegments:x,heightSegments:_,openEnded:L,thetaStart:D,thetaLength:N};var z=Ml(Y);x=Math.floor(x),_=Math.floor(_);var X=[],j=[],q=[],te=[],ae=0,ne=[],Q=f/2,xe=0;Te(),L===!1&&(d>0&&de(!0),c>0&&de(!1)),Y.setIndex(X),Y.setAttribute("position",new an(j,3)),Y.setAttribute("normal",new an(q,3)),Y.setAttribute("uv",new an(te,2));function Te(){for(var le=new Pe,Ae=new Pe,je=0,He=(c-d)/f,ut=0;ut<=_;ut++){for(var qe=[],Be=ut/_,rt=Be*(c-d)+d,st=0;st<=x;st++){var Je=st/x,ft=Je*N+D,vt=Math.sin(ft),Vt=Math.cos(ft);Ae.x=rt*vt,Ae.y=-Be*f+Q,Ae.z=rt*Vt,j.push(Ae.x,Ae.y,Ae.z),le.set(vt,He,Vt).normalize(),q.push(le.x,le.y,le.z),te.push(Je,1-Be),qe.push(ae++)}ne.push(qe)}for(var Gt=0;Gt<x;Gt++)for(var Yt=0;Yt<_;Yt++){var Dt=ne[Yt][Gt],Zt=ne[Yt+1][Gt],un=ne[Yt+1][Gt+1],Yn=ne[Yt][Gt+1];X.push(Dt,Zt,Yn),X.push(Zt,un,Yn),je+=6}z.addGroup(xe,je,0),xe+=je}function de(le){for(var Ae=ae,je=new kt,He=new Pe,ut=0,qe=le===!0?d:c,Be=le===!0?1:-1,rt=1;rt<=x;rt++)j.push(0,Q*Be,0),q.push(0,Be,0),te.push(.5,.5),ae++;for(var st=ae,Je=0;Je<=x;Je++){var ft=Je/x,vt=ft*N+D,Vt=Math.cos(vt),Gt=Math.sin(vt);He.x=qe*Gt,He.y=Q*Be,He.z=qe*Vt,j.push(He.x,He.y,He.z),q.push(0,Be,0),je.x=Vt*.5+.5,je.y=Gt*.5*Be+.5,te.push(je.x,je.y),ae++}for(var Yt=0;Yt<x;Yt++){var Dt=Ae+Yt,Zt=st+Yt;le===!0?X.push(Zt,Zt+1,Dt):X.push(Zt+1,Zt,Dt),ut+=3}z.addGroup(xe,ut,le===!0?1:2),xe+=ut}return Y}return u}(Pn),l3=function(m){Sn(u,m);function u(d,c,f,x,_,L,D,N){var Y;return Y=m.call(this)||this,Y.type="CylinderGeometry",Y.parameters={radiusTop:d,radiusBottom:c,height:f,radialSegments:x,heightSegments:_,openEnded:L,thetaStart:D,thetaLength:N},Y.fromBufferGeometry(new T1(d,c,f,x,_,L,D,N)),Y.mergeVertices(),Y}return u}(Pi),r_=function(m){Sn(u,m);function u(d,c,f,x,_,L,D){var N;return N=m.call(this,0,d,c,f,x,_,L,D)||this,N.type="ConeGeometry",N.parameters={radius:d,height:c,radialSegments:f,heightSegments:x,openEnded:_,thetaStart:L,thetaLength:D},N}return u}(l3),i_=function(m){Sn(u,m);function u(d,c,f,x,_,L,D){var N;return d===void 0&&(d=1),c===void 0&&(c=1),f===void 0&&(f=8),x===void 0&&(x=1),_===void 0&&(_=!1),L===void 0&&(L=0),D===void 0&&(D=Math.PI*2),N=m.call(this,0,d,c,f,x,_,L,D)||this,N.type="ConeBufferGeometry",N.parameters={radius:d,height:c,radialSegments:f,heightSegments:x,openEnded:_,thetaStart:L,thetaLength:D},N}return u}(T1),Gh=function(m){Sn(u,m);function u(d,c,f,x){var _;f===void 0&&(f=1),x===void 0&&(x=0),_=m.call(this)||this,_.type="PolyhedronBufferGeometry",_.parameters={vertices:d,indices:c,radius:f,detail:x};var L=[],D=[];N(x),z(f),X(),_.setAttribute("position",new an(L,3)),_.setAttribute("normal",new an(L.slice(),3)),_.setAttribute("uv",new an(D,2)),x===0?_.computeVertexNormals():_.normalizeNormals();function N(Te){for(var de=new Pe,le=new Pe,Ae=new Pe,je=0;je<c.length;je+=3)te(c[je+0],de),te(c[je+1],le),te(c[je+2],Ae),Y(de,le,Ae,Te)}function Y(Te,de,le,Ae){for(var je=Ae+1,He=[],ut=0;ut<=je;ut++){He[ut]=[];for(var qe=Te.clone().lerp(le,ut/je),Be=de.clone().lerp(le,ut/je),rt=je-ut,st=0;st<=rt;st++)st===0&&ut===je?He[ut][st]=qe:He[ut][st]=qe.clone().lerp(Be,st/rt)}for(var Je=0;Je<je;Je++)for(var ft=0;ft<2*(je-Je)-1;ft++){var vt=Math.floor(ft/2);ft%2===0?(q(He[Je][vt+1]),q(He[Je+1][vt]),q(He[Je][vt])):(q(He[Je][vt+1]),q(He[Je+1][vt+1]),q(He[Je+1][vt]))}}function z(Te){for(var de=new Pe,le=0;le<L.length;le+=3)de.x=L[le+0],de.y=L[le+1],de.z=L[le+2],de.normalize().multiplyScalar(Te),L[le+0]=de.x,L[le+1]=de.y,L[le+2]=de.z}function X(){for(var Te=new Pe,de=0;de<L.length;de+=3){Te.x=L[de+0],Te.y=L[de+1],Te.z=L[de+2];var le=Q(Te)/2/Math.PI+.5,Ae=xe(Te)/Math.PI+.5;D.push(le,1-Ae)}ae(),j()}function j(){for(var Te=0;Te<D.length;Te+=6){var de=D[Te+0],le=D[Te+2],Ae=D[Te+4],je=Math.max(de,le,Ae),He=Math.min(de,le,Ae);je>.9&&He<.1&&(de<.2&&(D[Te+0]+=1),le<.2&&(D[Te+2]+=1),Ae<.2&&(D[Te+4]+=1))}}function q(Te){L.push(Te.x,Te.y,Te.z)}function te(Te,de){var le=Te*3;de.x=d[le+0],de.y=d[le+1],de.z=d[le+2]}function ae(){for(var Te=new Pe,de=new Pe,le=new Pe,Ae=new Pe,je=new kt,He=new kt,ut=new kt,qe=0,Be=0;qe<L.length;qe+=9,Be+=6){Te.set(L[qe+0],L[qe+1],L[qe+2]),de.set(L[qe+3],L[qe+4],L[qe+5]),le.set(L[qe+6],L[qe+7],L[qe+8]),je.set(D[Be+0],D[Be+1]),He.set(D[Be+2],D[Be+3]),ut.set(D[Be+4],D[Be+5]),Ae.copy(Te).add(de).add(le).divideScalar(3);var rt=Q(Ae);ne(je,Be+0,Te,rt),ne(He,Be+2,de,rt),ne(ut,Be+4,le,rt)}}function ne(Te,de,le,Ae){Ae<0&&Te.x===1&&(D[de]=Te.x-1),le.x===0&&le.z===0&&(D[de]=Ae/2/Math.PI+.5)}function Q(Te){return Math.atan2(Te.z,-Te.x)}function xe(Te){return Math.atan2(-Te.y,Math.sqrt(Te.x*Te.x+Te.z*Te.z))}return _}return u}(Pn),u3=function(m){Sn(u,m);function u(d,c){var f;d===void 0&&(d=1),c===void 0&&(c=0);var x=(1+Math.sqrt(5))/2,_=1/x,L=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-_,-x,0,-_,x,0,_,-x,0,_,x,-_,-x,0,-_,x,0,_,-x,0,_,x,0,-x,0,-_,x,0,-_,-x,0,_,x,0,_],D=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return f=m.call(this,L,D,d,c)||this,f.type="DodecahedronBufferGeometry",f.parameters={radius:d,detail:c},f}return u}(Gh),V2=function(m){Sn(u,m);function u(d,c){var f;return f=m.call(this)||this,f.type="DodecahedronGeometry",f.parameters={radius:d,detail:c},f.fromBufferGeometry(new u3(d,c)),f.mergeVertices(),f}return u}(Pi),W2=new Pe,j2=new Pe,Q2=new Pe,vp=new xo,c3=function(m){Sn(u,m);function u(d,c){var f;f=m.call(this)||this,f.type="EdgesGeometry",f.parameters={thresholdAngle:c},c=c!==void 0?c:1,d.isGeometry&&(d=new Pn().fromGeometry(d));for(var x=4,_=Math.pow(10,x),L=Math.cos($n.DEG2RAD*c),D=d.getIndex(),N=d.getAttribute("position"),Y=D?D.count:N.count,z=[0,0,0],X=["a","b","c"],j=new Array(3),q={},te=[],ae=0;ae<Y;ae+=3){D?(z[0]=D.getX(ae),z[1]=D.getX(ae+1),z[2]=D.getX(ae+2)):(z[0]=ae,z[1]=ae+1,z[2]=ae+2);var ne=vp.a,Q=vp.b,xe=vp.c;if(ne.fromBufferAttribute(N,z[0]),Q.fromBufferAttribute(N,z[1]),xe.fromBufferAttribute(N,z[2]),vp.getNormal(Q2),j[0]=Math.round(ne.x*_)+","+Math.round(ne.y*_)+","+Math.round(ne.z*_),j[1]=Math.round(Q.x*_)+","+Math.round(Q.y*_)+","+Math.round(Q.z*_),j[2]=Math.round(xe.x*_)+","+Math.round(xe.y*_)+","+Math.round(xe.z*_),j[0]===j[1]||j[1]===j[2]||j[2]===j[0])continue;for(var Te=0;Te<3;Te++){var de=(Te+1)%3,le=j[Te],Ae=j[de],je=vp[X[Te]],He=vp[X[de]],ut=le+"_"+Ae,qe=Ae+"_"+le;qe in q&&q[qe]?(Q2.dot(q[qe].normal)<=L&&(te.push(je.x,je.y,je.z),te.push(He.x,He.y,He.z)),q[qe]=null):ut in q||(q[ut]={index0:z[Te],index1:z[de],normal:Q2.clone()})}}for(var Be in q)if(q[Be]){var rt=q[Be],st=rt.index0,Je=rt.index1;W2.fromBufferAttribute(N,st),j2.fromBufferAttribute(N,Je),te.push(W2.x,W2.y,W2.z),te.push(j2.x,j2.y,j2.z)}return f.setAttribute("position",new an(te,3)),f}return u}(Pn),Tb={triangulate:function(u,d,c){c=c||2;var f=d&&d.length,x=f?d[0]*c:u.length,_=o_(u,0,x,c,!0),L=[];if(!_||_.next===_.prev)return L;var D,N,Y,z,X,j,q;if(f&&(_=Rb(u,d,_,c)),u.length>80*c){D=Y=u[0],N=z=u[1];for(var te=c;te<x;te+=c)X=u[te],j=u[te+1],X<D&&(D=X),j<N&&(N=j),X>Y&&(Y=X),j>z&&(z=j);q=Math.max(Y-D,z-N),q=q!==0?1/q:0}return gp(_,L,c,D,N,q),L}};function o_(m,u,d,c,f){var x,_;if(f===Gb(m,u,d,c)>0)for(x=u;x<d;x+=c)_=u_(x,m[x],m[x+1],_);else for(x=d-c;x>=u;x-=c)_=u_(x,m[x],m[x+1],_);return _&&q2(_,_.next)&&(L1(_),_=_.next),_}function O0(m,u){if(!m)return m;u||(u=m);var d=m,c;do if(c=!1,!d.steiner&&(q2(d,d.next)||Ao(d.prev,d,d.next)===0)){if(L1(d),d=u=d.prev,d===d.next)break;c=!0}else d=d.next;while(c||d!==u);return u}function gp(m,u,d,c,f,x,_){if(!m)return;!_&&x&&f3(m,c,f,x);for(var L=m,D,N;m.prev!==m.next;){if(D=m.prev,N=m.next,x?Cb(m,c,f,x):bb(m)){u.push(D.i/d),u.push(m.i/d),u.push(N.i/d),L1(m),m=N.next,L=N.next;continue}if(m=N,m===L){_?_===1?(m=Lb(O0(m),u,d),gp(m,u,d,c,f,x,2)):_===2&&Pb(m,u,d,c,f,x):gp(O0(m),u,d,c,f,x,1);break}}}function bb(m){var u=m.prev,d=m,c=m.next;if(Ao(u,d,c)>=0)return!1;for(var f=m.next.next;f!==m.prev;){if(yp(u.x,u.y,d.x,d.y,c.x,c.y,f.x,f.y)&&Ao(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Cb(m,u,d,c){var f=m.prev,x=m,_=m.next;if(Ao(f,x,_)>=0)return!1;for(var L=f.x<x.x?f.x<_.x?f.x:_.x:x.x<_.x?x.x:_.x,D=f.y<x.y?f.y<_.y?f.y:_.y:x.y<_.y?x.y:_.y,N=f.x>x.x?f.x>_.x?f.x:_.x:x.x>_.x?x.x:_.x,Y=f.y>x.y?f.y>_.y?f.y:_.y:x.y>_.y?x.y:_.y,z=h3(L,D,u,d,c),X=h3(N,Y,u,d,c),j=m.prevZ,q=m.nextZ;j&&j.z>=z&&q&&q.z<=X;){if(j!==m.prev&&j!==m.next&&yp(f.x,f.y,x.x,x.y,_.x,_.y,j.x,j.y)&&Ao(j.prev,j,j.next)>=0)return!1;if(j=j.prevZ,q!==m.prev&&q!==m.next&&yp(f.x,f.y,x.x,x.y,_.x,_.y,q.x,q.y)&&Ao(q.prev,q,q.next)>=0)return!1;q=q.nextZ}for(;j&&j.z>=z;){if(j!==m.prev&&j!==m.next&&yp(f.x,f.y,x.x,x.y,_.x,_.y,j.x,j.y)&&Ao(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;q&&q.z<=X;){if(q!==m.prev&&q!==m.next&&yp(f.x,f.y,x.x,x.y,_.x,_.y,q.x,q.y)&&Ao(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function Lb(m,u,d){var c=m;do{var f=c.prev,x=c.next.next;!q2(f,x)&&a_(f,c,c.next,x)&&C1(f,x)&&C1(x,f)&&(u.push(f.i/d),u.push(c.i/d),u.push(x.i/d),L1(c),L1(c.next),c=m=x),c=c.next}while(c!==m);return O0(c)}function Pb(m,u,d,c,f,x){var _=m;do{for(var L=_.next.next;L!==_.prev;){if(_.i!==L.i&&Ob(_,L)){var D=l_(_,L);_=O0(_,_.next),D=O0(D,D.next),gp(_,u,d,c,f,x),gp(D,u,d,c,f,x);return}L=L.next}_=_.next}while(_!==m)}function Rb(m,u,d,c){var f=[],x,_,L,D,N;for(x=0,_=u.length;x<_;x++)L=u[x]*c,D=x<_-1?u[x+1]*c:m.length,N=o_(m,L,D,c,!1),N===N.next&&(N.steiner=!0),f.push(s_(N));for(f.sort(Db),x=0;x<f.length;x++)Fb(f[x],d),d=O0(d,d.next);return d}function Db(m,u){return m.x-u.x}function Fb(m,u){if(u=Bb(m,u),u){var d=l_(u,m);O0(u,u.next),O0(d,d.next)}}function Bb(m,u){var d=u,c=m.x,f=m.y,x=-Infinity,_;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var L=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(L<=c&&L>x){if(x=L,L===c){if(f===d.y)return d;if(f===d.next.y)return d.next}_=d.x<d.next.x?d:d.next}}d=d.next}while(d!==u);if(!_)return null;if(c===x)return _;var D=_,N=_.x,Y=_.y,z=Infinity,X;d=_;do c>=d.x&&d.x>=N&&c!==d.x&&yp(f<Y?c:x,f,N,Y,f<Y?x:c,f,d.x,d.y)&&(X=Math.abs(f-d.y)/(c-d.x),C1(d,m)&&(X<z||X===z&&(d.x>_.x||d.x===_.x&&Nb(_,d)))&&(_=d,z=X)),d=d.next;while(d!==D);return _}function Nb(m,u){return Ao(m.prev,m,u.prev)<0&&Ao(u.next,m,m.next)<0}function f3(m,u,d,c){var f=m;do f.z===null&&(f.z=h3(f.x,f.y,u,d,c)),f.prevZ=f.prev,f.nextZ=f.next,f=f.next;while(f!==m);f.prevZ.nextZ=null,f.prevZ=null,Ib(f)}function Ib(m){var u,d,c,f,x,_,L,D,N=1;do{for(d=m,m=null,x=null,_=0;d;){for(_++,c=d,L=0,u=0;u<N&&!(L++,c=c.nextZ,!c);u++);for(D=N;L>0||D>0&&c;)L!==0&&(D===0||!c||d.z<=c.z)?(f=d,d=d.nextZ,L--):(f=c,c=c.nextZ,D--),x?x.nextZ=f:m=f,f.prevZ=x,x=f;d=c}x.nextZ=null,N*=2}while(_>1);return m}function h3(m,u,d,c,f){return m=32767*(m-d)*f,u=32767*(u-c)*f,m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,m|u<<1}function s_(m){var u=m,d=m;do(u.x<d.x||u.x===d.x&&u.y<d.y)&&(d=u),u=u.next;while(u!==m);return d}function yp(m,u,d,c,f,x,_,L){return(f-_)*(u-L)-(m-_)*(x-L)>=0&&(m-_)*(c-L)-(d-_)*(u-L)>=0&&(d-_)*(x-L)-(f-_)*(c-L)>=0}function Ob(m,u){return m.next.i!==u.i&&m.prev.i!==u.i&&!Ub(m,u)&&(C1(m,u)&&C1(u,m)&&kb(m,u)&&(Ao(m.prev,m,u.prev)||Ao(m,u.prev,u))||q2(m,u)&&Ao(m.prev,m,m.next)>0&&Ao(u.prev,u,u.next)>0)}function Ao(m,u,d){return(u.y-m.y)*(d.x-u.x)-(u.x-m.x)*(d.y-u.y)}function q2(m,u){return m.x===u.x&&m.y===u.y}function a_(m,u,d,c){var f=J2(Ao(m,u,d)),x=J2(Ao(m,u,c)),_=J2(Ao(d,c,m)),L=J2(Ao(d,c,u));return f!==x&&_!==L||(f===0&&b1(m,d,u)||(x===0&&b1(m,c,u)||_===0&&b1(d,m,c)))?!0:!!(L===0&&b1(d,u,c))}function b1(m,u,d){return u.x<=Math.max(m.x,d.x)&&u.x>=Math.min(m.x,d.x)&&u.y<=Math.max(m.y,d.y)&&u.y>=Math.min(m.y,d.y)}function J2(m){return m>0?1:m<0?-1:0}function Ub(m,u){var d=m;do{if(d.i!==m.i&&d.next.i!==m.i&&d.i!==u.i&&d.next.i!==u.i&&a_(d,d.next,m,u))return!0;d=d.next}while(d!==m);return!1}function C1(m,u){return Ao(m.prev,m,m.next)<0?Ao(m,u,m.next)>=0&&Ao(m,m.prev,u)>=0:Ao(m,u,m.prev)<0||Ao(m,m.next,u)<0}function kb(m,u){var d=m,c=!1,f=(m.x+u.x)/2,x=(m.y+u.y)/2;do d.y>x!==d.next.y>x&&d.next.y!==d.y&&f<(d.next.x-d.x)*(x-d.y)/(d.next.y-d.y)+d.x&&(c=!c),d=d.next;while(d!==m);return c}function l_(m,u){var d=new d3(m.i,m.x,m.y),c=new d3(u.i,u.x,u.y),f=m.next,x=u.prev;return m.next=u,u.prev=m,d.next=f,f.prev=d,c.next=d,d.prev=c,x.next=c,c.prev=x,c}function u_(m,u,d,c){var f=new d3(m,u,d);return c?(f.next=c.next,f.prev=c,c.next.prev=f,c.next=f):(f.prev=f,f.next=f),f}function L1(m){m.next.prev=m.prev,m.prev.next=m.next,m.prevZ&&(m.prevZ.nextZ=m.nextZ),m.nextZ&&(m.nextZ.prevZ=m.prevZ)}function d3(m,u,d){this.i=m,this.x=u,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Gb(m,u,d,c){for(var f=0,x=u,_=d-c;x<d;x+=c)f+=(m[_]-m[x])*(m[x+1]+m[_+1]),_=x;return f}var ec={area:function(u){for(var d=u.length,c=0,f=d-1,x=0;x<d;f=x++)c+=u[f].x*u[x].y-u[x].x*u[f].y;return c*.5},isClockWise:function(u){return ec.area(u)<0},triangulateShape:function(u,d){var c=[],f=[],x=[];c_(u),f_(c,u);var _=u.length;d.forEach(c_);for(var L=0;L<d.length;L++)f.push(_),_+=d[L].length,f_(c,d[L]);for(var D=Tb.triangulate(c,f),N=0;N<D.length;N+=3)x.push(D.slice(N,N+3));return x}};function c_(m){var u=m.length;u>2&&m[u-1].equals(m[0])&&m.pop()}function f_(m,u){for(var d=0;d<u.length;d++)m.push(u[d].x),m.push(u[d].y)}var xp=function(m){Sn(u,m);function u(c,f){var x;x=m.call(this)||this,x.type="ExtrudeBufferGeometry",x.parameters={shapes:c,options:f},c=Array.isArray(c)?c:[c];for(var _=Ml(x),L=[],D=[],N=0,Y=c.length;N<Y;N++){var z=c[N];X(z)}x.setAttribute("position",new an(L,3)),x.setAttribute("uv",new an(D,2)),x.computeVertexNormals();function X(j){var q=[],te=f.curveSegments!==void 0?f.curveSegments:12,ae=f.steps!==void 0?f.steps:1,ne=f.depth!==void 0?f.depth:100,Q=f.bevelEnabled!==void 0?f.bevelEnabled:!0,xe=f.bevelThickness!==void 0?f.bevelThickness:6,Te=f.bevelSize!==void 0?f.bevelSize:xe-2,de=f.bevelOffset!==void 0?f.bevelOffset:0,le=f.bevelSegments!==void 0?f.bevelSegments:3,Ae=f.extrudePath,je=f.UVGenerator!==void 0?f.UVGenerator:Xb;f.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),ne=f.amount);var He,ut=!1,qe,Be,rt,st;Ae&&(He=Ae.getSpacedPoints(ae),ut=!0,Q=!1,qe=Ae.computeFrenetFrames(ae,!1),Be=new Pe,rt=new Pe,st=new Pe),Q||(le=0,xe=0,Te=0,de=0);var Je=j.extractPoints(te),ft=Je.shape,vt=Je.holes,Vt=!ec.isClockWise(ft);if(Vt){ft=ft.reverse();for(var Gt=0,Yt=vt.length;Gt<Yt;Gt++){var Dt=vt[Gt];ec.isClockWise(Dt)&&(vt[Gt]=Dt.reverse())}}for(var Zt=ec.triangulateShape(ft,vt),un=ft,Yn=0,Ot=vt.length;Yn<Ot;Yn++){var Er=vt[Yn];ft=ft.concat(Er)}function er(ei,wr,vi){return wr||console.error("THREE.ExtrudeGeometry: vec does not exist"),wr.clone().multiplyScalar(vi).add(ei)}var dr=ft.length,gn=Zt.length;function br(ei,wr,vi){var Gr,qr,oo,ea=ei.x-wr.x,ta=ei.y-wr.y,Aa=vi.x-ei.x,zl=vi.y-ei.y,Rf=ea*ea+ta*ta,cE=ea*zl-ta*Aa;if(Math.abs(cE)>Number.EPSILON){var Tg=Math.sqrt(Rf),dM=Math.sqrt(Aa*Aa+zl*zl),pM=wr.x-ta/Tg,mM=wr.y+ea/Tg,sL=vi.x-zl/dM,aL=vi.y+Aa/dM,vM=((sL-pM)*zl-(aL-mM)*Aa)/(ea*zl-ta*Aa);Gr=pM+ea*vM-ei.x,qr=mM+ta*vM-ei.y;var gM=Gr*Gr+qr*qr;if(gM<=2)return new kt(Gr,qr);oo=Math.sqrt(gM/2)}else{var Z1=!1;ea>Number.EPSILON?Aa>Number.EPSILON&&(Z1=!0):ea<-Number.EPSILON?Aa<-Number.EPSILON&&(Z1=!0):Math.sign(ta)===Math.sign(zl)&&(Z1=!0),Z1?(Gr=-ta,qr=ea,oo=Math.sqrt(Rf)):(Gr=ea,qr=ta,oo=Math.sqrt(Rf/2))}return new kt(Gr/oo,qr/oo)}for(var pr=[],wi=0,Hr=un.length,Xi=Hr-1,fo=wi+1;wi<Hr;wi++,Xi++,fo++)Xi===Hr&&(Xi=0),fo===Hr&&(fo=0),pr[wi]=br(un[wi],un[Xi],un[fo]);for(var es=[],zo,Hi=pr.concat(),$e=0,We=vt.length;$e<We;$e++){var yn=vt[$e];zo=[];for(var $t=0,tr=yn.length,dt=tr-1,Mn=$t+1;$t<tr;$t++,dt++,Mn++)dt===tr&&(dt=0),Mn===tr&&(Mn=0),zo[$t]=br(yn[$t],yn[dt],yn[Mn]);es.push(zo),Hi=Hi.concat(zo)}for(var wn=0;wn<le;wn++){for(var Xn=wn/le,An=xe*Math.cos(Xn*Math.PI/2),Jt=Te*Math.sin(Xn*Math.PI/2)+de,mr=0,kr=un.length;mr<kr;mr++){var _o=er(un[mr],pr[mr],Jt);Un(_o.x,_o.y,-An)}for(var Ii=0,ui=vt.length;Ii<ui;Ii++){var zr=vt[Ii];zo=es[Ii];for(var Yo=0,Dp=zr.length;Yo<Dp;Yo++){var Y0=er(zr[Yo],zo[Yo],Jt);Un(Y0.x,Y0.y,-An)}}}for(var sc=Te+de,Pf=0;Pf<dr;Pf++){var Vc=Q?er(ft[Pf],Hi[Pf],sc):ft[Pf];ut?(rt.copy(qe.normals[0]).multiplyScalar(Vc.x),Be.copy(qe.binormals[0]).multiplyScalar(Vc.y),st.copy(He[0]).add(rt).add(Be),Un(st.x,st.y,st.z)):Un(Vc.x,Vc.y,0)}for(var Wc=1;Wc<=ae;Wc++)for(var V0=0;V0<dr;V0++){var Kh=Q?er(ft[V0],Hi[V0],sc):ft[V0];ut?(rt.copy(qe.normals[Wc]).multiplyScalar(Kh.x),Be.copy(qe.binormals[Wc]).multiplyScalar(Kh.y),st.copy(He[Wc]).add(rt).add(Be),Un(st.x,st.y,st.z)):Un(Kh.x,Kh.y,ne/ae*Wc)}for(var Hl=le-1;Hl>=0;Hl--){for(var q1=Hl/le,J1=xe*Math.cos(q1*Math.PI/2),Sg=Te*Math.sin(q1*Math.PI/2)+de,Ie=0,Nt=un.length;Ie<Nt;Ie++){var Tt=er(un[Ie],pr[Ie],Sg);Un(Tt.x,Tt.y,ne+J1)}for(var Xt=0,cn=vt.length;Xt<cn;Xt++){var Qr=vt[Xt];zo=es[Xt];for(var Or=0,Ai=Qr.length;Or<Ai;Or++){var vr=er(Qr[Or],zo[Or],Sg);ut?Un(vr.x,vr.y+He[ae-1].y,He[ae-1].x+J1):Un(vr.x,vr.y,ne+J1)}}}Vo(),zi();function Vo(){var ei=L.length/3;if(Q){for(var wr=0,vi=dr*wr,Gr=0;Gr<gn;Gr++){var qr=Zt[Gr];Es(qr[2]+vi,qr[1]+vi,qr[0]+vi)}wr=ae+le*2,vi=dr*wr;for(var oo=0;oo<gn;oo++){var ea=Zt[oo];Es(ea[0]+vi,ea[1]+vi,ea[2]+vi)}}else{for(var ta=0;ta<gn;ta++){var Aa=Zt[ta];Es(Aa[2],Aa[1],Aa[0])}for(var zl=0;zl<gn;zl++){var Rf=Zt[zl];Es(Rf[0]+dr*ae,Rf[1]+dr*ae,Rf[2]+dr*ae)}}_.addGroup(ei,L.length/3-ei,0)}function zi(){var ei=L.length/3,wr=0;Wo(un,wr),wr+=un.length;for(var vi=0,Gr=vt.length;vi<Gr;vi++){var qr=vt[vi];Wo(qr,wr),wr+=qr.length}_.addGroup(ei,L.length/3-ei,1)}function Wo(ei,wr){for(var vi=ei.length;--vi>=0;){var Gr=vi,qr=vi-1;qr<0&&(qr=ei.length-1);for(var oo=0,ea=ae+le*2;oo<ea;oo++){var ta=dr*oo,Aa=dr*(oo+1),zl=wr+Gr+ta,Rf=wr+qr+ta,cE=wr+qr+Aa,Tg=wr+Gr+Aa;ws(zl,Rf,cE,Tg)}}}function Un(ei,wr,vi){q.push(ei),q.push(wr),q.push(vi)}function Es(ei,wr,vi){mi(ei),mi(wr),mi(vi);var Gr=L.length/3,qr=je.generateTopUV(_,L,Gr-3,Gr-2,Gr-1);jo(qr[0]),jo(qr[1]),jo(qr[2])}function ws(ei,wr,vi,Gr){mi(ei),mi(wr),mi(Gr),mi(wr),mi(vi),mi(Gr);var qr=L.length/3,oo=je.generateSideWallUV(_,L,qr-6,qr-3,qr-2,qr-1);jo(oo[0]),jo(oo[1]),jo(oo[3]),jo(oo[1]),jo(oo[2]),jo(oo[3])}function mi(ei){L.push(q[ei*3+0]),L.push(q[ei*3+1]),L.push(q[ei*3+2])}function jo(ei){D.push(ei.x),D.push(ei.y)}}return x}var d=u.prototype;return d.toJSON=function(){var f=Pn.prototype.toJSON.call(this),x=this.parameters.shapes,_=this.parameters.options;return Hb(x,_,f)},u}(Pn),Xb={generateTopUV:function(u,d,c,f,x){var _=d[c*3],L=d[c*3+1],D=d[f*3],N=d[f*3+1],Y=d[x*3],z=d[x*3+1];return[new kt(_,L),new kt(D,N),new kt(Y,z)]},generateSideWallUV:function(u,d,c,f,x,_){var L=d[c*3],D=d[c*3+1],N=d[c*3+2],Y=d[f*3],z=d[f*3+1],X=d[f*3+2],j=d[x*3],q=d[x*3+1],te=d[x*3+2],ae=d[_*3],ne=d[_*3+1],Q=d[_*3+2];return Math.abs(D-z)<.01?[new kt(L,1-N),new kt(Y,1-X),new kt(j,1-te),new kt(ae,1-Q)]:[new kt(D,1-N),new kt(z,1-X),new kt(q,1-te),new kt(ne,1-Q)]}};function Hb(m,u,d){if(d.shapes=[],Array.isArray(m))for(var c=0,f=m.length;c<f;c++){var x=m[c];d.shapes.push(x.uuid)}else d.shapes.push(m.uuid);return u.extrudePath!==void 0&&(d.options.extrudePath=u.extrudePath.toJSON()),d}var p3=function(m){Sn(u,m);function u(c,f){var x;return x=m.call(this)||this,x.type="ExtrudeGeometry",x.parameters={shapes:c,options:f},x.fromBufferGeometry(new xp(c,f)),x.mergeVertices(),x}var d=u.prototype;return d.toJSON=function(){var f=m.prototype.toJSON.call(this),x=this.parameters.shapes,_=this.parameters.options;return zb(x,_,f)},u}(Pi);function zb(m,u,d){if(d.shapes=[],Array.isArray(m))for(var c=0,f=m.length;c<f;c++){var x=m[c];d.shapes.push(x.uuid)}else d.shapes.push(m.uuid);return u.extrudePath!==void 0&&(d.options.extrudePath=u.extrudePath.toJSON()),d}var m3=function(m){Sn(u,m);function u(d,c){var f;d===void 0&&(d=1),c===void 0&&(c=0);var x=(1+Math.sqrt(5))/2,_=[-1,x,0,1,x,0,-1,-x,0,1,-x,0,0,-1,x,0,1,x,0,-1,-x,0,1,-x,x,0,-1,x,0,1,-x,0,-1,-x,0,1],L=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return f=m.call(this,_,L,d,c)||this,f.type="IcosahedronBufferGeometry",f.parameters={radius:d,detail:c},f}return u}(Gh),v3=function(m){Sn(u,m);function u(d,c){var f;return f=m.call(this)||this,f.type="IcosahedronGeometry",f.parameters={radius:d,detail:c},f.fromBufferGeometry(new m3(d,c)),f.mergeVertices(),f}return u}(Pi),g3=function(m){Sn(u,m);function u(d,c,f,x){var _;c===void 0&&(c=12),f===void 0&&(f=0),x===void 0&&(x=Math.PI*2),_=m.call(this)||this,_.type="LatheBufferGeometry",_.parameters={points:d,segments:c,phiStart:f,phiLength:x},c=Math.floor(c),x=$n.clamp(x,0,Math.PI*2);for(var L=[],D=[],N=[],Y=1/c,z=new Pe,X=new kt,j=0;j<=c;j++)for(var q=f+j*Y*x,te=Math.sin(q),ae=Math.cos(q),ne=0;ne<=d.length-1;ne++)z.x=d[ne].x*te,z.y=d[ne].y,z.z=d[ne].x*ae,D.push(z.x,z.y,z.z),X.x=j/c,X.y=ne/(d.length-1),N.push(X.x,X.y);for(var Q=0;Q<c;Q++)for(var xe=0;xe<d.length-1;xe++){var Te=xe+Q*d.length,de=Te,le=Te+d.length,Ae=Te+d.length+1,je=Te+1;L.push(de,le,je),L.push(le,Ae,je)}if(_.setIndex(L),_.setAttribute("position",new an(D,3)),_.setAttribute("uv",new an(N,2)),_.computeVertexNormals(),x===Math.PI*2)for(var He=_.attributes.normal.array,ut=new Pe,qe=new Pe,Be=new Pe,rt=c*d.length*3,st=0,Je=0;st<d.length;st++,Je+=3)ut.x=He[Je+0],ut.y=He[Je+1],ut.z=He[Je+2],qe.x=He[rt+Je+0],qe.y=He[rt+Je+1],qe.z=He[rt+Je+2],Be.addVectors(ut,qe).normalize(),He[Je+0]=He[rt+Je+0]=Be.x,He[Je+1]=He[rt+Je+1]=Be.y,He[Je+2]=He[rt+Je+2]=Be.z;return _}return u}(Pn),h_=function(m){Sn(u,m);function u(d,c,f,x){var _;return _=m.call(this)||this,_.type="LatheGeometry",_.parameters={points:d,segments:c,phiStart:f,phiLength:x},_.fromBufferGeometry(new g3(d,c,f,x)),_.mergeVertices(),_}return u}(Pi),Z2=function(m){Sn(u,m);function u(d,c){var f;d===void 0&&(d=1),c===void 0&&(c=0);var x=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],_=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return f=m.call(this,x,_,d,c)||this,f.type="OctahedronBufferGeometry",f.parameters={radius:d,detail:c},f}return u}(Gh),d_=function(m){Sn(u,m);function u(d,c){var f;return f=m.call(this)||this,f.type="OctahedronGeometry",f.parameters={radius:d,detail:c},f.fromBufferGeometry(new Z2(d,c)),f.mergeVertices(),f}return u}(Pi);function Ep(m,u,d){Pn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:m,slices:u,stacks:d};var c=[],f=[],x=[],_=[],L=1e-5,D=new Pe,N=new Pe,Y=new Pe,z=new Pe,X=new Pe;m.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var j=u+1,q=0;q<=d;q++)for(var te=q/d,ae=0;ae<=u;ae++){var ne=ae/u;m(ne,te,N),f.push(N.x,N.y,N.z),ne-L>=0?(m(ne-L,te,Y),z.subVectors(N,Y)):(m(ne+L,te,Y),z.subVectors(Y,N)),te-L>=0?(m(ne,te-L,Y),X.subVectors(N,Y)):(m(ne,te+L,Y),X.subVectors(Y,N)),D.crossVectors(z,X).normalize(),x.push(D.x,D.y,D.z),_.push(ne,te)}for(var Q=0;Q<d;Q++)for(var xe=0;xe<u;xe++){var Te=Q*j+xe,de=Q*j+xe+1,le=(Q+1)*j+xe+1,Ae=(Q+1)*j+xe;c.push(Te,de,Ae),c.push(de,le,Ae)}this.setIndex(c),this.setAttribute("position",new an(f,3)),this.setAttribute("normal",new an(x,3)),this.setAttribute("uv",new an(_,2))}Ep.prototype=Object.create(Pn.prototype),Ep.prototype.constructor=Ep;function P1(m,u,d){Pi.call(this),this.type="ParametricGeometry",this.parameters={func:m,slices:u,stacks:d},this.fromBufferGeometry(new Ep(m,u,d)),this.mergeVertices()}P1.prototype=Object.create(Pi.prototype),P1.prototype.constructor=P1;var p_=function(m){Sn(u,m);function u(d,c,f,x){var _;return _=m.call(this)||this,_.type="PlaneGeometry",_.parameters={width:d,height:c,widthSegments:f,heightSegments:x},_.fromBufferGeometry(new Za(d,c,f,x)),_.mergeVertices(),_}return u}(Pi),y3=function(m){Sn(u,m);function u(d,c,f,x){var _;return _=m.call(this)||this,_.type="PolyhedronGeometry",_.parameters={vertices:d,indices:c,radius:f,detail:x},_.fromBufferGeometry(new Gh(d,c,f,x)),_.mergeVertices(),_}return u}(Pi),K2=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;d===void 0&&(d=.5),c===void 0&&(c=1),f===void 0&&(f=8),x===void 0&&(x=1),_===void 0&&(_=0),L===void 0&&(L=Math.PI*2),D=m.call(this)||this,D.type="RingBufferGeometry",D.parameters={innerRadius:d,outerRadius:c,thetaSegments:f,phiSegments:x,thetaStart:_,thetaLength:L},f=Math.max(3,f),x=Math.max(1,x);for(var N=[],Y=[],z=[],X=[],j=d,q=(c-d)/x,te=new Pe,ae=new kt,ne=0;ne<=x;ne++){for(var Q=0;Q<=f;Q++){var xe=_+Q/f*L;te.x=j*Math.cos(xe),te.y=j*Math.sin(xe),Y.push(te.x,te.y,te.z),z.push(0,0,1),ae.x=(te.x/c+1)/2,ae.y=(te.y/c+1)/2,X.push(ae.x,ae.y)}j+=q}for(var Te=0;Te<x;Te++)for(var de=Te*(f+1),le=0;le<f;le++){var Ae=le+de,je=Ae,He=Ae+f+1,ut=Ae+f+2,qe=Ae+1;N.push(je,He,qe),N.push(He,ut,qe)}return D.setIndex(N),D.setAttribute("position",new an(Y,3)),D.setAttribute("normal",new an(z,3)),D.setAttribute("uv",new an(X,2)),D}return u}(Pn),m_=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;return D=m.call(this)||this,D.type="RingGeometry",D.parameters={innerRadius:d,outerRadius:c,thetaSegments:f,phiSegments:x,thetaStart:_,thetaLength:L},D.fromBufferGeometry(new K2(d,c,f,x,_,L)),D.mergeVertices(),D}return u}(Pi),x3=function(m){Sn(u,m);function u(c,f){var x;f===void 0&&(f=12),x=m.call(this)||this,x.type="ShapeBufferGeometry",x.parameters={shapes:c,curveSegments:f};var _=[],L=[],D=[],N=[],Y=0,z=0;if(Array.isArray(c)===!1)j(c);else for(var X=0;X<c.length;X++)j(c[X]),x.addGroup(Y,z,X),Y+=z,z=0;x.setIndex(_),x.setAttribute("position",new an(L,3)),x.setAttribute("normal",new an(D,3)),x.setAttribute("uv",new an(N,2));function j(q){var te=L.length/3,ae=q.extractPoints(f),ne=ae.shape,Q=ae.holes;ec.isClockWise(ne)===!1&&(ne=ne.reverse());for(var xe=0,Te=Q.length;xe<Te;xe++){var de=Q[xe];ec.isClockWise(de)===!0&&(Q[xe]=de.reverse())}for(var le=ec.triangulateShape(ne,Q),Ae=0,je=Q.length;Ae<je;Ae++){var He=Q[Ae];ne=ne.concat(He)}for(var ut=0,qe=ne.length;ut<qe;ut++){var Be=ne[ut];L.push(Be.x,Be.y,0),D.push(0,0,1),N.push(Be.x,Be.y)}for(var rt=0,st=le.length;rt<st;rt++){var Je=le[rt],ft=Je[0]+te,vt=Je[1]+te,Vt=Je[2]+te;_.push(ft,vt,Vt),z+=3}}return x}var d=u.prototype;return d.toJSON=function(){var f=Pn.prototype.toJSON.call(this),x=this.parameters.shapes;return E3(x,f)},u}(Pn);function E3(m,u){if(u.shapes=[],Array.isArray(m))for(var d=0,c=m.length;d<c;d++){var f=m[d];u.shapes.push(f.uuid)}else u.shapes.push(m.uuid);return u}var w3=function(m){Sn(u,m);function u(c,f){var x;return x=m.call(this)||this,x.type="ShapeGeometry",typeof f=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),f=f.curveSegments),x.parameters={shapes:c,curveSegments:f},x.fromBufferGeometry(new x3(c,f)),x.mergeVertices(),x}var d=u.prototype;return d.toJSON=function(){var f=Pi.prototype.toJSON.call(this),x=this.parameters.shapes;return Yb(x,f)},u}(Pi);function Yb(m,u){if(u.shapes=[],Array.isArray(m))for(var d=0,c=m.length;d<c;d++){var f=m[d];u.shapes.push(f.uuid)}else u.shapes.push(m.uuid);return u}var $2=function(m){Sn(u,m);function u(d,c,f,x,_,L,D){var N;d===void 0&&(d=1),c===void 0&&(c=8),f===void 0&&(f=6),x===void 0&&(x=0),_===void 0&&(_=Math.PI*2),L===void 0&&(L=0),D===void 0&&(D=Math.PI),N=m.call(this)||this,N.type="SphereBufferGeometry",N.parameters={radius:d,widthSegments:c,heightSegments:f,phiStart:x,phiLength:_,thetaStart:L,thetaLength:D},c=Math.max(3,Math.floor(c)),f=Math.max(2,Math.floor(f));for(var Y=Math.min(L+D,Math.PI),z=0,X=[],j=new Pe,q=new Pe,te=[],ae=[],ne=[],Q=[],xe=0;xe<=f;xe++){var Te=[],de=xe/f,le=0;xe==0&&L==0?le=.5/c:xe==f&&Y==Math.PI&&(le=-.5/c);for(var Ae=0;Ae<=c;Ae++){var je=Ae/c;j.x=-d*Math.cos(x+je*_)*Math.sin(L+de*D),j.y=d*Math.cos(L+de*D),j.z=d*Math.sin(x+je*_)*Math.sin(L+de*D),ae.push(j.x,j.y,j.z),q.copy(j).normalize(),ne.push(q.x,q.y,q.z),Q.push(je+le,1-de),Te.push(z++)}X.push(Te)}for(var He=0;He<f;He++)for(var ut=0;ut<c;ut++){var qe=X[He][ut+1],Be=X[He][ut],rt=X[He+1][ut],st=X[He+1][ut+1];(He!==0||L>0)&&te.push(qe,Be,st),(He!==f-1||Y<Math.PI)&&te.push(Be,rt,st)}return N.setIndex(te),N.setAttribute("position",new an(ae,3)),N.setAttribute("normal",new an(ne,3)),N.setAttribute("uv",new an(Q,2)),N}return u}(Pn),v_=function(m){Sn(u,m);function u(d,c,f,x,_,L,D){var N;return N=m.call(this)||this,N.type="SphereGeometry",N.parameters={radius:d,widthSegments:c,heightSegments:f,phiStart:x,phiLength:_,thetaStart:L,thetaLength:D},N.fromBufferGeometry(new $2(d,c,f,x,_,L,D)),N.mergeVertices(),N}return u}(Pi),A3=function(m){Sn(u,m);function u(d,c){var f;d===void 0&&(d=1),c===void 0&&(c=0);var x=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],_=[2,1,0,0,3,2,1,3,0,2,3,1];return f=m.call(this,x,_,d,c)||this,f.type="TetrahedronBufferGeometry",f.parameters={radius:d,detail:c},f}return u}(Gh),g_=function(m){Sn(u,m);function u(d,c){var f;return f=m.call(this)||this,f.type="TetrahedronGeometry",f.parameters={radius:d,detail:c},f.fromBufferGeometry(new A3(d,c)),f.mergeVertices(),f}return u}(Pi),_3=function(m){Sn(u,m);function u(d,c){var f;c===void 0&&(c={});var x=c.font;if(!(x&&x.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Pn||Ml(f);var _=x.generateShapes(d,c.size);return c.depth=c.height!==void 0?c.height:50,c.bevelThickness===void 0&&(c.bevelThickness=10),c.bevelSize===void 0&&(c.bevelSize=8),c.bevelEnabled===void 0&&(c.bevelEnabled=!1),f=m.call(this,_,c)||this,f.type="TextBufferGeometry",f}return u}(xp),y_=function(m){Sn(u,m);function u(d,c){var f;return f=m.call(this)||this,f.type="TextGeometry",f.parameters={text:d,parameters:c},f.fromBufferGeometry(new _3(d,c)),f.mergeVertices(),f}return u}(Pi),M3=function(m){Sn(u,m);function u(d,c,f,x,_){var L;d===void 0&&(d=1),c===void 0&&(c=.4),f===void 0&&(f=8),x===void 0&&(x=6),_===void 0&&(_=Math.PI*2),L=m.call(this)||this,L.type="TorusBufferGeometry",L.parameters={radius:d,tube:c,radialSegments:f,tubularSegments:x,arc:_},f=Math.floor(f),x=Math.floor(x);for(var D=[],N=[],Y=[],z=[],X=new Pe,j=new Pe,q=new Pe,te=0;te<=f;te++)for(var ae=0;ae<=x;ae++){var ne=ae/x*_,Q=te/f*Math.PI*2;j.x=(d+c*Math.cos(Q))*Math.cos(ne),j.y=(d+c*Math.cos(Q))*Math.sin(ne),j.z=c*Math.sin(Q),N.push(j.x,j.y,j.z),X.x=d*Math.cos(ne),X.y=d*Math.sin(ne),q.subVectors(j,X).normalize(),Y.push(q.x,q.y,q.z),z.push(ae/x),z.push(te/f)}for(var xe=1;xe<=f;xe++)for(var Te=1;Te<=x;Te++){var de=(x+1)*xe+Te-1,le=(x+1)*(xe-1)+Te-1,Ae=(x+1)*(xe-1)+Te,je=(x+1)*xe+Te;D.push(de,le,je),D.push(le,Ae,je)}return L.setIndex(D),L.setAttribute("position",new an(N,3)),L.setAttribute("normal",new an(Y,3)),L.setAttribute("uv",new an(z,2)),L}return u}(Pn),x_=function(m){Sn(u,m);function u(d,c,f,x,_){var L;return L=m.call(this)||this,L.type="TorusGeometry",L.parameters={radius:d,tube:c,radialSegments:f,tubularSegments:x,arc:_},L.fromBufferGeometry(new M3(d,c,f,x,_)),L.mergeVertices(),L}return u}(Pi),S3=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;d===void 0&&(d=1),c===void 0&&(c=.4),f===void 0&&(f=64),x===void 0&&(x=8),_===void 0&&(_=2),L===void 0&&(L=3),D=m.call(this)||this,D.type="TorusKnotBufferGeometry",D.parameters={radius:d,tube:c,tubularSegments:f,radialSegments:x,p:_,q:L},f=Math.floor(f),x=Math.floor(x);for(var N=[],Y=[],z=[],X=[],j=new Pe,q=new Pe,te=new Pe,ae=new Pe,ne=new Pe,Q=new Pe,xe=new Pe,Te=0;Te<=f;++Te){var de=Te/f*_*Math.PI*2;ft(de,_,L,d,te),ft(de+.01,_,L,d,ae),Q.subVectors(ae,te),xe.addVectors(ae,te),ne.crossVectors(Q,xe),xe.crossVectors(ne,Q),ne.normalize(),xe.normalize();for(var le=0;le<=x;++le){var Ae=le/x*Math.PI*2,je=-c*Math.cos(Ae),He=c*Math.sin(Ae);j.x=te.x+(je*xe.x+He*ne.x),j.y=te.y+(je*xe.y+He*ne.y),j.z=te.z+(je*xe.z+He*ne.z),Y.push(j.x,j.y,j.z),q.subVectors(j,te).normalize(),z.push(q.x,q.y,q.z),X.push(Te/f),X.push(le/x)}}for(var ut=1;ut<=f;ut++)for(var qe=1;qe<=x;qe++){var Be=(x+1)*(ut-1)+(qe-1),rt=(x+1)*ut+(qe-1),st=(x+1)*ut+qe,Je=(x+1)*(ut-1)+qe;N.push(Be,rt,Je),N.push(rt,st,Je)}D.setIndex(N),D.setAttribute("position",new an(Y,3)),D.setAttribute("normal",new an(z,3)),D.setAttribute("uv",new an(X,2));function ft(vt,Vt,Gt,Yt,Dt){var Zt=Math.cos(vt),un=Math.sin(vt),Yn=Gt/Vt*vt,Ot=Math.cos(Yn);Dt.x=Yt*(2+Ot)*.5*Zt,Dt.y=Yt*(2+Ot)*un*.5,Dt.z=Yt*Math.sin(Yn)*.5}return D}return u}(Pn),E_=function(m){Sn(u,m);function u(d,c,f,x,_,L,D){var N;return N=m.call(this)||this,N.type="TorusKnotGeometry",N.parameters={radius:d,tube:c,tubularSegments:f,radialSegments:x,p:_,q:L},D!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),N.fromBufferGeometry(new S3(d,c,f,x,_,L)),N.mergeVertices(),N}return u}(Pi),R1=function(m){Sn(u,m);function u(c,f,x,_,L){var D;f===void 0&&(f=64),x===void 0&&(x=1),_===void 0&&(_=8),L===void 0&&(L=!1),D=m.call(this)||this,D.type="TubeBufferGeometry",D.parameters={path:c,tubularSegments:f,radius:x,radialSegments:_,closed:L};var N=c.computeFrenetFrames(f,L);D.tangents=N.tangents,D.normals=N.normals,D.binormals=N.binormals;var Y=new Pe,z=new Pe,X=new kt,j=new Pe,q=[],te=[],ae=[],ne=[];Q(),D.setIndex(ne),D.setAttribute("position",new an(q,3)),D.setAttribute("normal",new an(te,3)),D.setAttribute("uv",new an(ae,2));function Q(){for(var le=0;le<f;le++)xe(le);xe(L===!1?f:0),de(),Te()}function xe(le){j=c.getPointAt(le/f,j);for(var Ae=N.normals[le],je=N.binormals[le],He=0;He<=_;He++){var ut=He/_*Math.PI*2,qe=Math.sin(ut),Be=-Math.cos(ut);z.x=Be*Ae.x+qe*je.x,z.y=Be*Ae.y+qe*je.y,z.z=Be*Ae.z+qe*je.z,z.normalize(),te.push(z.x,z.y,z.z),Y.x=j.x+x*z.x,Y.y=j.y+x*z.y,Y.z=j.z+x*z.z,q.push(Y.x,Y.y,Y.z)}}function Te(){for(var le=1;le<=f;le++)for(var Ae=1;Ae<=_;Ae++){var je=(_+1)*(le-1)+(Ae-1),He=(_+1)*le+(Ae-1),ut=(_+1)*le+Ae,qe=(_+1)*(le-1)+Ae;ne.push(je,He,qe),ne.push(He,ut,qe)}}function de(){for(var le=0;le<=f;le++)for(var Ae=0;Ae<=_;Ae++)X.x=le/f,X.y=Ae/_,ae.push(X.x,X.y)}return D}var d=u.prototype;return d.toJSON=function(){var f=Pn.prototype.toJSON.call(this);return f.path=this.parameters.path.toJSON(),f},u}(Pn),w_=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;D=m.call(this)||this,D.type="TubeGeometry",D.parameters={path:d,tubularSegments:c,radius:f,radialSegments:x,closed:_},L!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var N=new R1(d,c,f,x,_);return D.tangents=N.tangents,D.normals=N.normals,D.binormals=N.binormals,D.fromBufferGeometry(N),D.mergeVertices(),D}return u}(Pi),T3=function(m){Sn(u,m);function u(d){var c;c=m.call(this)||this,c.type="WireframeGeometry";var f=[],x=[0,0],_={},L=["a","b","c"];if(d&&d.isGeometry){for(var D=d.faces,N=0,Y=D.length;N<Y;N++)for(var z=D[N],X=0;X<3;X++){var j=z[L[X]],q=z[L[(X+1)%3]];x[0]=Math.min(j,q),x[1]=Math.max(j,q);var te=x[0]+","+x[1];_[te]===void 0&&(_[te]={index1:x[0],index2:x[1]})}for(var ae in _){var ne=_[ae],Q=d.vertices[ne.index1];f.push(Q.x,Q.y,Q.z),Q=d.vertices[ne.index2],f.push(Q.x,Q.y,Q.z)}}else if(d&&d.isBufferGeometry){var xe=new Pe;if(d.index!==null){var Te=d.attributes.position,de=d.index,le=d.groups;le.length===0&&(le=[{start:0,count:de.count,materialIndex:0}]);for(var Ae=0,je=le.length;Ae<je;++Ae)for(var He=le[Ae],ut=He.start,qe=He.count,Be=ut,rt=ut+qe;Be<rt;Be+=3)for(var st=0;st<3;st++){var Je=de.getX(Be+st),ft=de.getX(Be+(st+1)%3);x[0]=Math.min(Je,ft),x[1]=Math.max(Je,ft);var vt=x[0]+","+x[1];_[vt]===void 0&&(_[vt]={index1:x[0],index2:x[1]})}for(var Vt in _){var Gt=_[Vt];xe.fromBufferAttribute(Te,Gt.index1),f.push(xe.x,xe.y,xe.z),xe.fromBufferAttribute(Te,Gt.index2),f.push(xe.x,xe.y,xe.z)}}else for(var Yt=d.attributes.position,Dt=0,Zt=Yt.count/3;Dt<Zt;Dt++)for(var un=0;un<3;un++){var Yn=3*Dt+un;xe.fromBufferAttribute(Yt,Yn),f.push(xe.x,xe.y,xe.z);var Ot=3*Dt+(un+1)%3;xe.fromBufferAttribute(Yt,Ot),f.push(xe.x,xe.y,xe.z)}}return c.setAttribute("position",new an(f,3)),c}return u}(Pn),Zs=Object.freeze({__proto__:null,BoxGeometry:s3,BoxBufferGeometry:Qu,CircleGeometry:n_,CircleBufferGeometry:a3,ConeGeometry:r_,ConeBufferGeometry:i_,CylinderGeometry:l3,CylinderBufferGeometry:T1,DodecahedronGeometry:V2,DodecahedronBufferGeometry:u3,EdgesGeometry:c3,ExtrudeGeometry:p3,ExtrudeBufferGeometry:xp,IcosahedronGeometry:v3,IcosahedronBufferGeometry:m3,LatheGeometry:h_,LatheBufferGeometry:g3,OctahedronGeometry:d_,OctahedronBufferGeometry:Z2,ParametricGeometry:P1,ParametricBufferGeometry:Ep,PlaneGeometry:p_,PlaneBufferGeometry:Za,PolyhedronGeometry:y3,PolyhedronBufferGeometry:Gh,RingGeometry:m_,RingBufferGeometry:K2,ShapeGeometry:w3,ShapeBufferGeometry:x3,SphereGeometry:v_,SphereBufferGeometry:$2,TetrahedronGeometry:g_,TetrahedronBufferGeometry:A3,TextGeometry:y_,TextBufferGeometry:_3,TorusGeometry:x_,TorusBufferGeometry:M3,TorusKnotGeometry:E_,TorusKnotBufferGeometry:S3,TubeGeometry:w_,TubeBufferGeometry:R1,WireframeGeometry:T3});function Xh(m){Qn.call(this),this.type="ShadowMaterial",this.color=new En(0),this.transparent=!0,this.setValues(m)}Xh.prototype=Object.create(Qn.prototype),Xh.prototype.constructor=Xh,Xh.prototype.isShadowMaterial=!0,Xh.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this};function Tf(m){lo.call(this,m),this.type="RawShaderMaterial"}Tf.prototype=Object.create(lo.prototype),Tf.prototype.constructor=Tf,Tf.prototype.isRawShaderMaterial=!0;function Xc(m){Qn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new En(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(m)}Xc.prototype=Object.create(Qn.prototype),Xc.prototype.constructor=Xc,Xc.prototype.isMeshStandardMaterial=!0,Xc.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.defines={STANDARD:""},this.color.copy(m.color),this.roughness=m.roughness,this.metalness=m.metalness,this.map=m.map,this.lightMap=m.lightMap,this.lightMapIntensity=m.lightMapIntensity,this.aoMap=m.aoMap,this.aoMapIntensity=m.aoMapIntensity,this.emissive.copy(m.emissive),this.emissiveMap=m.emissiveMap,this.emissiveIntensity=m.emissiveIntensity,this.bumpMap=m.bumpMap,this.bumpScale=m.bumpScale,this.normalMap=m.normalMap,this.normalMapType=m.normalMapType,this.normalScale.copy(m.normalScale),this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.roughnessMap=m.roughnessMap,this.metalnessMap=m.metalnessMap,this.alphaMap=m.alphaMap,this.envMap=m.envMap,this.envMapIntensity=m.envMapIntensity,this.refractionRatio=m.refractionRatio,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.wireframeLinecap=m.wireframeLinecap,this.wireframeLinejoin=m.wireframeLinejoin,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this.vertexTangents=m.vertexTangents,this};function U0(m){Xc.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new kt(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(d){this.reflectivity=$n.clamp(2.5*(d-1)/(d+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(m)}U0.prototype=Object.create(Xc.prototype),U0.prototype.constructor=U0,U0.prototype.isMeshPhysicalMaterial=!0,U0.prototype.copy=function(m){return Xc.prototype.copy.call(this,m),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=m.clearcoat,this.clearcoatMap=m.clearcoatMap,this.clearcoatRoughness=m.clearcoatRoughness,this.clearcoatRoughnessMap=m.clearcoatRoughnessMap,this.clearcoatNormalMap=m.clearcoatNormalMap,this.clearcoatNormalScale.copy(m.clearcoatNormalScale),this.reflectivity=m.reflectivity,m.sheen?this.sheen=(this.sheen||new En).copy(m.sheen):this.sheen=null,this.transmission=m.transmission,this.transmissionMap=m.transmissionMap,this};function k0(m){Qn.call(this),this.type="MeshPhongMaterial",this.color=new En(16777215),this.specular=new En(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(m)}k0.prototype=Object.create(Qn.prototype),k0.prototype.constructor=k0,k0.prototype.isMeshPhongMaterial=!0,k0.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.specular.copy(m.specular),this.shininess=m.shininess,this.map=m.map,this.lightMap=m.lightMap,this.lightMapIntensity=m.lightMapIntensity,this.aoMap=m.aoMap,this.aoMapIntensity=m.aoMapIntensity,this.emissive.copy(m.emissive),this.emissiveMap=m.emissiveMap,this.emissiveIntensity=m.emissiveIntensity,this.bumpMap=m.bumpMap,this.bumpScale=m.bumpScale,this.normalMap=m.normalMap,this.normalMapType=m.normalMapType,this.normalScale.copy(m.normalScale),this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.specularMap=m.specularMap,this.alphaMap=m.alphaMap,this.envMap=m.envMap,this.combine=m.combine,this.reflectivity=m.reflectivity,this.refractionRatio=m.refractionRatio,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.wireframeLinecap=m.wireframeLinecap,this.wireframeLinejoin=m.wireframeLinejoin,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this};function G0(m){Qn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new En(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(m)}G0.prototype=Object.create(Qn.prototype),G0.prototype.constructor=G0,G0.prototype.isMeshToonMaterial=!0,G0.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.map=m.map,this.gradientMap=m.gradientMap,this.lightMap=m.lightMap,this.lightMapIntensity=m.lightMapIntensity,this.aoMap=m.aoMap,this.aoMapIntensity=m.aoMapIntensity,this.emissive.copy(m.emissive),this.emissiveMap=m.emissiveMap,this.emissiveIntensity=m.emissiveIntensity,this.bumpMap=m.bumpMap,this.bumpScale=m.bumpScale,this.normalMap=m.normalMap,this.normalMapType=m.normalMapType,this.normalScale.copy(m.normalScale),this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.alphaMap=m.alphaMap,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.wireframeLinecap=m.wireframeLinecap,this.wireframeLinejoin=m.wireframeLinejoin,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this};function Hh(m){Qn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(m)}Hh.prototype=Object.create(Qn.prototype),Hh.prototype.constructor=Hh,Hh.prototype.isMeshNormalMaterial=!0,Hh.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.bumpMap=m.bumpMap,this.bumpScale=m.bumpScale,this.normalMap=m.normalMap,this.normalMapType=m.normalMapType,this.normalScale.copy(m.normalScale),this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this};function zh(m){Qn.call(this),this.type="MeshLambertMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(m)}zh.prototype=Object.create(Qn.prototype),zh.prototype.constructor=zh,zh.prototype.isMeshLambertMaterial=!0,zh.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.color.copy(m.color),this.map=m.map,this.lightMap=m.lightMap,this.lightMapIntensity=m.lightMapIntensity,this.aoMap=m.aoMap,this.aoMapIntensity=m.aoMapIntensity,this.emissive.copy(m.emissive),this.emissiveMap=m.emissiveMap,this.emissiveIntensity=m.emissiveIntensity,this.specularMap=m.specularMap,this.alphaMap=m.alphaMap,this.envMap=m.envMap,this.combine=m.combine,this.reflectivity=m.reflectivity,this.refractionRatio=m.refractionRatio,this.wireframe=m.wireframe,this.wireframeLinewidth=m.wireframeLinewidth,this.wireframeLinecap=m.wireframeLinecap,this.wireframeLinejoin=m.wireframeLinejoin,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this};function Yh(m){Qn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new En(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(m)}Yh.prototype=Object.create(Qn.prototype),Yh.prototype.constructor=Yh,Yh.prototype.isMeshMatcapMaterial=!0,Yh.prototype.copy=function(m){return Qn.prototype.copy.call(this,m),this.defines={MATCAP:""},this.color.copy(m.color),this.matcap=m.matcap,this.map=m.map,this.bumpMap=m.bumpMap,this.bumpScale=m.bumpScale,this.normalMap=m.normalMap,this.normalMapType=m.normalMapType,this.normalScale.copy(m.normalScale),this.displacementMap=m.displacementMap,this.displacementScale=m.displacementScale,this.displacementBias=m.displacementBias,this.alphaMap=m.alphaMap,this.skinning=m.skinning,this.morphTargets=m.morphTargets,this.morphNormals=m.morphNormals,this};function Vh(m){uo.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(m)}Vh.prototype=Object.create(uo.prototype),Vh.prototype.constructor=Vh,Vh.prototype.isLineDashedMaterial=!0,Vh.prototype.copy=function(m){return uo.prototype.copy.call(this,m),this.scale=m.scale,this.dashSize=m.dashSize,this.gapSize=m.gapSize,this};var Vb=Object.freeze({__proto__:null,ShadowMaterial:Xh,SpriteMaterial:N0,RawShaderMaterial:Tf,ShaderMaterial:lo,PointsMaterial:$u,MeshPhysicalMaterial:U0,MeshStandardMaterial:Xc,MeshPhongMaterial:k0,MeshToonMaterial:G0,MeshNormalMaterial:Hh,MeshLambertMaterial:zh,MeshDepthMaterial:R0,MeshDistanceMaterial:tl,MeshBasicMaterial:Vs,MeshMatcapMaterial:Yh,LineDashedMaterial:Vh,LineBasicMaterial:uo,Material:Qn}),io={arraySlice:function(u,d,c){return io.isTypedArray(u)?new u.constructor(u.subarray(d,c!==void 0?c:u.length)):u.slice(d,c)},convertArray:function(u,d,c){return!u||!c&&u.constructor===d?u:typeof d.BYTES_PER_ELEMENT=="number"?new d(u):Array.prototype.slice.call(u)},isTypedArray:function(u){return ArrayBuffer.isView(u)&&!(u instanceof DataView)},getKeyframeOrder:function(u){function d(_,L){return u[_]-u[L]}for(var c=u.length,f=new Array(c),x=0;x!==c;++x)f[x]=x;return f.sort(d),f},sortedArray:function(u,d,c){for(var f=u.length,x=new u.constructor(f),_=0,L=0;L!==f;++_)for(var D=c[_]*d,N=0;N!==d;++N)x[L++]=u[D+N];return x},flattenJSON:function(u,d,c,f){for(var x=1,_=u[0];_!==void 0&&_[f]===void 0;)_=u[x++];if(_===void 0)return;var L=_[f];if(L===void 0)return;if(Array.isArray(L))do L=_[f],L!==void 0&&(d.push(_.time),c.push.apply(c,L)),_=u[x++];while(_!==void 0);else if(L.toArray!==void 0)do L=_[f],L!==void 0&&(d.push(_.time),L.toArray(c,c.length)),_=u[x++];while(_!==void 0);else do L=_[f],L!==void 0&&(d.push(_.time),c.push(L)),_=u[x++];while(_!==void 0)},subclip:function(u,d,c,f,x){x===void 0&&(x=30);var _=u.clone();_.name=d;for(var L=[],D=0;D<_.tracks.length;++D){for(var N=_.tracks[D],Y=N.getValueSize(),z=[],X=[],j=0;j<N.times.length;++j){var q=N.times[j]*x;if(q<c||q>=f)continue;z.push(N.times[j]);for(var te=0;te<Y;++te)X.push(N.values[j*Y+te])}if(z.length===0)continue;N.times=io.convertArray(z,N.times.constructor),N.values=io.convertArray(X,N.values.constructor),L.push(N)}_.tracks=L;for(var ae=Infinity,ne=0;ne<_.tracks.length;++ne)ae>_.tracks[ne].times[0]&&(ae=_.tracks[ne].times[0]);for(var Q=0;Q<_.tracks.length;++Q)_.tracks[Q].shift(-1*ae);return _.resetDuration(),_},makeClipAdditive:function(u,d,c,f){d===void 0&&(d=0),c===void 0&&(c=u),f===void 0&&(f=30),f<=0&&(f=30);for(var x=c.tracks.length,_=d/f,L=function(z){var X=c.tracks[z],j=X.ValueTypeName;if(j==="bool"||j==="string")return"continue";var q=u.tracks.find(function(Vt){return Vt.name===X.name&&Vt.ValueTypeName===j});if(q===void 0)return"continue";var te=0,ae=X.getValueSize();X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(te=ae/3);var ne=0,Q=q.getValueSize();q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ne=Q/3);var xe=X.times.length-1,Te=void 0;if(_<=X.times[0]){var de=te,le=ae-te;Te=io.arraySlice(X.values,de,le)}else if(_>=X.times[xe]){var Ae=xe*ae+te,je=Ae+ae-te;Te=io.arraySlice(X.values,Ae,je)}else{var He=X.createInterpolant(),ut=te,qe=ae-te;He.evaluate(_),Te=io.arraySlice(He.resultBuffer,ut,qe)}if(j==="quaternion"){var Be=new ls().fromArray(Te).normalize().conjugate();Be.toArray(Te)}for(var rt=q.times.length,st=0;st<rt;++st){var Je=st*Q+ne;if(j==="quaternion")ls.multiplyQuaternionsFlat(q.values,Je,Te,0,q.values,Je);else for(var ft=Q-ne*2,vt=0;vt<ft;++vt)q.values[Je+vt]-=Te[vt]}},D=0;D<x;++D){var N=L(D);if(N==="continue")continue}return u.blendMode=nr,u}};function Gl(m,u,d,c){this.parameterPositions=m,this._cachedIndex=0,this.resultBuffer=c!==void 0?c:new u.constructor(d),this.sampleValues=u,this.valueSize=d}Object.assign(Gl.prototype,{evaluate:function(u){var d=this.parameterPositions,c=this._cachedIndex,f=d[c],x=d[c-1];e:{t:{var _;n:{r:if(!(u<f)){for(var L=c+2;;){if(f===void 0){if(u<x)break r;return c=d.length,this._cachedIndex=c,this.afterEnd_(c-1,u,x)}if(c===L)break;if(x=f,f=d[++c],u<f)break t}_=d.length;break n}if(!(u>=x)){var D=d[1];u<D&&(c=2,x=D);for(var N=c-2;;){if(x===void 0)return this._cachedIndex=0,this.beforeStart_(0,u,f);if(c===N)break;if(f=x,x=d[--c-1],u>=x)break t}_=c,c=0;break n}break e}for(;c<_;){var Y=c+_>>>1;u<d[Y]?_=Y:c=Y+1}if(f=d[c],x=d[c-1],x===void 0)return this._cachedIndex=0,this.beforeStart_(0,u,f);if(f===void 0)return c=d.length,this._cachedIndex=c,this.afterEnd_(c-1,x,u)}this._cachedIndex=c,this.intervalChanged_(c,x,f)}return this.interpolate_(c,x,u,f)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(u){for(var d=this.resultBuffer,c=this.sampleValues,f=this.valueSize,x=u*f,_=0;_!==f;++_)d[_]=c[x+_];return d},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Gl.prototype,{beforeStart_:Gl.prototype.copySampleValue_,afterEnd_:Gl.prototype.copySampleValue_});function eg(m,u,d,c){Gl.call(this,m,u,d,c),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}eg.prototype=Object.assign(Object.create(Gl.prototype),{constructor:eg,DefaultSettings_:{endingStart:Du,endingEnd:Du},intervalChanged_:function(u,d,c){var f=this.parameterPositions,x=u-2,_=u+1,L=f[x],D=f[_];if(L===void 0)switch(this.getSettings_().endingStart){case Fu:x=u,L=2*d-c;break;case vf:x=f.length-2,L=d+f[x]-f[x+1];break;default:x=u,L=c}if(D===void 0)switch(this.getSettings_().endingEnd){case Fu:_=u,D=2*c-d;break;case vf:_=1,D=c+f[1]-f[0];break;default:_=u-1,D=d}var N=(c-d)*.5,Y=this.valueSize;this._weightPrev=N/(d-L),this._weightNext=N/(D-c),this._offsetPrev=x*Y,this._offsetNext=_*Y},interpolate_:function(u,d,c,f){for(var x=this.resultBuffer,_=this.sampleValues,L=this.valueSize,D=u*L,N=D-L,Y=this._offsetPrev,z=this._offsetNext,X=this._weightPrev,j=this._weightNext,q=(c-d)/(f-d),te=q*q,ae=te*q,ne=-X*ae+2*X*te-X*q,Q=(1+X)*ae+(-1.5-2*X)*te+(-.5+X)*q+1,xe=(-1-j)*ae+(1.5+j)*te+.5*q,Te=j*ae-j*te,de=0;de!==L;++de)x[de]=ne*_[Y+de]+Q*_[N+de]+xe*_[D+de]+Te*_[z+de];return x}});function D1(m,u,d,c){Gl.call(this,m,u,d,c)}D1.prototype=Object.assign(Object.create(Gl.prototype),{constructor:D1,interpolate_:function(u,d,c,f){for(var x=this.resultBuffer,_=this.sampleValues,L=this.valueSize,D=u*L,N=D-L,Y=(c-d)/(f-d),z=1-Y,X=0;X!==L;++X)x[X]=_[N+X]*z+_[D+X]*Y;return x}});function wp(m,u,d,c){Gl.call(this,m,u,d,c)}wp.prototype=Object.assign(Object.create(Gl.prototype),{constructor:wp,interpolate_:function(u){return this.copySampleValue_(u-1)}});function Ds(m,u,d,c){if(m===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(u===void 0||u.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+m);this.name=m,this.times=io.convertArray(u,this.TimeBufferType),this.values=io.convertArray(d,this.ValueBufferType),this.setInterpolation(c||this.DefaultInterpolation)}Object.assign(Ds,{toJSON:function(u){var d=u.constructor,c;if(d.toJSON!==void 0)c=d.toJSON(u);else{c={name:u.name,times:io.convertArray(u.times,Array),values:io.convertArray(u.values,Array)};var f=u.getInterpolation();f!==u.DefaultInterpolation&&(c.interpolation=f)}return c.type=u.ValueTypeName,c}}),Object.assign(Ds.prototype,{constructor:Ds,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:i0,InterpolantFactoryMethodDiscrete:function(u){return new wp(this.times,this.values,this.getValueSize(),u)},InterpolantFactoryMethodLinear:function(u){return new D1(this.times,this.values,this.getValueSize(),u)},InterpolantFactoryMethodSmooth:function(u){return new eg(this.times,this.values,this.getValueSize(),u)},setInterpolation:function(u){var d;switch(u){case r0:d=this.InterpolantFactoryMethodDiscrete;break;case i0:d=this.InterpolantFactoryMethodLinear;break;case _h:d=this.InterpolantFactoryMethodSmooth;break}if(d===void 0){var c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(u!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(c);return console.warn("THREE.KeyframeTrack:",c),this}return this.createInterpolant=d,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return r0;case this.InterpolantFactoryMethodLinear:return i0;case this.InterpolantFactoryMethodSmooth:return _h}},getValueSize:function(){return this.values.length/this.times.length},shift:function(u){if(u!==0)for(var d=this.times,c=0,f=d.length;c!==f;++c)d[c]+=u;return this},scale:function(u){if(u!==1)for(var d=this.times,c=0,f=d.length;c!==f;++c)d[c]*=u;return this},trim:function(u,d){for(var c=this.times,f=c.length,x=0,_=f-1;x!==f&&c[x]<u;)++x;for(;_!==-1&&c[_]>d;)--_;if(++_,x!==0||_!==f){x>=_&&(_=Math.max(_,1),x=_-1);var L=this.getValueSize();this.times=io.arraySlice(c,x,_),this.values=io.arraySlice(this.values,x*L,_*L)}return this},validate:function(){var u=!0,d=this.getValueSize();d-Math.floor(d)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),u=!1);var c=this.times,f=this.values,x=c.length;x===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),u=!1);for(var _=null,L=0;L!==x;L++){var D=c[L];if(typeof D=="number"&&isNaN(D)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,L,D),u=!1;break}if(_!==null&&_>D){console.error("THREE.KeyframeTrack: Out of order keys.",this,L,D,_),u=!1;break}_=D}if(f!==void 0&&io.isTypedArray(f))for(var N=0,Y=f.length;N!==Y;++N){var z=f[N];if(isNaN(z)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,N,z),u=!1;break}}return u},optimize:function(){for(var u=io.arraySlice(this.times),d=io.arraySlice(this.values),c=this.getValueSize(),f=this.getInterpolation()===_h,x=u.length-1,_=1,L=1;L<x;++L){var D=!1,N=u[L],Y=u[L+1];if(N!==Y&&(L!==1||N!==N[0]))if(f)D=!0;else for(var z=L*c,X=z-c,j=z+c,q=0;q!==c;++q){var te=d[z+q];if(te!==d[X+q]||te!==d[j+q]){D=!0;break}}if(D){if(L!==_){u[_]=u[L];for(var ae=L*c,ne=_*c,Q=0;Q!==c;++Q)d[ne+Q]=d[ae+Q]}++_}}if(x>0){u[_]=u[x];for(var xe=x*c,Te=_*c,de=0;de!==c;++de)d[Te+de]=d[xe+de];++_}return _!==u.length?(this.times=io.arraySlice(u,0,_),this.values=io.arraySlice(d,0,_*c)):(this.times=u,this.values=d),this},clone:function(){var u=io.arraySlice(this.times,0),d=io.arraySlice(this.values,0),c=this.constructor,f=new c(this.name,u,d);return f.createInterpolant=this.createInterpolant,f}});function tg(m,u,d){Ds.call(this,m,u,d)}tg.prototype=Object.assign(Object.create(Ds.prototype),{constructor:tg,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:r0,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function F1(m,u,d,c){Ds.call(this,m,u,d,c)}F1.prototype=Object.assign(Object.create(Ds.prototype),{constructor:F1,ValueTypeName:"color"});function Ap(m,u,d,c){Ds.call(this,m,u,d,c)}Ap.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Ap,ValueTypeName:"number"});function ng(m,u,d,c){Gl.call(this,m,u,d,c)}ng.prototype=Object.assign(Object.create(Gl.prototype),{constructor:ng,interpolate_:function(u,d,c,f){for(var x=this.resultBuffer,_=this.sampleValues,L=this.valueSize,D=(c-d)/(f-d),N=u*L,Y=N+L;N!==Y;N+=4)ls.slerpFlat(x,0,_,N-L,_,N,D);return x}});function B1(m,u,d,c){Ds.call(this,m,u,d,c)}B1.prototype=Object.assign(Object.create(Ds.prototype),{constructor:B1,ValueTypeName:"quaternion",DefaultInterpolation:i0,InterpolantFactoryMethodLinear:function(u){return new ng(this.times,this.values,this.getValueSize(),u)},InterpolantFactoryMethodSmooth:void 0});function rg(m,u,d,c){Ds.call(this,m,u,d,c)}rg.prototype=Object.assign(Object.create(Ds.prototype),{constructor:rg,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:r0,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function _p(m,u,d,c){Ds.call(this,m,u,d,c)}_p.prototype=Object.assign(Object.create(Ds.prototype),{constructor:_p,ValueTypeName:"vector"});function nl(m,u,d,c){this.name=m,this.tracks=d,this.duration=u!==void 0?u:-1,this.blendMode=c!==void 0?c:Ha,this.uuid=$n.generateUUID(),this.duration<0&&this.resetDuration()}function Wb(m){switch(m.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ap;case"vector":case"vector2":case"vector3":case"vector4":return _p;case"color":return F1;case"quaternion":return B1;case"bool":case"boolean":return tg;case"string":return rg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+m)}function jb(m){if(m.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var u=Wb(m.type);if(m.times===void 0){var d=[],c=[];io.flattenJSON(m.keys,d,c,"value"),m.times=d,m.values=c}return u.parse!==void 0?u.parse(m):new u(m.name,m.times,m.values,m.interpolation)}Object.assign(nl,{parse:function(u){for(var d=[],c=u.tracks,f=1/(u.fps||1),x=0,_=c.length;x!==_;++x)d.push(jb(c[x]).scale(f));var L=new nl(u.name,u.duration,d,u.blendMode);return L.uuid=u.uuid,L},toJSON:function(u){for(var d=[],c=u.tracks,f={name:u.name,duration:u.duration,tracks:d,uuid:u.uuid,blendMode:u.blendMode},x=0,_=c.length;x!==_;++x)d.push(Ds.toJSON(c[x]));return f},CreateFromMorphTargetSequence:function(u,d,c,f){for(var x=d.length,_=[],L=0;L<x;L++){var D=[],N=[];D.push((L+x-1)%x,L,(L+1)%x),N.push(0,1,0);var Y=io.getKeyframeOrder(D);D=io.sortedArray(D,1,Y),N=io.sortedArray(N,1,Y),!f&&D[0]===0&&(D.push(x),N.push(N[0])),_.push(new Ap(".morphTargetInfluences["+d[L].name+"]",D,N).scale(1/c))}return new nl(u,-1,_)},findByName:function(u,d){var c=u;if(!Array.isArray(u)){var f=u;c=f.geometry&&f.geometry.animations||f.animations}for(var x=0;x<c.length;x++)if(c[x].name===d)return c[x];return null},CreateClipsFromMorphTargetSequences:function(u,d,c){for(var f={},x=/^([\w-]*?)([\d]+)$/,_=0,L=u.length;_<L;_++){var D=u[_],N=D.name.match(x);if(N&&N.length>1){var Y=N[1],z=f[Y];z||(f[Y]=z=[]),z.push(D)}}var X=[];for(var j in f)X.push(nl.CreateFromMorphTargetSequence(j,f[j],d,c));return X},parseAnimation:function(u,d){if(!u)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var c=function(Ae,je,He,ut,qe){if(He.length!==0){var Be=[],rt=[];io.flattenJSON(He,Be,rt,ut),Be.length!==0&&qe.push(new Ae(je,Be,rt))}},f=[],x=u.name||"default",_=u.fps||30,L=u.blendMode,D=u.length||-1,N=u.hierarchy||[],Y=0;Y<N.length;Y++){var z=N[Y].keys;if(!z||z.length===0)continue;if(z[0].morphTargets){var X={},j=void 0;for(j=0;j<z.length;j++)if(z[j].morphTargets)for(var q=0;q<z[j].morphTargets.length;q++)X[z[j].morphTargets[q]]=-1;for(var te in X){for(var ae=[],ne=[],Q=0;Q!==z[j].morphTargets.length;++Q){var xe=z[j];ae.push(xe.time),ne.push(xe.morphTarget===te?1:0)}f.push(new Ap(".morphTargetInfluence["+te+"]",ae,ne))}D=X.length*(_||1)}else{var Te=".bones["+d[Y].name+"]";c(_p,Te+".position",z,"pos",f),c(B1,Te+".quaternion",z,"rot",f),c(_p,Te+".scale",z,"scl",f)}}if(f.length===0)return null;var de=new nl(x,D,f,L);return de}}),Object.assign(nl.prototype,{resetDuration:function(){for(var u=this.tracks,d=0,c=0,f=u.length;c!==f;++c){var x=this.tracks[c];d=Math.max(d,x.times[x.times.length-1])}return this.duration=d,this},trim:function(){for(var u=0;u<this.tracks.length;u++)this.tracks[u].trim(0,this.duration);return this},validate:function(){for(var u=!0,d=0;d<this.tracks.length;d++)u=u&&this.tracks[d].validate();return u},optimize:function(){for(var u=0;u<this.tracks.length;u++)this.tracks[u].optimize();return this},clone:function(){for(var u=[],d=0;d<this.tracks.length;d++)u.push(this.tracks[d].clone());return new nl(this.name,this.duration,u,this.blendMode)},toJSON:function(){return nl.toJSON(this)}});var Wh={enabled:!1,files:{},add:function(u,d){if(this.enabled===!1)return;this.files[u]=d},get:function(u){return this.enabled===!1?void 0:this.files[u]},remove:function(u){delete this.files[u]},clear:function(){this.files={}}};function b3(m,u,d){var c=this,f=!1,x=0,_=0,L=void 0,D=[];this.onStart=void 0,this.onLoad=m,this.onProgress=u,this.onError=d,this.itemStart=function(N){_++,f===!1&&(c.onStart!==void 0&&c.onStart(N,x,_)),f=!0},this.itemEnd=function(N){x++,c.onProgress!==void 0&&c.onProgress(N,x,_),x===_&&(f=!1,c.onLoad!==void 0&&c.onLoad())},this.itemError=function(N){c.onError!==void 0&&c.onError(N)},this.resolveURL=function(N){return L?L(N):N},this.setURLModifier=function(N){return L=N,this},this.addHandler=function(N,Y){return D.push(N,Y),this},this.removeHandler=function(N){var Y=D.indexOf(N);return Y!==-1&&D.splice(Y,2),this},this.getHandler=function(N){for(var Y=0,z=D.length;Y<z;Y+=2){var X=D[Y],j=D[Y+1];if(X.global&&(X.lastIndex=0),X.test(N))return j}return null}}var A_=new b3;function Ri(m){this.manager=m!==void 0?m:A_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Ri.prototype,{load:function(){},loadAsync:function(u,d){var c=this;return new Promise(function(f,x){c.load(u,f,d,x)})},parse:function(){},setCrossOrigin:function(u){return this.crossOrigin=u,this},setWithCredentials:function(u){return this.withCredentials=u,this},setPath:function(u){return this.path=u,this},setResourcePath:function(u){return this.resourcePath=u,this},setRequestHeader:function(u){return this.requestHeader=u,this}});var tc={};function mu(m){Ri.call(this,m)}mu.prototype=Object.assign(Object.create(Ri.prototype),{constructor:mu,load:function(u,d,c,f){u===void 0&&(u=""),this.path!==void 0&&(u=this.path+u),u=this.manager.resolveURL(u);var x=this,_=Wh.get(u);if(_!==void 0)return x.manager.itemStart(u),setTimeout(function(){d&&d(_),x.manager.itemEnd(u)},0),_;if(tc[u]!==void 0){tc[u].push({onLoad:d,onProgress:c,onError:f});return}var L=/^data:(.*?)(;base64)?,(.*)$/,D=u.match(L),N;if(D){var Y=D[1],z=!!D[2],X=D[3];X=decodeURIComponent(X),z&&(X=atob(X));try{var j,q=(this.responseType||"").toLowerCase();switch(q){case"arraybuffer":case"blob":for(var te=new Uint8Array(X.length),ae=0;ae<X.length;ae++)te[ae]=X.charCodeAt(ae);q==="blob"?j=new Blob([te.buffer],{type:Y}):j=te.buffer;break;case"document":var ne=new DOMParser;j=ne.parseFromString(X,Y);break;case"json":j=JSON.parse(X);break;default:j=X;break}setTimeout(function(){d&&d(j),x.manager.itemEnd(u)},0)}catch(xe){setTimeout(function(){f&&f(xe),x.manager.itemError(u),x.manager.itemEnd(u)},0)}}else{tc[u]=[],tc[u].push({onLoad:d,onProgress:c,onError:f}),N=new XMLHttpRequest,N.open("GET",u,!0),N.addEventListener("load",function(xe){var Te=this.response,de=tc[u];if(delete tc[u],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Wh.add(u,Te);for(var le=0,Ae=de.length;le<Ae;le++){var je=de[le];je.onLoad&&je.onLoad(Te)}x.manager.itemEnd(u)}else{for(var He=0,ut=de.length;He<ut;He++){var qe=de[He];qe.onError&&qe.onError(xe)}x.manager.itemError(u),x.manager.itemEnd(u)}},!1),N.addEventListener("progress",function(xe){for(var Te=tc[u],de=0,le=Te.length;de<le;de++){var Ae=Te[de];Ae.onProgress&&Ae.onProgress(xe)}},!1),N.addEventListener("error",function(xe){var Te=tc[u];delete tc[u];for(var de=0,le=Te.length;de<le;de++){var Ae=Te[de];Ae.onError&&Ae.onError(xe)}x.manager.itemError(u),x.manager.itemEnd(u)},!1),N.addEventListener("abort",function(xe){var Te=tc[u];delete tc[u];for(var de=0,le=Te.length;de<le;de++){var Ae=Te[de];Ae.onError&&Ae.onError(xe)}x.manager.itemError(u),x.manager.itemEnd(u)},!1),this.responseType!==void 0&&(N.responseType=this.responseType),this.withCredentials!==void 0&&(N.withCredentials=this.withCredentials),N.overrideMimeType&&N.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var Q in this.requestHeader)N.setRequestHeader(Q,this.requestHeader[Q]);N.send(null)}return x.manager.itemStart(u),N},setResponseType:function(u){return this.responseType=u,this},setMimeType:function(u){return this.mimeType=u,this}});function C3(m){Ri.call(this,m)}C3.prototype=Object.assign(Object.create(Ri.prototype),{constructor:C3,load:function(u,d,c,f){var x=this,_=new mu(x.manager);_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(u,function(L){try{d(x.parse(JSON.parse(L)))}catch(D){f?f(D):console.error(D),x.manager.itemError(u)}},c,f)},parse:function(u){for(var d=[],c=0;c<u.length;c++){var f=nl.parse(u[c]);d.push(f)}return d}});function N1(m){Ri.call(this,m)}N1.prototype=Object.assign(Object.create(Ri.prototype),{constructor:N1,load:function(u,d,c,f){var x=this,_=[],L=new pp;L.image=_;var D=new mu(this.manager);D.setPath(this.path),D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setWithCredentials(x.withCredentials);var N=0;function Y(j){D.load(u[j],function(q){var te=x.parse(q,!0);_[j]={width:te.width,height:te.height,format:te.format,mipmaps:te.mipmaps},N+=1,N===6&&(te.mipmapCount===1&&(L.minFilter=fr),L.format=te.format,L.needsUpdate=!0,d&&d(L))},c,f)}if(Array.isArray(u))for(var z=0,X=u.length;z<X;++z)Y(z);else D.load(u,function(j){var q=x.parse(j,!0);if(q.isCubemap)for(var te=q.mipmaps.length/q.mipmapCount,ae=0;ae<te;ae++){_[ae]={mipmaps:[]};for(var ne=0;ne<q.mipmapCount;ne++)_[ae].mipmaps.push(q.mipmaps[ae*q.mipmapCount+ne]),_[ae].format=q.format,_[ae].width=q.width,_[ae].height=q.height}else L.image.width=q.width,L.image.height=q.height,L.mipmaps=q.mipmaps;q.mipmapCount===1&&(L.minFilter=fr),L.format=q.format,L.needsUpdate=!0,d&&d(L)},c,f);return L}});function Mp(m){Ri.call(this,m)}Mp.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Mp,load:function(u,d,c,f){this.path!==void 0&&(u=this.path+u),u=this.manager.resolveURL(u);var x=this,_=Wh.get(u);if(_!==void 0)return x.manager.itemStart(u),setTimeout(function(){d&&d(_),x.manager.itemEnd(u)},0),_;var L=document.createElementNS("http://www.w3.org/1999/xhtml","img");function D(){L.removeEventListener("load",D,!1),L.removeEventListener("error",N,!1),Wh.add(u,this),d&&d(this),x.manager.itemEnd(u)}function N(Y){L.removeEventListener("load",D,!1),L.removeEventListener("error",N,!1),f&&f(Y),x.manager.itemError(u),x.manager.itemEnd(u)}return L.addEventListener("load",D,!1),L.addEventListener("error",N,!1),u.substr(0,5)!=="data:"&&(this.crossOrigin!==void 0&&(L.crossOrigin=this.crossOrigin)),x.manager.itemStart(u),L.src=u,L}});function ig(m){Ri.call(this,m)}ig.prototype=Object.assign(Object.create(Ri.prototype),{constructor:ig,load:function(u,d,c,f){var x=new Qs,_=new Mp(this.manager);_.setCrossOrigin(this.crossOrigin),_.setPath(this.path);var L=0;function D(Y){_.load(u[Y],function(z){x.images[Y]=z,L++,L===6&&(x.needsUpdate=!0,d&&d(x))},void 0,f)}for(var N=0;N<u.length;++N)D(N);return x}});function I1(m){Ri.call(this,m)}I1.prototype=Object.assign(Object.create(Ri.prototype),{constructor:I1,load:function(u,d,c,f){var x=this,_=new Bl,L=new mu(this.manager);return L.setResponseType("arraybuffer"),L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(x.withCredentials),L.load(u,function(D){var N=x.parse(D);if(!N)return;N.image!==void 0?_.image=N.image:N.data!==void 0&&(_.image.width=N.width,_.image.height=N.height,_.image.data=N.data),_.wrapS=N.wrapS!==void 0?N.wrapS:Xe,_.wrapT=N.wrapT!==void 0?N.wrapT:Xe,_.magFilter=N.magFilter!==void 0?N.magFilter:fr,_.minFilter=N.minFilter!==void 0?N.minFilter:fr,_.anisotropy=N.anisotropy!==void 0?N.anisotropy:1,N.format!==void 0&&(_.format=N.format),N.type!==void 0&&(_.type=N.type),N.mipmaps!==void 0&&(_.mipmaps=N.mipmaps,_.minFilter=Xr),N.mipmapCount===1&&(_.minFilter=fr),_.needsUpdate=!0,d&&d(_,N)},c,f),_}});function og(m){Ri.call(this,m)}og.prototype=Object.assign(Object.create(Ri.prototype),{constructor:og,load:function(u,d,c,f){var x=new jn,_=new Mp(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(u,function(L){x.image=L;var D=u.search(/\.jpe?g($|\?)/i)>0||u.search(/^data\:image\/jpeg/)===0;x.format=D?Zn:Qt,x.needsUpdate=!0,d!==void 0&&d(x)},c,f),x}});function Gn(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Gn.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(u,d){var c=this.getUtoTmapping(u);return this.getPoint(c,d)},getPoints:function(u){u===void 0&&(u=5);for(var d=[],c=0;c<=u;c++)d.push(this.getPoint(c/u));return d},getSpacedPoints:function(u){u===void 0&&(u=5);for(var d=[],c=0;c<=u;c++)d.push(this.getPointAt(c/u));return d},getLength:function(){var u=this.getLengths();return u[u.length-1]},getLengths:function(u){if(u===void 0&&(u=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===u+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],c,f=this.getPoint(0),x=0;d.push(0);for(var _=1;_<=u;_++)c=this.getPoint(_/u),x+=c.distanceTo(f),d.push(x),f=c;return this.cacheArcLengths=d,d},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(u,d){var c=this.getLengths(),f=0,x=c.length,_;d?_=d:_=u*c[x-1];for(var L=0,D=x-1,N;L<=D;)if(f=Math.floor(L+(D-L)/2),N=c[f]-_,N<0)L=f+1;else if(N>0)D=f-1;else{D=f;break}if(f=D,c[f]===_)return f/(x-1);var Y=c[f],z=c[f+1],X=z-Y,j=(_-Y)/X,q=(f+j)/(x-1);return q},getTangent:function(u,d){var c=1e-4,f=u-c,x=u+c;f<0&&(f=0),x>1&&(x=1);var _=this.getPoint(f),L=this.getPoint(x),D=d||(_.isVector2?new kt:new Pe);return D.copy(L).sub(_).normalize(),D},getTangentAt:function(u,d){var c=this.getUtoTmapping(u);return this.getTangent(c,d)},computeFrenetFrames:function(u,d){for(var c=new Pe,f=[],x=[],_=[],L=new Pe,D=new Pr,N=0;N<=u;N++){var Y=N/u;f[N]=this.getTangentAt(Y,new Pe),f[N].normalize()}x[0]=new Pe,_[0]=new Pe;var z=Number.MAX_VALUE,X=Math.abs(f[0].x),j=Math.abs(f[0].y),q=Math.abs(f[0].z);X<=z&&(z=X,c.set(1,0,0)),j<=z&&(z=j,c.set(0,1,0)),q<=z&&c.set(0,0,1),L.crossVectors(f[0],c).normalize(),x[0].crossVectors(f[0],L),_[0].crossVectors(f[0],x[0]);for(var te=1;te<=u;te++){if(x[te]=x[te-1].clone(),_[te]=_[te-1].clone(),L.crossVectors(f[te-1],f[te]),L.length()>Number.EPSILON){L.normalize();var ae=Math.acos($n.clamp(f[te-1].dot(f[te]),-1,1));x[te].applyMatrix4(D.makeRotationAxis(L,ae))}_[te].crossVectors(f[te],x[te])}if(d===!0){var ne=Math.acos($n.clamp(x[0].dot(x[u]),-1,1));ne/=u,f[0].dot(L.crossVectors(x[0],x[u]))>0&&(ne=-ne);for(var Q=1;Q<=u;Q++)x[Q].applyMatrix4(D.makeRotationAxis(f[Q],ne*Q)),_[Q].crossVectors(f[Q],x[Q])}return{tangents:f,normals:x,binormals:_}},clone:function(){return new this.constructor().copy(this)},copy:function(u){return this.arcLengthDivisions=u.arcLengthDivisions,this},toJSON:function(){var u={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return u.arcLengthDivisions=this.arcLengthDivisions,u.type=this.type,u},fromJSON:function(u){return this.arcLengthDivisions=u.arcLengthDivisions,this}});function Xl(m,u,d,c,f,x,_,L){Gn.call(this),this.type="EllipseCurve",this.aX=m||0,this.aY=u||0,this.xRadius=d||1,this.yRadius=c||1,this.aStartAngle=f||0,this.aEndAngle=x||2*Math.PI,this.aClockwise=_||!1,this.aRotation=L||0}Xl.prototype=Object.create(Gn.prototype),Xl.prototype.constructor=Xl,Xl.prototype.isEllipseCurve=!0,Xl.prototype.getPoint=function(m,u){for(var d=u||new kt,c=Math.PI*2,f=this.aEndAngle-this.aStartAngle,x=Math.abs(f)<Number.EPSILON;f<0;)f+=c;for(;f>c;)f-=c;f<Number.EPSILON&&(x?f=0:f=c),this.aClockwise===!0&&!x&&(f===c?f=-c:f=f-c);var _=this.aStartAngle+m*f,L=this.aX+this.xRadius*Math.cos(_),D=this.aY+this.yRadius*Math.sin(_);if(this.aRotation!==0){var N=Math.cos(this.aRotation),Y=Math.sin(this.aRotation),z=L-this.aX,X=D-this.aY;L=z*N-X*Y+this.aX,D=z*Y+X*N+this.aY}return d.set(L,D)},Xl.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.aX=m.aX,this.aY=m.aY,this.xRadius=m.xRadius,this.yRadius=m.yRadius,this.aStartAngle=m.aStartAngle,this.aEndAngle=m.aEndAngle,this.aClockwise=m.aClockwise,this.aRotation=m.aRotation,this},Xl.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.aX=this.aX,m.aY=this.aY,m.xRadius=this.xRadius,m.yRadius=this.yRadius,m.aStartAngle=this.aStartAngle,m.aEndAngle=this.aEndAngle,m.aClockwise=this.aClockwise,m.aRotation=this.aRotation,m},Xl.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.aX=m.aX,this.aY=m.aY,this.xRadius=m.xRadius,this.yRadius=m.yRadius,this.aStartAngle=m.aStartAngle,this.aEndAngle=m.aEndAngle,this.aClockwise=m.aClockwise,this.aRotation=m.aRotation,this};function Sp(m,u,d,c,f,x){Xl.call(this,m,u,d,d,c,f,x),this.type="ArcCurve"}Sp.prototype=Object.create(Xl.prototype),Sp.prototype.constructor=Sp,Sp.prototype.isArcCurve=!0;function L3(){var m=0,u=0,d=0,c=0;function f(x,_,L,D){m=x,u=L,d=-3*x+3*_-2*L-D,c=2*x-2*_+L+D}return{initCatmullRom:function(_,L,D,N,Y){f(L,D,Y*(D-_),Y*(N-L))},initNonuniformCatmullRom:function(_,L,D,N,Y,z,X){var j=(L-_)/Y-(D-_)/(Y+z)+(D-L)/z,q=(D-L)/z-(N-L)/(z+X)+(N-D)/X;j*=z,q*=z,f(L,D,j,q)},calc:function(_){var L=_*_,D=L*_;return m+u*_+d*L+c*D}}}var O1=new Pe,P3=new L3,R3=new L3,D3=new L3;function Ks(m,u,d,c){m===void 0&&(m=[]),u===void 0&&(u=!1),d===void 0&&(d="centripetal"),c===void 0&&(c=.5),Gn.call(this),this.type="CatmullRomCurve3",this.points=m,this.closed=u,this.curveType=d,this.tension=c}Ks.prototype=Object.create(Gn.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isCatmullRomCurve3=!0,Ks.prototype.getPoint=function(m,u){u===void 0&&(u=new Pe);var d=u,c=this.points,f=c.length,x=(f-(this.closed?0:1))*m,_=Math.floor(x),L=x-_;this.closed?_+=_>0?0:(Math.floor(Math.abs(_)/f)+1)*f:L===0&&_===f-1&&(_=f-2,L=1);var D,N;this.closed||_>0?D=c[(_-1)%f]:(O1.subVectors(c[0],c[1]).add(c[0]),D=O1);var Y=c[_%f],z=c[(_+1)%f];if(this.closed||_+2<f?N=c[(_+2)%f]:(O1.subVectors(c[f-1],c[f-2]).add(c[f-1]),N=O1),this.curveType==="centripetal"||this.curveType==="chordal"){var X=this.curveType==="chordal"?.5:.25,j=Math.pow(D.distanceToSquared(Y),X),q=Math.pow(Y.distanceToSquared(z),X),te=Math.pow(z.distanceToSquared(N),X);q<1e-4&&(q=1),j<1e-4&&(j=q),te<1e-4&&(te=q),P3.initNonuniformCatmullRom(D.x,Y.x,z.x,N.x,j,q,te),R3.initNonuniformCatmullRom(D.y,Y.y,z.y,N.y,j,q,te),D3.initNonuniformCatmullRom(D.z,Y.z,z.z,N.z,j,q,te)}else this.curveType==="catmullrom"&&(P3.initCatmullRom(D.x,Y.x,z.x,N.x,this.tension),R3.initCatmullRom(D.y,Y.y,z.y,N.y,this.tension),D3.initCatmullRom(D.z,Y.z,z.z,N.z,this.tension));return d.set(P3.calc(L),R3.calc(L),D3.calc(L)),d},Ks.prototype.copy=function(m){Gn.prototype.copy.call(this,m),this.points=[];for(var u=0,d=m.points.length;u<d;u++){var c=m.points[u];this.points.push(c.clone())}return this.closed=m.closed,this.curveType=m.curveType,this.tension=m.tension,this},Ks.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);m.points=[];for(var u=0,d=this.points.length;u<d;u++){var c=this.points[u];m.points.push(c.toArray())}return m.closed=this.closed,m.curveType=this.curveType,m.tension=this.tension,m},Ks.prototype.fromJSON=function(m){Gn.prototype.fromJSON.call(this,m),this.points=[];for(var u=0,d=m.points.length;u<d;u++){var c=m.points[u];this.points.push(new Pe().fromArray(c))}return this.closed=m.closed,this.curveType=m.curveType,this.tension=m.tension,this};function __(m,u,d,c,f){var x=(c-u)*.5,_=(f-d)*.5,L=m*m,D=m*L;return(2*d-2*c+x+_)*D+(-3*d+3*c-2*x-_)*L+x*m+d}function Qb(m,u){var d=1-m;return d*d*u}function qb(m,u){return 2*(1-m)*m*u}function Jb(m,u){return m*m*u}function U1(m,u,d,c){return Qb(m,u)+qb(m,d)+Jb(m,c)}function F3(m,u){var d=1-m;return d*d*d*u}function Zb(m,u){var d=1-m;return 3*d*d*m*u}function Kb(m,u){return 3*(1-m)*m*m*u}function M_(m,u){return m*m*m*u}function k1(m,u,d,c,f){return F3(m,u)+Zb(m,d)+Kb(m,c)+M_(m,f)}function nc(m,u,d,c){m===void 0&&(m=new kt),u===void 0&&(u=new kt),d===void 0&&(d=new kt),c===void 0&&(c=new kt),Gn.call(this),this.type="CubicBezierCurve",this.v0=m,this.v1=u,this.v2=d,this.v3=c}nc.prototype=Object.create(Gn.prototype),nc.prototype.constructor=nc,nc.prototype.isCubicBezierCurve=!0,nc.prototype.getPoint=function(m,u){u===void 0&&(u=new kt);var d=u,c=this.v0,f=this.v1,x=this.v2,_=this.v3;return d.set(k1(m,c.x,f.x,x.x,_.x),k1(m,c.y,f.y,x.y,_.y)),d},nc.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v0.copy(m.v0),this.v1.copy(m.v1),this.v2.copy(m.v2),this.v3.copy(m.v3),this},nc.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v0=this.v0.toArray(),m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m.v3=this.v3.toArray(),m},nc.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v0.fromArray(m.v0),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this.v3.fromArray(m.v3),this};function Hc(m,u,d,c){m===void 0&&(m=new Pe),u===void 0&&(u=new Pe),d===void 0&&(d=new Pe),c===void 0&&(c=new Pe),Gn.call(this),this.type="CubicBezierCurve3",this.v0=m,this.v1=u,this.v2=d,this.v3=c}Hc.prototype=Object.create(Gn.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isCubicBezierCurve3=!0,Hc.prototype.getPoint=function(m,u){u===void 0&&(u=new Pe);var d=u,c=this.v0,f=this.v1,x=this.v2,_=this.v3;return d.set(k1(m,c.x,f.x,x.x,_.x),k1(m,c.y,f.y,x.y,_.y),k1(m,c.z,f.z,x.z,_.z)),d},Hc.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v0.copy(m.v0),this.v1.copy(m.v1),this.v2.copy(m.v2),this.v3.copy(m.v3),this},Hc.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v0=this.v0.toArray(),m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m.v3=this.v3.toArray(),m},Hc.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v0.fromArray(m.v0),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this.v3.fromArray(m.v3),this};function rl(m,u){m===void 0&&(m=new kt),u===void 0&&(u=new kt),Gn.call(this),this.type="LineCurve",this.v1=m,this.v2=u}rl.prototype=Object.create(Gn.prototype),rl.prototype.constructor=rl,rl.prototype.isLineCurve=!0,rl.prototype.getPoint=function(m,u){u===void 0&&(u=new kt);var d=u;return m===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(m).add(this.v1)),d},rl.prototype.getPointAt=function(m,u){return this.getPoint(m,u)},rl.prototype.getTangent=function(m,u){var d=u||new kt;return d.copy(this.v2).sub(this.v1).normalize(),d},rl.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v1.copy(m.v1),this.v2.copy(m.v2),this},rl.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m},rl.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this};function rc(m,u){m===void 0&&(m=new Pe),u===void 0&&(u=new Pe),Gn.call(this),this.type="LineCurve3",this.v1=m,this.v2=u}rc.prototype=Object.create(Gn.prototype),rc.prototype.constructor=rc,rc.prototype.isLineCurve3=!0,rc.prototype.getPoint=function(m,u){u===void 0&&(u=new Pe);var d=u;return m===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(m).add(this.v1)),d},rc.prototype.getPointAt=function(m,u){return this.getPoint(m,u)},rc.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v1.copy(m.v1),this.v2.copy(m.v2),this},rc.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m},rc.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this};function vu(m,u,d){m===void 0&&(m=new kt),u===void 0&&(u=new kt),d===void 0&&(d=new kt),Gn.call(this),this.type="QuadraticBezierCurve",this.v0=m,this.v1=u,this.v2=d}vu.prototype=Object.create(Gn.prototype),vu.prototype.constructor=vu,vu.prototype.isQuadraticBezierCurve=!0,vu.prototype.getPoint=function(m,u){u===void 0&&(u=new kt);var d=u,c=this.v0,f=this.v1,x=this.v2;return d.set(U1(m,c.x,f.x,x.x),U1(m,c.y,f.y,x.y)),d},vu.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v0.copy(m.v0),this.v1.copy(m.v1),this.v2.copy(m.v2),this},vu.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v0=this.v0.toArray(),m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m},vu.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v0.fromArray(m.v0),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this};function zc(m,u,d){m===void 0&&(m=new Pe),u===void 0&&(u=new Pe),d===void 0&&(d=new Pe),Gn.call(this),this.type="QuadraticBezierCurve3",this.v0=m,this.v1=u,this.v2=d}zc.prototype=Object.create(Gn.prototype),zc.prototype.constructor=zc,zc.prototype.isQuadraticBezierCurve3=!0,zc.prototype.getPoint=function(m,u){u===void 0&&(u=new Pe);var d=u,c=this.v0,f=this.v1,x=this.v2;return d.set(U1(m,c.x,f.x,x.x),U1(m,c.y,f.y,x.y),U1(m,c.z,f.z,x.z)),d},zc.prototype.copy=function(m){return Gn.prototype.copy.call(this,m),this.v0.copy(m.v0),this.v1.copy(m.v1),this.v2.copy(m.v2),this},zc.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);return m.v0=this.v0.toArray(),m.v1=this.v1.toArray(),m.v2=this.v2.toArray(),m},zc.prototype.fromJSON=function(m){return Gn.prototype.fromJSON.call(this,m),this.v0.fromArray(m.v0),this.v1.fromArray(m.v1),this.v2.fromArray(m.v2),this};function ic(m){m===void 0&&(m=[]),Gn.call(this),this.type="SplineCurve",this.points=m}ic.prototype=Object.create(Gn.prototype),ic.prototype.constructor=ic,ic.prototype.isSplineCurve=!0,ic.prototype.getPoint=function(m,u){u===void 0&&(u=new kt);var d=u,c=this.points,f=(c.length-1)*m,x=Math.floor(f),_=f-x,L=c[x===0?x:x-1],D=c[x],N=c[x>c.length-2?c.length-1:x+1],Y=c[x>c.length-3?c.length-1:x+2];return d.set(__(_,L.x,D.x,N.x,Y.x),__(_,L.y,D.y,N.y,Y.y)),d},ic.prototype.copy=function(m){Gn.prototype.copy.call(this,m),this.points=[];for(var u=0,d=m.points.length;u<d;u++){var c=m.points[u];this.points.push(c.clone())}return this},ic.prototype.toJSON=function(){var m=Gn.prototype.toJSON.call(this);m.points=[];for(var u=0,d=this.points.length;u<d;u++){var c=this.points[u];m.points.push(c.toArray())}return m},ic.prototype.fromJSON=function(m){Gn.prototype.fromJSON.call(this,m),this.points=[];for(var u=0,d=m.points.length;u<d;u++){var c=m.points[u];this.points.push(new kt().fromArray(c))}return this};var B3=Object.freeze({__proto__:null,ArcCurve:Sp,CatmullRomCurve3:Ks,CubicBezierCurve:nc,CubicBezierCurve3:Hc,EllipseCurve:Xl,LineCurve:rl,LineCurve3:rc,QuadraticBezierCurve:vu,QuadraticBezierCurve3:zc,SplineCurve:ic});function bf(){Gn.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}bf.prototype=Object.assign(Object.create(Gn.prototype),{constructor:bf,add:function(u){this.curves.push(u)},closePath:function(){var u=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);u.equals(d)||this.curves.push(new rl(d,u))},getPoint:function(u){for(var d=u*this.getLength(),c=this.getCurveLengths(),f=0;f<c.length;){if(c[f]>=d){var x=c[f]-d,_=this.curves[f],L=_.getLength(),D=L===0?0:1-x/L;return _.getPointAt(D)}f++}return null},getLength:function(){var u=this.getCurveLengths();return u[u.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var u=[],d=0,c=0,f=this.curves.length;c<f;c++)d+=this.curves[c].getLength(),u.push(d);return this.cacheLengths=u,u},getSpacedPoints:function(u){u===void 0&&(u=40);for(var d=[],c=0;c<=u;c++)d.push(this.getPoint(c/u));return this.autoClose&&d.push(d[0]),d},getPoints:function(u){u===void 0&&(u=12);for(var d=[],c,f=0,x=this.curves;f<x.length;f++)for(var _=x[f],L=_&&_.isEllipseCurve?u*2:_&&(_.isLineCurve||_.isLineCurve3)?1:_&&_.isSplineCurve?u*_.points.length:u,D=_.getPoints(L),N=0;N<D.length;N++){var Y=D[N];if(c&&c.equals(Y))continue;d.push(Y),c=Y}return this.autoClose&&d.length>1&&!d[d.length-1].equals(d[0])&&d.push(d[0]),d},copy:function(u){Gn.prototype.copy.call(this,u),this.curves=[];for(var d=0,c=u.curves.length;d<c;d++){var f=u.curves[d];this.curves.push(f.clone())}return this.autoClose=u.autoClose,this},toJSON:function(){var u=Gn.prototype.toJSON.call(this);u.autoClose=this.autoClose,u.curves=[];for(var d=0,c=this.curves.length;d<c;d++){var f=this.curves[d];u.curves.push(f.toJSON())}return u},fromJSON:function(u){Gn.prototype.fromJSON.call(this,u),this.autoClose=u.autoClose,this.curves=[];for(var d=0,c=u.curves.length;d<c;d++){var f=u.curves[d];this.curves.push(new B3[f.type]().fromJSON(f))}return this}});function oc(m){bf.call(this),this.type="Path",this.currentPoint=new kt,m&&this.setFromPoints(m)}oc.prototype=Object.assign(Object.create(bf.prototype),{constructor:oc,setFromPoints:function(u){this.moveTo(u[0].x,u[0].y);for(var d=1,c=u.length;d<c;d++)this.lineTo(u[d].x,u[d].y);return this},moveTo:function(u,d){return this.currentPoint.set(u,d),this},lineTo:function(u,d){var c=new rl(this.currentPoint.clone(),new kt(u,d));return this.curves.push(c),this.currentPoint.set(u,d),this},quadraticCurveTo:function(u,d,c,f){var x=new vu(this.currentPoint.clone(),new kt(u,d),new kt(c,f));return this.curves.push(x),this.currentPoint.set(c,f),this},bezierCurveTo:function(u,d,c,f,x,_){var L=new nc(this.currentPoint.clone(),new kt(u,d),new kt(c,f),new kt(x,_));return this.curves.push(L),this.currentPoint.set(x,_),this},splineThru:function(u){var d=[this.currentPoint.clone()].concat(u),c=new ic(d);return this.curves.push(c),this.currentPoint.copy(u[u.length-1]),this},arc:function(u,d,c,f,x,_){var L=this.currentPoint.x,D=this.currentPoint.y;return this.absarc(u+L,d+D,c,f,x,_),this},absarc:function(u,d,c,f,x,_){return this.absellipse(u,d,c,c,f,x,_),this},ellipse:function(u,d,c,f,x,_,L,D){var N=this.currentPoint.x,Y=this.currentPoint.y;return this.absellipse(u+N,d+Y,c,f,x,_,L,D),this},absellipse:function(u,d,c,f,x,_,L,D){var N=new Xl(u,d,c,f,x,_,L,D);if(this.curves.length>0){var Y=N.getPoint(0);Y.equals(this.currentPoint)||this.lineTo(Y.x,Y.y)}this.curves.push(N);var z=N.getPoint(1);return this.currentPoint.copy(z),this},copy:function(u){return bf.prototype.copy.call(this,u),this.currentPoint.copy(u.currentPoint),this},toJSON:function(){var u=bf.prototype.toJSON.call(this);return u.currentPoint=this.currentPoint.toArray(),u},fromJSON:function(u){return bf.prototype.fromJSON.call(this,u),this.currentPoint.fromArray(u.currentPoint),this}});function X0(m){oc.call(this,m),this.uuid=$n.generateUUID(),this.type="Shape",this.holes=[]}X0.prototype=Object.assign(Object.create(oc.prototype),{constructor:X0,getPointsHoles:function(u){for(var d=[],c=0,f=this.holes.length;c<f;c++)d[c]=this.holes[c].getPoints(u);return d},extractPoints:function(u){return{shape:this.getPoints(u),holes:this.getPointsHoles(u)}},copy:function(u){oc.prototype.copy.call(this,u),this.holes=[];for(var d=0,c=u.holes.length;d<c;d++){var f=u.holes[d];this.holes.push(f.clone())}return this},toJSON:function(){var u=oc.prototype.toJSON.call(this);u.uuid=this.uuid,u.holes=[];for(var d=0,c=this.holes.length;d<c;d++){var f=this.holes[d];u.holes.push(f.toJSON())}return u},fromJSON:function(u){oc.prototype.fromJSON.call(this,u),this.uuid=u.uuid,this.holes=[];for(var d=0,c=u.holes.length;d<c;d++){var f=u.holes[d];this.holes.push(new oc().fromJSON(f))}return this}});function Ji(m,u){u===void 0&&(u=1),Tn.call(this),this.type="Light",this.color=new En(m),this.intensity=u}Ji.prototype=Object.assign(Object.create(Tn.prototype),{constructor:Ji,isLight:!0,copy:function(u){return Tn.prototype.copy.call(this,u),this.color.copy(u.color),this.intensity=u.intensity,this},toJSON:function(u){var d=Tn.prototype.toJSON.call(this,u);return d.object.color=this.color.getHex(),d.object.intensity=this.intensity,this.groundColor!==void 0&&(d.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(d.object.distance=this.distance),this.angle!==void 0&&(d.object.angle=this.angle),this.decay!==void 0&&(d.object.decay=this.decay),this.penumbra!==void 0&&(d.object.penumbra=this.penumbra),this.shadow!==void 0&&(d.object.shadow=this.shadow.toJSON()),d}});function sg(m,u,d){Ji.call(this,m,d),this.type="HemisphereLight",this.position.copy(Tn.DefaultUp),this.updateMatrix(),this.groundColor=new En(u)}sg.prototype=Object.assign(Object.create(Ji.prototype),{constructor:sg,isHemisphereLight:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.groundColor.copy(u.groundColor),this}});function Cf(m){this.camera=m,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new kt(512,512),this.map=null,this.mapPass=null,this.matrix=new Pr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qu,this._frameExtents=new kt(1,1),this._viewportCount=1,this._viewports=[new Ur(0,0,1,1)]}Object.assign(Cf.prototype,{_projScreenMatrix:new Pr,_lightPositionWorld:new Pe,_lookTarget:new Pe,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(u){var d=this.camera,c=this.matrix,f=this._projScreenMatrix,x=this._lookTarget,_=this._lightPositionWorld;_.setFromMatrixPosition(u.matrixWorld),d.position.copy(_),x.setFromMatrixPosition(u.target.matrixWorld),d.lookAt(x),d.updateMatrixWorld(),f.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f),c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),c.multiply(d.projectionMatrix),c.multiply(d.matrixWorldInverse)},getViewport:function(u){return this._viewports[u]},getFrameExtents:function(){return this._frameExtents},copy:function(u){return this.camera=u.camera.clone(),this.bias=u.bias,this.radius=u.radius,this.mapSize.copy(u.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var u={};return this.bias!==0&&(u.bias=this.bias),this.normalBias!==0&&(u.normalBias=this.normalBias),this.radius!==1&&(u.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(u.mapSize=this.mapSize.toArray()),u.camera=this.camera.toJSON(!1).object,delete u.camera.matrix,u}});function G1(){Cf.call(this,new ro(50,1,.5,500)),this.focus=1}G1.prototype=Object.assign(Object.create(Cf.prototype),{constructor:G1,isSpotLightShadow:!0,updateMatrices:function(u){var d=this.camera,c=$n.RAD2DEG*2*u.angle*this.focus,f=this.mapSize.width/this.mapSize.height,x=u.distance||d.far;(c!==d.fov||f!==d.aspect||x!==d.far)&&(d.fov=c,d.aspect=f,d.far=x,d.updateProjectionMatrix()),Cf.prototype.updateMatrices.call(this,u)}});function ag(m,u,d,c,f,x){Ji.call(this,m,u),this.type="SpotLight",this.position.copy(Tn.DefaultUp),this.updateMatrix(),this.target=new Tn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(L){this.intensity=L/Math.PI}}),this.distance=d!==void 0?d:0,this.angle=c!==void 0?c:Math.PI/3,this.penumbra=f!==void 0?f:0,this.decay=x!==void 0?x:1,this.shadow=new G1}ag.prototype=Object.assign(Object.create(Ji.prototype),{constructor:ag,isSpotLight:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.distance=u.distance,this.angle=u.angle,this.penumbra=u.penumbra,this.decay=u.decay,this.target=u.target.clone(),this.shadow=u.shadow.clone(),this}});function N3(){Cf.call(this,new ro(90,1,.5,500)),this._frameExtents=new kt(4,2),this._viewportCount=6,this._viewports=[new Ur(2,1,1,1),new Ur(0,1,1,1),new Ur(3,1,1,1),new Ur(1,1,1,1),new Ur(3,0,1,1),new Ur(1,0,1,1)],this._cubeDirections=[new Pe(1,0,0),new Pe(-1,0,0),new Pe(0,0,1),new Pe(0,0,-1),new Pe(0,1,0),new Pe(0,-1,0)],this._cubeUps=[new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,0,1),new Pe(0,0,-1)]}N3.prototype=Object.assign(Object.create(Cf.prototype),{constructor:N3,isPointLightShadow:!0,updateMatrices:function(u,d){d===void 0&&(d=0);var c=this.camera,f=this.matrix,x=this._lightPositionWorld,_=this._lookTarget,L=this._projScreenMatrix;x.setFromMatrixPosition(u.matrixWorld),c.position.copy(x),_.copy(c.position),_.add(this._cubeDirections[d]),c.up.copy(this._cubeUps[d]),c.lookAt(_),c.updateMatrixWorld(),f.makeTranslation(-x.x,-x.y,-x.z),L.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L)}});function X1(m,u,d,c){Ji.call(this,m,u),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(x){this.intensity=x/(4*Math.PI)}}),this.distance=d!==void 0?d:0,this.decay=c!==void 0?c:1,this.shadow=new N3}X1.prototype=Object.assign(Object.create(Ji.prototype),{constructor:X1,isPointLight:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.distance=u.distance,this.decay=u.decay,this.shadow=u.shadow.clone(),this}});function Tp(m,u,d,c,f,x){ln.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=m!==void 0?m:-1,this.right=u!==void 0?u:1,this.top=d!==void 0?d:1,this.bottom=c!==void 0?c:-1,this.near=f!==void 0?f:.1,this.far=x!==void 0?x:2e3,this.updateProjectionMatrix()}Tp.prototype=Object.assign(Object.create(ln.prototype),{constructor:Tp,isOrthographicCamera:!0,copy:function(u,d){return ln.prototype.copy.call(this,u,d),this.left=u.left,this.right=u.right,this.top=u.top,this.bottom=u.bottom,this.near=u.near,this.far=u.far,this.zoom=u.zoom,this.view=u.view===null?null:Object.assign({},u.view),this},setViewOffset:function(u,d,c,f,x,_){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=u,this.view.fullHeight=d,this.view.offsetX=c,this.view.offsetY=f,this.view.width=x,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var u=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,f=(this.top+this.bottom)/2,x=c-u,_=c+u,L=f+d,D=f-d;if(this.view!==null&&this.view.enabled){var N=(this.right-this.left)/this.view.fullWidth/this.zoom,Y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;x+=N*this.view.offsetX,_=x+N*this.view.width,L-=Y*this.view.offsetY,D=L-Y*this.view.height}this.projectionMatrix.makeOrthographic(x,_,L,D,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(u){var d=Tn.prototype.toJSON.call(this,u);return d.object.zoom=this.zoom,d.object.left=this.left,d.object.right=this.right,d.object.top=this.top,d.object.bottom=this.bottom,d.object.near=this.near,d.object.far=this.far,this.view!==null&&(d.object.view=Object.assign({},this.view)),d}});function I3(){Cf.call(this,new Tp(-5,5,5,-5,.5,500))}I3.prototype=Object.assign(Object.create(Cf.prototype),{constructor:I3,isDirectionalLightShadow:!0,updateMatrices:function(u){Cf.prototype.updateMatrices.call(this,u)}});function lg(m,u){Ji.call(this,m,u),this.type="DirectionalLight",this.position.copy(Tn.DefaultUp),this.updateMatrix(),this.target=new Tn,this.shadow=new I3}lg.prototype=Object.assign(Object.create(Ji.prototype),{constructor:lg,isDirectionalLight:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.target=u.target.clone(),this.shadow=u.shadow.clone(),this}});function ug(m,u){Ji.call(this,m,u),this.type="AmbientLight"}ug.prototype=Object.assign(Object.create(Ji.prototype),{constructor:ug,isAmbientLight:!0});function cg(m,u,d,c){Ji.call(this,m,u),this.type="RectAreaLight",this.width=d!==void 0?d:10,this.height=c!==void 0?c:10}cg.prototype=Object.assign(Object.create(Ji.prototype),{constructor:cg,isRectAreaLight:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.width=u.width,this.height=u.height,this},toJSON:function(u){var d=Ji.prototype.toJSON.call(this,u);return d.object.width=this.width,d.object.height=this.height,d}});var O3=function(){function m(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var d=0;d<9;d++)this.coefficients.push(new Pe)}var u=m.prototype;return u.set=function(c){for(var f=0;f<9;f++)this.coefficients[f].copy(c[f]);return this},u.zero=function(){for(var c=0;c<9;c++)this.coefficients[c].set(0,0,0);return this},u.getAt=function(c,f){var x=c.x,_=c.y,L=c.z,D=this.coefficients;return f.copy(D[0]).multiplyScalar(.282095),f.addScaledVector(D[1],.488603*_),f.addScaledVector(D[2],.488603*L),f.addScaledVector(D[3],.488603*x),f.addScaledVector(D[4],1.092548*(x*_)),f.addScaledVector(D[5],1.092548*(_*L)),f.addScaledVector(D[6],.315392*(3*L*L-1)),f.addScaledVector(D[7],1.092548*(x*L)),f.addScaledVector(D[8],.546274*(x*x-_*_)),f},u.getIrradianceAt=function(c,f){var x=c.x,_=c.y,L=c.z,D=this.coefficients;return f.copy(D[0]).multiplyScalar(.886227),f.addScaledVector(D[1],2*.511664*_),f.addScaledVector(D[2],2*.511664*L),f.addScaledVector(D[3],2*.511664*x),f.addScaledVector(D[4],2*.429043*x*_),f.addScaledVector(D[5],2*.429043*_*L),f.addScaledVector(D[6],.743125*L*L-.247708),f.addScaledVector(D[7],2*.429043*x*L),f.addScaledVector(D[8],.429043*(x*x-_*_)),f},u.add=function(c){for(var f=0;f<9;f++)this.coefficients[f].add(c.coefficients[f]);return this},u.addScaledSH=function(c,f){for(var x=0;x<9;x++)this.coefficients[x].addScaledVector(c.coefficients[x],f);return this},u.scale=function(c){for(var f=0;f<9;f++)this.coefficients[f].multiplyScalar(c);return this},u.lerp=function(c,f){for(var x=0;x<9;x++)this.coefficients[x].lerp(c.coefficients[x],f);return this},u.equals=function(c){for(var f=0;f<9;f++)if(!this.coefficients[f].equals(c.coefficients[f]))return!1;return!0},u.copy=function(c){return this.set(c.coefficients)},u.clone=function(){return new this.constructor().copy(this)},u.fromArray=function(c,f){f===void 0&&(f=0);for(var x=this.coefficients,_=0;_<9;_++)x[_].fromArray(c,f+_*3);return this},u.toArray=function(c,f){c===void 0&&(c=[]),f===void 0&&(f=0);for(var x=this.coefficients,_=0;_<9;_++)x[_].toArray(c,f+_*3);return c},m.getBasisAt=function(c,f){var x=c.x,_=c.y,L=c.z;f[0]=.282095,f[1]=.488603*_,f[2]=.488603*L,f[3]=.488603*x,f[4]=1.092548*x*_,f[5]=1.092548*_*L,f[6]=.315392*(3*L*L-1),f[7]=1.092548*x*L,f[8]=.546274*(x*x-_*_)},m}();function gu(m,u){Ji.call(this,void 0,u),this.type="LightProbe",this.sh=m!==void 0?m:new O3}gu.prototype=Object.assign(Object.create(Ji.prototype),{constructor:gu,isLightProbe:!0,copy:function(u){return Ji.prototype.copy.call(this,u),this.sh.copy(u.sh),this},fromJSON:function(u){return this.intensity=u.intensity,this.sh.fromArray(u.sh),this},toJSON:function(u){var d=Ji.prototype.toJSON.call(this,u);return d.object.sh=this.sh.toArray(),d}});function fg(m){Ri.call(this,m),this.textures={}}fg.prototype=Object.assign(Object.create(Ri.prototype),{constructor:fg,load:function(u,d,c,f){var x=this,_=new mu(x.manager);_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(u,function(L){try{d(x.parse(JSON.parse(L)))}catch(D){f?f(D):console.error(D),x.manager.itemError(u)}},c,f)},parse:function(u){var d=this.textures;function c(N){return d[N]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",N),d[N]}var f=new Vb[u.type];if(u.uuid!==void 0&&(f.uuid=u.uuid),u.name!==void 0&&(f.name=u.name),u.color!==void 0&&f.color!==void 0&&f.color.setHex(u.color),u.roughness!==void 0&&(f.roughness=u.roughness),u.metalness!==void 0&&(f.metalness=u.metalness),u.sheen!==void 0&&(f.sheen=new En().setHex(u.sheen)),u.emissive!==void 0&&f.emissive!==void 0&&f.emissive.setHex(u.emissive),u.specular!==void 0&&f.specular!==void 0&&f.specular.setHex(u.specular),u.shininess!==void 0&&(f.shininess=u.shininess),u.clearcoat!==void 0&&(f.clearcoat=u.clearcoat),u.clearcoatRoughness!==void 0&&(f.clearcoatRoughness=u.clearcoatRoughness),u.fog!==void 0&&(f.fog=u.fog),u.flatShading!==void 0&&(f.flatShading=u.flatShading),u.blending!==void 0&&(f.blending=u.blending),u.combine!==void 0&&(f.combine=u.combine),u.side!==void 0&&(f.side=u.side),u.opacity!==void 0&&(f.opacity=u.opacity),u.transparent!==void 0&&(f.transparent=u.transparent),u.alphaTest!==void 0&&(f.alphaTest=u.alphaTest),u.depthTest!==void 0&&(f.depthTest=u.depthTest),u.depthWrite!==void 0&&(f.depthWrite=u.depthWrite),u.colorWrite!==void 0&&(f.colorWrite=u.colorWrite),u.stencilWrite!==void 0&&(f.stencilWrite=u.stencilWrite),u.stencilWriteMask!==void 0&&(f.stencilWriteMask=u.stencilWriteMask),u.stencilFunc!==void 0&&(f.stencilFunc=u.stencilFunc),u.stencilRef!==void 0&&(f.stencilRef=u.stencilRef),u.stencilFuncMask!==void 0&&(f.stencilFuncMask=u.stencilFuncMask),u.stencilFail!==void 0&&(f.stencilFail=u.stencilFail),u.stencilZFail!==void 0&&(f.stencilZFail=u.stencilZFail),u.stencilZPass!==void 0&&(f.stencilZPass=u.stencilZPass),u.wireframe!==void 0&&(f.wireframe=u.wireframe),u.wireframeLinewidth!==void 0&&(f.wireframeLinewidth=u.wireframeLinewidth),u.wireframeLinecap!==void 0&&(f.wireframeLinecap=u.wireframeLinecap),u.wireframeLinejoin!==void 0&&(f.wireframeLinejoin=u.wireframeLinejoin),u.rotation!==void 0&&(f.rotation=u.rotation),u.linewidth!==1&&(f.linewidth=u.linewidth),u.dashSize!==void 0&&(f.dashSize=u.dashSize),u.gapSize!==void 0&&(f.gapSize=u.gapSize),u.scale!==void 0&&(f.scale=u.scale),u.polygonOffset!==void 0&&(f.polygonOffset=u.polygonOffset),u.polygonOffsetFactor!==void 0&&(f.polygonOffsetFactor=u.polygonOffsetFactor),u.polygonOffsetUnits!==void 0&&(f.polygonOffsetUnits=u.polygonOffsetUnits),u.skinning!==void 0&&(f.skinning=u.skinning),u.morphTargets!==void 0&&(f.morphTargets=u.morphTargets),u.morphNormals!==void 0&&(f.morphNormals=u.morphNormals),u.dithering!==void 0&&(f.dithering=u.dithering),u.vertexTangents!==void 0&&(f.vertexTangents=u.vertexTangents),u.visible!==void 0&&(f.visible=u.visible),u.toneMapped!==void 0&&(f.toneMapped=u.toneMapped),u.userData!==void 0&&(f.userData=u.userData),u.vertexColors!==void 0&&(typeof u.vertexColors=="number"?f.vertexColors=u.vertexColors>0:f.vertexColors=u.vertexColors),u.uniforms!==void 0)for(var x in u.uniforms){var _=u.uniforms[x];f.uniforms[x]={};switch(_.type){case"t":f.uniforms[x].value=c(_.value);break;case"c":f.uniforms[x].value=new En().setHex(_.value);break;case"v2":f.uniforms[x].value=new kt().fromArray(_.value);break;case"v3":f.uniforms[x].value=new Pe().fromArray(_.value);break;case"v4":f.uniforms[x].value=new Ur().fromArray(_.value);break;case"m3":f.uniforms[x].value=new as().fromArray(_.value);break;case"m4":f.uniforms[x].value=new Pr().fromArray(_.value);break;default:f.uniforms[x].value=_.value}}if(u.defines!==void 0&&(f.defines=u.defines),u.vertexShader!==void 0&&(f.vertexShader=u.vertexShader),u.fragmentShader!==void 0&&(f.fragmentShader=u.fragmentShader),u.extensions!==void 0)for(var L in u.extensions)f.extensions[L]=u.extensions[L];if(u.shading!==void 0&&(f.flatShading=u.shading===1),u.size!==void 0&&(f.size=u.size),u.sizeAttenuation!==void 0&&(f.sizeAttenuation=u.sizeAttenuation),u.map!==void 0&&(f.map=c(u.map)),u.matcap!==void 0&&(f.matcap=c(u.matcap)),u.alphaMap!==void 0&&(f.alphaMap=c(u.alphaMap)),u.bumpMap!==void 0&&(f.bumpMap=c(u.bumpMap)),u.bumpScale!==void 0&&(f.bumpScale=u.bumpScale),u.normalMap!==void 0&&(f.normalMap=c(u.normalMap)),u.normalMapType!==void 0&&(f.normalMapType=u.normalMapType),u.normalScale!==void 0){var D=u.normalScale;Array.isArray(D)===!1&&(D=[D,D]),f.normalScale=new kt().fromArray(D)}return u.displacementMap!==void 0&&(f.displacementMap=c(u.displacementMap)),u.displacementScale!==void 0&&(f.displacementScale=u.displacementScale),u.displacementBias!==void 0&&(f.displacementBias=u.displacementBias),u.roughnessMap!==void 0&&(f.roughnessMap=c(u.roughnessMap)),u.metalnessMap!==void 0&&(f.metalnessMap=c(u.metalnessMap)),u.emissiveMap!==void 0&&(f.emissiveMap=c(u.emissiveMap)),u.emissiveIntensity!==void 0&&(f.emissiveIntensity=u.emissiveIntensity),u.specularMap!==void 0&&(f.specularMap=c(u.specularMap)),u.envMap!==void 0&&(f.envMap=c(u.envMap)),u.envMapIntensity!==void 0&&(f.envMapIntensity=u.envMapIntensity),u.reflectivity!==void 0&&(f.reflectivity=u.reflectivity),u.refractionRatio!==void 0&&(f.refractionRatio=u.refractionRatio),u.lightMap!==void 0&&(f.lightMap=c(u.lightMap)),u.lightMapIntensity!==void 0&&(f.lightMapIntensity=u.lightMapIntensity),u.aoMap!==void 0&&(f.aoMap=c(u.aoMap)),u.aoMapIntensity!==void 0&&(f.aoMapIntensity=u.aoMapIntensity),u.gradientMap!==void 0&&(f.gradientMap=c(u.gradientMap)),u.clearcoatMap!==void 0&&(f.clearcoatMap=c(u.clearcoatMap)),u.clearcoatRoughnessMap!==void 0&&(f.clearcoatRoughnessMap=c(u.clearcoatRoughnessMap)),u.clearcoatNormalMap!==void 0&&(f.clearcoatNormalMap=c(u.clearcoatNormalMap)),u.clearcoatNormalScale!==void 0&&(f.clearcoatNormalScale=new kt().fromArray(u.clearcoatNormalScale)),u.transmission!==void 0&&(f.transmission=u.transmission),u.transmissionMap!==void 0&&(f.transmissionMap=c(u.transmissionMap)),f},setTextures:function(u){return this.textures=u,this}});var U3={decodeText:function(u){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(u);for(var d="",c=0,f=u.length;c<f;c++)d+=String.fromCharCode(u[c]);try{return decodeURIComponent(escape(d))}catch(x){return d}},extractUrlBase:function(u){var d=u.lastIndexOf("/");return d===-1?"./":u.substr(0,d+1)}};function H1(){Pn.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}H1.prototype=Object.assign(Object.create(Pn.prototype),{constructor:H1,isInstancedBufferGeometry:!0,copy:function(u){return Pn.prototype.copy.call(this,u),this.instanceCount=u.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var u=Pn.prototype.toJSON.call(this);return u.instanceCount=this.instanceCount,u.isInstancedBufferGeometry=!0,u}});function hg(m,u,d,c){typeof d=="number"&&(c=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Bn.call(this,m,u,d),this.meshPerAttribute=c||1}hg.prototype=Object.assign(Object.create(Bn.prototype),{constructor:hg,isInstancedBufferAttribute:!0,copy:function(u){return Bn.prototype.copy.call(this,u),this.meshPerAttribute=u.meshPerAttribute,this},toJSON:function(){var u=Bn.prototype.toJSON.call(this);return u.meshPerAttribute=this.meshPerAttribute,u.isInstancedBufferAttribute=!0,u}});function dg(m){Ri.call(this,m)}dg.prototype=Object.assign(Object.create(Ri.prototype),{constructor:dg,load:function(u,d,c,f){var x=this,_=new mu(x.manager);_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(u,function(L){try{d(x.parse(JSON.parse(L)))}catch(D){f?f(D):console.error(D),x.manager.itemError(u)}},c,f)},parse:function(u){var d={},c={};function f(vt,Vt){if(d[Vt]!==void 0)return d[Vt];var Gt=vt.interleavedBuffers,Yt=Gt[Vt],Dt=x(vt,Yt.buffer),Zt=E0(Yt.type,Dt),un=new kl(Zt,Yt.stride);return un.uuid=Yt.uuid,d[Vt]=un,un}function x(vt,Vt){if(c[Vt]!==void 0)return c[Vt];var Gt=vt.arrayBuffers,Yt=Gt[Vt],Dt=new Uint32Array(Yt).buffer;return c[Vt]=Dt,Dt}var _=u.isInstancedBufferGeometry?new H1:new Pn,L=u.data.index;if(L!==void 0){var D=E0(L.type,L.array);_.setIndex(new Bn(D,1))}var N=u.data.attributes;for(var Y in N){var z=N[Y],X=void 0;if(z.isInterleavedBufferAttribute){var j=f(u.data,z.data);X=new B0(j,z.itemSize,z.offset,z.normalized)}else{var q=E0(z.type,z.array),te=z.isInstancedBufferAttribute?hg:Bn;X=new te(q,z.itemSize,z.normalized)}z.name!==void 0&&(X.name=z.name),_.setAttribute(Y,X)}var ae=u.data.morphAttributes;if(ae)for(var ne in ae){for(var Q=ae[ne],xe=[],Te=0,de=Q.length;Te<de;Te++){var le=Q[Te],Ae=void 0;if(le.isInterleavedBufferAttribute){var je=f(u.data,le.data);Ae=new B0(je,le.itemSize,le.offset,le.normalized)}else{var He=E0(le.type,le.array);Ae=new Bn(He,le.itemSize,le.normalized)}le.name!==void 0&&(Ae.name=le.name),xe.push(Ae)}_.morphAttributes[ne]=xe}var ut=u.data.morphTargetsRelative;ut&&(_.morphTargetsRelative=!0);var qe=u.data.groups||u.data.drawcalls||u.data.offsets;if(qe!==void 0)for(var Be=0,rt=qe.length;Be!==rt;++Be){var st=qe[Be];_.addGroup(st.start,st.count,st.materialIndex)}var Je=u.data.boundingSphere;if(Je!==void 0){var ft=new Pe;Je.center!==void 0&&ft.fromArray(Je.center),_.boundingSphere=new ds(ft,Je.radius)}return u.name&&(_.name=u.name),u.userData&&(_.userData=u.userData),_}});var $b=function(m){Sn(u,m);function u(c){return m.call(this,c)||this}var d=u.prototype;return d.load=function(f,x,_,L){var D=this,N=this.path===""?U3.extractUrlBase(f):this.path;this.resourcePath=this.resourcePath||N;var Y=new mu(this.manager);Y.setPath(this.path),Y.setRequestHeader(this.requestHeader),Y.setWithCredentials(this.withCredentials),Y.load(f,function(z){var X=null;try{X=JSON.parse(z)}catch(q){L!==void 0&&L(q),console.error("THREE:ObjectLoader: Can't parse "+f+".",q.message);return}var j=X.metadata;if(j===void 0||j.type===void 0||j.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+f);return}D.parse(X,x)},_,L)},d.parse=function(f,x){var _=this.parseAnimations(f.animations),L=this.parseShapes(f.shapes),D=this.parseGeometries(f.geometries,L),N=this.parseImages(f.images,function(){x!==void 0&&x(X)}),Y=this.parseTextures(f.textures,N),z=this.parseMaterials(f.materials,Y),X=this.parseObject(f.object,D,z,_),j=this.parseSkeletons(f.skeletons,X);if(this.bindSkeletons(X,j),x!==void 0){var q=!1;for(var te in N)if(N[te]instanceof HTMLImageElement){q=!0;break}q===!1&&x(X)}return X},d.parseShapes=function(f){var x={};if(f!==void 0)for(var _=0,L=f.length;_<L;_++){var D=new X0().fromJSON(f[_]);x[D.uuid]=D}return x},d.parseSkeletons=function(f,x){var _={},L={};if(x.traverse(function(z){z.isBone&&(L[z.uuid]=z)}),f!==void 0)for(var D=0,N=f.length;D<N;D++){var Y=new E1().fromJSON(f[D],L);_[Y.uuid]=Y}return _},d.parseGeometries=function(f,x){var _={},L;if(f!==void 0)for(var D=new dg,N=0,Y=f.length;N<Y;N++){var z=void 0,X=f[N];switch(X.type){case"PlaneGeometry":case"PlaneBufferGeometry":z=new Zs[X.type](X.width,X.height,X.widthSegments,X.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":z=new Zs[X.type](X.width,X.height,X.depth,X.widthSegments,X.heightSegments,X.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":z=new Zs[X.type](X.radius,X.segments,X.thetaStart,X.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":z=new Zs[X.type](X.radiusTop,X.radiusBottom,X.height,X.radialSegments,X.heightSegments,X.openEnded,X.thetaStart,X.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":z=new Zs[X.type](X.radius,X.height,X.radialSegments,X.heightSegments,X.openEnded,X.thetaStart,X.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":z=new Zs[X.type](X.radius,X.widthSegments,X.heightSegments,X.phiStart,X.phiLength,X.thetaStart,X.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":z=new Zs[X.type](X.radius,X.detail);break;case"RingGeometry":case"RingBufferGeometry":z=new Zs[X.type](X.innerRadius,X.outerRadius,X.thetaSegments,X.phiSegments,X.thetaStart,X.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":z=new Zs[X.type](X.radius,X.tube,X.radialSegments,X.tubularSegments,X.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":z=new Zs[X.type](X.radius,X.tube,X.tubularSegments,X.radialSegments,X.p,X.q);break;case"TubeGeometry":case"TubeBufferGeometry":z=new Zs[X.type](new B3[X.path.type]().fromJSON(X.path),X.tubularSegments,X.radius,X.radialSegments,X.closed);break;case"LatheGeometry":case"LatheBufferGeometry":z=new Zs[X.type](X.points,X.segments,X.phiStart,X.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":z=new Zs[X.type](X.vertices,X.indices,X.radius,X.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":L=[];for(var j=0,q=X.shapes.length;j<q;j++){var te=x[X.shapes[j]];L.push(te)}z=new Zs[X.type](L,X.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":L=[];for(var ae=0,ne=X.shapes.length;ae<ne;ae++){var Q=x[X.shapes[ae]];L.push(Q)}var xe=X.options.extrudePath;xe!==void 0&&(X.options.extrudePath=new B3[xe.type]().fromJSON(xe)),z=new Zs[X.type](L,X.options);break;case"BufferGeometry":case"InstancedBufferGeometry":z=D.parse(X);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+X.type+'"');continue}z.uuid=X.uuid,X.name!==void 0&&(z.name=X.name),z.isBufferGeometry===!0&&X.userData!==void 0&&(z.userData=X.userData),_[X.uuid]=z}return _},d.parseMaterials=function(f,x){var _={},L={};if(f!==void 0){var D=new fg;D.setTextures(x);for(var N=0,Y=f.length;N<Y;N++){var z=f[N];if(z.type==="MultiMaterial"){for(var X=[],j=0;j<z.materials.length;j++){var q=z.materials[j];_[q.uuid]===void 0&&(_[q.uuid]=D.parse(q)),X.push(_[q.uuid])}L[z.uuid]=X}else _[z.uuid]===void 0&&(_[z.uuid]=D.parse(z)),L[z.uuid]=_[z.uuid]}}return L},d.parseAnimations=function(f){var x={};if(f!==void 0)for(var _=0;_<f.length;_++){var L=f[_],D=nl.parse(L);x[D.uuid]=D}return x},d.parseImages=function(f,x){var _=this,L={},D;function N(de){return _.manager.itemStart(de),D.load(de,function(){_.manager.itemEnd(de)},void 0,function(){_.manager.itemError(de),_.manager.itemEnd(de)})}function Y(de){if(typeof de=="string"){var le=de,Ae=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(le)?le:_.resourcePath+le;return N(Ae)}else return de.data?{data:E0(de.type,de.data),width:de.width,height:de.height}:null}if(f!==void 0&&f.length>0){var z=new b3(x);D=new Mp(z),D.setCrossOrigin(this.crossOrigin);for(var X=0,j=f.length;X<j;X++){var q=f[X],te=q.url;if(Array.isArray(te)){L[q.uuid]=[];for(var ae=0,ne=te.length;ae<ne;ae++){var Q=te[ae],xe=Y(Q);xe!==null&&(xe instanceof HTMLImageElement?L[q.uuid].push(xe):L[q.uuid].push(new Bl(xe.data,xe.width,xe.height)))}}else{var Te=Y(q.url);Te!==null&&(L[q.uuid]=Te)}}}return L},d.parseTextures=function(f,x){function _(j,q){return typeof j=="number"?j:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",j),q[j])}var L={};if(f!==void 0)for(var D=0,N=f.length;D<N;D++){var Y=f[D];Y.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',Y.uuid),x[Y.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",Y.image);var z=void 0,X=x[Y.image];Array.isArray(X)?(z=new Qs(X),X.length===6&&(z.needsUpdate=!0)):(X&&X.data?z=new Bl(X.data,X.width,X.height):z=new jn(X),X&&(z.needsUpdate=!0)),z.uuid=Y.uuid,Y.name!==void 0&&(z.name=Y.name),Y.mapping!==void 0&&(z.mapping=_(Y.mapping,eC)),Y.offset!==void 0&&z.offset.fromArray(Y.offset),Y.repeat!==void 0&&z.repeat.fromArray(Y.repeat),Y.center!==void 0&&z.center.fromArray(Y.center),Y.rotation!==void 0&&(z.rotation=Y.rotation),Y.wrap!==void 0&&(z.wrapS=_(Y.wrap[0],S_),z.wrapT=_(Y.wrap[1],S_)),Y.format!==void 0&&(z.format=Y.format),Y.type!==void 0&&(z.type=Y.type),Y.encoding!==void 0&&(z.encoding=Y.encoding),Y.minFilter!==void 0&&(z.minFilter=_(Y.minFilter,pg)),Y.magFilter!==void 0&&(z.magFilter=_(Y.magFilter,pg)),Y.anisotropy!==void 0&&(z.anisotropy=Y.anisotropy),Y.flipY!==void 0&&(z.flipY=Y.flipY),Y.premultiplyAlpha!==void 0&&(z.premultiplyAlpha=Y.premultiplyAlpha),Y.unpackAlignment!==void 0&&(z.unpackAlignment=Y.unpackAlignment),L[Y.uuid]=z}return L},d.parseObject=function(f,x,_,L){var D;function N(je){return x[je]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",je),x[je]}function Y(je){if(je===void 0)return;if(Array.isArray(je)){for(var He=[],ut=0,qe=je.length;ut<qe;ut++){var Be=je[ut];_[Be]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Be),He.push(_[Be])}return He}return _[je]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",je),_[je]}var z,X;switch(f.type){case"Scene":D=new $x,f.background!==void 0&&(Number.isInteger(f.background)&&(D.background=new En(f.background))),f.fog!==void 0&&(f.fog.type==="Fog"?D.fog=new JA(f.fog.color,f.fog.near,f.fog.far):f.fog.type==="FogExp2"&&(D.fog=new Kx(f.fog.color,f.fog.density)));break;case"PerspectiveCamera":D=new ro(f.fov,f.aspect,f.near,f.far),f.focus!==void 0&&(D.focus=f.focus),f.zoom!==void 0&&(D.zoom=f.zoom),f.filmGauge!==void 0&&(D.filmGauge=f.filmGauge),f.filmOffset!==void 0&&(D.filmOffset=f.filmOffset),f.view!==void 0&&(D.view=Object.assign({},f.view));break;case"OrthographicCamera":D=new Tp(f.left,f.right,f.top,f.bottom,f.near,f.far),f.zoom!==void 0&&(D.zoom=f.zoom),f.view!==void 0&&(D.view=Object.assign({},f.view));break;case"AmbientLight":D=new ug(f.color,f.intensity);break;case"DirectionalLight":D=new lg(f.color,f.intensity);break;case"PointLight":D=new X1(f.color,f.intensity,f.distance,f.decay);break;case"RectAreaLight":D=new cg(f.color,f.intensity,f.width,f.height);break;case"SpotLight":D=new ag(f.color,f.intensity,f.distance,f.angle,f.penumbra,f.decay);break;case"HemisphereLight":D=new sg(f.color,f.groundColor,f.intensity);break;case"LightProbe":D=new gu().fromJSON(f);break;case"SkinnedMesh":z=N(f.geometry),X=Y(f.material),D=new g1(z,X),f.bindMode!==void 0&&(D.bindMode=f.bindMode),f.bindMatrix!==void 0&&D.bindMatrix.fromArray(f.bindMatrix),f.skeleton!==void 0&&(D.skeleton=f.skeleton);break;case"Mesh":z=N(f.geometry),X=Y(f.material),D=new Tr(z,X);break;case"InstancedMesh":z=N(f.geometry),X=Y(f.material);var j=f.count,q=f.instanceMatrix;D=new O2(z,X,j),D.instanceMatrix=new Bn(new Float32Array(q.array),16);break;case"LOD":D=new v1;break;case"Line":D=new pu(N(f.geometry),Y(f.material),f.mode);break;case"LineLoop":D=new G2(N(f.geometry),Y(f.material));break;case"LineSegments":D=new wa(N(f.geometry),Y(f.material));break;case"PointCloud":case"Points":D=new dp(N(f.geometry),Y(f.material));break;case"Sprite":D=new m1(Y(f.material));break;case"Group":D=new D0;break;case"Bone":D=new y1;break;default:D=new Tn}if(D.uuid=f.uuid,f.name!==void 0&&(D.name=f.name),f.matrix!==void 0?(D.matrix.fromArray(f.matrix),f.matrixAutoUpdate!==void 0&&(D.matrixAutoUpdate=f.matrixAutoUpdate),D.matrixAutoUpdate&&D.matrix.decompose(D.position,D.quaternion,D.scale)):(f.position!==void 0&&D.position.fromArray(f.position),f.rotation!==void 0&&D.rotation.fromArray(f.rotation),f.quaternion!==void 0&&D.quaternion.fromArray(f.quaternion),f.scale!==void 0&&D.scale.fromArray(f.scale)),f.castShadow!==void 0&&(D.castShadow=f.castShadow),f.receiveShadow!==void 0&&(D.receiveShadow=f.receiveShadow),f.shadow&&(f.shadow.bias!==void 0&&(D.shadow.bias=f.shadow.bias),f.shadow.normalBias!==void 0&&(D.shadow.normalBias=f.shadow.normalBias),f.shadow.radius!==void 0&&(D.shadow.radius=f.shadow.radius),f.shadow.mapSize!==void 0&&D.shadow.mapSize.fromArray(f.shadow.mapSize),f.shadow.camera!==void 0&&(D.shadow.camera=this.parseObject(f.shadow.camera))),f.visible!==void 0&&(D.visible=f.visible),f.frustumCulled!==void 0&&(D.frustumCulled=f.frustumCulled),f.renderOrder!==void 0&&(D.renderOrder=f.renderOrder),f.userData!==void 0&&(D.userData=f.userData),f.layers!==void 0&&(D.layers.mask=f.layers),f.children!==void 0)for(var te=f.children,ae=0;ae<te.length;ae++)D.add(this.parseObject(te[ae],x,_,L));if(f.animations!==void 0)for(var ne=f.animations,Q=0;Q<ne.length;Q++){var xe=ne[Q];D.animations.push(L[xe])}if(f.type==="LOD"){f.autoUpdate!==void 0&&(D.autoUpdate=f.autoUpdate);for(var Te=f.levels,de=0;de<Te.length;de++){var le=Te[de],Ae=D.getObjectByProperty("uuid",le.object);Ae!==void 0&&D.addLevel(Ae,le.distance)}}return D},d.bindSkeletons=function(f,x){if(Object.keys(x).length===0)return;f.traverse(function(_){if(_.isSkinnedMesh===!0&&_.skeleton!==void 0){var L=x[_.skeleton];L===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",_.skeleton):_.bind(L,_.bindMatrix)}})},d.setTexturePath=function(f){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(f)},u}(Ri),eC={UVMapping:pt,CubeReflectionMapping:ze,CubeRefractionMapping:At,EquirectangularReflectionMapping:gt,EquirectangularRefractionMapping:Ft,CubeUVReflectionMapping:Et,CubeUVRefractionMapping:Pt},S_={RepeatWrapping:qt,ClampToEdgeWrapping:Xe,MirroredRepeatWrapping:Ct},pg={NearestFilter:zt,NearestMipmapNearestFilter:sn,NearestMipmapLinearFilter:zn,LinearFilter:fr,LinearMipmapNearestFilter:Zr,LinearMipmapLinearFilter:Xr};function k3(m){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ri.call(this,m),this.options={premultiplyAlpha:"none"}}k3.prototype=Object.assign(Object.create(Ri.prototype),{constructor:k3,isImageBitmapLoader:!0,setOptions:function(u){return this.options=u,this},load:function(u,d,c,f){u===void 0&&(u=""),this.path!==void 0&&(u=this.path+u),u=this.manager.resolveURL(u);var x=this,_=Wh.get(u);if(_!==void 0)return x.manager.itemStart(u),setTimeout(function(){d&&d(_),x.manager.itemEnd(u)},0),_;var L={};L.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(u,L).then(function(D){return D.blob()}).then(function(D){return createImageBitmap(D,x.options)}).then(function(D){Wh.add(u,D),d&&d(D),x.manager.itemEnd(u)}).catch(function(D){f&&f(D),x.manager.itemError(u),x.manager.itemEnd(u)}),x.manager.itemStart(u)}});function G3(){this.type="ShapePath",this.color=new En,this.subPaths=[],this.currentPath=null}Object.assign(G3.prototype,{moveTo:function(u,d){return this.currentPath=new oc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(u,d),this},lineTo:function(u,d){return this.currentPath.lineTo(u,d),this},quadraticCurveTo:function(u,d,c,f){return this.currentPath.quadraticCurveTo(u,d,c,f),this},bezierCurveTo:function(u,d,c,f,x,_){return this.currentPath.bezierCurveTo(u,d,c,f,x,_),this},splineThru:function(u){return this.currentPath.splineThru(u),this},toShapes:function(u,d){function c(Gt){for(var Yt=[],Dt=0,Zt=Gt.length;Dt<Zt;Dt++){var un=Gt[Dt],Yn=new X0;Yn.curves=un.curves,Yt.push(Yn)}return Yt}function f(Gt,Yt){for(var Dt=Yt.length,Zt=!1,un=Dt-1,Yn=0;Yn<Dt;un=Yn++){var Ot=Yt[un],Er=Yt[Yn],er=Er.x-Ot.x,dr=Er.y-Ot.y;if(Math.abs(dr)>Number.EPSILON){if(dr<0&&(Ot=Yt[Yn],er=-er,Er=Yt[un],dr=-dr),Gt.y<Ot.y||Gt.y>Er.y)continue;if(Gt.y===Ot.y){if(Gt.x===Ot.x)return!0}else{var gn=dr*(Gt.x-Ot.x)-er*(Gt.y-Ot.y);if(gn===0)return!0;if(gn<0)continue;Zt=!Zt}}else{if(Gt.y!==Ot.y)continue;if(Er.x<=Gt.x&&Gt.x<=Ot.x||Ot.x<=Gt.x&&Gt.x<=Er.x)return!0}}return Zt}var x=ec.isClockWise,_=this.subPaths;if(_.length===0)return[];if(d===!0)return c(_);var L,D,N,Y=[];if(_.length===1)return D=_[0],N=new X0,N.curves=D.curves,Y.push(N),Y;var z=!x(_[0].getPoints());z=u?!z:z;var X=[],j=[],q=[],te=0,ae;j[te]=void 0,q[te]=[];for(var ne=0,Q=_.length;ne<Q;ne++)D=_[ne],ae=D.getPoints(),L=x(ae),L=u?!L:L,L?(!z&&j[te]&&te++,j[te]={s:new X0,p:ae},j[te].s.curves=D.curves,z&&te++,q[te]=[]):q[te].push({h:D,p:ae[0]});if(!j[0])return c(_);if(j.length>1){for(var xe=!1,Te=[],de=0,le=j.length;de<le;de++)X[de]=[];for(var Ae=0,je=j.length;Ae<je;Ae++)for(var He=q[Ae],ut=0;ut<He.length;ut++){for(var qe=He[ut],Be=!0,rt=0;rt<j.length;rt++)f(qe.p,j[rt].p)&&(Ae!==rt&&Te.push({froms:Ae,tos:rt,hole:ut}),Be?(Be=!1,X[rt].push(qe)):xe=!0);Be&&X[Ae].push(qe)}Te.length>0&&(xe||(q=X))}for(var st,Je=0,ft=j.length;Je<ft;Je++){N=j[Je].s,Y.push(N),st=q[Je];for(var vt=0,Vt=st.length;vt<Vt;vt++)N.holes.push(st[vt].h)}return Y}});function mg(m){this.type="Font",this.data=m}Object.assign(mg.prototype,{isFont:!0,generateShapes:function(u,d){d===void 0&&(d=100);for(var c=[],f=tC(u,d,this.data),x=0,_=f.length;x<_;x++)Array.prototype.push.apply(c,f[x].toShapes());return c}});function tC(m,u,d){for(var c=Array.from?Array.from(m):String(m).split(""),f=u/d.resolution,x=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*f,_=[],L=0,D=0,N=0;N<c.length;N++){var Y=c[N];if(Y===`
`)L=0,D-=x;else{var z=nC(Y,f,L,D,d);L+=z.offsetX,_.push(z.path)}}return _}function nC(m,u,d,c,f){var x=f.glyphs[m]||f.glyphs["?"];if(!x){console.error('THREE.Font: character "'+m+'" does not exists in font family '+f.familyName+".");return}var _=new G3,L,D,N,Y,z,X,j,q;if(x.o)for(var te=x._cachedOutline||(x._cachedOutline=x.o.split(" ")),ae=0,ne=te.length;ae<ne;){var Q=te[ae++];switch(Q){case"m":L=te[ae++]*u+d,D=te[ae++]*u+c,_.moveTo(L,D);break;case"l":L=te[ae++]*u+d,D=te[ae++]*u+c,_.lineTo(L,D);break;case"q":N=te[ae++]*u+d,Y=te[ae++]*u+c,z=te[ae++]*u+d,X=te[ae++]*u+c,_.quadraticCurveTo(z,X,N,Y);break;case"b":N=te[ae++]*u+d,Y=te[ae++]*u+c,z=te[ae++]*u+d,X=te[ae++]*u+c,j=te[ae++]*u+d,q=te[ae++]*u+c,_.bezierCurveTo(z,X,j,q,N,Y);break}}return{offsetX:x.ha*u,path:_}}function X3(m){Ri.call(this,m)}X3.prototype=Object.assign(Object.create(Ri.prototype),{constructor:X3,load:function(u,d,c,f){var x=this,_=new mu(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(x.withCredentials),_.load(u,function(L){var D;try{D=JSON.parse(L)}catch(Y){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),D=JSON.parse(L.substring(65,L.length-2))}var N=x.parse(D);d&&d(N)},c,f)},parse:function(u){return new mg(u)}});var vg,H3={getContext:function(){return vg===void 0&&(vg=new(window.AudioContext||window.webkitAudioContext)),vg},setContext:function(u){vg=u}};function z1(m){Ri.call(this,m)}z1.prototype=Object.assign(Object.create(Ri.prototype),{constructor:z1,load:function(u,d,c,f){var x=this,_=new mu(x.manager);_.setResponseType("arraybuffer"),_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(u,function(L){try{var D=L.slice(0),N=H3.getContext();N.decodeAudioData(D,function(Y){d(Y)})}catch(Y){f?f(Y):console.error(Y),x.manager.itemError(u)}},c,f)}});function z3(m,u,d){gu.call(this,void 0,d);var c=new En().set(m),f=new En().set(u),x=new Pe(c.r,c.g,c.b),_=new Pe(f.r,f.g,f.b),L=Math.sqrt(Math.PI),D=L*Math.sqrt(.75);this.sh.coefficients[0].copy(x).add(_).multiplyScalar(L),this.sh.coefficients[1].copy(x).sub(_).multiplyScalar(D)}z3.prototype=Object.assign(Object.create(gu.prototype),{constructor:z3,isHemisphereLightProbe:!0,copy:function(u){return gu.prototype.copy.call(this,u),this},toJSON:function(u){var d=gu.prototype.toJSON.call(this,u);return d}});function Y3(m,u){gu.call(this,void 0,u);var d=new En().set(m);this.sh.coefficients[0].set(d.r,d.g,d.b).multiplyScalar(2*Math.sqrt(Math.PI))}Y3.prototype=Object.assign(Object.create(gu.prototype),{constructor:Y3,isAmbientLightProbe:!0,copy:function(u){return gu.prototype.copy.call(this,u),this},toJSON:function(u){var d=gu.prototype.toJSON.call(this,u);return d}});var T_=new Pr,b_=new Pr;function C_(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ro,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ro,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(C_.prototype,{update:function(u){var d=this._cache,c=d.focus!==u.focus||d.fov!==u.fov||d.aspect!==u.aspect*this.aspect||d.near!==u.near||d.far!==u.far||d.zoom!==u.zoom||d.eyeSep!==this.eyeSep;if(c){d.focus=u.focus,d.fov=u.fov,d.aspect=u.aspect*this.aspect,d.near=u.near,d.far=u.far,d.zoom=u.zoom,d.eyeSep=this.eyeSep;var f=u.projectionMatrix.clone(),x=d.eyeSep/2,_=x*d.near/d.focus,L=d.near*Math.tan($n.DEG2RAD*d.fov*.5)/d.zoom,D,N;b_.elements[12]=-x,T_.elements[12]=x,D=-L*d.aspect+_,N=L*d.aspect+_,f.elements[0]=2*d.near/(N-D),f.elements[8]=(N+D)/(N-D),this.cameraL.projectionMatrix.copy(f),D=-L*d.aspect-_,N=L*d.aspect-_,f.elements[0]=2*d.near/(N-D),f.elements[8]=(N+D)/(N-D),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(b_),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(T_)}});var L_=function(){function m(d){this.autoStart=d!==void 0?d:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var u=m.prototype;return u.start=function(){this.startTime=P_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},u.stop=function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},u.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},u.getDelta=function(){var c=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var f=P_();c=(f-this.oldTime)/1e3,this.oldTime=f,this.elapsedTime+=c}return c},m}();function P_(){return(typeof performance=="undefined"?Date:performance).now()}var jh=new Pe,R_=new ls,rC=new Pe,Qh=new Pe,iC=function(m){Sn(u,m);function u(){var c;return c=m.call(this)||this,c.type="AudioListener",c.context=H3.getContext(),c.gain=c.context.createGain(),c.gain.connect(c.context.destination),c.filter=null,c.timeDelta=0,c._clock=new L_,c}var d=u.prototype;return d.getInput=function(){return this.gain},d.removeFilter=function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},d.getFilter=function(){return this.filter},d.setFilter=function(f){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=f,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},d.getMasterVolume=function(){return this.gain.gain.value},d.setMasterVolume=function(f){return this.gain.gain.setTargetAtTime(f,this.context.currentTime,.01),this},d.updateMatrixWorld=function(f){m.prototype.updateMatrixWorld.call(this,f);var x=this.context.listener,_=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jh,R_,rC),Qh.set(0,0,-1).applyQuaternion(R_),x.positionX){var L=this.context.currentTime+this.timeDelta;x.positionX.linearRampToValueAtTime(jh.x,L),x.positionY.linearRampToValueAtTime(jh.y,L),x.positionZ.linearRampToValueAtTime(jh.z,L),x.forwardX.linearRampToValueAtTime(Qh.x,L),x.forwardY.linearRampToValueAtTime(Qh.y,L),x.forwardZ.linearRampToValueAtTime(Qh.z,L),x.upX.linearRampToValueAtTime(_.x,L),x.upY.linearRampToValueAtTime(_.y,L),x.upZ.linearRampToValueAtTime(_.z,L)}else x.setPosition(jh.x,jh.y,jh.z),x.setOrientation(Qh.x,Qh.y,Qh.z,_.x,_.y,_.z)},u}(Tn),Y1=function(m){Sn(u,m);function u(c){var f;return f=m.call(this)||this,f.type="Audio",f.listener=c,f.context=c.context,f.gain=f.context.createGain(),f.gain.connect(c.getInput()),f.autoplay=!1,f.buffer=null,f.detune=0,f.loop=!1,f.loopStart=0,f.loopEnd=0,f.offset=0,f.duration=void 0,f.playbackRate=1,f.isPlaying=!1,f.hasPlaybackControl=!0,f.source=null,f.sourceType="empty",f._startedAt=0,f._progress=0,f._connected=!1,f.filters=[],f}var d=u.prototype;return d.getOutput=function(){return this.gain},d.setNodeSource=function(f){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=f,this.connect(),this},d.setMediaElementSource=function(f){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(f),this.connect(),this},d.setMediaStreamSource=function(f){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(f),this.connect(),this},d.setBuffer=function(f){return this.buffer=f,this.sourceType="buffer",this.autoplay&&this.play(),this},d.play=function(f){if(f===void 0&&(f=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+f;var x=this.context.createBufferSource();return x.buffer=this.buffer,x.loop=this.loop,x.loopStart=this.loopStart,x.loopEnd=this.loopEnd,x.onended=this.onEnded.bind(this),x.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=x,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},d.pause=function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},d.stop=function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},d.connect=function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var f=1,x=this.filters.length;f<x;f++)this.filters[f-1].connect(this.filters[f]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this},d.disconnect=function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var f=1,x=this.filters.length;f<x;f++)this.filters[f-1].disconnect(this.filters[f]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this},d.getFilters=function(){return this.filters},d.setFilters=function(f){return f||(f=[]),this._connected===!0?(this.disconnect(),this.filters=f.slice(),this.connect()):this.filters=f.slice(),this},d.setDetune=function(f){return this.detune=f,this.source.detune===void 0?void 0:(this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this)},d.getDetune=function(){return this.detune},d.getFilter=function(){return this.getFilters()[0]},d.setFilter=function(f){return this.setFilters(f?[f]:[])},d.setPlaybackRate=function(f){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=f,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},d.getPlaybackRate=function(){return this.playbackRate},d.onEnded=function(){this.isPlaying=!1},d.getLoop=function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},d.setLoop=function(f){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=f,this.isPlaying===!0&&(this.source.loop=this.loop),this},d.setLoopStart=function(f){return this.loopStart=f,this},d.setLoopEnd=function(f){return this.loopEnd=f,this},d.getVolume=function(){return this.gain.gain.value},d.setVolume=function(f){return this.gain.gain.setTargetAtTime(f,this.context.currentTime,.01),this},u}(Tn),qh=new Pe,D_=new ls,F_=new Pe,Jh=new Pe,oC=function(m){Sn(u,m);function u(c){var f;return f=m.call(this,c)||this,f.panner=f.context.createPanner(),f.panner.panningModel="HRTF",f.panner.connect(f.gain),f}var d=u.prototype;return d.getOutput=function(){return this.panner},d.getRefDistance=function(){return this.panner.refDistance},d.setRefDistance=function(f){return this.panner.refDistance=f,this},d.getRolloffFactor=function(){return this.panner.rolloffFactor},d.setRolloffFactor=function(f){return this.panner.rolloffFactor=f,this},d.getDistanceModel=function(){return this.panner.distanceModel},d.setDistanceModel=function(f){return this.panner.distanceModel=f,this},d.getMaxDistance=function(){return this.panner.maxDistance},d.setMaxDistance=function(f){return this.panner.maxDistance=f,this},d.setDirectionalCone=function(f,x,_){return this.panner.coneInnerAngle=f,this.panner.coneOuterAngle=x,this.panner.coneOuterGain=_,this},d.updateMatrixWorld=function(f){if(m.prototype.updateMatrixWorld.call(this,f),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(qh,D_,F_),Jh.set(0,0,1).applyQuaternion(D_);var x=this.panner;if(x.positionX){var _=this.context.currentTime+this.listener.timeDelta;x.positionX.linearRampToValueAtTime(qh.x,_),x.positionY.linearRampToValueAtTime(qh.y,_),x.positionZ.linearRampToValueAtTime(qh.z,_),x.orientationX.linearRampToValueAtTime(Jh.x,_),x.orientationY.linearRampToValueAtTime(Jh.y,_),x.orientationZ.linearRampToValueAtTime(Jh.z,_)}else x.setPosition(qh.x,qh.y,qh.z),x.setOrientation(Jh.x,Jh.y,Jh.z)},u}(Y1),B_=function(){function m(d,c){c===void 0&&(c=2048),this.analyser=d.context.createAnalyser(),this.analyser.fftSize=c,this.data=new Uint8Array(this.analyser.frequencyBinCount),d.getOutput().connect(this.analyser)}var u=m.prototype;return u.getFrequencyData=function(){return this.analyser.getByteFrequencyData(this.data),this.data},u.getAverageFrequency=function(){for(var c=0,f=this.getFrequencyData(),x=0;x<f.length;x++)c+=f[x];return c/f.length},m}();function V3(m,u,d){this.binding=m,this.valueSize=d;var c,f,x;switch(u){case"quaternion":c=this._slerp,f=this._slerpAdditive,x=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(d*6),this._workIndex=5;break;case"string":case"bool":c=this._select,f=this._select,x=this._setAdditiveIdentityOther,this.buffer=new Array(d*5);break;default:c=this._lerp,f=this._lerpAdditive,x=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(d*5)}this._mixBufferRegion=c,this._mixBufferRegionAdditive=f,this._setIdentity=x,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(V3.prototype,{accumulate:function(u,d){var c=this.buffer,f=this.valueSize,x=u*f+f,_=this.cumulativeWeight;if(_===0){for(var L=0;L!==f;++L)c[x+L]=c[L];_=d}else{_+=d;var D=d/_;this._mixBufferRegion(c,x,0,D,f)}this.cumulativeWeight=_},accumulateAdditive:function(u){var d=this.buffer,c=this.valueSize,f=c*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(d,f,0,u,c),this.cumulativeWeightAdditive+=u},apply:function(u){var d=this.valueSize,c=this.buffer,f=u*d+d,x=this.cumulativeWeight,_=this.cumulativeWeightAdditive,L=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,x<1){var D=d*this._origIndex;this._mixBufferRegion(c,f,D,1-x,d)}_>0&&this._mixBufferRegionAdditive(c,f,this._addIndex*d,1,d);for(var N=d,Y=d+d;N!==Y;++N)if(c[N]!==c[N+d]){L.setValue(c,f);break}},saveOriginalState:function(){var u=this.binding,d=this.buffer,c=this.valueSize,f=c*this._origIndex;u.getValue(d,f);for(var x=c,_=f;x!==_;++x)d[x]=d[f+x%c];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var u=this.valueSize*3;this.binding.setValue(this.buffer,u)},_setAdditiveIdentityNumeric:function(){for(var u=this._addIndex*this.valueSize,d=u+this.valueSize,c=u;c<d;c++)this.buffer[c]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var u=this._origIndex*this.valueSize,d=this._addIndex*this.valueSize,c=0;c<this.valueSize;c++)this.buffer[d+c]=this.buffer[u+c]},_select:function(u,d,c,f,x){if(f>=.5)for(var _=0;_!==x;++_)u[d+_]=u[c+_]},_slerp:function(u,d,c,f){ls.slerpFlat(u,d,u,d,u,c,f)},_slerpAdditive:function(u,d,c,f,x){var _=this._workIndex*x;ls.multiplyQuaternionsFlat(u,_,u,d,u,c),ls.slerpFlat(u,d,u,d,u,_,f)},_lerp:function(u,d,c,f,x){for(var _=1-f,L=0;L!==x;++L){var D=d+L;u[D]=u[D]*_+u[c+L]*f}},_lerpAdditive:function(u,d,c,f,x){for(var _=0;_!==x;++_){var L=d+_;u[L]=u[L]+u[c+_]*f}}});var W3="\\[\\]\\.:\\/",N_=new RegExp("["+W3+"]","g"),j3="[^"+W3+"]",sC="[^"+W3.replace("\\.","")+"]",aC=/((?:WC+[\/:])*)/.source.replace("WC",j3),lC=/(WCOD+)?/.source.replace("WCOD",sC),uC=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",j3),cC=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",j3),fC=new RegExp("^"+aC+lC+uC+cC+"$"),hC=["material","materials","bones"];function gg(m,u,d){var c=d||$s.parseTrackName(u);this._targetGroup=m,this._bindings=m.subscribe_(u,c)}Object.assign(gg.prototype,{getValue:function(u,d){this.bind();var c=this._targetGroup.nCachedObjects_,f=this._bindings[c];f!==void 0&&f.getValue(u,d)},setValue:function(u,d){for(var c=this._bindings,f=this._targetGroup.nCachedObjects_,x=c.length;f!==x;++f)c[f].setValue(u,d)},bind:function(){for(var u=this._bindings,d=this._targetGroup.nCachedObjects_,c=u.length;d!==c;++d)u[d].bind()},unbind:function(){for(var u=this._bindings,d=this._targetGroup.nCachedObjects_,c=u.length;d!==c;++d)u[d].unbind()}});function $s(m,u,d){this.path=u,this.parsedPath=d||$s.parseTrackName(u),this.node=$s.findNode(m,this.parsedPath.nodeName)||m,this.rootNode=m}Object.assign($s,{Composite:gg,create:function(u,d,c){return u&&u.isAnimationObjectGroup?new $s.Composite(u,d,c):new $s(u,d,c)},sanitizeNodeName:function(u){return u.replace(/\s/g,"_").replace(N_,"")},parseTrackName:function(u){var d=fC.exec(u);if(!d)throw new Error("PropertyBinding: Cannot parse trackName: "+u);var c={nodeName:d[2],objectName:d[3],objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]},f=c.nodeName&&c.nodeName.lastIndexOf(".");if(f!==void 0&&f!==-1){var x=c.nodeName.substring(f+1);hC.indexOf(x)!==-1&&(c.nodeName=c.nodeName.substring(0,f),c.objectName=x)}if(c.propertyName===null||c.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+u);return c},findNode:function(u,d){if(!d||d===""||d==="."||d===-1||d===u.name||d===u.uuid)return u;if(u.skeleton){var c=u.skeleton.getBoneByName(d);if(c!==void 0)return c}if(u.children){var f=function _(L){for(var D=0;D<L.length;D++){var N=L[D];if(N.name===d||N.uuid===d)return N;var Y=_(N.children);if(Y)return Y}return null},x=f(u.children);if(x)return x}return null}}),Object.assign($s.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(u,d){u[d]=this.node[this.propertyName]},function(u,d){for(var c=this.resolvedProperty,f=0,x=c.length;f!==x;++f)u[d++]=c[f]},function(u,d){u[d]=this.resolvedProperty[this.propertyIndex]},function(u,d){this.resolvedProperty.toArray(u,d)}],SetterByBindingTypeAndVersioning:[[function(u,d){this.targetObject[this.propertyName]=u[d]},function(u,d){this.targetObject[this.propertyName]=u[d],this.targetObject.needsUpdate=!0},function(u,d){this.targetObject[this.propertyName]=u[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,d){for(var c=this.resolvedProperty,f=0,x=c.length;f!==x;++f)c[f]=u[d++]},function(u,d){for(var c=this.resolvedProperty,f=0,x=c.length;f!==x;++f)c[f]=u[d++];this.targetObject.needsUpdate=!0},function(u,d){for(var c=this.resolvedProperty,f=0,x=c.length;f!==x;++f)c[f]=u[d++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,d){this.resolvedProperty[this.propertyIndex]=u[d]},function(u,d){this.resolvedProperty[this.propertyIndex]=u[d],this.targetObject.needsUpdate=!0},function(u,d){this.resolvedProperty[this.propertyIndex]=u[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,d){this.resolvedProperty.fromArray(u,d)},function(u,d){this.resolvedProperty.fromArray(u,d),this.targetObject.needsUpdate=!0},function(u,d){this.resolvedProperty.fromArray(u,d),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(u,d){this.bind(),this.getValue(u,d)},setValue:function(u,d){this.bind(),this.setValue(u,d)},bind:function(){var u=this.node,d=this.parsedPath,c=d.objectName,f=d.propertyName,x=d.propertyIndex;if(u||(u=$s.findNode(this.rootNode,d.nodeName)||this.rootNode,this.node=u),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!u){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(c){var _=d.objectIndex;switch(c){case"materials":if(!u.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!u.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}u=u.material.materials;break;case"bones":if(!u.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}u=u.skeleton.bones;for(var L=0;L<u.length;L++)if(u[L].name===_){_=L;break}break;default:if(u[c]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}u=u[c]}if(_!==void 0){if(u[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,u);return}u=u[_]}}var D=u[f];if(D===void 0){var N=d.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+N+"."+f+" but it wasn't found.",u);return}var Y=this.Versioning.None;this.targetObject=u,u.needsUpdate!==void 0?Y=this.Versioning.NeedsUpdate:u.matrixWorldNeedsUpdate!==void 0&&(Y=this.Versioning.MatrixWorldNeedsUpdate);var z=this.BindingType.Direct;if(x!==void 0){if(f==="morphTargetInfluences"){if(!u.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(u.geometry.isBufferGeometry){if(!u.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}u.morphTargetDictionary[x]!==void 0&&(x=u.morphTargetDictionary[x])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}z=this.BindingType.ArrayElement,this.resolvedProperty=D,this.propertyIndex=x}else D.fromArray!==void 0&&D.toArray!==void 0?(z=this.BindingType.HasFromToArray,this.resolvedProperty=D):Array.isArray(D)?(z=this.BindingType.EntireArray,this.resolvedProperty=D):this.propertyName=f;this.getValue=this.GetterByBindingType[z],this.setValue=this.SetterByBindingTypeAndVersioning[z][Y]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign($s.prototype,{_getValue_unbound:$s.prototype.getValue,_setValue_unbound:$s.prototype.setValue});function I_(){this.uuid=$n.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var m={};this._indicesByUUID=m;for(var u=0,d=arguments.length;u!==d;++u)m[arguments[u].uuid]=u;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var c=this;this.stats={objects:{get total(){return c._objects.length},get inUse(){return this.total-c.nCachedObjects_}},get bindingsPerObject(){return c._bindings.length}}}Object.assign(I_.prototype,{isAnimationObjectGroup:!0,add:function(){for(var u=this._objects,d=this._indicesByUUID,c=this._paths,f=this._parsedPaths,x=this._bindings,_=x.length,L=void 0,D=u.length,N=this.nCachedObjects_,Y=0,z=arguments.length;Y!==z;++Y){var X=arguments[Y],j=X.uuid,q=d[j];if(q===void 0){q=D++,d[j]=q,u.push(X);for(var te=0,ae=_;te!==ae;++te)x[te].push(new $s(X,c[te],f[te]))}else if(q<N){L=u[q];var ne=--N,Q=u[ne];d[Q.uuid]=q,u[q]=Q,d[j]=ne,u[ne]=X;for(var xe=0,Te=_;xe!==Te;++xe){var de=x[xe],le=de[ne],Ae=de[q];de[q]=le,Ae===void 0&&(Ae=new $s(X,c[xe],f[xe])),de[ne]=Ae}}else u[q]!==L&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=N},remove:function(){for(var u=this._objects,d=this._indicesByUUID,c=this._bindings,f=c.length,x=this.nCachedObjects_,_=0,L=arguments.length;_!==L;++_){var D=arguments[_],N=D.uuid,Y=d[N];if(Y!==void 0&&Y>=x){var z=x++,X=u[z];d[X.uuid]=Y,u[Y]=X,d[N]=z,u[z]=D;for(var j=0,q=f;j!==q;++j){var te=c[j],ae=te[z],ne=te[Y];te[Y]=ae,te[z]=ne}}}this.nCachedObjects_=x},uncache:function(){for(var u=this._objects,d=this._indicesByUUID,c=this._bindings,f=c.length,x=this.nCachedObjects_,_=u.length,L=0,D=arguments.length;L!==D;++L){var N=arguments[L],Y=N.uuid,z=d[Y];if(z!==void 0)if(delete d[Y],z<x){var X=--x,j=u[X],q=--_,te=u[q];d[j.uuid]=z,u[z]=j,d[te.uuid]=X,u[X]=te,u.pop();for(var ae=0,ne=f;ae!==ne;++ae){var Q=c[ae],xe=Q[X],Te=Q[q];Q[z]=xe,Q[X]=Te,Q.pop()}}else{var de=--_,le=u[de];de>0&&(d[le.uuid]=z),u[z]=le,u.pop();for(var Ae=0,je=f;Ae!==je;++Ae){var He=c[Ae];He[z]=He[de],He.pop()}}}this.nCachedObjects_=x},subscribe_:function(u,d){var c=this._bindingsIndicesByPath,f=c[u],x=this._bindings;if(f!==void 0)return x[f];var _=this._paths,L=this._parsedPaths,D=this._objects,N=D.length,Y=this.nCachedObjects_,z=new Array(N);f=x.length,c[u]=f,_.push(u),L.push(d),x.push(z);for(var X=Y,j=D.length;X!==j;++X){var q=D[X];z[X]=new $s(q,u,d)}return z},unsubscribe_:function(u){var d=this._bindingsIndicesByPath,c=d[u];if(c!==void 0){var f=this._paths,x=this._parsedPaths,_=this._bindings,L=_.length-1,D=_[L],N=u[L];d[N]=c,_[c]=D,_.pop(),x[c]=x[L],x.pop(),f[c]=f[L],f.pop()}}});var O_=function(){function m(d,c,f,x){f===void 0&&(f=null),x===void 0&&(x=c.blendMode),this._mixer=d,this._clip=c,this._localRoot=f,this.blendMode=x;for(var _=c.tracks,L=_.length,D=new Array(L),N={endingStart:Du,endingEnd:Du},Y=0;Y!==L;++Y){var z=_[Y].createInterpolant(null);D[Y]=z,z.settings=N}this._interpolantSettings=N,this._interpolants=D,this._propertyBindings=new Array(L),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Gs,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}var u=m.prototype;return u.play=function(){return this._mixer._activateAction(this),this},u.stop=function(){return this._mixer._deactivateAction(this),this.reset()},u.reset=function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},u.isRunning=function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},u.isScheduled=function(){return this._mixer._isActiveAction(this)},u.startAt=function(c){return this._startTime=c,this},u.setLoop=function(c,f){return this.loop=c,this.repetitions=f,this},u.setEffectiveWeight=function(c){return this.weight=c,this._effectiveWeight=this.enabled?c:0,this.stopFading()},u.getEffectiveWeight=function(){return this._effectiveWeight},u.fadeIn=function(c){return this._scheduleFading(c,0,1)},u.fadeOut=function(c){return this._scheduleFading(c,1,0)},u.crossFadeFrom=function(c,f,x){if(c.fadeOut(f),this.fadeIn(f),x){var _=this._clip.duration,L=c._clip.duration,D=L/_,N=_/L;c.warp(1,D,f),this.warp(N,1,f)}return this},u.crossFadeTo=function(c,f,x){return c.crossFadeFrom(this,f,x)},u.stopFading=function(){var c=this._weightInterpolant;return c!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this},u.setEffectiveTimeScale=function(c){return this.timeScale=c,this._effectiveTimeScale=this.paused?0:c,this.stopWarping()},u.getEffectiveTimeScale=function(){return this._effectiveTimeScale},u.setDuration=function(c){return this.timeScale=this._clip.duration/c,this.stopWarping()},u.syncWith=function(c){return this.time=c.time,this.timeScale=c.timeScale,this.stopWarping()},u.halt=function(c){return this.warp(this._effectiveTimeScale,0,c)},u.warp=function(c,f,x){var _=this._mixer,L=_.time,D=this.timeScale,N=this._timeScaleInterpolant;N===null&&(N=_._lendControlInterpolant(),this._timeScaleInterpolant=N);var Y=N.parameterPositions,z=N.sampleValues;return Y[0]=L,Y[1]=L+x,z[0]=c/D,z[1]=f/D,this},u.stopWarping=function(){var c=this._timeScaleInterpolant;return c!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this},u.getMixer=function(){return this._mixer},u.getClip=function(){return this._clip},u.getRoot=function(){return this._localRoot||this._mixer._root},u._update=function(c,f,x,_){if(!this.enabled){this._updateWeight(c);return}var L=this._startTime;if(L!==null){var D=(c-L)*x;if(D<0||x===0)return;this._startTime=null,f=x*D}f*=this._updateTimeScale(c);var N=this._updateTime(f),Y=this._updateWeight(c);if(Y>0){var z=this._interpolants,X=this._propertyBindings;switch(this.blendMode){case nr:for(var j=0,q=z.length;j!==q;++j)z[j].evaluate(N),X[j].accumulateAdditive(Y);break;case Ha:default:for(var te=0,ae=z.length;te!==ae;++te)z[te].evaluate(N),X[te].accumulate(_,Y)}}},u._updateWeight=function(c){var f=0;if(this.enabled){f=this.weight;var x=this._weightInterpolant;if(x!==null){var _=x.evaluate(c)[0];f*=_,c>x.parameterPositions[1]&&(this.stopFading(),_===0&&(this.enabled=!1))}}return this._effectiveWeight=f,f},u._updateTimeScale=function(c){var f=0;if(!this.paused){f=this.timeScale;var x=this._timeScaleInterpolant;if(x!==null){var _=x.evaluate(c)[0];f*=_,c>x.parameterPositions[1]&&(this.stopWarping(),f===0?this.paused=!0:this.timeScale=f)}}return this._effectiveTimeScale=f,f},u._updateTime=function(c){var f=this._clip.duration,x=this.loop,_=this.time+c,L=this._loopCount,D=x===Ah;if(c===0)return L===-1?_:D&&(L&1)===1?f-_:_;if(x===Od){L===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(_>=f)_=f;else if(_<0)_=0;else{this.time=_;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=_,this._mixer.dispatchEvent({type:"finished",action:this,direction:c<0?-1:1})}}else{if(L===-1&&(c>=0?(L=0,this._setEndings(!0,this.repetitions===0,D)):this._setEndings(this.repetitions===0,!0,D)),_>=f||_<0){var N=Math.floor(_/f);_-=f*N,L+=Math.abs(N);var Y=this.repetitions-L;if(Y<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,_=c>0?f:0,this.time=_,this._mixer.dispatchEvent({type:"finished",action:this,direction:c>0?1:-1});else{if(Y===1){var z=c<0;this._setEndings(z,!z,D)}else this._setEndings(!1,!1,D);this._loopCount=L,this.time=_,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:N})}}else this.time=_;if(D&&(L&1)===1)return f-_}return _},u._setEndings=function(c,f,x){var _=this._interpolantSettings;x?(_.endingStart=Fu,_.endingEnd=Fu):(c?_.endingStart=this.zeroSlopeAtStart?Fu:Du:_.endingStart=vf,f?_.endingEnd=this.zeroSlopeAtEnd?Fu:Du:_.endingEnd=vf)},u._scheduleFading=function(c,f,x){var _=this._mixer,L=_.time,D=this._weightInterpolant;D===null&&(D=_._lendControlInterpolant(),this._weightInterpolant=D);var N=D.parameterPositions,Y=D.sampleValues;return N[0]=L,Y[0]=f,N[1]=L+c,Y[1]=x,this},m}();function Q3(m){this._root=m,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Q3.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Q3,_bindAction:function(u,d){var c=u._localRoot||this._root,f=u._clip.tracks,x=f.length,_=u._propertyBindings,L=u._interpolants,D=c.uuid,N=this._bindingsByRootAndName,Y=N[D];Y===void 0&&(Y={},N[D]=Y);for(var z=0;z!==x;++z){var X=f[z],j=X.name,q=Y[j];if(q!==void 0)_[z]=q;else{if(q=_[z],q!==void 0){q._cacheIndex===null&&(++q.referenceCount,this._addInactiveBinding(q,D,j));continue}var te=d&&d._propertyBindings[z].binding.parsedPath;q=new V3($s.create(c,j,te),X.ValueTypeName,X.getValueSize()),++q.referenceCount,this._addInactiveBinding(q,D,j),_[z]=q}L[z].resultBuffer=q.buffer}},_activateAction:function(u){if(!this._isActiveAction(u)){if(u._cacheIndex===null){var d=(u._localRoot||this._root).uuid,c=u._clip.uuid,f=this._actionsByClip[c];this._bindAction(u,f&&f.knownActions[0]),this._addInactiveAction(u,c,d)}for(var x=u._propertyBindings,_=0,L=x.length;_!==L;++_){var D=x[_];D.useCount++===0&&(this._lendBinding(D),D.saveOriginalState())}this._lendAction(u)}},_deactivateAction:function(u){if(this._isActiveAction(u)){for(var d=u._propertyBindings,c=0,f=d.length;c!==f;++c){var x=d[c];--x.useCount===0&&(x.restoreOriginalState(),this._takeBackBinding(x))}this._takeBackAction(u)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var u=this;this.stats={actions:{get total(){return u._actions.length},get inUse(){return u._nActiveActions}},bindings:{get total(){return u._bindings.length},get inUse(){return u._nActiveBindings}},controlInterpolants:{get total(){return u._controlInterpolants.length},get inUse(){return u._nActiveControlInterpolants}}}},_isActiveAction:function(u){var d=u._cacheIndex;return d!==null&&d<this._nActiveActions},_addInactiveAction:function(u,d,c){var f=this._actions,x=this._actionsByClip,_=x[d];if(_===void 0)_={knownActions:[u],actionByRoot:{}},u._byClipCacheIndex=0,x[d]=_;else{var L=_.knownActions;u._byClipCacheIndex=L.length,L.push(u)}u._cacheIndex=f.length,f.push(u),_.actionByRoot[c]=u},_removeInactiveAction:function(u){var d=this._actions,c=d[d.length-1],f=u._cacheIndex;c._cacheIndex=f,d[f]=c,d.pop(),u._cacheIndex=null;var x=u._clip.uuid,_=this._actionsByClip,L=_[x],D=L.knownActions,N=D[D.length-1],Y=u._byClipCacheIndex;N._byClipCacheIndex=Y,D[Y]=N,D.pop(),u._byClipCacheIndex=null;var z=L.actionByRoot,X=(u._localRoot||this._root).uuid;delete z[X],D.length===0&&delete _[x],this._removeInactiveBindingsForAction(u)},_removeInactiveBindingsForAction:function(u){for(var d=u._propertyBindings,c=0,f=d.length;c!==f;++c){var x=d[c];--x.referenceCount===0&&this._removeInactiveBinding(x)}},_lendAction:function(u){var d=this._actions,c=u._cacheIndex,f=this._nActiveActions++,x=d[f];u._cacheIndex=f,d[f]=u,x._cacheIndex=c,d[c]=x},_takeBackAction:function(u){var d=this._actions,c=u._cacheIndex,f=--this._nActiveActions,x=d[f];u._cacheIndex=f,d[f]=u,x._cacheIndex=c,d[c]=x},_addInactiveBinding:function(u,d,c){var f=this._bindingsByRootAndName,x=this._bindings,_=f[d];_===void 0&&(_={},f[d]=_),_[c]=u,u._cacheIndex=x.length,x.push(u)},_removeInactiveBinding:function(u){var d=this._bindings,c=u.binding,f=c.rootNode.uuid,x=c.path,_=this._bindingsByRootAndName,L=_[f],D=d[d.length-1],N=u._cacheIndex;D._cacheIndex=N,d[N]=D,d.pop(),delete L[x],Object.keys(L).length===0&&delete _[f]},_lendBinding:function(u){var d=this._bindings,c=u._cacheIndex,f=this._nActiveBindings++,x=d[f];u._cacheIndex=f,d[f]=u,x._cacheIndex=c,d[c]=x},_takeBackBinding:function(u){var d=this._bindings,c=u._cacheIndex,f=--this._nActiveBindings,x=d[f];u._cacheIndex=f,d[f]=u,x._cacheIndex=c,d[c]=x},_lendControlInterpolant:function(){var u=this._controlInterpolants,d=this._nActiveControlInterpolants++,c=u[d];return c===void 0&&(c=new D1(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=d,u[d]=c),c},_takeBackControlInterpolant:function(u){var d=this._controlInterpolants,c=u.__cacheIndex,f=--this._nActiveControlInterpolants,x=d[f];u.__cacheIndex=f,d[f]=u,x.__cacheIndex=c,d[c]=x},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(u,d,c){var f=d||this._root,x=f.uuid,_=typeof u=="string"?nl.findByName(f,u):u,L=_!==null?_.uuid:u,D=this._actionsByClip[L],N=null;if(c===void 0&&(_!==null?c=_.blendMode:c=Ha),D!==void 0){var Y=D.actionByRoot[x];if(Y!==void 0&&Y.blendMode===c)return Y;N=D.knownActions[0],_===null&&(_=N._clip)}if(_===null)return null;var z=new O_(this,_,d,c);return this._bindAction(z,N),this._addInactiveAction(z,L,x),z},existingAction:function(u,d){var c=d||this._root,f=c.uuid,x=typeof u=="string"?nl.findByName(c,u):u,_=x?x.uuid:u,L=this._actionsByClip[_];return L!==void 0&&L.actionByRoot[f]||null},stopAllAction:function(){for(var u=this._actions,d=this._nActiveActions,c=d-1;c>=0;--c)u[c].stop();return this},update:function(u){u*=this.timeScale;for(var d=this._actions,c=this._nActiveActions,f=this.time+=u,x=Math.sign(u),_=this._accuIndex^=1,L=0;L!==c;++L){var D=d[L];D._update(f,u,x,_)}for(var N=this._bindings,Y=this._nActiveBindings,z=0;z!==Y;++z)N[z].apply(_);return this},setTime:function(u){this.time=0;for(var d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(u)},getRoot:function(){return this._root},uncacheClip:function(u){var d=this._actions,c=u.uuid,f=this._actionsByClip,x=f[c];if(x!==void 0){for(var _=x.knownActions,L=0,D=_.length;L!==D;++L){var N=_[L];this._deactivateAction(N);var Y=N._cacheIndex,z=d[d.length-1];N._cacheIndex=null,N._byClipCacheIndex=null,z._cacheIndex=Y,d[Y]=z,d.pop(),this._removeInactiveBindingsForAction(N)}delete f[c]}},uncacheRoot:function(u){var d=u.uuid,c=this._actionsByClip;for(var f in c){var x=c[f].actionByRoot,_=x[d];_!==void 0&&(this._deactivateAction(_),this._removeInactiveAction(_))}var L=this._bindingsByRootAndName,D=L[d];if(D!==void 0)for(var N in D){var Y=D[N];Y.restoreOriginalState(),this._removeInactiveBinding(Y)}},uncacheAction:function(u,d){var c=this.existingAction(u,d);c!==null&&(this._deactivateAction(c),this._removeInactiveAction(c))}});var U_=function(){function m(d){typeof d=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),d=arguments[1]),this.value=d}var u=m.prototype;return u.clone=function(){return new m(this.value.clone===void 0?this.value:this.value.clone())},m}();function q3(m,u,d){kl.call(this,m,u),this.meshPerAttribute=d||1}q3.prototype=Object.assign(Object.create(kl.prototype),{constructor:q3,isInstancedInterleavedBuffer:!0,copy:function(u){return kl.prototype.copy.call(this,u),this.meshPerAttribute=u.meshPerAttribute,this},clone:function(u){var d=kl.prototype.clone.call(this,u);return d.meshPerAttribute=this.meshPerAttribute,d},toJSON:function(u){var d=kl.prototype.toJSON.call(this,u);return d.isInstancedInterleavedBuffer=!0,d.meshPerAttribute=this.meshPerAttribute,d}});function J3(m,u,d,c,f){this.buffer=m,this.type=u,this.itemSize=d,this.elementSize=c,this.count=f,this.version=0}Object.defineProperty(J3.prototype,"needsUpdate",{set:function(u){u===!0&&this.version++}}),Object.assign(J3.prototype,{isGLBufferAttribute:!0,setBuffer:function(u){return this.buffer=u,this},setType:function(u,d){return this.type=u,this.elementSize=d,this},setItemSize:function(u){return this.itemSize=u,this},setCount:function(u){return this.count=u,this}});function Z3(m,u,d,c){this.ray=new zs(m,u),this.near=d||0,this.far=c||Infinity,this.camera=null,this.layers=new Wd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function K3(m,u){return m.distance-u.distance}function $3(m,u,d,c){if(m.layers.test(u.layers)&&m.raycast(u,d),c===!0)for(var f=m.children,x=0,_=f.length;x<_;x++)$3(f[x],u,d,!0)}Object.assign(Z3.prototype,{set:function(u,d){this.ray.set(u,d)},setFromCamera:function(u,d){d&&d.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(d.matrixWorld),this.ray.direction.set(u.x,u.y,.5).unproject(d).sub(this.ray.origin).normalize(),this.camera=d):d&&d.isOrthographicCamera?(this.ray.origin.set(u.x,u.y,(d.near+d.far)/(d.near-d.far)).unproject(d),this.ray.direction.set(0,0,-1).transformDirection(d.matrixWorld),this.camera=d):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(u,d,c){var f=c||[];return $3(u,this,f,d),f.sort(K3),f},intersectObjects:function(u,d,c){var f=c||[];if(Array.isArray(u)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),f;for(var x=0,_=u.length;x<_;x++)$3(u[x],this,f,d);return f.sort(K3),f}});var dC=function(){function m(d,c,f){return d===void 0&&(d=1),c===void 0&&(c=0),f===void 0&&(f=0),this.radius=d,this.phi=c,this.theta=f,this}var u=m.prototype;return u.set=function(c,f,x){return this.radius=c,this.phi=f,this.theta=x,this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.radius=c.radius,this.phi=c.phi,this.theta=c.theta,this},u.makeSafe=function(){var c=1e-6;return this.phi=Math.max(c,Math.min(Math.PI-c,this.phi)),this},u.setFromVector3=function(c){return this.setFromCartesianCoords(c.x,c.y,c.z)},u.setFromCartesianCoords=function(c,f,x){return this.radius=Math.sqrt(c*c+f*f+x*x),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(c,x),this.phi=Math.acos($n.clamp(f/this.radius,-1,1))),this},m}(),pC=function(){function m(d,c,f){return this.radius=d!==void 0?d:1,this.theta=c!==void 0?c:0,this.y=f!==void 0?f:0,this}var u=m.prototype;return u.set=function(c,f,x){return this.radius=c,this.theta=f,this.y=x,this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.radius=c.radius,this.theta=c.theta,this.y=c.y,this},u.setFromVector3=function(c){return this.setFromCartesianCoords(c.x,c.y,c.z)},u.setFromCartesianCoords=function(c,f,x){return this.radius=Math.sqrt(c*c+x*x),this.theta=Math.atan2(c,x),this.y=f,this},m}(),k_=new kt,G_=function(){function m(d,c){Object.defineProperty(this,"isBox2",{value:!0}),this.min=d!==void 0?d:new kt(Infinity,Infinity),this.max=c!==void 0?c:new kt(-Infinity,-Infinity)}var u=m.prototype;return u.set=function(c,f){return this.min.copy(c),this.max.copy(f),this},u.setFromPoints=function(c){this.makeEmpty();for(var f=0,x=c.length;f<x;f++)this.expandByPoint(c[f]);return this},u.setFromCenterAndSize=function(c,f){var x=k_.copy(f).multiplyScalar(.5);return this.min.copy(c).sub(x),this.max.copy(c).add(x),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.min.copy(c.min),this.max.copy(c.max),this},u.makeEmpty=function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},u.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},u.getCenter=function(c){return c===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),c=new kt),this.isEmpty()?c.set(0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)},u.getSize=function(c){return c===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),c=new kt),this.isEmpty()?c.set(0,0):c.subVectors(this.max,this.min)},u.expandByPoint=function(c){return this.min.min(c),this.max.max(c),this},u.expandByVector=function(c){return this.min.sub(c),this.max.add(c),this},u.expandByScalar=function(c){return this.min.addScalar(-c),this.max.addScalar(c),this},u.containsPoint=function(c){return!(c.x<this.min.x||c.x>this.max.x||c.y<this.min.y||c.y>this.max.y)},u.containsBox=function(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y},u.getParameter=function(c,f){return f===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),f=new kt),f.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y))},u.intersectsBox=function(c){return!(c.max.x<this.min.x||c.min.x>this.max.x||c.max.y<this.min.y||c.min.y>this.max.y)},u.clampPoint=function(c,f){return f===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),f=new kt),f.copy(c).clamp(this.min,this.max)},u.distanceToPoint=function(c){var f=k_.copy(c).clamp(this.min,this.max);return f.sub(c).length()},u.intersect=function(c){return this.min.max(c.min),this.max.min(c.max),this},u.union=function(c){return this.min.min(c.min),this.max.max(c.max),this},u.translate=function(c){return this.min.add(c),this.max.add(c),this},u.equals=function(c){return c.min.equals(this.min)&&c.max.equals(this.max)},m}(),X_=new Pe,yg=new Pe,xg=function(){function m(d,c){this.start=d!==void 0?d:new Pe,this.end=c!==void 0?c:new Pe}var u=m.prototype;return u.set=function(c,f){return this.start.copy(c),this.end.copy(f),this},u.clone=function(){return new this.constructor().copy(this)},u.copy=function(c){return this.start.copy(c.start),this.end.copy(c.end),this},u.getCenter=function(c){return c===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),c=new Pe),c.addVectors(this.start,this.end).multiplyScalar(.5)},u.delta=function(c){return c===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),c=new Pe),c.subVectors(this.end,this.start)},u.distanceSq=function(){return this.start.distanceToSquared(this.end)},u.distance=function(){return this.start.distanceTo(this.end)},u.at=function(c,f){return f===void 0&&(console.warn("THREE.Line3: .at() target is now required"),f=new Pe),this.delta(f).multiplyScalar(c).add(this.start)},u.closestPointToPointParameter=function(c,f){X_.subVectors(c,this.start),yg.subVectors(this.end,this.start);var x=yg.dot(yg),_=yg.dot(X_),L=_/x;return f&&(L=$n.clamp(L,0,1)),L},u.closestPointToPoint=function(c,f,x){var _=this.closestPointToPointParameter(c,f);return x===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),x=new Pe),this.delta(x).multiplyScalar(_).add(this.start)},u.applyMatrix4=function(c){return this.start.applyMatrix4(c),this.end.applyMatrix4(c),this},u.equals=function(c){return c.start.equals(this.start)&&c.end.equals(this.end)},m}();function V1(m){Tn.call(this),this.material=m,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}V1.prototype=Object.create(Tn.prototype),V1.prototype.constructor=V1,V1.prototype.isImmediateRenderObject=!0;var H_=new Pe,z_=function(m){Sn(u,m);function u(c,f){var x;x=m.call(this)||this,x.light=c,x.light.updateMatrixWorld(),x.matrix=c.matrixWorld,x.matrixAutoUpdate=!1,x.color=f;for(var _=new Pn,L=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],D=0,N=1,Y=32;D<Y;D++,N++){var z=D/Y*Math.PI*2,X=N/Y*Math.PI*2;L.push(Math.cos(z),Math.sin(z),1,Math.cos(X),Math.sin(X),1)}_.setAttribute("position",new an(L,3));var j=new uo({fog:!1,toneMapped:!1});return x.cone=new wa(_,j),x.add(x.cone),x.update(),x}var d=u.prototype;return d.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},d.update=function(){this.light.updateMatrixWorld();var f=this.light.distance?this.light.distance:1e3,x=f*Math.tan(this.light.angle);this.cone.scale.set(x,x,f),H_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(H_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)},u}(Tn),H0=new Pe,Eg=new Pr,eE=new Pr,Y_=function(m){Sn(u,m);function u(c){for(var f,x=V_(c),_=new Pn,L=[],D=[],N=new En(0,0,1),Y=new En(0,1,0),z=0;z<x.length;z++){var X=x[z];X.parent&&X.parent.isBone&&(L.push(0,0,0),L.push(0,0,0),D.push(N.r,N.g,N.b),D.push(Y.r,Y.g,Y.b))}_.setAttribute("position",new an(L,3)),_.setAttribute("color",new an(D,3));var j=new uo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return f=m.call(this,_,j)||this,f.type="SkeletonHelper",f.isSkeletonHelper=!0,f.root=c,f.bones=x,f.matrix=c.matrixWorld,f.matrixAutoUpdate=!1,f}var d=u.prototype;return d.updateMatrixWorld=function(f){var x=this.bones,_=this.geometry,L=_.getAttribute("position");eE.copy(this.root.matrixWorld).invert();for(var D=0,N=0;D<x.length;D++){var Y=x[D];Y.parent&&Y.parent.isBone&&(Eg.multiplyMatrices(eE,Y.matrixWorld),H0.setFromMatrixPosition(Eg),L.setXYZ(N,H0.x,H0.y,H0.z),Eg.multiplyMatrices(eE,Y.parent.matrixWorld),H0.setFromMatrixPosition(Eg),L.setXYZ(N+1,H0.x,H0.y,H0.z),N+=2)}_.getAttribute("position").needsUpdate=!0,m.prototype.updateMatrixWorld.call(this,f)},u}(wa);function V_(m){var u=[];m&&m.isBone&&u.push(m);for(var d=0;d<m.children.length;d++)u.push.apply(u,V_(m.children[d]));return u}var W_=function(m){Sn(u,m);function u(c,f,x){var _,L=new $2(f,4,2),D=new Vs({wireframe:!0,fog:!1,toneMapped:!1});return _=m.call(this,L,D)||this,_.light=c,_.light.updateMatrixWorld(),_.color=x,_.type="PointLightHelper",_.matrix=_.light.matrixWorld,_.matrixAutoUpdate=!1,_.update(),_}var d=u.prototype;return d.dispose=function(){this.geometry.dispose(),this.material.dispose()},d.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)},u}(Tr),mC=new Pe,j_=new En,Q_=new En,vC=function(m){Sn(u,m);function u(c,f,x){var _;_=m.call(this)||this,_.light=c,_.light.updateMatrixWorld(),_.matrix=c.matrixWorld,_.matrixAutoUpdate=!1,_.color=x;var L=new Z2(f);L.rotateY(Math.PI*.5),_.material=new Vs({wireframe:!0,fog:!1,toneMapped:!1}),_.color===void 0&&(_.material.vertexColors=!0);var D=L.getAttribute("position"),N=new Float32Array(D.count*3);return L.setAttribute("color",new Bn(N,3)),_.add(new Tr(L,_.material)),_.update(),_}var d=u.prototype;return d.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},d.update=function(){var f=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var x=f.geometry.getAttribute("color");j_.copy(this.light.color),Q_.copy(this.light.groundColor);for(var _=0,L=x.count;_<L;_++){var D=_<L/2?j_:Q_;x.setXYZ(_,D.r,D.g,D.b)}x.needsUpdate=!0}f.lookAt(mC.setFromMatrixPosition(this.light.matrixWorld).negate())},u}(Tn),q_=function(m){Sn(u,m);function u(d,c,f,x){var _;d===void 0&&(d=10),c===void 0&&(c=10),f===void 0&&(f=4473924),x===void 0&&(x=8947848),f=new En(f),x=new En(x);for(var L=c/2,D=d/c,N=d/2,Y=[],z=[],X=0,j=0,q=-N;X<=c;X++,q+=D){Y.push(-N,0,q,N,0,q),Y.push(q,0,-N,q,0,N);var te=X===L?f:x;te.toArray(z,j),j+=3,te.toArray(z,j),j+=3,te.toArray(z,j),j+=3,te.toArray(z,j),j+=3}var ae=new Pn;ae.setAttribute("position",new an(Y,3)),ae.setAttribute("color",new an(z,3));var ne=new uo({vertexColors:!0,toneMapped:!1});return _=m.call(this,ae,ne)||this,_.type="GridHelper",_}return u}(wa),gC=function(m){Sn(u,m);function u(d,c,f,x,_,L){var D;d===void 0&&(d=10),c===void 0&&(c=16),f===void 0&&(f=8),x===void 0&&(x=64),_===void 0&&(_=4473924),L===void 0&&(L=8947848),_=new En(_),L=new En(L);for(var N=[],Y=[],z=0;z<=c;z++){var X=z/c*(Math.PI*2),j=Math.sin(X)*d,q=Math.cos(X)*d;N.push(0,0,0),N.push(j,0,q);var te=z&1?_:L;Y.push(te.r,te.g,te.b),Y.push(te.r,te.g,te.b)}for(var ae=0;ae<=f;ae++)for(var ne=ae&1?_:L,Q=d-d/f*ae,xe=0;xe<x;xe++){var Te=xe/x*(Math.PI*2),de=Math.sin(Te)*Q,le=Math.cos(Te)*Q;N.push(de,0,le),Y.push(ne.r,ne.g,ne.b),Te=(xe+1)/x*(Math.PI*2),de=Math.sin(Te)*Q,le=Math.cos(Te)*Q,N.push(de,0,le),Y.push(ne.r,ne.g,ne.b)}var Ae=new Pn;Ae.setAttribute("position",new an(N,3)),Ae.setAttribute("color",new an(Y,3));var je=new uo({vertexColors:!0,toneMapped:!1});return D=m.call(this,Ae,je)||this,D.type="PolarGridHelper",D}return u}(wa),J_=new Pe,W1=new Pe,tE=new Pe,yC=function(m){Sn(u,m);function u(c,f,x){var _;_=m.call(this)||this,_.light=c,_.light.updateMatrixWorld(),_.matrix=c.matrixWorld,_.matrixAutoUpdate=!1,_.color=x,f===void 0&&(f=1);var L=new Pn;L.setAttribute("position",new an([-f,f,0,f,f,0,f,-f,0,-f,-f,0,-f,f,0],3));var D=new uo({fog:!1,toneMapped:!1});return _.lightPlane=new pu(L,D),_.add(_.lightPlane),L=new Pn,L.setAttribute("position",new an([0,0,0,0,0,1],3)),_.targetLine=new pu(L,D),_.add(_.targetLine),_.update(),_}var d=u.prototype;return d.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},d.update=function(){J_.setFromMatrixPosition(this.light.matrixWorld),W1.setFromMatrixPosition(this.light.target.matrixWorld),tE.subVectors(W1,J_),this.lightPlane.lookAt(W1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(W1),this.targetLine.scale.z=tE.length()},u}(Tn),wg=new Pe,co=new ln,xC=function(m){Sn(u,m);function u(c){var f,x=new Pn,_=new uo({color:16777215,vertexColors:!0,toneMapped:!1}),L=[],D=[],N={},Y=new En(16755200),z=new En(16711680),X=new En(43775),j=new En(16777215),q=new En(3355443);te("n1","n2",Y),te("n2","n4",Y),te("n4","n3",Y),te("n3","n1",Y),te("f1","f2",Y),te("f2","f4",Y),te("f4","f3",Y),te("f3","f1",Y),te("n1","f1",Y),te("n2","f2",Y),te("n3","f3",Y),te("n4","f4",Y),te("p","n1",z),te("p","n2",z),te("p","n3",z),te("p","n4",z),te("u1","u2",X),te("u2","u3",X),te("u3","u1",X),te("c","t",j),te("p","c",q),te("cn1","cn2",q),te("cn3","cn4",q),te("cf1","cf2",q),te("cf3","cf4",q);function te(ne,Q,xe){ae(ne,xe),ae(Q,xe)}function ae(ne,Q){L.push(0,0,0),D.push(Q.r,Q.g,Q.b),N[ne]===void 0&&(N[ne]=[]),N[ne].push(L.length/3-1)}return x.setAttribute("position",new an(L,3)),x.setAttribute("color",new an(D,3)),f=m.call(this,x,_)||this,f.type="CameraHelper",f.camera=c,f.camera.updateProjectionMatrix&&f.camera.updateProjectionMatrix(),f.matrix=c.matrixWorld,f.matrixAutoUpdate=!1,f.pointMap=N,f.update(),f}var d=u.prototype;return d.update=function(){var f=this.geometry,x=this.pointMap,_=1,L=1;co.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ho("c",x,f,co,0,0,-1),Ho("t",x,f,co,0,0,1),Ho("n1",x,f,co,-_,-L,-1),Ho("n2",x,f,co,_,-L,-1),Ho("n3",x,f,co,-_,L,-1),Ho("n4",x,f,co,_,L,-1),Ho("f1",x,f,co,-_,-L,1),Ho("f2",x,f,co,_,-L,1),Ho("f3",x,f,co,-_,L,1),Ho("f4",x,f,co,_,L,1),Ho("u1",x,f,co,_*.7,L*1.1,-1),Ho("u2",x,f,co,-_*.7,L*1.1,-1),Ho("u3",x,f,co,0,L*2,-1),Ho("cf1",x,f,co,-_,0,1),Ho("cf2",x,f,co,_,0,1),Ho("cf3",x,f,co,0,-L,1),Ho("cf4",x,f,co,0,L,1),Ho("cn1",x,f,co,-_,0,-1),Ho("cn2",x,f,co,_,0,-1),Ho("cn3",x,f,co,0,-L,-1),Ho("cn4",x,f,co,0,L,-1),f.getAttribute("position").needsUpdate=!0},u}(wa);function Ho(m,u,d,c,f,x,_){wg.set(f,x,_).unproject(c);var L=u[m];if(L!==void 0)for(var D=d.getAttribute("position"),N=0,Y=L.length;N<Y;N++)D.setXYZ(L[N],wg.x,wg.y,wg.z)}var j1=new pa,Z_=function(m){Sn(u,m);function u(c,f){var x;f===void 0&&(f=16776960);var _=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),L=new Float32Array(8*3),D=new Pn;return D.setIndex(new Bn(_,1)),D.setAttribute("position",new Bn(L,3)),x=m.call(this,D,new uo({color:f,toneMapped:!1}))||this,x.object=c,x.type="BoxHelper",x.matrixAutoUpdate=!1,x.update(),x}var d=u.prototype;return d.update=function(f){if(f!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&j1.setFromObject(this.object),j1.isEmpty())return;var x=j1.min,_=j1.max,L=this.geometry.attributes.position,D=L.array;D[0]=_.x,D[1]=_.y,D[2]=_.z,D[3]=x.x,D[4]=_.y,D[5]=_.z,D[6]=x.x,D[7]=x.y,D[8]=_.z,D[9]=_.x,D[10]=x.y,D[11]=_.z,D[12]=_.x,D[13]=_.y,D[14]=x.z,D[15]=x.x,D[16]=_.y,D[17]=x.z,D[18]=x.x,D[19]=x.y,D[20]=x.z,D[21]=_.x,D[22]=x.y,D[23]=x.z,L.needsUpdate=!0,this.geometry.computeBoundingSphere()},d.setFromObject=function(f){return this.object=f,this.update(),this},d.copy=function(f){return wa.prototype.copy.call(this,f),this.object=f.object,this},u}(wa),EC=function(m){Sn(u,m);function u(c,f){var x;f===void 0&&(f=16776960);var _=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),L=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],D=new Pn;return D.setIndex(new Bn(_,1)),D.setAttribute("position",new an(L,3)),x=m.call(this,D,new uo({color:f,toneMapped:!1}))||this,x.box=c,x.type="Box3Helper",x.geometry.computeBoundingSphere(),x}var d=u.prototype;return d.updateMatrixWorld=function(f){var x=this.box;if(x.isEmpty())return;x.getCenter(this.position),x.getSize(this.scale),this.scale.multiplyScalar(.5),m.prototype.updateMatrixWorld.call(this,f)},u}(wa),wC=function(m){Sn(u,m);function u(c,f,x){var _;f===void 0&&(f=1),x===void 0&&(x=16776960);var L=x,D=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],N=new Pn;N.setAttribute("position",new an(D,3)),N.computeBoundingSphere(),_=m.call(this,N,new uo({color:L,toneMapped:!1}))||this,_.type="PlaneHelper",_.plane=c,_.size=f;var Y=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],z=new Pn;return z.setAttribute("position",new an(Y,3)),z.computeBoundingSphere(),_.add(new Tr(z,new Vs({color:L,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),_}var d=u.prototype;return d.updateMatrixWorld=function(f){var x=-this.plane.constant;Math.abs(x)<1e-8&&(x=1e-8),this.scale.set(.5*this.size,.5*this.size,x),this.children[0].material.side=x<0?B:R,this.lookAt(this.plane.normal),m.prototype.updateMatrixWorld.call(this,f)},u}(pu),K_=new Pe,Ag,_g,AC=function(m){Sn(u,m);function u(c,f,x,_,L,D){var N;return N=m.call(this)||this,N.type="ArrowHelper",c===void 0&&(c=new Pe(0,0,1)),f===void 0&&(f=new Pe(0,0,0)),x===void 0&&(x=1),_===void 0&&(_=16776960),L===void 0&&(L=.2*x),D===void 0&&(D=.2*L),Ag===void 0&&(Ag=new Pn,Ag.setAttribute("position",new an([0,0,0,0,1,0],3)),_g=new T1(0,.5,1,5,1),_g.translate(0,-.5,0)),N.position.copy(f),N.line=new pu(Ag,new uo({color:_,toneMapped:!1})),N.line.matrixAutoUpdate=!1,N.add(N.line),N.cone=new Tr(_g,new Vs({color:_,toneMapped:!1})),N.cone.matrixAutoUpdate=!1,N.add(N.cone),N.setDirection(c),N.setLength(x,L,D),N}var d=u.prototype;return d.setDirection=function(f){if(f.y>.99999)this.quaternion.set(0,0,0,1);else if(f.y<-.99999)this.quaternion.set(1,0,0,0);else{K_.set(f.z,0,-f.x).normalize();var x=Math.acos(f.y);this.quaternion.setFromAxisAngle(K_,x)}},d.setLength=function(f,x,_){x===void 0&&(x=.2*f),_===void 0&&(_=.2*x),this.line.scale.set(1,Math.max(1e-4,f-x),1),this.line.updateMatrix(),this.cone.scale.set(_,x,_),this.cone.position.y=f,this.cone.updateMatrix()},d.setColor=function(f){this.line.material.color.set(f),this.cone.material.color.set(f)},d.copy=function(f){return m.prototype.copy.call(this,f,!1),this.line.copy(f.line),this.cone.copy(f.cone),this},u}(Tn),$_=function(m){Sn(u,m);function u(d){var c;d===void 0&&(d=1);var f=[0,0,0,d,0,0,0,0,0,0,d,0,0,0,0,0,0,d],x=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],_=new Pn;_.setAttribute("position",new an(f,3)),_.setAttribute("color",new an(x,3));var L=new uo({vertexColors:!0,toneMapped:!1});return c=m.call(this,_,L)||this,c.type="AxesHelper",c}return u}(wa),eM=new Float32Array(1),_C=new Int32Array(eM.buffer),MC={toHalfFloat:function(u){eM[0]=u;var d=_C[0],c=d>>16&32768,f=d>>12&2047,x=d>>23&255;return x<103?c:x>142?(c|=31744,c|=(x==255?0:1)&&d&8388607,c):x<113?(f|=2048,c|=(f>>114-x)+(f>>113-x&1),c):(c|=x-112<<10|f>>1,c+=f&1,c)}},Lf,bp=4,z0=8,Yc=Math.pow(2,z0),tM=[.125,.215,.35,.446,.526,.582],nM=z0-bp+1+tM.length,Cp=20,Fs=(Lf={},Lf[Ro]=0,Lf[o0]=1,Lf[Sc]=2,Lf[Mh]=3,Lf[Gm]=4,Lf[Xm]=5,Lf[za]=6,Lf),nE=new Tp,Lp=bC(),Q1=Lp._lodPlanes,rM=Lp._sizeLods,Mg=Lp._sigmas,rE=null,Zh=(1+Math.sqrt(5))/2,Pp=1/Zh,iM=[new Pe(1,1,1),new Pe(-1,1,1),new Pe(1,1,-1),new Pe(-1,1,-1),new Pe(0,Zh,Pp),new Pe(0,Zh,-Pp),new Pe(Pp,0,Zh),new Pe(-Pp,0,Zh),new Pe(Zh,Pp,0),new Pe(-Zh,Pp,0)],SC=function(){function m(d){this._renderer=d,this._pingPongRenderTarget=null,this._blurMaterial=CC(Cp),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}var u=m.prototype;return u.fromScene=function(c,f,x,_){f===void 0&&(f=0),x===void 0&&(x=.1),_===void 0&&(_=100),rE=this._renderer.getRenderTarget();var L=this._allocateTargets();return this._sceneToCubeUV(c,x,_,L),f>0&&this._blur(L,0,0,f),this._applyPMREM(L),this._cleanup(L),L},u.fromEquirectangular=function(c){return this._fromTexture(c)},u.fromCubemap=function(c){return this._fromTexture(c)},u.compileCubemapShader=function(){this._cubemapShader===null&&(this._cubemapShader=iE(),this._compileMaterial(this._cubemapShader))},u.compileEquirectangularShader=function(){this._equirectShader===null&&(this._equirectShader=sM(),this._compileMaterial(this._equirectShader))},u.dispose=function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(var c=0;c<Q1.length;c++)Q1[c].dispose()},u._cleanup=function(c){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(rE),c.scissorTest=!1,Rp(c,0,0,c.width,c.height)},u._fromTexture=function(c){rE=this._renderer.getRenderTarget();var f=this._allocateTargets(c);return this._textureToCubeUV(c,f),this._applyPMREM(f),this._cleanup(f),f},u._allocateTargets=function(c){var f={magFilter:zt,minFilter:zt,generateMipmaps:!1,type:Mr,format:ki,encoding:TC(c)?c.encoding:Sc,depthBuffer:!1},x=oM(f);return x.depthBuffer=!c,this._pingPongRenderTarget=oM(f),x},u._compileMaterial=function(c){var f=new Tr(Q1[0],c);this._renderer.compile(f,nE)},u._sceneToCubeUV=function(c,f,x,_){var L=90,D=1,N=new ro(L,D,f,x),Y=[1,-1,1,1,1,1],z=[1,1,1,-1,-1,-1],X=this._renderer,j=X.outputEncoding,q=X.toneMapping,te=X.getClearColor(),ae=X.getClearAlpha();X.toneMapping=ke,X.outputEncoding=Ro;var ne=c.background;if(ne&&ne.isColor){ne.convertSRGBToLinear();var Q=Math.max(ne.r,ne.g,ne.b),xe=Math.min(Math.max(Math.ceil(Math.log2(Q)),-128),127);ne=ne.multiplyScalar(Math.pow(2,-xe));var Te=(xe+128)/255;X.setClearColor(ne,Te),c.background=null}for(var de=0;de<6;de++){var le=de%3;le==0?(N.up.set(0,Y[de],0),N.lookAt(z[de],0,0)):le==1?(N.up.set(0,0,Y[de]),N.lookAt(0,z[de],0)):(N.up.set(0,Y[de],0),N.lookAt(0,0,z[de])),Rp(_,le*Yc,de>2?Yc:0,Yc,Yc),X.setRenderTarget(_),X.render(c,N)}X.toneMapping=q,X.outputEncoding=j,X.setClearColor(te,ae)},u._textureToCubeUV=function(c,f){var x=this._renderer;c.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=iE()):this._equirectShader==null&&(this._equirectShader=sM());var _=c.isCubeTexture?this._cubemapShader:this._equirectShader,L=new Tr(Q1[0],_),D=_.uniforms;D.envMap.value=c,c.isCubeTexture||D.texelSize.value.set(1/c.image.width,1/c.image.height),D.inputEncoding.value=Fs[c.encoding],D.outputEncoding.value=Fs[f.texture.encoding],Rp(f,0,0,3*Yc,2*Yc),x.setRenderTarget(f),x.render(L,nE)},u._applyPMREM=function(c){var f=this._renderer,x=f.autoClear;f.autoClear=!1;for(var _=1;_<nM;_++){var L=Math.sqrt(Mg[_]*Mg[_]-Mg[_-1]*Mg[_-1]),D=iM[(_-1)%iM.length];this._blur(c,_-1,_,L,D)}f.autoClear=x},u._blur=function(c,f,x,_,L){var D=this._pingPongRenderTarget;this._halfBlur(c,D,f,x,_,"latitudinal",L),this._halfBlur(D,c,x,x,_,"longitudinal",L)},u._halfBlur=function(c,f,x,_,L,D,N){var Y=this._renderer,z=this._blurMaterial;D!=="latitudinal"&&D!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var X=3,j=new Tr(Q1[_],z),q=z.uniforms,te=rM[x]-1,ae=isFinite(L)?Math.PI/(2*te):2*Math.PI/(2*Cp-1),ne=L/ae,Q=isFinite(L)?1+Math.floor(X*ne):Cp;Q>Cp&&console.warn("sigmaRadians, "+L+", is too large and will clip, as it requested "+Q+" samples when the maximum is set to "+Cp);for(var xe=[],Te=0,de=0;de<Cp;++de){var le=de/ne,Ae=Math.exp(-le*le/2);xe.push(Ae),de==0?Te+=Ae:de<Q&&(Te+=2*Ae)}for(var je=0;je<xe.length;je++)xe[je]=xe[je]/Te;q.envMap.value=c.texture,q.samples.value=Q,q.weights.value=xe,q.latitudinal.value=D==="latitudinal",N&&(q.poleAxis.value=N),q.dTheta.value=ae,q.mipInt.value=z0-x,q.inputEncoding.value=Fs[c.texture.encoding],q.outputEncoding.value=Fs[c.texture.encoding];var He=rM[_],ut=3*Math.max(0,Yc-2*He),qe=(_===0?0:2*Yc)+2*He*(_>z0-bp?_-z0+bp:0);Rp(f,ut,qe,3*He,2*He),Y.setRenderTarget(f),Y.render(j,nE)},m}();function TC(m){return m===void 0||m.type!==Mr?!1:m.encoding===Ro||m.encoding===o0||m.encoding===za}function bC(){for(var m=[],u=[],d=[],c=z0,f=0;f<nM;f++){var x=Math.pow(2,c);u.push(x);var _=1/x;f>z0-bp?_=tM[f-z0+bp-1]:f==0&&(_=0),d.push(_);for(var L=1/(x-1),D=-L/2,N=1+L/2,Y=[D,D,N,D,N,N,D,D,N,N,D,N],z=6,X=6,j=3,q=2,te=1,ae=new Float32Array(j*X*z),ne=new Float32Array(q*X*z),Q=new Float32Array(te*X*z),xe=0;xe<z;xe++){var Te=xe%3*2/3-1,de=xe>2?0:-1,le=[Te,de,0,Te+2/3,de,0,Te+2/3,de+1,0,Te,de,0,Te+2/3,de+1,0,Te,de+1,0];ae.set(le,j*X*xe),ne.set(Y,q*X*xe);var Ae=[xe,xe,xe,xe,xe,xe];Q.set(Ae,te*X*xe)}var je=new Pn;je.setAttribute("position",new Bn(ae,j)),je.setAttribute("uv",new Bn(ne,q)),je.setAttribute("faceIndex",new Bn(Q,te)),m.push(je),c>bp&&c--}return{_lodPlanes:m,_sizeLods:u,_sigmas:d}}function oM(m){var u=new ko(3*Yc,3*Yc,m);return u.texture.mapping=Et,u.texture.name="PMREM.cubeUv",u.scissorTest=!0,u}function Rp(m,u,d,c,f){m.viewport.set(u,d,c,f),m.scissor.set(u,d,c,f)}function CC(m){var u=new Float32Array(m),d=new Pe(0,1,0),c=new Tf({name:"SphericalGaussianBlur",defines:{n:m},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:u},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d},inputEncoding:{value:Fs[Ro]},outputEncoding:{value:Fs[Ro]}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			`+sE()+`

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:O,depthTest:!1,depthWrite:!1});return c}function sM(){var m=new kt(1,1),u=new Tf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:m},inputEncoding:{value:Fs[Ro]},outputEncoding:{value:Fs[Ro]}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			`+sE()+`

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:O,depthTest:!1,depthWrite:!1});return u}function iE(){var m=new Tf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Fs[Ro]},outputEncoding:{value:Fs[Ro]}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			`+sE()+`

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:O,depthTest:!1,depthWrite:!1});return m}function oE(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sE(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function LC(m,u,d,c,f,x,_){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Yu(m,u,d,f,x,_)}var PC=0,RC=1,aM=0,DC=1,FC=2;function BC(m){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),m}function NC(m){return m===void 0&&(m=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),m.isMultiMaterial=!0,m.materials=m,m.clone=function(){return m.slice()},m}function IC(m,u){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new dp(m,u)}function OC(m){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new m1(m)}function UC(m,u){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new dp(m,u)}function kC(m){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new $u(m)}function GC(m){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new $u(m)}function aE(m){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new $u(m)}function XC(m,u,d){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Pe(m,u,d)}function HC(m,u){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Bn(m,u).setUsage(_l)}function lM(m,u){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Fc(m,u)}function zC(m,u){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new au(m,u)}function YC(m,u){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new v0(m,u)}function VC(m,u){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new g0(m,u)}function WC(m,u){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new lu(m,u)}function jC(m,u){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new y0(m,u)}function uM(m,u){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new uu(m,u)}function QC(m,u){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new an(m,u)}function qC(m,u){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new xf(m,u)}Gn.create=function(m,u){return console.log("THREE.Curve.create() has been deprecated"),m.prototype=Object.create(Gn.prototype),m.prototype.constructor=m,m.prototype.getPoint=u,m},Object.assign(bf.prototype,{createPointsGeometry:function(u){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var d=this.getPoints(u);return this.createGeometry(d)},createSpacedPointsGeometry:function(u){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var d=this.getSpacedPoints(u);return this.createGeometry(d)},createGeometry:function(u){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var d=new Pi,c=0,f=u.length;c<f;c++){var x=u[c];d.vertices.push(new Pe(x.x,x.y,x.z||0))}return d}}),Object.assign(oc.prototype,{fromPoints:function(u){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(u)}});function cM(m){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ks.call(this,m),this.type="catmullrom",this.closed=!0}cM.prototype=Object.create(Ks.prototype);function fM(m){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ks.call(this,m),this.type="catmullrom"}fM.prototype=Object.create(Ks.prototype);function lE(m){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ks.call(this,m),this.type="catmullrom"}lE.prototype=Object.create(Ks.prototype),Object.assign(lE.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function JC(m){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $_(m)}function ZC(m,u){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Z_(m,u)}function KC(m,u){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new wa(new c3(m.geometry),new uo({color:u!==void 0?u:16777215}))}q_.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Y_.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function $C(m,u){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new wa(new T3(m.geometry),new uo({color:u!==void 0?u:16777215}))}Object.assign(Ri.prototype,{extractUrlBase:function(u){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),U3.extractUrlBase(u)}}),Ri.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function eL(m){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new mu(m)}function tL(m){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new I1(m)}Object.assign(G_.prototype,{center:function(u){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(u)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(u){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(u)},size:function(u){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(u)}}),Object.assign(pa.prototype,{center:function(u){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(u)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(u){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(u)},isIntersectionSphere:function(u){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(u)},size:function(u){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(u)}}),Object.assign(ds.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),qu.prototype.setFromMatrix=function(m){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(m)},xg.prototype.center=function(m){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(m)},Object.assign($n,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(u){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),$n.floorPowerOfTwo(u)},nextPowerOfTwo:function(u){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),$n.ceilPowerOfTwo(u)}}),Object.assign(as.prototype,{flattenToArrayOffset:function(u,d){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(u,d)},multiplyVector3:function(u){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),u.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(u){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),u.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(u){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(u).invert()}}),Object.assign(Pr.prototype,{extractPosition:function(u){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(u)},flattenToArrayOffset:function(u,d){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(u,d)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Pe().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(u){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(u)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(u){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),u.applyMatrix4(this)},multiplyVector4:function(u){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),u.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(u){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),u.transformDirection(this)},crossVector:function(u){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),u.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(u){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),u.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(u,d,c,f,x,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(u,d,f,c,x,_)},getInverse:function(u){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(u).invert()}}),ga.prototype.isIntersectionLine=function(m){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(m)},Object.assign(ls.prototype,{multiplyVector3:function(u){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),u.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(zs.prototype,{isIntersectionBox:function(u){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(u)},isIntersectionPlane:function(u){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(u)},isIntersectionSphere:function(u){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(u)}}),Object.assign(xo.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(u,d){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(u,d)},midpoint:function(u){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(u)},normal:function(u){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(u)},plane:function(u){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(u)}}),Object.assign(xo,{barycoordFromPoint:function(u,d,c,f,x){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),xo.getBarycoord(u,d,c,f,x)},normal:function(u,d,c,f){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),xo.getNormal(u,d,c,f)}}),Object.assign(X0.prototype,{extractAllPoints:function(u){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(u)},extrude:function(u){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new p3(this,u)},makeGeometry:function(u){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new w3(this,u)}}),Object.assign(kt.prototype,{fromAttribute:function(u,d,c){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(u,d,c)},distanceToManhattan:function(u){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(u)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(u){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(u)},getScaleFromMatrix:function(u){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(u)},getColumnFromMatrix:function(u,d){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(d,u)},applyProjection:function(u){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(u)},fromAttribute:function(u,d,c){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(u,d,c)},distanceToManhattan:function(u){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(u)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ur.prototype,{fromAttribute:function(u,d,c){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(u,d,c)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(u){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(u)}}),Object.assign(Tn.prototype,{getChildByName:function(u){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(u)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(u,d){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(d,u)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(u){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(u)}}),Object.defineProperties(Tn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(u){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=u}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Tr.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Tr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Ud},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(v1.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(E1.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),g1.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Gn.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(u){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=u}}),ro.prototype.setLens=function(m,u){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),u!==void 0&&(this.filmGauge=u),this.setFocalLength(m)},Object.defineProperties(Ji.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(u){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=u}},shadowCameraLeft:{set:function(u){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=u}},shadowCameraRight:{set:function(u){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=u}},shadowCameraTop:{set:function(u){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=u}},shadowCameraBottom:{set:function(u){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=u}},shadowCameraNear:{set:function(u){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=u}},shadowCameraFar:{set:function(u){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=u}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(u){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=u}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(u){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=u}},shadowMapHeight:{set:function(u){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=u}}}),Object.defineProperties(Bn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===_l},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(_l)}}}),Object.assign(Bn.prototype,{setDynamic:function(u){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(u===!0?_l:l0),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Pn.prototype,{addIndex:function(u){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(u)},addAttribute:function(u,d){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(d&&d.isBufferAttribute)&&!(d&&d.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(u,new Bn(arguments[1],arguments[2]))):u==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(d),this):this.setAttribute(u,d)},addDrawCall:function(u,d,c){c!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(u,d)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(u){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(u)},applyMatrix:function(u){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(u)}}),Object.defineProperties(Pn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(H1.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(u){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=u}}}),Object.defineProperties(Z3.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(u){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=u}}}),Object.defineProperties(kl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===_l},set:function(u){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(u)}}}),Object.assign(kl.prototype,{setDynamic:function(u){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(u===!0?_l:l0),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(xp.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign($x.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(U_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Qn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new En}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(u){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=u===H}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(u){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=u}}}),Object.defineProperties(k0.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(U0.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(u){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=u}}}),Object.defineProperties(lo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(u){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=u}}}),Object.assign(f1.prototype,{clearTarget:function(u,d,c,f){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(u),this.clear(d,c,f)},animate:function(u){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(u)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(u){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(u)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(f1.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(u){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=u}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(u){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=u}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(u){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=u===!0?o0:Ro}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(QA.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function nL(m,u,d){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ya(m,d)}Object.defineProperties(ko.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(u){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=u}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(u){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=u}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(u){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=u}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(u){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=u}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(u){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=u}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(u){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=u}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(u){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=u}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(u){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=u}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(u){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=u}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(u){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=u}}}),Object.defineProperties(Y1.prototype,{load:{value:function(u){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var d=this,c=new z1;return c.load(u,function(f){d.setBuffer(f)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),B_.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},js.prototype.updateCubeMap=function(m,u){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(m,u)},js.prototype.clear=function(m,u,d,c){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(m,u,d,c)};var uE={merge:function(u,d,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var f;d.isMesh&&(d.matrixAutoUpdate&&d.updateMatrix(),f=d.matrix,d=d.geometry),u.merge(d,f,c)},center:function(u){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),u.center()}};Cc.crossOrigin=void 0,Cc.loadTexture=function(m,u,d,c){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var f=new og;f.setCrossOrigin(this.crossOrigin);var x=f.load(m,d,void 0,c);return u&&(x.mapping=u),x},Cc.loadTextureCube=function(m,u,d,c){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var f=new ig;f.setCrossOrigin(this.crossOrigin);var x=f.load(m,d,void 0,c);return u&&(x.mapping=u),x},Cc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Cc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function rL(){console.error("THREE.CanvasRenderer has been removed")}function iL(){console.error("THREE.JSONLoader has been removed.")}var hM={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function oL(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n}})),t.ACESFilmicToneMapping=me,t.AddEquation=ce,t.AddOperation=_e,t.AdditiveAnimationBlendMode=nr,t.AdditiveBlending=$,t.AlphaFormat=yr,t.AlwaysDepth=Ye,t.AlwaysStencilFunc=Bu,t.AmbientLight=ug,t.AmbientLightProbe=Y3,t.AnimationClip=nl,t.AnimationLoader=C3,t.AnimationMixer=Q3,t.AnimationObjectGroup=I_,t.AnimationUtils=io,t.ArcCurve=Sp,t.ArrayCamera=P2,t.ArrowHelper=AC,t.Audio=Y1,t.AudioAnalyser=B_,t.AudioContext=H3,t.AudioListener=iC,t.AudioLoader=z1,t.AxesHelper=$_,t.AxisHelper=JC,t.BackSide=B,t.BasicDepthPacking=da,t.BasicShadowMap=w,t.BinaryTextureLoader=tL,t.Bone=y1,t.BooleanKeyframeTrack=tg,t.BoundingBoxHelper=ZC,t.Box2=G_,t.Box3=pa,t.Box3Helper=EC,t.BoxBufferGeometry=Qu,t.BoxGeometry=s3,t.BoxHelper=Z_,t.BufferAttribute=Bn,t.BufferGeometry=Pn,t.BufferGeometryLoader=dg,t.ByteType=eo,t.Cache=Wh,t.Camera=ln,t.CameraHelper=xC,t.CanvasRenderer=rL,t.CanvasTexture=mp,t.CatmullRomCurve3=Ks,t.CineonToneMapping=he,t.CircleBufferGeometry=a3,t.CircleGeometry=n_,t.ClampToEdgeWrapping=Xe,t.Clock=L_,t.ClosedSplineCurve3=cM,t.Color=En,t.ColorKeyframeTrack=F1,t.CompressedTexture=pp,t.CompressedTextureLoader=N1,t.ConeBufferGeometry=i_,t.ConeGeometry=r_,t.CubeCamera=js,t.CubeGeometry=s3,t.CubeReflectionMapping=ze,t.CubeRefractionMapping=At,t.CubeTexture=Qs,t.CubeTextureLoader=ig,t.CubeUVReflectionMapping=Et,t.CubeUVRefractionMapping=Pt,t.CubicBezierCurve=nc,t.CubicBezierCurve3=Hc,t.CubicInterpolant=eg,t.CullFaceBack=e,t.CullFaceFront=p,t.CullFaceFrontBack=v,t.CullFaceNone=l,t.Curve=Gn,t.CurvePath=bf,t.CustomBlending=K,t.CustomToneMapping=xt,t.CylinderBufferGeometry=T1,t.CylinderGeometry=l3,t.Cylindrical=pC,t.DataTexture=Bl,t.DataTexture2DArray=op,t.DataTexture3D=sp,t.DataTextureLoader=I1,t.DataUtils=MC,t.DecrementStencilOp=Gd,t.DecrementWrapStencilOp=n2,t.DefaultLoadingManager=A_,t.DepthFormat=Kn,t.DepthStencilFormat=Kr,t.DepthTexture=S1,t.DirectionalLight=lg,t.DirectionalLightHelper=yC,t.DiscreteInterpolant=wp,t.DodecahedronBufferGeometry=u3,t.DodecahedronGeometry=V2,t.DoubleSide=A,t.DstAlphaFactor=mt,t.DstColorFactor=Wt,t.DynamicBufferAttribute=HC,t.DynamicCopyUsage=l2,t.DynamicDrawUsage=_l,t.DynamicReadUsage=Xd,t.EdgesGeometry=c3,t.EdgesHelper=KC,t.EllipseCurve=Xl,t.EqualDepth=oe,t.EqualStencilFunc=Ya,t.EquirectangularReflectionMapping=gt,t.EquirectangularRefractionMapping=Ft,t.Euler=bh,t.EventDispatcher=Xs,t.ExtrudeBufferGeometry=xp,t.ExtrudeGeometry=p3,t.Face3=Yu,t.Face4=LC,t.FaceColors=DC,t.FileLoader=mu,t.FlatShading=H,t.Float16BufferAttribute=x0,t.Float32Attribute=QC,t.Float32BufferAttribute=an,t.Float64Attribute=qC,t.Float64BufferAttribute=xf,t.FloatType=yo,t.Fog=JA,t.FogExp2=Kx,t.Font=mg,t.FontLoader=X3,t.FrontSide=R,t.Frustum=qu,t.GLBufferAttribute=J3,t.GLSL1=Vm,t.GLSL3=u0,t.GammaEncoding=za,t.Geometry=Pi,t.GeometryUtils=uE,t.GreaterDepth=ge,t.GreaterEqualDepth=we,t.GreaterEqualStencilFunc=bc,t.GreaterStencilFunc=Ym,t.GridHelper=q_,t.Group=D0,t.HalfFloatType=Fe,t.HemisphereLight=sg,t.HemisphereLightHelper=vC,t.HemisphereLightProbe=z3,t.IcosahedronBufferGeometry=m3,t.IcosahedronGeometry=v3,t.ImageBitmapLoader=k3,t.ImageLoader=Mp,t.ImageUtils=Cc,t.ImmediateRenderObject=V1,t.IncrementStencilOp=s0,t.IncrementWrapStencilOp=Hm,t.InstancedBufferAttribute=hg,t.InstancedBufferGeometry=H1,t.InstancedInterleavedBuffer=q3,t.InstancedMesh=O2,t.Int16Attribute=VC,t.Int16BufferAttribute=g0,t.Int32Attribute=jC,t.Int32BufferAttribute=y0,t.Int8Attribute=lM,t.Int8BufferAttribute=Fc,t.IntType=Lo,t.InterleavedBuffer=kl,t.InterleavedBufferAttribute=B0,t.Interpolant=Gl,t.InterpolateDiscrete=r0,t.InterpolateLinear=i0,t.InterpolateSmooth=_h,t.InvertStencilOp=zm,t.JSONLoader=iL,t.KeepStencilOp=gf,t.KeyframeTrack=Ds,t.LOD=v1,t.LatheBufferGeometry=g3,t.LatheGeometry=h_,t.Layers=Wd,t.LensFlare=oL,t.LessDepth=Re,t.LessEqualDepth=re,t.LessEqualStencilFunc=Tc,t.LessStencilFunc=a0,t.Light=Ji,t.LightProbe=gu,t.Line=pu,t.Line3=xg,t.LineBasicMaterial=uo,t.LineCurve=rl,t.LineCurve3=rc,t.LineDashedMaterial=Vh,t.LineLoop=G2,t.LinePieces=RC,t.LineSegments=wa,t.LineStrip=PC,t.LinearEncoding=Ro,t.LinearFilter=fr,t.LinearInterpolant=D1,t.LinearMipMapLinearFilter=Wr,t.LinearMipMapNearestFilter=ci,t.LinearMipmapLinearFilter=Xr,t.LinearMipmapNearestFilter=Zr,t.LinearToneMapping=Se,t.Loader=Ri,t.LoaderUtils=U3,t.LoadingManager=b3,t.LogLuvEncoding=ha,t.LoopOnce=Od,t.LoopPingPong=Ah,t.LoopRepeat=Gs,t.LuminanceAlphaFormat=Fi,t.LuminanceFormat=Sr,t.MOUSE=i,t.Material=Qn,t.MaterialLoader=fg,t.Math=$n,t.MathUtils=$n,t.Matrix3=as,t.Matrix4=Pr,t.MaxEquation=Ee,t.Mesh=Tr,t.MeshBasicMaterial=Vs,t.MeshDepthMaterial=R0,t.MeshDistanceMaterial=tl,t.MeshFaceMaterial=BC,t.MeshLambertMaterial=zh,t.MeshMatcapMaterial=Yh,t.MeshNormalMaterial=Hh,t.MeshPhongMaterial=k0,t.MeshPhysicalMaterial=U0,t.MeshStandardMaterial=Xc,t.MeshToonMaterial=G0,t.MinEquation=Me,t.MirroredRepeatWrapping=Ct,t.MixOperation=P,t.MultiMaterial=NC,t.MultiplyBlending=ue,t.MultiplyOperation=Ce,t.NearestFilter=zt,t.NearestMipMapLinearFilter=oi,t.NearestMipMapNearestFilter=lr,t.NearestMipmapLinearFilter=zn,t.NearestMipmapNearestFilter=sn,t.NeverDepth=Le,t.NeverStencilFunc=r2,t.NoBlending=O,t.NoColors=aM,t.NoToneMapping=ke,t.NormalAnimationBlendMode=Ha,t.NormalBlending=U,t.NotEqualDepth=be,t.NotEqualStencilFunc=i2,t.NumberKeyframeTrack=Ap,t.Object3D=Tn,t.ObjectLoader=$b,t.ObjectSpaceNormalMap=t2,t.OctahedronBufferGeometry=Z2,t.OctahedronGeometry=d_,t.OneFactor=Oe,t.OneMinusDstAlphaFactor=Ht,t.OneMinusDstColorFactor=et,t.OneMinusSrcAlphaFactor=at,t.OneMinusSrcColorFactor=Ze,t.OrthographicCamera=Tp,t.PCFShadowMap=E,t.PCFSoftShadowMap=T,t.PMREMGenerator=SC,t.ParametricBufferGeometry=Ep,t.ParametricGeometry=P1,t.Particle=OC,t.ParticleBasicMaterial=GC,t.ParticleSystem=UC,t.ParticleSystemMaterial=aE,t.Path=oc,t.PerspectiveCamera=ro,t.Plane=ga,t.PlaneBufferGeometry=Za,t.PlaneGeometry=p_,t.PlaneHelper=wC,t.PointCloud=IC,t.PointCloudMaterial=kC,t.PointLight=X1,t.PointLightHelper=W_,t.Points=dp,t.PointsMaterial=$u,t.PolarGridHelper=gC,t.PolyhedronBufferGeometry=Gh,t.PolyhedronGeometry=y3,t.PositionalAudio=oC,t.PropertyBinding=$s,t.PropertyMixer=V3,t.QuadraticBezierCurve=vu,t.QuadraticBezierCurve3=zc,t.Quaternion=ls,t.QuaternionKeyframeTrack=B1,t.QuaternionLinearInterpolant=ng,t.REVISION=n,t.RGBADepthPacking=e2,t.RGBAFormat=Qt,t.RGBAIntegerFormat=Uo,t.RGBA_ASTC_10x10_Format=Mc,t.RGBA_ASTC_10x5_Format=Qv,t.RGBA_ASTC_10x6_Format=Eh,t.RGBA_ASTC_10x8_Format=bi,t.RGBA_ASTC_12x10_Format=qv,t.RGBA_ASTC_12x12_Format=Jv,t.RGBA_ASTC_4x4_Format=Ss,t.RGBA_ASTC_5x4_Format=xh,t.RGBA_ASTC_5x5_Format=Wv,t.RGBA_ASTC_6x5_Format=Bm,t.RGBA_ASTC_6x6_Format=t0,t.RGBA_ASTC_8x5_Format=jv,t.RGBA_ASTC_8x6_Format=jt,t.RGBA_ASTC_8x8_Format=_c,t.RGBA_BPTC_Format=n0,t.RGBA_ETC2_EAC_Format=Pu,t.RGBA_PVRTC_2BPPV1_Format=Zo,t.RGBA_PVRTC_4BPPV1_Format=Lu,t.RGBA_S3TC_DXT1_Format=wl,t.RGBA_S3TC_DXT3_Format=ks,t.RGBA_S3TC_DXT5_Format=nu,t.RGBDEncoding=Xm,t.RGBEEncoding=Sc,t.RGBEFormat=ki,t.RGBFormat=Zn,t.RGBIntegerFormat=tu,t.RGBM16Encoding=Gm,t.RGBM7Encoding=Mh,t.RGB_ETC1_Format=os,t.RGB_ETC2_Format=ru,t.RGB_PVRTC_2BPPV1_Format=to,t.RGB_PVRTC_4BPPV1_Format=Bi,t.RGB_S3TC_DXT1_Format=kn,t.RGFormat=fa,t.RGIntegerFormat=Wi,t.RawShaderMaterial=Tf,t.Ray=zs,t.Raycaster=Z3,t.RectAreaLight=cg,t.RedFormat=ca,t.RedIntegerFormat=fi,t.ReinhardToneMapping=se,t.RepeatWrapping=qt,t.ReplaceStencilOp=kd,t.ReverseSubtractEquation=Ve,t.RingBufferGeometry=K2,t.RingGeometry=m_,t.SRGB8_ALPHA8_ASTC_10x10_Format=Xa,t.SRGB8_ALPHA8_ASTC_10x5_Format=Kv,t.SRGB8_ALPHA8_ASTC_10x6_Format=Om,t.SRGB8_ALPHA8_ASTC_10x8_Format=Ga,t.SRGB8_ALPHA8_ASTC_12x10_Format=Um,t.SRGB8_ALPHA8_ASTC_12x12_Format=km,t.SRGB8_ALPHA8_ASTC_4x4_Format=Nm,t.SRGB8_ALPHA8_ASTC_5x4_Format=rn,t.SRGB8_ALPHA8_ASTC_5x5_Format=Po,t.SRGB8_ALPHA8_ASTC_6x5_Format=wh,t.SRGB8_ALPHA8_ASTC_6x6_Format=mf,t.SRGB8_ALPHA8_ASTC_8x5_Format=Ru,t.SRGB8_ALPHA8_ASTC_8x6_Format=Im,t.SRGB8_ALPHA8_ASTC_8x8_Format=Zv,t.Scene=$x,t.SceneUtils=hM,t.ShaderChunk=Ir,t.ShaderLib=Il,t.ShaderMaterial=lo,t.ShadowMaterial=Xh,t.Shape=X0,t.ShapeBufferGeometry=x3,t.ShapeGeometry=w3,t.ShapePath=G3,t.ShapeUtils=ec,t.ShortType=Ms,t.Skeleton=E1,t.SkeletonHelper=Y_,t.SkinnedMesh=g1,t.SmoothShading=G,t.Sphere=ds,t.SphereBufferGeometry=$2,t.SphereGeometry=v_,t.Spherical=dC,t.SphericalHarmonics3=O3,t.Spline=lE,t.SplineCurve=ic,t.SplineCurve3=fM,t.SpotLight=ag,t.SpotLightHelper=z_,t.Sprite=m1,t.SpriteMaterial=N0,t.SrcAlphaFactor=Qe,t.SrcAlphaSaturateFactor=De,t.SrcColorFactor=tt,t.StaticCopyUsage=a2,t.StaticDrawUsage=l0,t.StaticReadUsage=s2,t.StereoCamera=C_,t.StreamCopyUsage=u2,t.StreamDrawUsage=o2,t.StreamReadUsage=Hd,t.StringKeyframeTrack=rg,t.SubtractEquation=ve,t.SubtractiveBlending=ie,t.TOUCH=s,t.TangentSpaceNormalMap=iu,t.TetrahedronBufferGeometry=A3,t.TetrahedronGeometry=g_,t.TextBufferGeometry=_3,t.TextGeometry=y_,t.Texture=jn,t.TextureLoader=og,t.TorusBufferGeometry=M3,t.TorusGeometry=x_,t.TorusKnotBufferGeometry=S3,t.TorusKnotGeometry=E_,t.Triangle=xo,t.TriangleFanDrawMode=ss,t.TriangleStripDrawMode=$v,t.TrianglesDrawMode=Ud,t.TubeBufferGeometry=R1,t.TubeGeometry=w_,t.UVMapping=pt,t.Uint16Attribute=WC,t.Uint16BufferAttribute=lu,t.Uint32Attribute=uM,t.Uint32BufferAttribute=uu,t.Uint8Attribute=zC,t.Uint8BufferAttribute=au,t.Uint8ClampedAttribute=YC,t.Uint8ClampedBufferAttribute=v0,t.Uniform=U_,t.UniformsLib=on,t.UniformsUtils=Jd,t.UnsignedByteType=Mr,t.UnsignedInt248Type=Kt,t.UnsignedIntType=Jo,t.UnsignedShort4444Type=bt,t.UnsignedShort5551Type=Mt,t.UnsignedShort565Type=It,t.UnsignedShortType=si,t.VSMShadowMap=C,t.Vector2=kt,t.Vector3=Pe,t.Vector4=Ur,t.VectorKeyframeTrack=_p,t.Vertex=XC,t.VertexColors=FC,t.VideoTexture=i3,t.WebGL1Renderer=Zx,t.WebGLCubeRenderTarget=ya,t.WebGLMultisampleRenderTarget=Va,t.WebGLRenderTarget=ko,t.WebGLRenderTargetCube=nL,t.WebGLRenderer=f1,t.WebGLUtils=L2,t.WireframeGeometry=T3,t.WireframeHelper=$C,t.WrapAroundEnding=vf,t.XHRLoader=eL,t.ZeroCurvatureEnding=Du,t.ZeroFactor=Ne,t.ZeroSlopeEnding=Fu,t.ZeroStencilOp=Al,t.sRGBEncoding=o0,Object.defineProperty(t,"__esModule",{value:!0})})}),M8=cs((mse,gw)=>{gw.exports=function(n){var i={};"use strict";var s=RM(),l=ho(),e=GM();function p(S){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+S,I=1;I<arguments.length;I++)b+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+S+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,T=60107,C=60108,R=60114,B=60109,A=60110,H=60112,G=60113,O=60120,U=60115,$=60116,ie=60121,ue=60129,K=60130,ce=60131;if(typeof Symbol=="function"&&Symbol.for){var ve=Symbol.for;w=ve("react.element"),E=ve("react.portal"),T=ve("react.fragment"),C=ve("react.strict_mode"),R=ve("react.profiler"),B=ve("react.provider"),A=ve("react.context"),H=ve("react.forward_ref"),G=ve("react.suspense"),O=ve("react.suspense_list"),U=ve("react.memo"),$=ve("react.lazy"),ie=ve("react.block"),ve("react.scope"),ue=ve("react.debug_trace_mode"),K=ve("react.offscreen"),ce=ve("react.legacy_hidden")}var Ve=typeof Symbol=="function"&&Symbol.iterator;function Me(S){return S===null||typeof S!="object"?null:(S=Ve&&S[Ve]||S["@@iterator"],typeof S=="function"?S:null)}function Ee(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case T:return"Fragment";case E:return"Portal";case R:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case O:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case A:return(S.displayName||"Context")+".Consumer";case B:return(S._context.displayName||"Context")+".Provider";case H:var b=S.render;return b=b.displayName||b.name||"",S.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case U:return Ee(S.type);case ie:return Ee(S._render);case $:b=S._payload,S=S._init;try{return Ee(S(b))}catch(I){}}return null}function Ne(S){var b=S,I=S;if(S.alternate)for(;b.return;)b=b.return;else{S=b;do b=S,(b.flags&1026)!==0&&(I=b.return),S=b.return;while(S)}return b.tag===3?I:null}function Oe(S){if(Ne(S)!==S)throw Error(p(188))}function tt(S){var b=S.alternate;if(!b){if(b=Ne(S),b===null)throw Error(p(188));return b!==S?null:S}for(var I=S,J=b;;){var ee=I.return;if(ee===null)break;var fe=ee.alternate;if(fe===null){if(J=ee.return,J!==null){I=J;continue}break}if(ee.child===fe.child){for(fe=ee.child;fe;){if(fe===I)return Oe(ee),S;if(fe===J)return Oe(ee),b;fe=fe.sibling}throw Error(p(188))}if(I.return!==J.return)I=ee,J=fe;else{for(var Ge=!1,it=ee.child;it;){if(it===I){Ge=!0,I=ee,J=fe;break}if(it===J){Ge=!0,J=ee,I=fe;break}it=it.sibling}if(!Ge){for(it=fe.child;it;){if(it===I){Ge=!0,I=fe,J=ee;break}if(it===J){Ge=!0,J=fe,I=ee;break}it=it.sibling}if(!Ge)throw Error(p(189))}}if(I.alternate!==J)throw Error(p(190))}if(I.tag!==3)throw Error(p(188));return I.stateNode.current===I?S:b}function Ze(S){if(S=tt(S),!S)return null;for(var b=S;;){if(b.tag===5||b.tag===6)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===S)break;for(;!b.sibling;){if(!b.return||b.return===S)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function Qe(S){if(S=tt(S),!S)return null;for(var b=S;;){if(b.tag===5||b.tag===6)return b;if(b.child&&b.tag!==4)b.child.return=b,b=b.child;else{if(b===S)break;for(;!b.sibling;){if(!b.return||b.return===S)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function at(S,b){for(var I=S.alternate;b!==null;){if(b===S||b===I)return!0;b=b.return}return!1}var mt=n.getPublicInstance,Ht=n.getRootHostContext,Wt=n.getChildHostContext,et=n.prepareForCommit,De=n.resetAfterCommit,Le=n.createInstance,Ye=n.appendInitialChild,Re=n.finalizeInitialChildren,re=n.prepareUpdate,oe=n.shouldSetTextContent,we=n.createTextInstance,ge=n.scheduleTimeout,be=n.cancelTimeout,Ce=n.noTimeout,P=n.isPrimaryRenderer,_e=n.supportsMutation,ke=n.supportsPersistence,Se=n.supportsHydration,se=n.getInstanceFromNode,he=n.makeOpaqueHydratingObject,me=n.makeClientId,xt=n.beforeActiveInstanceBlur,pt=n.afterActiveInstanceBlur,ze=n.preparePortalMount,At=n.supportsTestSelectors,gt=n.findFiberRoot,Ft=n.getBoundingRect,Et=n.getTextContent,Pt=n.isHiddenSubtree,qt=n.matchAccessibilityRole,Xe=n.setFocusIfFocusable,Ct=n.setupIntersectionObserver,zt=n.appendChild,sn=n.appendChildToContainer,lr=n.commitTextUpdate,zn=n.commitMount,oi=n.commitUpdate,fr=n.insertBefore,Zr=n.insertInContainerBefore,ci=n.removeChild,Xr=n.removeChildFromContainer,Wr=n.resetTextContent,Mr=n.hideInstance,eo=n.hideTextInstance,Ms=n.unhideInstance,si=n.unhideTextInstance,Lo=n.clearContainer,Jo=n.cloneInstance,yo=n.createContainerChildSet,Fe=n.appendChildToContainerChildSet,bt=n.finalizeContainerChildren,Mt=n.replaceContainerChildren,It=n.cloneHiddenInstance,Kt=n.cloneHiddenTextInstance,yr=n.canHydrateInstance,Zn=n.canHydrateTextInstance,Qt=n.isSuspenseInstancePending,Sr=n.isSuspenseInstanceFallback,Fi=n.getNextHydratableSibling,ki=n.getFirstHydratableChild,Kn=n.hydrateInstance,Kr=n.hydrateTextInstance,ca=n.getNextHydratableInstanceAfterSuspenseInstance,fi=n.commitHydratedContainer,fa=n.commitHydratedSuspenseInstance,Wi;function tu(S){if(Wi===void 0)try{throw Error()}catch(I){var b=I.stack.trim().match(/\n( *(at )?)/);Wi=b&&b[1]||""}return`
`+Wi+S}var Uo=!1;function kn(S,b){if(!S||Uo)return"";Uo=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(Rt){var J=Rt}Reflect.construct(S,[],b)}else{try{b.call()}catch(Rt){J=Rt}S.call(b.prototype)}else{try{throw Error()}catch(Rt){J=Rt}S()}}catch(Rt){if(Rt&&J&&typeof Rt.stack=="string"){for(var ee=Rt.stack.split(`
`),fe=J.stack.split(`
`),Ge=ee.length-1,it=fe.length-1;1<=Ge&&0<=it&&ee[Ge]!==fe[it];)it--;for(;1<=Ge&&0<=it;Ge--,it--)if(ee[Ge]!==fe[it]){if(Ge!==1||it!==1)do if(Ge--,it--,0>it||ee[Ge]!==fe[it])return`
`+ee[Ge].replace(" at new "," at ");while(1<=Ge&&0<=it);break}}}finally{Uo=!1,Error.prepareStackTrace=I}return(S=S?S.displayName||S.name:"")?tu(S):""}var wl=[],ks=-1;function nu(S){return{current:S}}function Bi(S){0>ks||(S.current=wl[ks],wl[ks]=null,ks--)}function to(S,b){ks++,wl[ks]=S.current,S.current=b}var Lu={},Zo=nu(Lu),os=nu(!1),ru=Lu;function Pu(S,b){var I=S.type.contextTypes;if(!I)return Lu;var J=S.stateNode;if(J&&J.__reactInternalMemoizedUnmaskedChildContext===b)return J.__reactInternalMemoizedMaskedChildContext;var ee={},fe;for(fe in I)ee[fe]=b[fe];return J&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=b,S.__reactInternalMemoizedMaskedChildContext=ee),ee}function Ss(S){return S=S.childContextTypes,S!=null}function xh(){Bi(os),Bi(Zo)}function Wv(S,b,I){if(Zo.current!==Lu)throw Error(p(168));to(Zo,b),to(os,I)}function Bm(S,b,I){var J=S.stateNode;if(S=b.childContextTypes,typeof J.getChildContext!="function")return I;J=J.getChildContext();for(var ee in J)if(!(ee in S))throw Error(p(108,Ee(b)||"Unknown",ee));return s({},I,J)}function t0(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||Lu,ru=Zo.current,to(Zo,S),to(os,os.current),!0}function jv(S,b,I){var J=S.stateNode;if(!J)throw Error(p(169));I?(S=Bm(S,b,ru),J.__reactInternalMemoizedMergedChildContext=S,Bi(os),Bi(Zo),to(Zo,S)):Bi(os),to(os,I)}var jt=null,_c=null,Qv=e.unstable_now;Qv();var Eh=0,bi=8;function Mc(S){if((1&S)!==0)return bi=15,1;if((2&S)!==0)return bi=14,2;if((4&S)!==0)return bi=13,4;var b=24&S;return b!==0?(bi=12,b):(S&32)!==0?(bi=11,32):(b=192&S,b!==0?(bi=10,b):(S&256)!==0?(bi=9,256):(b=3584&S,b!==0?(bi=8,b):(S&4096)!==0?(bi=7,4096):(b=4186112&S,b!==0?(bi=6,b):(b=62914560&S,b!==0?(bi=5,b):S&67108864?(bi=4,67108864):(S&134217728)!==0?(bi=3,134217728):(b=805306368&S,b!==0?(bi=2,b):(1073741824&S)!==0?(bi=1,1073741824):(bi=8,S))))))}function qv(S){switch(S){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Jv(S){switch(S){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(p(358,S))}}function n0(S,b){var I=S.pendingLanes;if(I===0)return bi=0;var J=0,ee=0,fe=S.expiredLanes,Ge=S.suspendedLanes,it=S.pingedLanes;if(fe!==0)J=fe,ee=bi=15;else if(fe=I&134217727,fe!==0){var Rt=fe&~Ge;Rt!==0?(J=Mc(Rt),ee=bi):(it&=fe,it!==0&&(J=Mc(it),ee=bi))}else fe=I&~Ge,fe!==0?(J=Mc(fe),ee=bi):it!==0&&(J=Mc(it),ee=bi);if(J===0)return 0;if(J=31-Ru(J),J=I&((0>J?0:1<<J)<<1)-1,b!==0&&b!==J&&(b&Ge)===0){if(Mc(b),ee<=bi)return b;bi=ee}if(b=S.entangledLanes,b!==0)for(S=S.entanglements,b&=J;0<b;)I=31-Ru(b),ee=1<<I,J|=S[I],b&=~ee;return J}function Nm(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function rn(S,b){switch(S){case 15:return 1;case 14:return 2;case 12:return S=Po(24&~b),S===0?rn(10,b):S;case 10:return S=Po(192&~b),S===0?rn(8,b):S;case 8:return S=Po(3584&~b),S===0&&(S=Po(4186112&~b),S===0&&(S=512)),S;case 2:return b=Po(805306368&~b),b===0&&(b=268435456),b}throw Error(p(358,S))}function Po(S){return S&-S}function wh(S){for(var b=[],I=0;31>I;I++)b.push(S);return b}function mf(S,b,I){S.pendingLanes|=b;var J=b-1;S.suspendedLanes&=J,S.pingedLanes&=J,S=S.eventTimes,b=31-Ru(b),S[b]=I}var Ru=Math.clz32?Math.clz32:Kv,Im=Math.log,Zv=Math.LN2;function Kv(S){return S===0?32:31-(Im(S)/Zv|0)|0}var Om=e.unstable_runWithPriority,Ga=e.unstable_scheduleCallback,Xa=e.unstable_cancelCallback,Um=e.unstable_shouldYield,km=e.unstable_requestPaint,Od=e.unstable_now,Gs=e.unstable_getCurrentPriorityLevel,Ah=e.unstable_ImmediatePriority,r0=e.unstable_UserBlockingPriority,i0=e.unstable_NormalPriority,_h=e.unstable_LowPriority,Du=e.unstable_IdlePriority,Fu={},vf=km!==void 0?km:function(){},Ha=null,nr=null,Ud=!1,$v=Od(),ss=1e4>$v?Od:function(){return Od()-$v};function Ro(){switch(Gs()){case Ah:return 99;case r0:return 98;case i0:return 97;case _h:return 96;case Du:return 95;default:throw Error(p(332))}}function o0(S){switch(S){case 99:return Ah;case 98:return r0;case 97:return i0;case 96:return _h;case 95:return Du;default:throw Error(p(332))}}function za(S,b){return S=o0(S),Om(S,b)}function Sc(S,b,I){return S=o0(S),Ga(S,b,I)}function ha(){if(nr!==null){var S=nr;nr=null,Xa(S)}Mh()}function Mh(){if(!Ud&&Ha!==null){Ud=!0;var S=0;try{var b=Ha;za(99,function(){for(;S<b.length;S++){var I=b[S];do I=I(!0);while(I!==null)}}),Ha=null}catch(I){throw Ha!==null&&(Ha=Ha.slice(S+1)),Ga(Ah,ha),I}finally{Ud=!1}}}var Gm=v.ReactCurrentBatchConfig;function Xm(S,b){return S===b&&(S!==0||1/S===1/b)||S!==S&&b!==b}var da=typeof Object.is=="function"?Object.is:Xm,e2=Object.prototype.hasOwnProperty;function iu(S,b){if(da(S,b))return!0;if(typeof S!="object"||S===null||typeof b!="object"||b===null)return!1;var I=Object.keys(S),J=Object.keys(b);if(I.length!==J.length)return!1;for(J=0;J<I.length;J++)if(!e2.call(b,I[J])||!da(S[I[J]],b[I[J]]))return!1;return!0}function t2(S){switch(S.tag){case 5:return tu(S.type);case 16:return tu("Lazy");case 13:return tu("Suspense");case 19:return tu("SuspenseList");case 0:case 2:case 15:return S=kn(S.type,!1),S;case 11:return S=kn(S.type.render,!1),S;case 22:return S=kn(S.type._render,!1),S;case 1:return S=kn(S.type,!0),S;default:return""}}function Al(S,b){if(S&&S.defaultProps){b=s({},b),S=S.defaultProps;for(var I in S)b[I]===void 0&&(b[I]=S[I]);return b}return b}var gf=nu(null),kd=null,s0=null,Gd=null;function Hm(){Gd=s0=kd=null}function n2(S,b){S=S.type._context,P?(to(gf,S._currentValue),S._currentValue=b):(to(gf,S._currentValue2),S._currentValue2=b)}function zm(S){var b=gf.current;Bi(gf),S=S.type._context,P?S._currentValue=b:S._currentValue2=b}function r2(S,b){for(;S!==null;){var I=S.alternate;if((S.childLanes&b)===b){if(I===null||(I.childLanes&b)===b)break;I.childLanes|=b}else S.childLanes|=b,I!==null&&(I.childLanes|=b);S=S.return}}function a0(S,b){kd=S,Gd=s0=null,S=S.dependencies,S!==null&&S.firstContext!==null&&((S.lanes&b)!==0&&(ja=!0),S.firstContext=null)}function Ya(S,b){if(Gd!==S&&b!==!1&&b!==0)if((typeof b!="number"||b===1073741823)&&(Gd=S,b=1073741823),b={context:S,observedBits:b,next:null},s0===null){if(kd===null)throw Error(p(308));s0=b,kd.dependencies={lanes:0,firstContext:b,responders:null}}else s0=s0.next=b;return P?S._currentValue:S._currentValue2}var Tc=!1;function Ym(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function i2(S,b){S=S.updateQueue,b.updateQueue===S&&(b.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function bc(S,b){return{eventTime:S,lane:b,tag:0,payload:null,callback:null,next:null}}function Bu(S,b){if(S=S.updateQueue,S!==null){S=S.shared;var I=S.pending;I===null?b.next=b:(b.next=I.next,I.next=b),S.pending=b}}function l0(S,b){var I=S.updateQueue,J=S.alternate;if(J!==null&&(J=J.updateQueue,I===J)){var ee=null,fe=null;if(I=I.firstBaseUpdate,I!==null){do{var Ge={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};fe===null?ee=fe=Ge:fe=fe.next=Ge,I=I.next}while(I!==null);fe===null?ee=fe=b:fe=fe.next=b}else ee=fe=b;I={baseState:J.baseState,firstBaseUpdate:ee,lastBaseUpdate:fe,shared:J.shared,effects:J.effects},S.updateQueue=I;return}S=I.lastBaseUpdate,S===null?I.firstBaseUpdate=b:S.next=b,I.lastBaseUpdate=b}function _l(S,b,I,J){var ee=S.updateQueue;Tc=!1;var fe=ee.firstBaseUpdate,Ge=ee.lastBaseUpdate,it=ee.shared.pending;if(it!==null){ee.shared.pending=null;var Rt=it,nn=Rt.next;Rt.next=null,Ge===null?fe=nn:Ge.next=nn,Ge=Rt;var In=S.alternate;if(In!==null){In=In.updateQueue;var sr=In.lastBaseUpdate;sr!==Ge&&(sr===null?In.firstBaseUpdate=nn:sr.next=nn,In.lastBaseUpdate=Rt)}}if(fe!==null){sr=ee.baseState,Ge=0,In=nn=Rt=null;do{it=fe.lane;var vn=fe.eventTime;if((J&it)===it){In!==null&&(In=In.next={eventTime:vn,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var Li=S,qi=fe;it=b,vn=I;switch(qi.tag){case 1:if(Li=qi.payload,typeof Li=="function"){sr=Li.call(vn,sr,it);break e}sr=Li;break e;case 3:Li.flags=Li.flags&-4097|64;case 0:if(Li=qi.payload,it=typeof Li=="function"?Li.call(vn,sr,it):Li,it==null)break e;sr=s({},sr,it);break e;case 2:Tc=!0}}fe.callback!==null&&(S.flags|=32,it=ee.effects,it===null?ee.effects=[fe]:it.push(fe))}else vn={eventTime:vn,lane:it,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},In===null?(nn=In=vn,Rt=sr):In=In.next=vn,Ge|=it;if(fe=fe.next,fe===null){if(it=ee.shared.pending,it===null)break;fe=it.next,it.next=null,ee.lastBaseUpdate=it,ee.shared.pending=null}}while(1);In===null&&(Rt=sr),ee.baseState=Rt,ee.firstBaseUpdate=nn,ee.lastBaseUpdate=In,Qu|=Ge,S.lanes=Ge,S.memoizedState=sr}}function o2(S,b,I){if(S=b.effects,b.effects=null,S!==null)for(b=0;b<S.length;b++){var J=S[b],ee=J.callback;if(ee!==null){if(J.callback=null,J=I,typeof ee!="function")throw Error(p(191,ee));ee.call(J)}}}var s2=new l.Component().refs;function Xd(S,b,I,J){b=S.memoizedState,I=I(J,b),I=I==null?b:s({},b,I),S.memoizedState=I,S.lanes===0&&(S.updateQueue.baseState=I)}var Hd={isMounted:function(S){return(S=S._reactInternals)?Ne(S)===S:!1},enqueueSetState:function(S,b,I){S=S._reactInternals;var J=qs(),ee=us(S),fe=bc(J,ee);fe.payload=b,I!=null&&(fe.callback=I),Bu(S,fe),Nl(S,ee,J)},enqueueReplaceState:function(S,b,I){S=S._reactInternals;var J=qs(),ee=us(S),fe=bc(J,ee);fe.tag=1,fe.payload=b,I!=null&&(fe.callback=I),Bu(S,fe),Nl(S,ee,J)},enqueueForceUpdate:function(S,b){S=S._reactInternals;var I=qs(),J=us(S),ee=bc(I,J);ee.tag=2,b!=null&&(ee.callback=b),Bu(S,ee),Nl(S,J,I)}};function a2(S,b,I,J,ee,fe,Ge){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(J,fe,Ge):b.prototype&&b.prototype.isPureReactComponent?!iu(I,J)||!iu(ee,fe):!0}function l2(S,b,I){var J=!1,ee=Lu,fe=b.contextType;return typeof fe=="object"&&fe!==null?fe=Ya(fe):(ee=Ss(b)?ru:Zo.current,J=b.contextTypes,fe=(J=J!=null)?Pu(S,ee):Lu),b=new b(I,fe),S.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Hd,S.stateNode=b,b._reactInternals=S,J&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=ee,S.__reactInternalMemoizedMaskedChildContext=fe),b}function u2(S,b,I,J){S=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(I,J),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(I,J),b.state!==S&&Hd.enqueueReplaceState(b,b.state,null)}function Vm(S,b,I,J){var ee=S.stateNode;ee.props=I,ee.state=S.memoizedState,ee.refs=s2,Ym(S);var fe=b.contextType;typeof fe=="object"&&fe!==null?ee.context=Ya(fe):(fe=Ss(b)?ru:Zo.current,ee.context=Pu(S,fe)),_l(S,I,ee,J),ee.state=S.memoizedState,fe=b.getDerivedStateFromProps,typeof fe=="function"&&(Xd(S,b,fe,I),ee.state=S.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(b=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),b!==ee.state&&Hd.enqueueReplaceState(ee,ee.state,null),_l(S,I,ee,J),ee.state=S.memoizedState),typeof ee.componentDidMount=="function"&&(S.flags|=4)}var u0=Array.isArray;function Xs(S,b,I){if(S=I.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(p(309));var J=I.stateNode}if(!J)throw Error(p(147,S));var ee=""+S;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ee?b.ref:(b=function(fe){var Ge=J.refs;Ge===s2&&(Ge=J.refs={}),fe===null?delete Ge[ee]:Ge[ee]=fe},b._stringRef=ee,b)}if(typeof S!="string")throw Error(p(284));if(!I._owner)throw Error(p(290,S))}return S}function Do(S,b){if(S.type!=="textarea")throw Error(p(31,Object.prototype.toString.call(b)==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function c0(S){function b(wt,lt){if(S){var Bt=wt.lastEffect;Bt!==null?(Bt.nextEffect=lt,wt.lastEffect=lt):wt.firstEffect=wt.lastEffect=lt,lt.nextEffect=null,lt.flags=8}}function I(wt,lt){if(!S)return null;for(;lt!==null;)b(wt,lt),lt=lt.sibling;return null}function J(wt,lt){for(wt=new Map;lt!==null;)lt.key!==null?wt.set(lt.key,lt):wt.set(lt.index,lt),lt=lt.sibling;return wt}function ee(wt,lt){return wt=Zu(wt,lt),wt.index=0,wt.sibling=null,wt}function fe(wt,lt,Bt){return wt.index=Bt,S?(Bt=wt.alternate,Bt!==null?(Bt=Bt.index,Bt<lt?(wt.flags=2,lt):Bt):(wt.flags=2,lt)):lt}function Ge(wt){return S&&wt.alternate===null&&(wt.flags=2),wt}function it(wt,lt,Bt,hn){return lt===null||lt.tag!==6?(lt=l1(Bt,wt.mode,hn),lt.return=wt,lt):(lt=ee(lt,Bt),lt.return=wt,lt)}function Rt(wt,lt,Bt,hn){return lt!==null&&lt.elementType===Bt.type?(hn=ee(lt,Bt.props),hn.ref=Xs(wt,lt,Bt),hn.return=wt,hn):(hn=Oh(Bt.type,Bt.key,Bt.props,null,wt.mode,hn),hn.ref=Xs(wt,lt,Bt),hn.return=wt,hn)}function nn(wt,lt,Bt,hn){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==Bt.containerInfo||lt.stateNode.implementation!==Bt.implementation?(lt=Js(Bt,wt.mode,hn),lt.return=wt,lt):(lt=ee(lt,Bt.children||[]),lt.return=wt,lt)}function In(wt,lt,Bt,hn,On){return lt===null||lt.tag!==7?(lt=Oc(Bt,wt.mode,hn,On),lt.return=wt,lt):(lt=ee(lt,Bt),lt.return=wt,lt)}function sr(wt,lt,Bt){if(typeof lt=="string"||typeof lt=="number")return lt=l1(""+lt,wt.mode,Bt),lt.return=wt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case w:return Bt=Oh(lt.type,lt.key,lt.props,null,wt.mode,Bt),Bt.ref=Xs(wt,null,lt),Bt.return=wt,Bt;case E:return lt=Js(lt,wt.mode,Bt),lt.return=wt,lt}if(u0(lt)||Me(lt))return lt=Oc(lt,wt.mode,Bt,null),lt.return=wt,lt;Do(wt,lt)}return null}function vn(wt,lt,Bt,hn){var On=lt!==null?lt.key:null;if(typeof Bt=="string"||typeof Bt=="number")return On!==null?null:it(wt,lt,""+Bt,hn);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case w:return Bt.key===On?Bt.type===T?In(wt,lt,Bt.props.children,hn,On):Rt(wt,lt,Bt,hn):null;case E:return Bt.key===On?nn(wt,lt,Bt,hn):null}if(u0(Bt)||Me(Bt))return On!==null?null:In(wt,lt,Bt,hn,null);Do(wt,Bt)}return null}function Li(wt,lt,Bt,hn,On){if(typeof hn=="string"||typeof hn=="number")return wt=wt.get(Bt)||null,it(lt,wt,""+hn,On);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case w:return wt=wt.get(hn.key===null?Bt:hn.key)||null,hn.type===T?In(lt,wt,hn.props.children,On,hn.key):Rt(lt,wt,hn,On);case E:return wt=wt.get(hn.key===null?Bt:hn.key)||null,nn(lt,wt,hn,On)}if(u0(hn)||Me(hn))return wt=wt.get(Bt)||null,In(lt,wt,hn,On,null);Do(lt,hn)}return null}function qi(wt,lt,Bt,hn){for(var On=null,Ni=null,qn=lt,pi=lt=0,Ei=null;qn!==null&&pi<Bt.length;pi++){qn.index>pi?(Ei=qn,qn=null):Ei=qn.sibling;var Rr=vn(wt,qn,Bt[pi],hn);if(Rr===null){qn===null&&(qn=Ei);break}S&&qn&&Rr.alternate===null&&b(wt,qn),lt=fe(Rr,lt,pi),Ni===null?On=Rr:Ni.sibling=Rr,Ni=Rr,qn=Ei}if(pi===Bt.length)return I(wt,qn),On;if(qn===null){for(;pi<Bt.length;pi++)qn=sr(wt,Bt[pi],hn),qn!==null&&(lt=fe(qn,lt,pi),Ni===null?On=qn:Ni.sibling=qn,Ni=qn);return On}for(qn=J(wt,qn);pi<Bt.length;pi++)Ei=Li(qn,wt,pi,Bt[pi],hn),Ei!==null&&(S&&Ei.alternate!==null&&qn.delete(Ei.key===null?pi:Ei.key),lt=fe(Ei,lt,pi),Ni===null?On=Ei:Ni.sibling=Ei,Ni=Ei);return S&&qn.forEach(function(Gi){return b(wt,Gi)}),On}function el(wt,lt,Bt,hn){var On=Me(Bt);if(typeof On!="function")throw Error(p(150));if(Bt=On.call(Bt),Bt==null)throw Error(p(151));for(var Ni=On=null,qn=lt,pi=lt=0,Ei=null,Rr=Bt.next();qn!==null&&!Rr.done;pi++,Rr=Bt.next()){qn.index>pi?(Ei=qn,qn=null):Ei=qn.sibling;var Gi=vn(wt,qn,Rr.value,hn);if(Gi===null){qn===null&&(qn=Ei);break}S&&qn&&Gi.alternate===null&&b(wt,qn),lt=fe(Gi,lt,pi),Ni===null?On=Gi:Ni.sibling=Gi,Ni=Gi,qn=Ei}if(Rr.done)return I(wt,qn),On;if(qn===null){for(;!Rr.done;pi++,Rr=Bt.next())Rr=sr(wt,Rr.value,hn),Rr!==null&&(lt=fe(Rr,lt,pi),Ni===null?On=Rr:Ni.sibling=Rr,Ni=Rr);return On}for(qn=J(wt,qn);!Rr.done;pi++,Rr=Bt.next())Rr=Li(qn,wt,pi,Rr.value,hn),Rr!==null&&(S&&Rr.alternate!==null&&qn.delete(Rr.key===null?pi:Rr.key),lt=fe(Rr,lt,pi),Ni===null?On=Rr:Ni.sibling=Rr,Ni=Rr);return S&&qn.forEach(function(Ku){return b(wt,Ku)}),On}return function(wt,lt,Bt,hn){var On=typeof Bt=="object"&&Bt!==null&&Bt.type===T&&Bt.key===null;On&&(Bt=Bt.props.children);var Ni=typeof Bt=="object"&&Bt!==null;if(Ni)switch(Bt.$$typeof){case w:e:{for(Ni=Bt.key,On=lt;On!==null;){if(On.key===Ni){switch(On.tag){case 7:if(Bt.type===T){I(wt,On.sibling),lt=ee(On,Bt.props.children),lt.return=wt,wt=lt;break e}break;default:if(On.elementType===Bt.type){I(wt,On.sibling),lt=ee(On,Bt.props),lt.ref=Xs(wt,On,Bt),lt.return=wt,wt=lt;break e}}I(wt,On);break}else b(wt,On);On=On.sibling}Bt.type===T?(lt=Oc(Bt.props.children,wt.mode,hn,Bt.key),lt.return=wt,wt=lt):(hn=Oh(Bt.type,Bt.key,Bt.props,null,wt.mode,hn),hn.ref=Xs(wt,lt,Bt),hn.return=wt,wt=hn)}return Ge(wt);case E:e:{for(On=Bt.key;lt!==null;){if(lt.key===On)if(lt.tag===4&&lt.stateNode.containerInfo===Bt.containerInfo&&lt.stateNode.implementation===Bt.implementation){I(wt,lt.sibling),lt=ee(lt,Bt.children||[]),lt.return=wt,wt=lt;break e}else{I(wt,lt);break}else b(wt,lt);lt=lt.sibling}lt=Js(Bt,wt.mode,hn),lt.return=wt,wt=lt}return Ge(wt)}if(typeof Bt=="string"||typeof Bt=="number")return Bt=""+Bt,lt!==null&&lt.tag===6?(I(wt,lt.sibling),lt=ee(lt,Bt),lt.return=wt,wt=lt):(I(wt,lt),lt=l1(Bt,wt.mode,hn),lt.return=wt,wt=lt),Ge(wt);if(u0(Bt))return qi(wt,lt,Bt,hn);if(Me(Bt))return el(wt,lt,Bt,hn);if(Ni&&Do(wt,Bt),typeof Bt=="undefined"&&!On)switch(wt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(p(152,Ee(wt.type)||"Component"))}return I(wt,lt)}}var yf=c0(!0),$n=c0(!1),f0={},Ts=nu(f0),Sn=nu(f0),Ml=nu(f0);function kt(S){if(S===f0)throw Error(p(174));return S}function as(S,b){to(Ml,b),to(Sn,S),to(Ts,f0),S=Ht(b),Bi(Ts),to(Ts,S)}function Sl(){Bi(Ts),Bi(Sn),Bi(Ml)}function Cc(S){var b=kt(Ml.current),I=kt(Ts.current);b=Wt(I,S.type,b),I!==b&&(to(Sn,S),to(Ts,b))}function Wm(S){Sn.current===S&&(Bi(Ts),Bi(Sn))}var jn=nu(0);function h0(S){for(var b=S;b!==null;){if(b.tag===13){var I=b.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||Qt(I)||Sr(I)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&64)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)break;for(;b.sibling===null;){if(b.return===null||b.return===S)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Ur=null,ko=null,Va=!1;function ls(S,b){var I=$a(5,null,null,0);I.elementType="DELETED",I.type="DELETED",I.stateNode=b,I.return=S,I.flags=8,S.lastEffect!==null?(S.lastEffect.nextEffect=I,S.lastEffect=I):S.firstEffect=S.lastEffect=I}function Pe(S,b){switch(S.tag){case 5:return b=yr(b,S.type,S.pendingProps),b!==null?(S.stateNode=b,!0):!1;case 6:return b=Zn(b,S.pendingProps),b!==null?(S.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function Sh(S){if(Va){var b=ko;if(b){var I=b;if(!Pe(S,b)){if(b=Fi(I),!b||!Pe(S,b)){S.flags=S.flags&-1025|2,Va=!1,Ur=S;return}ls(Ur,I)}Ur=S,ko=ki(b)}else S.flags=S.flags&-1025|2,Va=!1,Ur=S}}function jm(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;Ur=S}function pa(S){if(!Se||S!==Ur)return!1;if(!Va)return jm(S),Va=!0,!1;var b=S.type;if(S.tag!==5||b!=="head"&&b!=="body"&&!oe(b,S.memoizedProps))for(b=ko;b;)ls(S,b),b=Fi(b);if(jm(S),S.tag===13){if(!Se)throw Error(p(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(p(317));ko=ca(S)}else ko=Ur?Fi(S.stateNode):null;return!0}function Th(){Se&&(ko=Ur=null,Va=!1)}var bs=[];function Lc(){for(var S=0;S<bs.length;S++){var b=bs[S];P?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}bs.length=0}var Pc=v.ReactCurrentDispatcher,Ko=v.ReactCurrentBatchConfig,Tl=0,Ci=null,no=null,ji=null,ou=!1,Nu=!1;function jr(){throw Error(p(321))}function d0(S,b){if(b===null)return!1;for(var I=0;I<b.length&&I<S.length;I++)if(!da(S[I],b[I]))return!1;return!0}function Iu(S,b,I,J,ee,fe){if(Tl=fe,Ci=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Pc.current=S===null||S.memoizedState===null?su:Ps,S=I(J,ee),Nu){fe=0;do{if(Nu=!1,!(25>fe))throw Error(p(301));fe+=1,ji=no=null,b.updateQueue=null,Pc.current=va,S=I(J,ee)}while(Nu)}if(Pc.current=Gu,b=no!==null&&no.next!==null,Tl=0,ji=no=Ci=null,ou=!1,b)throw Error(p(300));return S}function hs(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Ci.memoizedState=ji=S:ji=ji.next=S,ji}function ds(){if(no===null){var S=Ci.alternate;S=S!==null?S.memoizedState:null}else S=no.next;var b=ji===null?Ci.memoizedState:ji.next;if(b!==null)ji=b,no=S;else{if(S===null)throw Error(p(310));no=S,S={memoizedState:no.memoizedState,baseState:no.baseState,baseQueue:no.baseQueue,queue:no.queue,next:null},ji===null?Ci.memoizedState=ji=S:ji=ji.next=S}return ji}function Go(S,b){return typeof b=="function"?b(S):b}function Rc(S){var b=ds(),I=b.queue;if(I===null)throw Error(p(311));I.lastRenderedReducer=S;var J=no,ee=J.baseQueue,fe=I.pending;if(fe!==null){if(ee!==null){var Ge=ee.next;ee.next=fe.next,fe.next=Ge}J.baseQueue=ee=fe,I.pending=null}if(ee!==null){ee=ee.next,J=J.baseState;var it=Ge=fe=null,Rt=ee;do{var nn=Rt.lane;if((Tl&nn)===nn)it!==null&&(it=it.next={lane:0,action:Rt.action,eagerReducer:Rt.eagerReducer,eagerState:Rt.eagerState,next:null}),J=Rt.eagerReducer===S?Rt.eagerState:S(J,Rt.action);else{var In={lane:nn,action:Rt.action,eagerReducer:Rt.eagerReducer,eagerState:Rt.eagerState,next:null};it===null?(Ge=it=In,fe=J):it=it.next=In,Ci.lanes|=nn,Qu|=nn}Rt=Rt.next}while(Rt!==null&&Rt!==ee);it===null?fe=J:it.next=Ge,da(J,b.memoizedState)||(ja=!0),b.memoizedState=J,b.baseState=fe,b.baseQueue=it,I.lastRenderedState=J}return[b.memoizedState,I.dispatch]}function Ou(S){var b=ds(),I=b.queue;if(I===null)throw Error(p(311));I.lastRenderedReducer=S;var J=I.dispatch,ee=I.pending,fe=b.memoizedState;if(ee!==null){I.pending=null;var Ge=ee=ee.next;do fe=S(fe,Ge.action),Ge=Ge.next;while(Ge!==ee);da(fe,b.memoizedState)||(ja=!0),b.memoizedState=fe,b.baseQueue===null&&(b.baseState=fe),I.lastRenderedState=fe}return[fe,J]}function Cs(S,b,I){var J=b._getVersion;J=J(b._source);var ee=P?b._workInProgressVersionPrimary:b._workInProgressVersionSecondary;if(ee!==null?S=ee===J:(S=S.mutableReadLanes,S=(Tl&S)===S)&&(P?b._workInProgressVersionPrimary=J:b._workInProgressVersionSecondary=J,bs.push(b)),S)return I(b._source);throw bs.push(b),Error(p(350))}function $r(S,b,I,J){var ee=Bo;if(ee===null)throw Error(p(349));var fe=b._getVersion,Ge=fe(b._source),it=Pc.current,Rt=it.useState(function(){return Cs(ee,b,I)}),nn=Rt[1],In=Rt[0];Rt=ji;var sr=S.memoizedState,vn=sr.refs,Li=vn.getSnapshot,qi=sr.source;sr=sr.subscribe;var el=Ci;return S.memoizedState={refs:vn,source:b,subscribe:J},it.useEffect(function(){vn.getSnapshot=I,vn.setSnapshot=nn;var wt=fe(b._source);if(!da(Ge,wt)){wt=I(b._source),da(In,wt)||(nn(wt),wt=us(el),ee.mutableReadLanes|=wt&ee.pendingLanes),wt=ee.mutableReadLanes,ee.entangledLanes|=wt;for(var lt=ee.entanglements,Bt=wt;0<Bt;){var hn=31-Ru(Bt),On=1<<hn;lt[hn]|=wt,Bt&=~On}}},[I,b,J]),it.useEffect(function(){return J(b._source,function(){var wt=vn.getSnapshot,lt=vn.setSnapshot;try{lt(wt(b._source));var Bt=us(el);ee.mutableReadLanes|=Bt&ee.pendingLanes}catch(hn){lt(function(){throw hn})}})},[b,J]),da(Li,I)&&da(qi,b)&&da(sr,J)||(S={pending:null,dispatch:null,lastRenderedReducer:Go,lastRenderedState:In},S.dispatch=nn=jd.bind(null,Ci,S),Rt.queue=S,Rt.baseQueue=null,In=Cs(ee,b,I),Rt.memoizedState=Rt.baseState=In),In}function Hs(S,b,I){var J=ds();return $r(J,S,b,I)}function Uu(S){var b=hs();return typeof S=="function"&&(S=S()),b.memoizedState=b.baseState=S,S=b.queue={pending:null,dispatch:null,lastRenderedReducer:Go,lastRenderedState:S},S=S.dispatch=jd.bind(null,Ci,S),[b.memoizedState,S]}function zs(S,b,I,J){return S={tag:S,create:b,destroy:I,deps:J,next:null},b=Ci.updateQueue,b===null?(b={lastEffect:null},Ci.updateQueue=b,b.lastEffect=S.next=S):(I=b.lastEffect,I===null?b.lastEffect=S.next=S:(J=I.next,I.next=S,S.next=J,b.lastEffect=S)),S}function Pr(S){var b=hs();return S={current:S},b.memoizedState=S}function ku(){return ds().memoizedState}function ma(S,b,I,J){var ee=hs();Ci.flags|=S,ee.memoizedState=zs(1|b,I,void 0,J===void 0?null:J)}function zd(S,b,I,J){var ee=ds();J=J===void 0?null:J;var fe=void 0;if(no!==null){var Ge=no.memoizedState;if(fe=Ge.destroy,J!==null&&d0(J,Ge.deps)){zs(b,I,fe,J);return}}Ci.flags|=S,ee.memoizedState=zs(1|b,I,fe,J)}function Wa(S,b){return ma(516,4,S,b)}function xr(S,b){return zd(516,4,S,b)}function p0(S,b){return zd(4,2,S,b)}function Ls(S,b){if(typeof b=="function")return S=S(),b(S),function(){b(null)};if(b!=null)return S=S(),b.current=S,function(){b.current=null}}function bh(S,b,I){return I=I!=null?I.concat([S]):null,zd(4,2,Ls.bind(null,b,S),I)}function Yd(){}function Vd(S,b){var I=ds();b=b===void 0?null:b;var J=I.memoizedState;return J!==null&&b!==null&&d0(b,J[1])?J[0]:(I.memoizedState=[S,b],S)}function Wd(S,b){var I=ds();b=b===void 0?null:b;var J=I.memoizedState;return J!==null&&b!==null&&d0(b,J[1])?J[0]:(S=S(),I.memoizedState=[S,b],S)}function Tx(S,b){var I=Ro();za(98>I?98:I,function(){S(!0)}),za(97<I?97:I,function(){var J=Ko.transition;Ko.transition=1;try{S(!1),b()}finally{Ko.transition=J}})}function jd(S,b,I){var J=qs(),ee=us(S),fe={lane:ee,action:I,eagerReducer:null,eagerState:null,next:null},Ge=b.pending;if(Ge===null?fe.next=fe:(fe.next=Ge.next,Ge.next=fe),b.pending=fe,Ge=S.alternate,S===Ci||Ge!==null&&Ge===Ci)Nu=ou=!0;else{if(S.lanes===0&&(Ge===null||Ge.lanes===0)&&(Ge=b.lastRenderedReducer,Ge!==null))try{var it=b.lastRenderedState,Rt=Ge(it,I);if(fe.eagerReducer=Ge,fe.eagerState=Rt,da(Rt,it))return}catch(nn){}finally{}Nl(S,ee,J)}}var Gu={readContext:Ya,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useOpaqueIdentifier:jr,unstable_isNewReconciler:!1},su={readContext:Ya,useCallback:function(S,b){return hs().memoizedState=[S,b===void 0?null:b],S},useContext:Ya,useEffect:Wa,useImperativeHandle:function(S,b,I){return I=I!=null?I.concat([S]):null,ma(4,2,Ls.bind(null,b,S),I)},useLayoutEffect:function(S,b){return ma(4,2,S,b)},useMemo:function(S,b){var I=hs();return b=b===void 0?null:b,S=S(),I.memoizedState=[S,b],S},useReducer:function(S,b,I){var J=hs();return b=I!==void 0?I(b):b,J.memoizedState=J.baseState=b,S=J.queue={pending:null,dispatch:null,lastRenderedReducer:S,lastRenderedState:b},S=S.dispatch=jd.bind(null,Ci,S),[J.memoizedState,S]},useRef:Pr,useState:Uu,useDebugValue:Yd,useDeferredValue:function(S){var b=Uu(S),I=b[0],J=b[1];return Wa(function(){var ee=Ko.transition;Ko.transition=1;try{J(S)}finally{Ko.transition=ee}},[S]),I},useTransition:function(){var S=Uu(!1),b=S[0];return S=Tx.bind(null,S[1]),Pr(S),[S,b]},useMutableSource:function(S,b,I){var J=hs();return J.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:S,subscribe:I},$r(J,S,b,I)},useOpaqueIdentifier:function(){if(Va){var S=!1,b=he(function(){throw S||(S=!0,I(me())),Error(p(355))}),I=Uu(b)[1];return(Ci.mode&2)===0&&(Ci.flags|=516,zs(5,function(){I(me())},void 0,null)),b}return b=me(),Uu(b),b},unstable_isNewReconciler:!1},Ps={readContext:Ya,useCallback:Vd,useContext:Ya,useEffect:xr,useImperativeHandle:bh,useLayoutEffect:p0,useMemo:Wd,useReducer:Rc,useRef:ku,useState:function(){return Rc(Go)},useDebugValue:Yd,useDeferredValue:function(S){var b=Rc(Go),I=b[0],J=b[1];return xr(function(){var ee=Ko.transition;Ko.transition=1;try{J(S)}finally{Ko.transition=ee}},[S]),I},useTransition:function(){var S=Rc(Go)[0];return[ku().current,S]},useMutableSource:Hs,useOpaqueIdentifier:function(){return Rc(Go)[0]},unstable_isNewReconciler:!1},va={readContext:Ya,useCallback:Vd,useContext:Ya,useEffect:xr,useImperativeHandle:bh,useLayoutEffect:p0,useMemo:Wd,useReducer:Ou,useRef:ku,useState:function(){return Ou(Go)},useDebugValue:Yd,useDeferredValue:function(S){var b=Ou(Go),I=b[0],J=b[1];return xr(function(){var ee=Ko.transition;Ko.transition=1;try{J(S)}finally{Ko.transition=ee}},[S]),I},useTransition:function(){var S=Ou(Go)[0];return[ku().current,S]},useMutableSource:Hs,useOpaqueIdentifier:function(){return Ou(Go)[0]},unstable_isNewReconciler:!1},ps=v.ReactCurrentOwner,ja=!1;function ms(S,b,I,J){b.child=S===null?$n(b,null,I,J):yf(b,S.child,I,J)}function Xu(S,b,I,J,ee){I=I.render;var fe=b.ref;return a0(b,ee),J=Iu(S,b,I,J,fe,ee),S!==null&&!ja?(b.updateQueue=S.updateQueue,b.flags&=-517,S.lanes&=~ee,hi(S,b,ee)):(b.flags|=1,ms(S,b,J,ee),b.child)}function bl(S,b,I,J,ee,fe){if(S===null){var Ge=I.type;return typeof Ge=="function"&&!s1(Ge)&&Ge.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(b.tag=15,b.type=Ge,Dc(S,b,Ge,J,ee,fe)):(S=Oh(I.type,null,J,b,b.mode,fe),S.ref=b.ref,S.return=b,b.child=S)}return Ge=S.child,(ee&fe)===0&&(ee=Ge.memoizedProps,I=I.compare,I=I!==null?I:iu,I(ee,J)&&S.ref===b.ref)?hi(S,b,fe):(b.flags|=1,S=Zu(Ge,J),S.ref=b.ref,S.return=b,b.child=S)}function Dc(S,b,I,J,ee,fe){if(S!==null&&iu(S.memoizedProps,J)&&S.ref===b.ref)if(ja=!1,(fe&ee)!==0)(S.flags&16384)!==0&&(ja=!0);else return b.lanes=S.lanes,hi(S,b,fe);return Ch(S,b,I,J,fe)}function m0(S,b,I){var J=b.pendingProps,ee=J.children,fe=S!==null?S.memoizedState:null;if(J.mode==="hidden"||J.mode==="unstable-defer-without-hiding")if((b.mode&4)===0)b.memoizedState={baseLanes:0},tp(b,I);else if((I&1073741824)!==0)b.memoizedState={baseLanes:0},tp(b,fe!==null?fe.baseLanes:I);else return S=fe!==null?fe.baseLanes|I:I,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:S},tp(b,S),null;else fe!==null?(J=fe.baseLanes|I,b.memoizedState=null):J=I,tp(b,J);return ms(S,b,ee,I),b.child}function Tn(S,b){var I=b.ref;(S===null&&I!==null||S!==null&&S.ref!==I)&&(b.flags|=128)}function Ch(S,b,I,J,ee){var fe=Ss(I)?ru:Zo.current;return fe=Pu(b,fe),a0(b,ee),I=Iu(S,b,I,J,fe,ee),S!==null&&!ja?(b.updateQueue=S.updateQueue,b.flags&=-517,S.lanes&=~ee,hi(S,b,ee)):(b.flags|=1,ms(S,b,I,ee),b.child)}function c2(S,b,I,J,ee){if(Ss(I)){var fe=!0;t0(b)}else fe=!1;if(a0(b,ee),b.stateNode===null)S!==null&&(S.alternate=null,b.alternate=null,b.flags|=2),l2(b,I,J),Vm(b,I,J,ee),J=!0;else if(S===null){var Ge=b.stateNode,it=b.memoizedProps;Ge.props=it;var Rt=Ge.context,nn=I.contextType;typeof nn=="object"&&nn!==null?nn=Ya(nn):(nn=Ss(I)?ru:Zo.current,nn=Pu(b,nn));var In=I.getDerivedStateFromProps,sr=typeof In=="function"||typeof Ge.getSnapshotBeforeUpdate=="function";sr||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(it!==J||Rt!==nn)&&u2(b,Ge,J,nn),Tc=!1;var vn=b.memoizedState;Ge.state=vn,_l(b,J,Ge,ee),Rt=b.memoizedState,it!==J||vn!==Rt||os.current||Tc?(typeof In=="function"&&(Xd(b,I,In,J),Rt=b.memoizedState),(it=Tc||a2(b,I,it,J,vn,Rt,nn))?(sr||typeof Ge.UNSAFE_componentWillMount!="function"&&typeof Ge.componentWillMount!="function"||(typeof Ge.componentWillMount=="function"&&Ge.componentWillMount(),typeof Ge.UNSAFE_componentWillMount=="function"&&Ge.UNSAFE_componentWillMount()),typeof Ge.componentDidMount=="function"&&(b.flags|=4)):(typeof Ge.componentDidMount=="function"&&(b.flags|=4),b.memoizedProps=J,b.memoizedState=Rt),Ge.props=J,Ge.state=Rt,Ge.context=nn,J=it):(typeof Ge.componentDidMount=="function"&&(b.flags|=4),J=!1)}else{Ge=b.stateNode,i2(S,b),it=b.memoizedProps,nn=b.type===b.elementType?it:Al(b.type,it),Ge.props=nn,sr=b.pendingProps,vn=Ge.context,Rt=I.contextType,typeof Rt=="object"&&Rt!==null?Rt=Ya(Rt):(Rt=Ss(I)?ru:Zo.current,Rt=Pu(b,Rt));var Li=I.getDerivedStateFromProps;(In=typeof Li=="function"||typeof Ge.getSnapshotBeforeUpdate=="function")||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(it!==sr||vn!==Rt)&&u2(b,Ge,J,Rt),Tc=!1,vn=b.memoizedState,Ge.state=vn,_l(b,J,Ge,ee);var qi=b.memoizedState;it!==sr||vn!==qi||os.current||Tc?(typeof Li=="function"&&(Xd(b,I,Li,J),qi=b.memoizedState),(nn=Tc||a2(b,I,nn,J,vn,qi,Rt))?(In||typeof Ge.UNSAFE_componentWillUpdate!="function"&&typeof Ge.componentWillUpdate!="function"||(typeof Ge.componentWillUpdate=="function"&&Ge.componentWillUpdate(J,qi,Rt),typeof Ge.UNSAFE_componentWillUpdate=="function"&&Ge.UNSAFE_componentWillUpdate(J,qi,Rt)),typeof Ge.componentDidUpdate=="function"&&(b.flags|=4),typeof Ge.getSnapshotBeforeUpdate=="function"&&(b.flags|=256)):(typeof Ge.componentDidUpdate!="function"||it===S.memoizedProps&&vn===S.memoizedState||(b.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||it===S.memoizedProps&&vn===S.memoizedState||(b.flags|=256),b.memoizedProps=J,b.memoizedState=qi),Ge.props=J,Ge.state=qi,Ge.context=Rt,J=nn):(typeof Ge.componentDidUpdate!="function"||it===S.memoizedProps&&vn===S.memoizedState||(b.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||it===S.memoizedProps&&vn===S.memoizedState||(b.flags|=256),J=!1)}return Qm(S,b,I,J,fe,ee)}function Qm(S,b,I,J,ee,fe){Tn(S,b);var Ge=(b.flags&64)!==0;if(!J&&!Ge)return ee&&jv(b,I,!1),hi(S,b,fe);J=b.stateNode,ps.current=b;var it=Ge&&typeof I.getDerivedStateFromError!="function"?null:J.render();return b.flags|=1,S!==null&&Ge?(b.child=yf(b,S.child,null,fe),b.child=yf(b,null,it,fe)):ms(S,b,it,fe),b.memoizedState=J.state,ee&&jv(b,I,!0),b.child}function ga(S){var b=S.stateNode;b.pendingContext?Wv(S,b.pendingContext,b.pendingContext!==b.context):b.context&&Wv(S,b.context,!1),as(S,b.containerInfo)}var vs={dehydrated:null,retryLane:0};function Cl(S,b,I){var J=b.pendingProps,ee=jn.current,fe=!1,Ge;return(Ge=(b.flags&64)!==0)||(Ge=S!==null&&S.memoizedState===null?!1:(ee&2)!==0),Ge?(fe=!0,b.flags&=-65):S!==null&&S.memoizedState===null||J.fallback===void 0||J.unstable_avoidThisFallback===!0||(ee|=1),to(jn,ee&1),S===null?(J.fallback!==void 0&&Sh(b),S=J.children,ee=J.fallback,fe?(S=Ys(b,S,ee,I),b.child.memoizedState={baseLanes:I},b.memoizedState=vs,S):typeof J.unstable_expectedLoadTime=="number"?(S=Ys(b,S,ee,I),b.child.memoizedState={baseLanes:I},b.memoizedState=vs,b.lanes=33554432,S):(I=a1({mode:"visible",children:S},b.mode,I,null),I.return=b,b.child=I)):S.memoizedState!==null?fe?(J=Qa(S,b,J.children,J.fallback,I),fe=b.child,ee=S.child.memoizedState,fe.memoizedState=ee===null?{baseLanes:I}:{baseLanes:ee.baseLanes|I},fe.childLanes=S.childLanes&~I,b.memoizedState=vs,J):(I=Ll(S,b,J.children,I),b.memoizedState=null,I):fe?(J=Qa(S,b,J.children,J.fallback,I),fe=b.child,ee=S.child.memoizedState,fe.memoizedState=ee===null?{baseLanes:I}:{baseLanes:ee.baseLanes|I},fe.childLanes=S.childLanes&~I,b.memoizedState=vs,J):(I=Ll(S,b,J.children,I),b.memoizedState=null,I)}function Ys(S,b,I,J){var ee=S.mode,fe=S.child;return b={mode:"hidden",children:b},(ee&2)===0&&fe!==null?(fe.childLanes=0,fe.pendingProps=b):fe=a1(b,ee,0,null),I=Oc(I,ee,J,null),fe.return=S,I.return=S,fe.sibling=I,S.child=fe,I}function Ll(S,b,I,J){var ee=S.child;return S=ee.sibling,I=Zu(ee,{mode:"visible",children:I}),(b.mode&2)===0&&(I.lanes=J),I.return=b,I.sibling=null,S!==null&&(S.nextEffect=null,S.flags=8,b.firstEffect=b.lastEffect=S),b.child=I}function Qa(S,b,I,J,ee){var fe=b.mode,Ge=S.child;S=Ge.sibling;var it={mode:"hidden",children:I};return(fe&2)===0&&b.child!==Ge?(I=b.child,I.childLanes=0,I.pendingProps=it,Ge=I.lastEffect,Ge!==null?(b.firstEffect=I.firstEffect,b.lastEffect=Ge,Ge.nextEffect=null):b.firstEffect=b.lastEffect=null):I=Zu(Ge,it),S!==null?J=Zu(S,J):(J=Oc(J,fe,ee,null),J.flags|=2),J.return=b,I.return=b,I.sibling=J,b.child=I,J}function Pl(S,b){S.lanes|=b;var I=S.alternate;I!==null&&(I.lanes|=b),r2(S.return,b)}function Lh(S,b,I,J,ee,fe){var Ge=S.memoizedState;Ge===null?S.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:J,tail:I,tailMode:ee,lastEffect:fe}:(Ge.isBackwards=b,Ge.rendering=null,Ge.renderingStartTime=0,Ge.last=J,Ge.tail=I,Ge.tailMode=ee,Ge.lastEffect=fe)}function Qd(S,b,I){var J=b.pendingProps,ee=J.revealOrder,fe=J.tail;if(ms(S,b,J.children,I),J=jn.current,(J&2)!==0)J=J&1|2,b.flags|=64;else{if(S!==null&&(S.flags&64)!==0)e:for(S=b.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&Pl(S,I);else if(S.tag===19)Pl(S,I);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===b)break e;for(;S.sibling===null;){if(S.return===null||S.return===b)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}J&=1}if(to(jn,J),(b.mode&2)===0)b.memoizedState=null;else switch(ee){case"forwards":for(I=b.child,ee=null;I!==null;)S=I.alternate,S!==null&&h0(S)===null&&(ee=I),I=I.sibling;I=ee,I===null?(ee=b.child,b.child=null):(ee=I.sibling,I.sibling=null),Lh(b,!1,ee,I,fe,b.lastEffect);break;case"backwards":for(I=null,ee=b.child,b.child=null;ee!==null;){if(S=ee.alternate,S!==null&&h0(S)===null){b.child=ee;break}S=ee.sibling,ee.sibling=I,I=ee,ee=S}Lh(b,!0,I,null,fe,b.lastEffect);break;case"together":Lh(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function hi(S,b,I){if(S!==null&&(b.dependencies=S.dependencies),Qu|=b.lanes,(I&b.childLanes)!==0){if(S!==null&&b.child!==S.child)throw Error(p(153));if(b.child!==null){for(S=b.child,I=Zu(S,S.pendingProps),b.child=I,I.return=b;S.sibling!==null;)S=S.sibling,I=I.sibling=Zu(S,S.pendingProps),I.return=b;I.sibling=null}return b.child}return null}function Fo(S){S.flags|=4}var xo,qa,Xo,gs;if(_e)xo=function(S,b){for(var I=b.child;I!==null;){if(I.tag===5||I.tag===6)Ye(S,I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},qa=function(){},Xo=function(S,b,I,J,ee){if(S=S.memoizedProps,S!==J){var fe=b.stateNode,Ge=kt(Ts.current);I=re(fe,I,S,J,ee,Ge),(b.updateQueue=I)&&Fo(b)}},gs=function(S,b,I,J){I!==J&&Fo(b)};else if(ke){xo=function(S,b,I,J){for(var ee=b.child;ee!==null;){if(ee.tag===5){var fe=ee.stateNode;I&&J&&(fe=It(fe,ee.type,ee.memoizedProps,ee)),Ye(S,fe)}else if(ee.tag===6)fe=ee.stateNode,I&&J&&(fe=Kt(fe,ee.memoizedProps,ee)),Ye(S,fe);else if(ee.tag!==4){if(ee.tag===13&&(ee.flags&4)!==0&&(fe=ee.memoizedState!==null)){var Ge=ee.child;if(Ge!==null&&(Ge.child!==null&&(Ge.child.return=Ge,xo(S,Ge,!0,fe)),fe=Ge.sibling,fe!==null)){fe.return=ee,ee=fe;continue}}if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===b)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===b)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};var Hu=function(S,b,I,J){for(var ee=b.child;ee!==null;){if(ee.tag===5){var fe=ee.stateNode;I&&J&&(fe=It(fe,ee.type,ee.memoizedProps,ee)),Fe(S,fe)}else if(ee.tag===6)fe=ee.stateNode,I&&J&&(fe=Kt(fe,ee.memoizedProps,ee)),Fe(S,fe);else if(ee.tag!==4){if(ee.tag===13&&(ee.flags&4)!==0&&(fe=ee.memoizedState!==null)){var Ge=ee.child;if(Ge!==null&&(Ge.child!==null&&(Ge.child.return=Ge,Hu(S,Ge,!0,fe)),fe=Ge.sibling,fe!==null)){fe.return=ee,ee=fe;continue}}if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}}if(ee===b)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===b)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};qa=function(S){var b=S.stateNode;if(S.firstEffect!==null){var I=b.containerInfo,J=yo(I);Hu(J,S,!1,!1),b.pendingChildren=J,Fo(S),bt(I,J)}},Xo=function(S,b,I,J,ee){var fe=S.stateNode,Ge=S.memoizedProps;if((S=b.firstEffect===null)&&Ge===J)b.stateNode=fe;else{var it=b.stateNode,Rt=kt(Ts.current),nn=null;Ge!==J&&(nn=re(it,I,Ge,J,ee,Rt)),S&&nn===null?b.stateNode=fe:(fe=Jo(fe,nn,I,Ge,J,b,S,it),Re(fe,I,J,ee,Rt)&&Fo(b),b.stateNode=fe,S?Fo(b):xo(fe,b,!1,!1))}},gs=function(S,b,I,J){I!==J?(S=kt(Ml.current),I=kt(Ts.current),b.stateNode=we(J,S,I,b),Fo(b)):b.stateNode=S.stateNode}}else qa=function(){},Xo=function(){},gs=function(){};function zu(S,b){if(!Va)switch(S.tailMode){case"hidden":b=S.tail;for(var I=null;b!==null;)b.alternate!==null&&(I=b),b=b.sibling;I===null?S.tail=null:I.sibling=null;break;case"collapsed":I=S.tail;for(var J=null;I!==null;)I.alternate!==null&&(J=I),I=I.sibling;J===null?b||S.tail===null?S.tail=null:S.tail.sibling=null:J.sibling=null}}function qm(S,b,I){var J=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ss(b.type)&&xh(),null;case 3:return Sl(),Bi(os),Bi(Zo),Lc(),J=b.stateNode,J.pendingContext&&(J.context=J.pendingContext,J.pendingContext=null),(S===null||S.child===null)&&(pa(b)?Fo(b):J.hydrate||(b.flags|=256)),qa(b),null;case 5:Wm(b);var ee=kt(Ml.current);if(I=b.type,S!==null&&b.stateNode!=null)Xo(S,b,I,J,ee),S.ref!==b.ref&&(b.flags|=128);else{if(!J){if(b.stateNode===null)throw Error(p(166));return null}if(S=kt(Ts.current),pa(b)){if(!Se)throw Error(p(175));S=Kn(b.stateNode,b.type,b.memoizedProps,ee,S,b),b.updateQueue=S,S!==null&&Fo(b)}else{var fe=Le(I,J,ee,S,b);xo(fe,b,!1,!1),b.stateNode=fe,Re(fe,I,J,ee,S)&&Fo(b)}b.ref!==null&&(b.flags|=128)}return null;case 6:if(S&&b.stateNode!=null)gs(S,b,S.memoizedProps,J);else{if(typeof J!="string"&&b.stateNode===null)throw Error(p(166));if(S=kt(Ml.current),ee=kt(Ts.current),pa(b)){if(!Se)throw Error(p(176));Kr(b.stateNode,b.memoizedProps,b)&&Fo(b)}else b.stateNode=we(J,S,ee,b)}return null;case 13:return Bi(jn),J=b.memoizedState,(b.flags&64)!==0?(b.lanes=I,b):(J=J!==null,ee=!1,S===null?b.memoizedProps.fallback!==void 0&&pa(b):ee=S.memoizedState!==null,J&&!ee&&(b.mode&2)!==0&&(S===null&&b.memoizedProps.unstable_avoidThisFallback!==!0||(jn.current&1)!==0?Tr===0&&(Tr=3):((Tr===0||Tr===3)&&(Tr=4),Bo===null||(Qu&134217727)===0&&(Fl&134217727)===0||T0(Bo,wo))),ke&&J&&(b.flags|=4),_e&&(J||ee)&&(b.flags|=4),null);case 4:return Sl(),qa(b),S===null&&ze(b.stateNode.containerInfo),null;case 10:return zm(b),null;case 17:return Ss(b.type)&&xh(),null;case 19:if(Bi(jn),J=b.memoizedState,J===null)return null;if(ee=(b.flags&64)!==0,fe=J.rendering,fe===null)if(ee)zu(J,!1);else{if(Tr!==0||S!==null&&(S.flags&64)!==0)for(S=b.child;S!==null;){if(fe=h0(S),fe!==null){for(b.flags|=64,zu(J,!1),S=fe.updateQueue,S!==null&&(b.updateQueue=S,b.flags|=4),J.lastEffect===null&&(b.firstEffect=null),b.lastEffect=J.lastEffect,S=I,J=b.child;J!==null;)ee=J,I=S,ee.flags&=2,ee.nextEffect=null,ee.firstEffect=null,ee.lastEffect=null,fe=ee.alternate,fe===null?(ee.childLanes=0,ee.lanes=I,ee.child=null,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=fe.childLanes,ee.lanes=fe.lanes,ee.child=fe.child,ee.memoizedProps=fe.memoizedProps,ee.memoizedState=fe.memoizedState,ee.updateQueue=fe.updateQueue,ee.type=fe.type,I=fe.dependencies,ee.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),J=J.sibling;return to(jn,jn.current&1|2),b.child}S=S.sibling}J.tail!==null&&ss()>n1&&(b.flags|=64,ee=!0,zu(J,!1),b.lanes=33554432)}else{if(!ee)if(S=h0(fe),S!==null){if(b.flags|=64,ee=!0,S=S.updateQueue,S!==null&&(b.updateQueue=S,b.flags|=4),zu(J,!0),J.tail===null&&J.tailMode==="hidden"&&!fe.alternate&&!Va)return b=b.lastEffect=J.lastEffect,b!==null&&(b.nextEffect=null),null}else 2*ss()-J.renderingStartTime>n1&&I!==1073741824&&(b.flags|=64,ee=!0,zu(J,!1),b.lanes=33554432);J.isBackwards?(fe.sibling=b.child,b.child=fe):(S=J.last,S!==null?S.sibling=fe:b.child=fe,J.last=fe)}return J.tail!==null?(S=J.tail,J.rendering=S,J.tail=S.sibling,J.lastEffect=b.lastEffect,J.renderingStartTime=ss(),S.sibling=null,b=jn.current,to(jn,ee?b&1|2:b&1),S):null;case 23:case 24:return i1(),S!==null&&S.memoizedState!==null!==(b.memoizedState!==null)&&J.mode!=="unstable-defer-without-hiding"&&(b.flags|=4),null}throw Error(p(156,b.tag))}function En(S){switch(S.tag){case 1:Ss(S.type)&&xh();var b=S.flags;return b&4096?(S.flags=b&-4097|64,S):null;case 3:if(Sl(),Bi(os),Bi(Zo),Lc(),b=S.flags,(b&64)!==0)throw Error(p(285));return S.flags=b&-4097|64,S;case 5:return Wm(S),null;case 13:return Bi(jn),b=S.flags,b&4096?(S.flags=b&-4097|64,S):null;case 19:return Bi(jn),null;case 4:return Sl(),null;case 10:return zm(S),null;case 23:case 24:return i1(),null;default:return null}}function Yu(S,b){try{var I="",J=b;do I+=t2(J),J=J.return;while(J);var ee=I}catch(fe){ee=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:S,source:b,stack:ee}}function Ph(S,b){try{console.error(b.value)}catch(I){setTimeout(function(){throw I})}}var Qn=typeof WeakMap=="function"?WeakMap:Map;function Vs(S,b,I){I=bc(-1,I),I.tag=3,I.payload={element:null};var J=b.value;return I.callback=function(){ro||(ro=!0,Bc=J),Ph(S,b)},I}function di(S,b,I){I=bc(-1,I),I.tag=3;var J=S.type.getDerivedStateFromError;if(typeof J=="function"){var ee=b.value;I.payload=function(){return Ph(S,b),J(ee)}}var fe=S.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(I.callback=function(){typeof J!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this),Ph(S,b));var Ge=b.stack;this.componentDidCatch(b.value,{componentStack:Ge!==null?Ge:""})}),I}var qd=typeof WeakSet=="function"?WeakSet:Set;function Bn(S){var b=S.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(I){Ic(S,I)}else b.current=null}function Fc(S,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&S!==null){var I=S.memoizedProps,J=S.memoizedState;S=b.stateNode,b=S.getSnapshotBeforeUpdate(b.elementType===b.type?I:Al(b.type,I),J),S.__reactInternalSnapshotBeforeUpdate=b}return;case 3:_e&&b.flags&256&&Lo(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(p(163))}function au(S,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var I=b=b.next;do{if((I.tag&S)===S){var J=I.destroy;I.destroy=void 0,J!==void 0&&J()}I=I.next}while(I!==b)}}function v0(S,b,I){switch(I.tag){case 0:case 11:case 15:case 22:if(b=I.updateQueue,b=b!==null?b.lastEffect:null,b!==null){S=b=b.next;do{if((S.tag&3)===3){var J=S.create;S.destroy=J()}S=S.next}while(S!==b)}if(b=I.updateQueue,b=b!==null?b.lastEffect:null,b!==null){S=b=b.next;do{var ee=S;J=ee.next,ee=ee.tag,(ee&4)!==0&&(ee&1)!==0&&(y2(I,S),Dx(I,S)),S=J}while(S!==b)}return;case 1:S=I.stateNode,I.flags&4&&(b===null?S.componentDidMount():(J=I.elementType===I.type?b.memoizedProps:Al(I.type,b.memoizedProps),S.componentDidUpdate(J,b.memoizedState,S.__reactInternalSnapshotBeforeUpdate))),b=I.updateQueue,b!==null&&o2(I,b,S);return;case 3:if(b=I.updateQueue,b!==null){if(S=null,I.child!==null)switch(I.child.tag){case 5:S=mt(I.child.stateNode);break;case 1:S=I.child.stateNode}o2(I,b,S)}return;case 5:S=I.stateNode,b===null&&I.flags&4&&zn(S,I.type,I.memoizedProps,I);return;case 6:return;case 4:return;case 12:return;case 13:Se&&I.memoizedState===null&&(I=I.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&fa(I))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(p(163))}function g0(S,b){if(_e)for(var I=S;;){if(I.tag===5){var J=I.stateNode;b?Mr(J):Ms(I.stateNode,I.memoizedProps)}else if(I.tag===6)J=I.stateNode,b?eo(J):si(J,I.memoizedProps);else if((I.tag!==23&&I.tag!==24||I.memoizedState===null||I===S)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===S)break;for(;I.sibling===null;){if(I.return===null||I.return===S)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function lu(S,b){if(_c&&typeof _c.onCommitFiberUnmount=="function")try{_c.onCommitFiberUnmount(jt,b)}catch(fe){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if(S=b.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var I=S=S.next;do{var J=I,ee=J.destroy;if(J=J.tag,ee!==void 0)if((J&4)!==0)y2(b,I);else{J=b;try{ee()}catch(fe){Ic(J,fe)}}I=I.next}while(I!==S)}break;case 1:if(Bn(b),S=b.stateNode,typeof S.componentWillUnmount=="function")try{S.props=b.memoizedProps,S.state=b.memoizedState,S.componentWillUnmount()}catch(fe){Ic(b,fe)}break;case 5:Bn(b);break;case 4:_e?Zm(S,b):ke&&ke&&(b=b.stateNode.containerInfo,S=yo(b),Mt(b,S))}}function y0(S,b){for(var I=b;;)if(lu(S,I),I.child===null||_e&&I.tag===4){if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function uu(S){S.alternate=null,S.child=null,S.dependencies=null,S.firstEffect=null,S.lastEffect=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.return=null,S.updateQueue=null}function x0(S){return S.tag===5||S.tag===3||S.tag===4}function an(S){if(_e){e:{for(var b=S.return;b!==null;){if(x0(b))break e;b=b.return}throw Error(p(160))}var I=b;b=I.stateNode;switch(I.tag){case 5:var J=!1;break;case 3:b=b.containerInfo,J=!0;break;case 4:b=b.containerInfo,J=!0;break;default:throw Error(p(161))}I.flags&16&&(Wr(b),I.flags&=-17);e:t:for(I=S;;){for(;I.sibling===null;){if(I.return===null||x0(I.return)){I=null;break e}I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2)continue t;if(I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(I.flags&2)){I=I.stateNode;break e}}J?xf(S,I,b):Jm(S,I,b)}}function xf(S,b,I){var J=S.tag,ee=J===5||J===6;if(ee)S=ee?S.stateNode:S.stateNode.instance,b?Zr(I,S,b):sn(I,S);else if(J!==4&&(S=S.child,S!==null))for(xf(S,b,I),S=S.sibling;S!==null;)xf(S,b,I),S=S.sibling}function Jm(S,b,I){var J=S.tag,ee=J===5||J===6;if(ee)S=ee?S.stateNode:S.stateNode.instance,b?fr(I,S,b):zt(I,S);else if(J!==4&&(S=S.child,S!==null))for(Jm(S,b,I),S=S.sibling;S!==null;)Jm(S,b,I),S=S.sibling}function Zm(S,b){for(var I=b,J=!1,ee,fe;;){if(!J){J=I.return;e:for(;;){if(J===null)throw Error(p(160));ee=J.stateNode;switch(J.tag){case 5:fe=!1;break e;case 3:ee=ee.containerInfo,fe=!0;break e;case 4:ee=ee.containerInfo,fe=!0;break e}J=J.return}J=!0}if(I.tag===5||I.tag===6)y0(S,I),fe?Xr(ee,I.stateNode):ci(ee,I.stateNode);else if(I.tag===4){if(I.child!==null){ee=I.stateNode.containerInfo,fe=!0,I.child.return=I,I=I.child;continue}}else if(lu(S,I),I.child!==null){I.child.return=I,I=I.child;continue}if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return,I.tag===4&&(J=!1)}I.sibling.return=I.return,I=I.sibling}}function Km(S,b){if(_e){switch(b.tag){case 0:case 11:case 14:case 15:case 22:au(3,b);return;case 1:return;case 5:var I=b.stateNode;if(I!=null){var J=b.memoizedProps;S=S!==null?S.memoizedProps:J;var ee=b.type,fe=b.updateQueue;b.updateQueue=null,fe!==null&&oi(I,fe,ee,S,J,b)}return;case 6:if(b.stateNode===null)throw Error(p(162));I=b.memoizedProps,lr(b.stateNode,S!==null?S.memoizedProps:I,I);return;case 3:Se&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,fi(b.containerInfo)));return;case 12:return;case 13:E0(b),Rh(b);return;case 19:Rh(b);return;case 17:return;case 23:case 24:g0(b,b.memoizedState!==null);return}throw Error(p(163))}switch(b.tag){case 0:case 11:case 14:case 15:case 22:au(3,b);return;case 12:return;case 13:E0(b),Rh(b);return;case 19:Rh(b);return;case 3:Se&&(I=b.stateNode,I.hydrate&&(I.hydrate=!1,fi(I.containerInfo)));break;case 23:case 24:return}e:if(ke){switch(b.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:b=b.stateNode,Mt(b.containerInfo,b.pendingChildren);break e}throw Error(p(163))}}function E0(S){S.memoizedState!==null&&(t1=ss(),_e&&g0(S.child,!0))}function Rh(S){var b=S.updateQueue;if(b!==null){S.updateQueue=null;var I=S.stateNode;I===null&&(I=S.stateNode=new qd),b.forEach(function(J){var ee=Bx.bind(null,S,J);I.has(J)||(I.add(J),J.then(ee,ee))})}}function cu(S,b){return S!==null&&(S=S.memoizedState,S===null||S.dehydrated!==null)?(b=b.memoizedState,b!==null&&b.dehydrated===null):!1}var w0=0,Vu=1,ys=2,Wu=3,Eo=4;if(typeof Symbol=="function"&&Symbol.for){var Pn=Symbol.for;w0=Pn("selector.component"),Vu=Pn("selector.has_pseudo_class"),ys=Pn("selector.role"),Wu=Pn("selector.test_id"),Eo=Pn("selector.text")}function Dh(S){var b=se(S);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(p(364));return b}if(S=gt(S),S===null)throw Error(p(362));return S.stateNode.current}function Ws(S,b){switch(b.$$typeof){case w0:if(S.type===b.value)return!0;break;case Vu:e:{b=b.value,S=[S,0];for(var I=0;I<S.length;){var J=S[I++],ee=S[I++],fe=b[ee];if(J.tag!==5||!Pt(J)){for(;fe!=null&&Ws(J,fe);)ee++,fe=b[ee];if(ee===b.length){b=!0;break e}else for(J=J.child;J!==null;)S.push(J,ee),J=J.sibling}}b=!1}return b;case ys:if(S.tag===5&&qt(S.stateNode,b.value))return!0;break;case Eo:if((S.tag===5||S.tag===6)&&(S=Et(S),S!==null&&0<=S.indexOf(b.value)))return!0;break;case Wu:if(S.tag===5&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(p(365,b))}return!1}function fu(S){switch(S.$$typeof){case w0:return"<"+(Ee(S.value)||"Unknown")+">";case Vu:return":has("+(fu(S)||"")+")";case ys:return'[role="'+S.value+'"]';case Eo:return'"'+S.value+'"';case Wu:return'[data-testname="'+S.value+'"]';default:throw Error(p(365,S))}}function hu(S,b){var I=[];S=[S,0];for(var J=0;J<S.length;){var ee=S[J++],fe=S[J++],Ge=b[fe];if(ee.tag!==5||!Pt(ee)){for(;Ge!=null&&Ws(ee,Ge);)fe++,Ge=b[fe];if(fe===b.length)I.push(ee);else for(ee=ee.child;ee!==null;)S.push(ee,fe),ee=ee.sibling}}return I}function du(S,b){if(!At)throw Error(p(363));S=Dh(S),S=hu(S,b),b=[],S=Array.from(S);for(var I=0;I<S.length;){var J=S[I++];if(J.tag===5)Pt(J)||b.push(J.stateNode);else for(J=J.child;J!==null;)S.push(J),J=J.sibling}return b}var Rl=null;function $m(S){if(Rl===null)try{var b=("require"+Math.random()).slice(0,7);Rl=(gw&&gw[b]).call(gw,"timers").setImmediate}catch(I){Rl=function(J){var ee=new MessageChannel;ee.port1.onmessage=J,ee.port2.postMessage(void 0)}}return Rl(S)}var e1=Math.ceil,A0=v.ReactCurrentDispatcher,_0=v.ReactCurrentOwner,M0=v.IsSomeRendererActing,Nn=0,Bo=null,Qi=null,wo=0,Dl=0,S0=nu(0),Tr=0,Fh=null,ju=0,Qu=0,Fl=0,$o=0,Jd=null,t1=0,n1=Infinity;function lo(){n1=ss()+500}var ln=null,ro=!1,Bc=null,Rs=null,js=!1,Qs=null,ya=90,Bl=[],Nc=[],Ja=null,qu=0,Zd=null,Kd=-1,Za=0,$d=0,Bh=null,Nh=!1;function qs(){return(Nn&48)!==0?ss():Kd!==-1?Kd:Kd=ss()}function us(S){if(S=S.mode,(S&2)===0)return 1;if((S&4)===0)return Ro()===99?1:2;if(Za===0&&(Za=ju),Gm.transition!==0){$d!==0&&($d=Jd!==null?Jd.pendingLanes:0),S=Za;var b=4186112&~$d;return b&=-b,b===0&&(S=4186112&~S,b=S&-S,b===0&&(b=8192)),b}return S=Ro(),(Nn&4)!==0&&S===98?S=rn(12,Za):(S=qv(S),S=rn(S,Za)),S}function Nl(S,b,I){if(50<qu)throw qu=0,Zd=null,Error(p(185));if(S=ep(S,b),S===null)return null;mf(S,b,I),S===Bo&&(Fl|=b,Tr===4&&T0(S,wo));var J=Ro();b===1?(Nn&8)!==0&&(Nn&48)===0?r1(S):(xa(S,I),Nn===0&&(lo(),ha())):((Nn&4)===0||J!==98&&J!==99||(Ja===null?Ja=new Set([S]):Ja.add(S)),xa(S,I)),Jd=S}function ep(S,b){S.lanes|=b;var I=S.alternate;for(I!==null&&(I.lanes|=b),I=S,S=S.return;S!==null;)S.childLanes|=b,I=S.alternate,I!==null&&(I.childLanes|=b),I=S,S=S.return;return I.tag===3?I.stateNode:null}function xa(S,b){for(var I=S.callbackNode,J=S.suspendedLanes,ee=S.pingedLanes,fe=S.expirationTimes,Ge=S.pendingLanes;0<Ge;){var it=31-Ru(Ge),Rt=1<<it,nn=fe[it];if(nn===-1){if((Rt&J)===0||(Rt&ee)!==0){nn=b,Mc(Rt);var In=bi;fe[it]=10<=In?nn+250:6<=In?nn+5e3:-1}}else nn<=b&&(S.expiredLanes|=Rt);Ge&=~Rt}if(J=n0(S,S===Bo?wo:0),b=bi,J===0)I!==null&&(I!==Fu&&Xa(I),S.callbackNode=null,S.callbackPriority=0);else{if(I!==null){if(S.callbackPriority===b)return;I!==Fu&&Xa(I)}b===15?(I=r1.bind(null,S),Ha===null?(Ha=[I],nr=Ga(Ah,Mh)):Ha.push(I),I=Fu):b===14?I=Sc(99,r1.bind(null,S)):(I=Jv(b),I=Sc(I,f2.bind(null,S))),S.callbackPriority=b,S.callbackNode=I}}function f2(S){if(Kd=-1,$d=Za=0,(Nn&48)!==0)throw Error(p(327));var b=S.callbackNode;if(Ju()&&S.callbackNode!==b)return null;var I=n0(S,S===Bo?wo:0);if(I===0)return null;var J=I,ee=Nn;Nn|=16;var fe=m2();(Bo!==S||wo!==J)&&(lo(),b0(S,J));do try{Lx();break}catch(it){p2(S,it)}while(1);if(Hm(),A0.current=fe,Nn=ee,Qi!==null?J=0:(Bo=null,wo=0,J=Tr),(ju&Fl)!==0)b0(S,0);else if(J!==0){if(J===2&&(Nn|=64,S.hydrate&&(S.hydrate=!1,Lo(S.containerInfo)),I=Nm(S),I!==0&&(J=Ih(S,I))),J===1)throw b=Fh,b0(S,0),T0(S,I),xa(S,ss()),b;S.finishedWork=S.current.alternate,S.finishedLanes=I;switch(J){case 0:case 1:throw Error(p(345));case 2:Ef(S);break;case 3:if(T0(S,I),(I&62914560)===I&&(J=t1+500-ss(),10<J)){if(n0(S,0)!==0)break;if(ee=S.suspendedLanes,(ee&I)!==I){qs(),S.pingedLanes|=S.suspendedLanes&ee;break}S.timeoutHandle=ge(Ef.bind(null,S),J);break}Ef(S);break;case 4:if(T0(S,I),(I&4186112)===I)break;for(J=S.eventTimes,ee=-1;0<I;){var Ge=31-Ru(I);fe=1<<Ge,Ge=J[Ge],Ge>ee&&(ee=Ge),I&=~fe}if(I=ee,I=ss()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*e1(I/1960))-I,10<I){S.timeoutHandle=ge(Ef.bind(null,S),I);break}Ef(S);break;case 5:Ef(S);break;default:throw Error(p(329))}}return xa(S,ss()),S.callbackNode===b?f2.bind(null,S):null}function T0(S,b){for(b&=~$o,b&=~Fl,S.suspendedLanes|=b,S.pingedLanes&=~b,S=S.expirationTimes;0<b;){var I=31-Ru(b),J=1<<I;S[I]=-1,b&=~J}}function r1(S){if((Nn&48)!==0)throw Error(p(327));if(Ju(),S===Bo&&(S.expiredLanes&wo)!==0){var b=wo,I=Ih(S,b);(ju&Fl)!==0&&(b=n0(S,b),I=Ih(S,b))}else b=n0(S,0),I=Ih(S,b);if(S.tag!==0&&I===2&&(Nn|=64,S.hydrate&&(S.hydrate=!1,Lo(S.containerInfo)),b=Nm(S),b!==0&&(I=Ih(S,b))),I===1)throw I=Fh,b0(S,0),T0(S,b),xa(S,ss()),I;return S.finishedWork=S.current.alternate,S.finishedLanes=b,Ef(S),xa(S,ss()),null}function bx(){if(Ja!==null){var S=Ja;Ja=null,S.forEach(function(b){b.expiredLanes|=24&b.pendingLanes,xa(b,ss())})}ha()}function h2(S,b){var I=Nn;Nn|=1;try{return S(b)}finally{Nn=I,Nn===0&&(lo(),ha())}}function d2(S,b){var I=Nn;if((I&48)!==0)return S(b);Nn|=1;try{if(S)return za(99,S.bind(null,b))}finally{Nn=I,ha()}}function tp(S,b){to(S0,Dl),Dl|=b,ju|=b}function i1(){Dl=S0.current,Bi(S0)}function b0(S,b){S.finishedWork=null,S.finishedLanes=0;var I=S.timeoutHandle;if(I!==Ce&&(S.timeoutHandle=Ce,be(I)),Qi!==null)for(I=Qi.return;I!==null;){var J=I;switch(J.tag){case 1:J=J.type.childContextTypes,J!=null&&xh();break;case 3:Sl(),Bi(os),Bi(Zo),Lc();break;case 5:Wm(J);break;case 4:Sl();break;case 13:Bi(jn);break;case 19:Bi(jn);break;case 10:zm(J);break;case 23:case 24:i1()}I=I.return}Bo=S,Qi=Zu(S.current,null),wo=Dl=ju=b,Tr=0,Fh=null,$o=Fl=Qu=0}function p2(S,b){do{var I=Qi;try{if(Hm(),Pc.current=Gu,ou){for(var J=Ci.memoizedState;J!==null;){var ee=J.queue;ee!==null&&(ee.pending=null),J=J.next}ou=!1}if(Tl=0,ji=no=Ci=null,Nu=!1,_0.current=null,I===null||I.return===null){Tr=1,Fh=b,Qi=null;break}e:{var fe=S,Ge=I.return,it=I,Rt=b;if(b=wo,it.flags|=2048,it.firstEffect=it.lastEffect=null,Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var nn=Rt;if((it.mode&2)===0){var In=it.alternate;In?(it.updateQueue=In.updateQueue,it.memoizedState=In.memoizedState,it.lanes=In.lanes):(it.updateQueue=null,it.memoizedState=null)}var sr=(jn.current&1)!==0,vn=Ge;do{var Li;if(Li=vn.tag===13){var qi=vn.memoizedState;if(qi!==null)Li=qi.dehydrated!==null;else{var el=vn.memoizedProps;Li=el.fallback===void 0?!1:el.unstable_avoidThisFallback!==!0?!0:!sr}}if(Li){var wt=vn.updateQueue;if(wt===null){var lt=new Set;lt.add(nn),vn.updateQueue=lt}else wt.add(nn);if((vn.mode&2)===0){if(vn.flags|=64,it.flags|=16384,it.flags&=-2981,it.tag===1)if(it.alternate===null)it.tag=17;else{var Bt=bc(-1,1);Bt.tag=2,Bu(it,Bt)}it.lanes|=1;break e}Rt=void 0,it=b;var hn=fe.pingCache;if(hn===null?(hn=fe.pingCache=new Qn,Rt=new Set,hn.set(nn,Rt)):(Rt=hn.get(nn),Rt===void 0&&(Rt=new Set,hn.set(nn,Rt))),!Rt.has(it)){Rt.add(it);var On=E2.bind(null,fe,nn,it);nn.then(On,On)}vn.flags|=4096,vn.lanes=b;break e}vn=vn.return}while(vn!==null);Rt=Error((Ee(it.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Tr!==5&&(Tr=2),Rt=Yu(Rt,it),vn=Ge;do{switch(vn.tag){case 3:fe=Rt,vn.flags|=4096,b&=-b,vn.lanes|=b;var Ni=Vs(vn,fe,b);l0(vn,Ni);break e;case 1:fe=Rt;var qn=vn.type,pi=vn.stateNode;if((vn.flags&64)===0&&(typeof qn.getDerivedStateFromError=="function"||pi!==null&&typeof pi.componentDidCatch=="function"&&(Rs===null||!Rs.has(pi)))){vn.flags|=4096,b&=-b,vn.lanes|=b;var Ei=di(vn,fe,b);l0(vn,Ei);break e}}vn=vn.return}while(vn!==null)}g2(I)}catch(Rr){b=Rr,Qi===I&&I!==null&&(Qi=I=I.return);continue}break}while(1)}function m2(){var S=A0.current;return A0.current=Gu,S===null?Gu:S}function Ih(S,b){var I=Nn;Nn|=16;var J=m2();Bo===S&&wo===b||b0(S,b);do try{Cx();break}catch(ee){p2(S,ee)}while(1);if(Hm(),Nn=I,A0.current=J,Qi!==null)throw Error(p(261));return Bo=null,wo=0,Tr}function Cx(){for(;Qi!==null;)v2(Qi)}function Lx(){for(;Qi!==null&&!Um();)v2(Qi)}function v2(S){var b=w2(S.alternate,S,Dl);S.memoizedProps=S.pendingProps,b===null?g2(S):Qi=b,_0.current=null}function g2(S){var b=S;do{var I=b.alternate;if(S=b.return,(b.flags&2048)===0){if(I=qm(I,b,Dl),I!==null){Qi=I;return}if(I=b,I.tag!==24&&I.tag!==23||I.memoizedState===null||(Dl&1073741824)!==0||(I.mode&4)===0){for(var J=0,ee=I.child;ee!==null;)J|=ee.lanes|ee.childLanes,ee=ee.sibling;I.childLanes=J}S!==null&&(S.flags&2048)===0&&(S.firstEffect===null&&(S.firstEffect=b.firstEffect),b.lastEffect!==null&&(S.lastEffect!==null&&(S.lastEffect.nextEffect=b.firstEffect),S.lastEffect=b.lastEffect),1<b.flags&&(S.lastEffect!==null?S.lastEffect.nextEffect=b:S.firstEffect=b,S.lastEffect=b))}else{if(I=En(b),I!==null){I.flags&=2047,Qi=I;return}S!==null&&(S.firstEffect=S.lastEffect=null,S.flags|=2048)}if(b=b.sibling,b!==null){Qi=b;return}Qi=b=S}while(b!==null);Tr===0&&(Tr=5)}function Ef(S){var b=Ro();return za(99,Px.bind(null,S,b)),null}function Px(S,b){do Ju();while(Qs!==null);if((Nn&48)!==0)throw Error(p(327));var I=S.finishedWork;if(I===null)return null;if(S.finishedWork=null,S.finishedLanes=0,I===S.current)throw Error(p(177));S.callbackNode=null;var J=I.lanes|I.childLanes,ee=J,fe=S.pendingLanes&~ee;S.pendingLanes=ee,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=ee,S.mutableReadLanes&=ee,S.entangledLanes&=ee,ee=S.entanglements;for(var Ge=S.eventTimes,it=S.expirationTimes;0<fe;){var Rt=31-Ru(fe),nn=1<<Rt;ee[Rt]=0,Ge[Rt]=-1,it[Rt]=-1,fe&=~nn}if(Ja!==null&&(J&24)===0&&Ja.has(S)&&Ja.delete(S),S===Bo&&(Qi=Bo=null,wo=0),1<I.flags?I.lastEffect!==null?(I.lastEffect.nextEffect=I,J=I.firstEffect):J=I:J=I.firstEffect,J!==null){ee=Nn,Nn|=32,_0.current=null,Bh=et(S.containerInfo),Nh=!1,ln=J;do try{Rx()}catch(lt){if(ln===null)throw Error(p(330));Ic(ln,lt),ln=ln.nextEffect}while(ln!==null);Bh=null,ln=J;do try{for(Ge=S;ln!==null;){var In=ln.flags;if(In&16&&_e&&Wr(ln.stateNode),In&128){var sr=ln.alternate;if(sr!==null){var vn=sr.ref;vn!==null&&(typeof vn=="function"?vn(null):vn.current=null)}}switch(In&1038){case 2:an(ln),ln.flags&=-3;break;case 6:an(ln),ln.flags&=-3,Km(ln.alternate,ln);break;case 1024:ln.flags&=-1025;break;case 1028:ln.flags&=-1025,Km(ln.alternate,ln);break;case 4:Km(ln.alternate,ln);break;case 8:it=Ge,fe=ln,_e?Zm(it,fe):y0(it,fe);var Li=fe.alternate;uu(fe),Li!==null&&uu(Li)}ln=ln.nextEffect}}catch(lt){if(ln===null)throw Error(p(330));Ic(ln,lt),ln=ln.nextEffect}while(ln!==null);Nh&&pt(),De(S.containerInfo),S.current=I,ln=J;do try{for(In=S;ln!==null;){var qi=ln.flags;if(qi&36&&v0(In,ln.alternate,ln),qi&128){sr=void 0;var el=ln.ref;if(el!==null){var wt=ln.stateNode;switch(ln.tag){case 5:sr=mt(wt);break;default:sr=wt}typeof el=="function"?el(sr):el.current=sr}}ln=ln.nextEffect}}catch(lt){if(ln===null)throw Error(p(330));Ic(ln,lt),ln=ln.nextEffect}while(ln!==null);ln=null,vf(),Nn=ee}else S.current=I;if(js)js=!1,Qs=S,ya=b;else for(ln=J;ln!==null;)b=ln.nextEffect,ln.nextEffect=null,ln.flags&8&&(qi=ln,qi.sibling=null,qi.stateNode=null),ln=b;if(J=S.pendingLanes,J===0&&(Rs=null),J===1?S===Zd?qu++:(qu=0,Zd=S):qu=0,I=I.stateNode,_c&&typeof _c.onCommitFiberRoot=="function")try{_c.onCommitFiberRoot(jt,I,void 0,(I.current.flags&64)===64)}catch(lt){}if(xa(S,ss()),ro)throw ro=!1,S=Bc,Bc=null,S;return(Nn&8)!==0||ha(),null}function Rx(){for(;ln!==null;){var S=ln.alternate;Nh||Bh===null||((ln.flags&8)!==0?at(ln,Bh)&&(Nh=!0,xt()):ln.tag===13&&cu(S,ln)&&at(ln,Bh)&&(Nh=!0,xt()));var b=ln.flags;(b&256)!==0&&Fc(S,ln),(b&512)===0||js||(js=!0,Sc(97,function(){return Ju(),null})),ln=ln.nextEffect}}function Ju(){if(ya!==90){var S=97<ya?97:ya;return ya=90,za(S,Fx)}return!1}function Dx(S,b){Bl.push(b,S),js||(js=!0,Sc(97,function(){return Ju(),null}))}function y2(S,b){Nc.push(b,S),js||(js=!0,Sc(97,function(){return Ju(),null}))}function Fx(){if(Qs===null)return!1;var S=Qs;if(Qs=null,(Nn&48)!==0)throw Error(p(331));var b=Nn;Nn|=32;var I=Nc;Nc=[];for(var J=0;J<I.length;J+=2){var ee=I[J],fe=I[J+1],Ge=ee.destroy;if(ee.destroy=void 0,typeof Ge=="function")try{Ge()}catch(Rt){if(fe===null)throw Error(p(330));Ic(fe,Rt)}}for(I=Bl,Bl=[],J=0;J<I.length;J+=2){ee=I[J],fe=I[J+1];try{var it=ee.create;ee.destroy=it()}catch(Rt){if(fe===null)throw Error(p(330));Ic(fe,Rt)}}for(it=S.current.firstEffect;it!==null;)S=it.nextEffect,it.nextEffect=null,it.flags&8&&(it.sibling=null,it.stateNode=null),it=S;return Nn=b,ha(),!0}function x2(S,b,I){b=Yu(I,b),b=Vs(S,b,1),Bu(S,b),b=qs(),S=ep(S,1),S!==null&&(mf(S,1,b),xa(S,b))}function Ic(S,b){if(S.tag===3)x2(S,S,b);else for(var I=S.return;I!==null;){if(I.tag===3){x2(I,S,b);break}else if(I.tag===1){var J=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof J.componentDidCatch=="function"&&(Rs===null||!Rs.has(J))){S=Yu(b,S);var ee=di(I,S,1);if(Bu(I,ee),ee=qs(),I=ep(I,1),I!==null)mf(I,1,ee),xa(I,ee);else if(typeof J.componentDidCatch=="function"&&(Rs===null||!Rs.has(J)))try{J.componentDidCatch(b,S)}catch(fe){}break}}I=I.return}}function E2(S,b,I){var J=S.pingCache;J!==null&&J.delete(b),b=qs(),S.pingedLanes|=S.suspendedLanes&I,Bo===S&&(wo&I)===I&&(Tr===4||Tr===3&&(wo&62914560)===wo&&500>ss()-t1?b0(S,0):$o|=I),xa(S,b)}function Bx(S,b){var I=S.stateNode;I!==null&&I.delete(b),b=0,b===0&&(b=S.mode,(b&2)===0?b=1:(b&4)===0?b=Ro()===99?1:2:(Za===0&&(Za=ju),b=Po(62914560&~Za),b===0&&(b=4194304))),I=qs(),S=ep(S,b),S!==null&&(mf(S,b,I),xa(S,I))}var w2;w2=function(S,b,I){var J=b.lanes;if(S!==null)if(S.memoizedProps!==b.pendingProps||os.current)ja=!0;else if((I&J)!==0)ja=(S.flags&16384)!==0;else{ja=!1;switch(b.tag){case 3:ga(b),Th();break;case 5:Cc(b);break;case 1:Ss(b.type)&&t0(b);break;case 4:as(b,b.stateNode.containerInfo);break;case 10:n2(b,b.memoizedProps.value);break;case 13:if(b.memoizedState!==null)return(I&b.child.childLanes)!==0?Cl(S,b,I):(to(jn,jn.current&1),b=hi(S,b,I),b!==null?b.sibling:null);to(jn,jn.current&1);break;case 19:if(J=(I&b.childLanes)!==0,(S.flags&64)!==0){if(J)return Qd(S,b,I);b.flags|=64}var ee=b.memoizedState;if(ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),to(jn,jn.current),J)break;return null;case 23:case 24:return b.lanes=0,m0(S,b,I)}return hi(S,b,I)}else ja=!1;b.lanes=0;switch(b.tag){case 2:if(J=b.type,S!==null&&(S.alternate=null,b.alternate=null,b.flags|=2),S=b.pendingProps,ee=Pu(b,Zo.current),a0(b,I),ee=Iu(null,b,J,S,ee,I),b.flags|=1,typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,Ss(J)){var fe=!0;t0(b)}else fe=!1;b.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,Ym(b);var Ge=J.getDerivedStateFromProps;typeof Ge=="function"&&Xd(b,J,Ge,S),ee.updater=Hd,b.stateNode=ee,ee._reactInternals=b,Vm(b,J,S,I),b=Qm(null,b,J,!0,fe,I)}else b.tag=0,ms(null,b,ee,I),b=b.child;return b;case 16:ee=b.elementType;e:{S!==null&&(S.alternate=null,b.alternate=null,b.flags|=2),S=b.pendingProps,fe=ee._init,ee=fe(ee._payload),b.type=ee,fe=b.tag=Ix(ee),S=Al(ee,S);switch(fe){case 0:b=Ch(null,b,ee,S,I);break e;case 1:b=c2(null,b,ee,S,I);break e;case 11:b=Xu(null,b,ee,S,I);break e;case 14:b=bl(null,b,ee,Al(ee.type,S),J,I);break e}throw Error(p(306,ee,""))}return b;case 0:return J=b.type,ee=b.pendingProps,ee=b.elementType===J?ee:Al(J,ee),Ch(S,b,J,ee,I);case 1:return J=b.type,ee=b.pendingProps,ee=b.elementType===J?ee:Al(J,ee),c2(S,b,J,ee,I);case 3:if(ga(b),J=b.updateQueue,S===null||J===null)throw Error(p(282));if(J=b.pendingProps,ee=b.memoizedState,ee=ee!==null?ee.element:null,i2(S,b),_l(b,J,null,I),J=b.memoizedState.element,J===ee)Th(),b=hi(S,b,I);else{if(ee=b.stateNode,(fe=ee.hydrate)&&(Se?(ko=ki(b.stateNode.containerInfo),Ur=b,fe=Va=!0):fe=!1),fe){if(Se&&(S=ee.mutableSourceEagerHydrationData,S!=null))for(ee=0;ee<S.length;ee+=2)fe=S[ee],Ge=S[ee+1],P?fe._workInProgressVersionPrimary=Ge:fe._workInProgressVersionSecondary=Ge,bs.push(fe);for(I=$n(b,null,J,I),b.child=I;I;)I.flags=I.flags&-3|1024,I=I.sibling}else ms(S,b,J,I),Th();b=b.child}return b;case 5:return Cc(b),S===null&&Sh(b),J=b.type,ee=b.pendingProps,fe=S!==null?S.memoizedProps:null,Ge=ee.children,oe(J,ee)?Ge=null:fe!==null&&oe(J,fe)&&(b.flags|=16),Tn(S,b),ms(S,b,Ge,I),b.child;case 6:return S===null&&Sh(b),null;case 13:return Cl(S,b,I);case 4:return as(b,b.stateNode.containerInfo),J=b.pendingProps,S===null?b.child=yf(b,null,J,I):ms(S,b,J,I),b.child;case 11:return J=b.type,ee=b.pendingProps,ee=b.elementType===J?ee:Al(J,ee),Xu(S,b,J,ee,I);case 7:return ms(S,b,b.pendingProps,I),b.child;case 8:return ms(S,b,b.pendingProps.children,I),b.child;case 12:return ms(S,b,b.pendingProps.children,I),b.child;case 10:e:{if(J=b.type._context,ee=b.pendingProps,Ge=b.memoizedProps,fe=ee.value,n2(b,fe),Ge!==null){var it=Ge.value;if(fe=da(it,fe)?0:(typeof J._calculateChangedBits=="function"?J._calculateChangedBits(it,fe):1073741823)|0,fe===0){if(Ge.children===ee.children&&!os.current){b=hi(S,b,I);break e}}else for(it=b.child,it!==null&&(it.return=b);it!==null;){var Rt=it.dependencies;if(Rt!==null){Ge=it.child;for(var nn=Rt.firstContext;nn!==null;){if(nn.context===J&&(nn.observedBits&fe)!==0){it.tag===1&&(nn=bc(-1,I&-I),nn.tag=2,Bu(it,nn)),it.lanes|=I,nn=it.alternate,nn!==null&&(nn.lanes|=I),r2(it.return,I),Rt.lanes|=I;break}nn=nn.next}}else Ge=it.tag===10&&it.type===b.type?null:it.child;if(Ge!==null)Ge.return=it;else for(Ge=it;Ge!==null;){if(Ge===b){Ge=null;break}if(it=Ge.sibling,it!==null){it.return=Ge.return,Ge=it;break}Ge=Ge.return}it=Ge}}ms(S,b,ee.children,I),b=b.child}return b;case 9:return ee=b.type,fe=b.pendingProps,J=fe.children,a0(b,I),ee=Ya(ee,fe.unstable_observedBits),J=J(ee),b.flags|=1,ms(S,b,J,I),b.child;case 14:return ee=b.type,fe=Al(ee,b.pendingProps),fe=Al(ee.type,fe),bl(S,b,ee,fe,J,I);case 15:return Dc(S,b,b.type,b.pendingProps,J,I);case 17:return J=b.type,ee=b.pendingProps,ee=b.elementType===J?ee:Al(J,ee),S!==null&&(S.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ss(J)?(S=!0,t0(b)):S=!1,a0(b,I),l2(b,J,ee),Vm(b,J,ee,I),Qm(null,b,J,!0,S,I);case 19:return Qd(S,b,I);case 23:return m0(S,b,I);case 24:return m0(S,b,I)}throw Error(p(156,b.tag))};var np={current:!1},xs=e.unstable_flushAllWithoutAsserting,A2=typeof xs=="function";function o1(){if(xs!==void 0)return xs();for(var S=!1;Ju();)S=!0;return S}function Ea(S){try{o1(),$m(function(){o1()?Ea(S):S()})}catch(b){S(b)}}var Ka=0,rp=!1;function Nx(S,b,I,J){this.tag=S,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=J,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(S,b,I,J){return new Nx(S,b,I,J)}function s1(S){return S=S.prototype,!(!S||!S.isReactComponent)}function Ix(S){if(typeof S=="function")return s1(S)?1:0;if(S!=null){if(S=S.$$typeof,S===H)return 11;if(S===U)return 14}return 2}function Zu(S,b){var I=S.alternate;return I===null?(I=$a(S.tag,b,S.key,S.mode),I.elementType=S.elementType,I.type=S.type,I.stateNode=S.stateNode,I.alternate=S,S.alternate=I):(I.pendingProps=b,I.type=S.type,I.flags=0,I.nextEffect=null,I.firstEffect=null,I.lastEffect=null),I.childLanes=S.childLanes,I.lanes=S.lanes,I.child=S.child,I.memoizedProps=S.memoizedProps,I.memoizedState=S.memoizedState,I.updateQueue=S.updateQueue,b=S.dependencies,I.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},I.sibling=S.sibling,I.index=S.index,I.ref=S.ref,I}function Oh(S,b,I,J,ee,fe){var Ge=2;if(J=S,typeof S=="function")s1(S)&&(Ge=1);else if(typeof S=="string")Ge=5;else e:switch(S){case T:return Oc(I.children,ee,fe,b);case ue:Ge=8,ee|=16;break;case C:Ge=8,ee|=1;break;case R:return S=$a(12,I,b,ee|8),S.elementType=R,S.type=R,S.lanes=fe,S;case G:return S=$a(13,I,b,ee),S.type=G,S.elementType=G,S.lanes=fe,S;case O:return S=$a(19,I,b,ee),S.elementType=O,S.lanes=fe,S;case K:return a1(I,ee,fe,b);case ce:return S=$a(24,I,b,ee),S.elementType=ce,S.lanes=fe,S;default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case B:Ge=10;break e;case A:Ge=9;break e;case H:Ge=11;break e;case U:Ge=14;break e;case $:Ge=16,J=null;break e;case ie:Ge=22;break e}throw Error(p(130,S==null?S:typeof S,""))}return b=$a(Ge,I,b,ee),b.elementType=S,b.type=J,b.lanes=fe,b}function Oc(S,b,I,J){return S=$a(7,S,J,b),S.lanes=I,S}function a1(S,b,I,J){return S=$a(23,S,J,b),S.elementType=K,S.lanes=I,S}function l1(S,b,I){return S=$a(6,S,null,b),S.lanes=I,S}function Js(S,b,I){return b=$a(4,S.children!==null?S.children:[],S.key,b),b.lanes=I,b.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},b}function Ox(S,b,I){this.tag=b,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ce,this.pendingContext=this.context=null,this.hydrate=I,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),Se&&(this.mutableSourceEagerHydrationData=null)}function _2(S){var b=S._reactInternals;if(b===void 0)throw typeof S.render=="function"?Error(p(188)):Error(p(268,Object.keys(S)));return S=Ze(b),S===null?null:S.stateNode}function M2(S,b){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var I=S.retryLane;S.retryLane=I!==0&&I<b?I:b}}function ip(S,b){M2(S,b),(S=S.alternate)&&M2(S,b)}function Ux(S){return S=Ze(S),S===null?null:S.stateNode}function kx(){return null}return i.IsThisRendererActing=np,i.act=function(S){function b(){Ka--,M0.current=I,np.current=J}rp===!1&&(rp=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Ka++;var I=M0.current,J=np.current;M0.current=!0,np.current=!0;try{var ee=h2(S)}catch(fe){throw b(),fe}if(ee!==null&&typeof ee=="object"&&typeof ee.then=="function")return{then:function(fe,Ge){ee.then(function(){1<Ka||A2===!0&&I===!0?(b(),fe()):Ea(function(it){b(),it?Ge(it):fe()})},function(it){b(),Ge(it)})}};try{Ka!==1||A2!==!1&&I!==!1||o1(),b()}catch(fe){throw b(),fe}return{then:function(fe){fe()}}},i.attemptContinuousHydration=function(S){if(S.tag===13){var b=qs();Nl(S,67108864,b),ip(S,67108864)}},i.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var b=qs(),I=us(S);Nl(S,I,b),ip(S,I)}},i.attemptSynchronousHydration=function(S){switch(S.tag){case 3:var b=S.stateNode;if(b.hydrate){var I=Mc(b.pendingLanes);b.expiredLanes|=I&b.pendingLanes,xa(b,ss()),(Nn&48)===0&&(lo(),ha())}break;case 13:var J=qs();d2(function(){return Nl(S,1,J)}),ip(S,4)}},i.attemptUserBlockingHydration=function(S){if(S.tag===13){var b=qs();Nl(S,4,b),ip(S,4)}},i.batchedEventUpdates=function(S,b){var I=Nn;Nn|=2;try{return S(b)}finally{Nn=I,Nn===0&&(lo(),ha())}},i.batchedUpdates=h2,i.createComponentSelector=function(S){return{$$typeof:w0,value:S}},i.createContainer=function(S,b,I){return S=new Ox(S,b,I),b=$a(3,null,null,b===2?7:b===1?3:0),S.current=b,b.stateNode=S,Ym(b),S},i.createHasPsuedoClassSelector=function(S){return{$$typeof:Vu,value:S}},i.createPortal=function(S,b,I){var J=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:J==null?null:""+J,children:S,containerInfo:b,implementation:I}},i.createRoleSelector=function(S){return{$$typeof:ys,value:S}},i.createTestNameSelector=function(S){return{$$typeof:Wu,value:S}},i.createTextSelector=function(S){return{$$typeof:Eo,value:S}},i.deferredUpdates=function(S){return za(97,S)},i.discreteUpdates=function(S,b,I,J,ee){var fe=Nn;Nn|=4;try{return za(98,S.bind(null,b,I,J,ee))}finally{Nn=fe,Nn===0&&(lo(),ha())}},i.findAllNodes=du,i.findBoundingRects=function(S,b){if(!At)throw Error(p(363));b=du(S,b),S=[];for(var I=0;I<b.length;I++)S.push(Ft(b[I]));for(b=S.length-1;0<b;b--){I=S[b];for(var J=I.x,ee=J+I.width,fe=I.y,Ge=fe+I.height,it=b-1;0<=it;it--)if(b!==it){var Rt=S[it],nn=Rt.x,In=nn+Rt.width,sr=Rt.y,vn=sr+Rt.height;if(J>=nn&&fe>=sr&&ee<=In&&Ge<=vn){S.splice(b,1);break}else if(J!==nn||I.width!==Rt.width||vn<fe||sr>Ge){if(!(fe!==sr||I.height!==Rt.height||In<J||nn>ee)){nn>J&&(Rt.width+=nn-J,Rt.x=J),In<ee&&(Rt.width=ee-nn),S.splice(b,1);break}}else{sr>fe&&(Rt.height+=sr-fe,Rt.y=fe),vn<Ge&&(Rt.height=Ge-sr),S.splice(b,1);break}}}return S},i.findHostInstance=_2,i.findHostInstanceWithNoPortals=function(S){return S=Qe(S),S===null?null:S.tag===20?S.stateNode.instance:S.stateNode},i.findHostInstanceWithWarning=function(S){return _2(S)},i.flushControlled=function(S){var b=Nn;Nn|=1;try{za(99,S)}finally{Nn=b,Nn===0&&(lo(),ha())}},i.flushDiscreteUpdates=function(){(Nn&49)===0&&(bx(),Ju())},i.flushPassiveEffects=Ju,i.flushSync=d2,i.focusWithin=function(S,b){if(!At)throw Error(p(363));for(S=Dh(S),b=hu(S,b),b=Array.from(b),S=0;S<b.length;){var I=b[S++];if(!Pt(I)){if(I.tag===5&&Xe(I.stateNode))return!0;for(I=I.child;I!==null;)b.push(I),I=I.sibling}}return!1},i.getCurrentUpdateLanePriority=function(){return Eh},i.getFindAllNodesFailureDescription=function(S,b){if(!At)throw Error(p(363));var I=0,J=[];S=[Dh(S),0];for(var ee=0;ee<S.length;){var fe=S[ee++],Ge=S[ee++],it=b[Ge];if((fe.tag!==5||!Pt(fe))&&(Ws(fe,it)&&(J.push(fu(it)),Ge++,Ge>I&&(I=Ge)),Ge<b.length))for(fe=fe.child;fe!==null;)S.push(fe,Ge),fe=fe.sibling}if(I<b.length){for(S=[];I<b.length;I++)S.push(fu(b[I]));return`findAllNodes was able to match part of the selector:
  `+(J.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},i.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return mt(S.child.stateNode);default:return S.child.stateNode}},i.injectIntoDevTools=function(S){if(S={bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:Ux,findFiberByHostInstance:S.findFiberByHostInstance||kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")S=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{jt=b.inject(S),_c=b}catch(I){}S=!0}return S},i.observeVisibleRects=function(S,b,I,J){if(!At)throw Error(p(363));S=du(S,b);var ee=Ct(S,I,J).disconnect;return{disconnect:function(){ee()}}},i.registerMutableSourceForHydration=function(S,b){var I=b._getVersion;I=I(b._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[b,I]:S.mutableSourceEagerHydrationData.push(b,I)},i.runWithPriority=function(S,b){var I=Eh;try{return Eh=S,b()}finally{Eh=I}},i.shouldSuspend=function(){return!1},i.unbatchedUpdates=function(S,b){var I=Nn;Nn&=-2,Nn|=8;try{return S(b)}finally{Nn=I,Nn===0&&(lo(),ha())}},i.updateContainer=function(S,b,I,J){var ee=b.current,fe=qs(),Ge=us(ee);e:if(I){I=I._reactInternals;t:{if(Ne(I)!==I||I.tag!==1)throw Error(p(170));var it=I;do{switch(it.tag){case 3:it=it.stateNode.context;break t;case 1:if(Ss(it.type)){it=it.stateNode.__reactInternalMemoizedMergedChildContext;break t}}it=it.return}while(it!==null);throw Error(p(171))}if(I.tag===1){var Rt=I.type;if(Ss(Rt)){I=Bm(I,Rt,it);break e}}I=it}else I=Lu;return b.context===null?b.context=I:b.pendingContext=I,b=bc(fe,Ge),b.payload={element:S},J=J===void 0?null:J,J!==null&&(b.callback=J),Bu(ee,b),Nl(ee,Ge,fe),Ge},i}}),T8=cs((vse,S8)=>{"use strict";S8.exports=M8()}),b8=cs((gse,KP)=>{function $P(){}$P.prototype={on:function(t,n,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:n,ctx:i}),this},once:function(t,n,i){var s=this;function l(){s.off(t,l),n.apply(i,arguments)}return l._=n,this.on(t,l,i)},emit:function(t){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,l=i.length;for(s;s<l;s++)i[s].fn.apply(i[s].ctx,n);return this},off:function(t,n){var i=this.e||(this.e={}),s=i[t],l=[];if(s&&n)for(var e=0,p=s.length;e<p;e++)s[e].fn!==n&&s[e].fn._!==n&&l.push(s[e]);return l.length?i[t]=l:delete i[t],this}};KP.exports=$P;KP.exports.TinyEmitter=$P}),L8=cs((yse,C8)=>{"use strict";C8.exports=function t(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var s,l,e;if(Array.isArray(n)){if(s=n.length,s!=i.length)return!1;for(l=s;l--!==0;)if(!t(n[l],i[l]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(e=Object.keys(n),s=e.length,s!==Object.keys(i).length)return!1;for(l=s;l--!==0;)if(!Object.prototype.hasOwnProperty.call(i,e[l]))return!1;for(l=s;l--!==0;){var p=e[l];if(!t(n[p],i[p]))return!1}return!0}return n!==n&&i!==i}}),F8=cs((Ese,D8)=>{function eR(t,n,i){var s,l,e,p,v;n==null&&(n=100);function w(){var T=Date.now()-p;T<n&&T>=0?s=setTimeout(w,n-T):(s=null,i||(v=t.apply(e,l),e=l=null))}var E=function(){e=this,l=arguments,p=Date.now();var T=i&&!s;return s||(s=setTimeout(w,n)),T&&(v=t.apply(e,l),e=l=null),v};return E.clear=function(){s&&(clearTimeout(s),s=null)},E.flush=function(){s&&(v=t.apply(e,l),e=l=null,clearTimeout(s),s=null)},E}eR.debounce=eR;D8.exports=eR}),I8=cs((Aq,q4)=>{pj(Aq,{default:()=>bq});var pc=ur(ho()),tR=ur(F8());function N8({debounce:t,scroll:n,polyfill:i}={debounce:0,scroll:!1}){let s=i||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[l,e]=pc.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=pc.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),v=t?typeof t=="number"?t:t.scroll:null,w=t?typeof t=="number"?t:t.resize:null,E=pc.useRef(!1);pc.useEffect(()=>(E.current=!0,()=>void(E.current=!1)));let[T,C,R]=pc.useMemo(()=>{let G=()=>{if(!p.current.element)return;let{left:O,top:U,width:$,height:ie,bottom:ue,right:K,x:ce,y:ve}=p.current.element.getBoundingClientRect(),Ve={left:O,top:U,width:$,height:ie,bottom:ue,right:K,x:ce,y:ve};Object.freeze(Ve),E.current&&!Sq(p.current.lastBounds,Ve)&&e(p.current.lastBounds=Ve)};return[G,w?tR.debounce(G,w):G,v?tR.debounce(G,v):G]},[e,v,w]);function B(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(G=>G.removeEventListener("scroll",R,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null)}function A(){if(!p.current.element)return;p.current.resizeObserver=new s(R),p.current.resizeObserver.observe(p.current.element),n&&p.current.scrollContainers&&p.current.scrollContainers.forEach(G=>G.addEventListener("scroll",R,{capture:!0,passive:!0}))}let H=G=>{if(!G||G===p.current.element)return;B(),p.current.element=G,p.current.scrollContainers=B8(G),A()};return Mq(R,Boolean(n)),_q(C),pc.useEffect(()=>{B(),A()},[n,R,C]),pc.useEffect(()=>B,[]),[H,l,T]}function _q(t){pc.useEffect(()=>{let n=t;return window.addEventListener("resize",n),()=>void window.removeEventListener("resize",n)},[t])}function Mq(t,n){pc.useEffect(()=>{if(n){let i=t;return window.addEventListener("scroll",i,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",i,!0)}},[t,n])}function B8(t){let n=[];if(!t||t===document.body)return n;let{overflow:i,overflowX:s,overflowY:l}=window.getComputedStyle(t);return[i,s,l].some(e=>e==="auto"||e==="scroll")&&n.push(t),[...n,...B8(t.parentElement)]}var Tq=["x","y","top","bottom","left","right","width","height"],Sq=(t,n)=>Tq.every(i=>t[i]===n[i]);typeof q4!="undefined"&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(q4,"exports").writable&&(q4.exports=N8);var bq=N8}),bU=cs((Mae,CD)=>{var aA=function(){function t(T){return s.appendChild(T.dom),T}function n(T){for(var C=0;C<s.children.length;C++)s.children[C].style.display=C===T?"block":"none";i=T}var i=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(T){T.preventDefault(),n(++i%s.children.length)},!1);var l=(performance||Date).now(),e=l,p=0,v=t(new aA.Panel("FPS","#0ff","#002")),w=t(new aA.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var E=t(new aA.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:s,addPanel:t,showPanel:n,begin:function(){l=(performance||Date).now()},end:function(){p++;var T=(performance||Date).now();if(w.update(T-l,200),T>e+1e3&&(v.update(1e3*p/(T-e),100),e=T,p=0,E)){var C=performance.memory;E.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return T},update:function(){l=this.end()},domElement:s,setMode:n}};aA.Panel=function(t,n,i){var s=Infinity,l=0,e=Math.round,p=e(window.devicePixelRatio||1),v=80*p,w=48*p,E=3*p,T=2*p,C=3*p,R=15*p,B=74*p,A=30*p,H=document.createElement("canvas");H.width=v,H.height=w,H.style.cssText="width:80px;height:48px";var G=H.getContext("2d");return G.font="bold "+9*p+"px Helvetica,Arial,sans-serif",G.textBaseline="top",G.fillStyle=i,G.fillRect(0,0,v,w),G.fillStyle=n,G.fillText(t,E,T),G.fillRect(C,R,B,A),G.fillStyle=i,G.globalAlpha=.9,G.fillRect(C,R,B,A),{dom:H,update:function(O,U){s=Math.min(s,O),l=Math.max(l,O),G.fillStyle=i,G.globalAlpha=1,G.fillRect(0,0,v,R),G.fillStyle=n,G.fillText(e(O)+" "+t+" ("+e(s)+"-"+e(l)+")",E,T),G.drawImage(H,C+p,R,B-p,A,C,R,B-p,A),G.fillRect(C+B-p,R,p,A),G.fillStyle=i,G.globalAlpha=.9,G.fillRect(C+B-p,R,p,e((1-O/U)*A))}}};typeof CD=="object"&&(CD.exports=aA)}),DU=cs((Cae,RU)=>{"use strict";var Pne={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2};RU.exports=Pne}),IU=cs((Lae,FU)=>{"use strict";var Rne=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},fT=function(){function t(n,i){for(var s=0;s<i.length;s++){var l=i[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,s){return i&&t(n.prototype,i),s&&t(n,s),n}}();function LD(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function PD(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Jf=DU(),Dne=function(){function t(n,i,s,l,e,p){PD(this,t),this.left=n,this.right=i,this.top=s,this.bottom=l,this.width=e,this.height=p}return fT(t,[{key:"fromJS",value:function(i){i(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),t}(),BU=function(){fT(t,null,[{key:"fromJS",value:function(i){var s=i.width,l=i.height;return new t(s,l)}}]);function t(n,i){PD(this,t),this.width=n,this.height=i}return fT(t,[{key:"fromJS",value:function(i){i(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),t}(),NU=function(){function t(n,i){PD(this,t),this.unit=n,this.value=i}return fT(t,[{key:"fromJS",value:function(i){i(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case Jf.UNIT_POINT:return String(this.value);case Jf.UNIT_PERCENT:return this.value+"%";case Jf.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),t}();FU.exports=function(t,n){function i(p,v,w){var E=p[v];p[v]=function(){for(var T=arguments.length,C=Array(T),R=0;R<T;R++)C[R]=arguments[R];return w.call.apply(w,[this,E].concat(C))}}for(var s=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],l=function(){var v,w=s[e],E=(v={},LD(v,Jf.UNIT_POINT,n.Node.prototype[w]),LD(v,Jf.UNIT_PERCENT,n.Node.prototype[w+"Percent"]),LD(v,Jf.UNIT_AUTO,n.Node.prototype[w+"Auto"]),v);i(n.Node.prototype,w,function(T){for(var C=arguments.length,R=Array(C>1?C-1:0),B=1;B<C;B++)R[B-1]=arguments[B];var A=R.pop(),H=void 0,G=void 0;if(A==="auto")H=Jf.UNIT_AUTO,G=void 0;else if(A instanceof NU)H=A.unit,G=A.valueOf();else if(H=typeof A=="string"&&A.endsWith("%")?Jf.UNIT_PERCENT:Jf.UNIT_POINT,G=parseFloat(A),!Number.isNaN(A)&&Number.isNaN(G))throw new Error("Invalid value "+A+" for "+w);if(!E[H])throw new Error('Failed to execute "'+w+`": Unsupported unit '`+A+"'");if(G!==void 0){var O;return(O=E[H]).call.apply(O,[this].concat(R,[G]))}else{var U;return(U=E[H]).call.apply(U,[this].concat(R))}})},e=0;e<s.length;e++)l();return i(n.Config.prototype,"free",function(){n.Config.destroy(this)}),i(n.Node,"create",function(p,v){return v?n.Node.createWithConfig(v):n.Node.createDefault()}),i(n.Node.prototype,"free",function(){n.Node.destroy(this)}),i(n.Node.prototype,"freeRecursive",function(){for(var p=0,v=this.getChildCount();p<v;++p)this.getChild(0).freeRecursive();this.free()}),i(n.Node.prototype,"setMeasureFunc",function(p,v){return v?p.call(this,function(){return BU.fromJS(v.apply(void 0,arguments))}):this.unsetMeasureFunc()}),i(n.Node.prototype,"calculateLayout",function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jf.DIRECTION_LTR;return p.call(this,v,w,E)}),Rne({Config:n.Config,Node:n.Node,Layout:t("Layout",Dne),Size:t("Size",BU),Value:t("Value",NU),getInstanceCount:function(){return n.getInstanceCount.apply(n,arguments)}},Jf)}}),OU=cs((exports,module)=>{(function(t,n){typeof define=="function"&&define.amd?define([],function(){return n}):typeof module=="object"&&module.exports?module.exports=n:(t.nbind=t.nbind||{}).init=n})(exports,function(Module,cb){typeof Module=="function"&&(cb=Module,Module={}),Module.onRuntimeInitialized=function(t,n){return function(){t&&t.apply(this,arguments);try{Module.ccall("nbind_init")}catch(i){n(i);return}n(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb);var Module;Module||(Module=(typeof Module!="undefined"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&!0&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(n,i){nodeFS||(nodeFS={}("")),nodePath||(nodePath={}("")),n=nodePath.normalize(n);var s=nodeFS.readFileSync(n);return i?s:s.toString()},Module.readBinary=function(n){var i=Module.read(n,!0);return i.buffer||(i=new Uint8Array(i)),assert(i.buffer),i},Module.load=function(n){globalEval(read(n))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),typeof module!="undefined"&&(module.exports=Module),process.on("uncaughtException",function(t){if(!(t instanceof ExitStatus))throw t}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr!="undefined"&&(Module.printErr=printErr),typeof read!="undefined"?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(n){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(n));var i=read(n,"binary");return assert(typeof i=="object"),i},typeof scriptArgs!="undefined"?Module.arguments=scriptArgs:typeof arguments!="undefined"&&(Module.arguments=arguments),typeof quit=="function"&&(Module.quit=function(t,n){quit(t)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(n){var i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(n){var i=new XMLHttpRequest;return i.open("GET",n,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),Module.readAsync=function(n,i,s){var l=new XMLHttpRequest;l.open("GET",n,!0),l.responseType="arraybuffer",l.onload=function(){l.status==200||l.status==0&&l.response?i(l.response):s()},l.onerror=s,l.send(null)},typeof arguments!="undefined"&&(Module.arguments=arguments),typeof console!="undefined")Module.print||(Module.print=function(n){console.log(n)}),Module.printErr||(Module.printErr=function(n){console.warn(n)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump!="undefined"?function(t){dump(t)}:function(t){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle=="undefined"&&(Module.setWindowTitle=function(t){document.title=t})}else throw"Unknown runtime environment. Where are we?";function globalEval(t){eval.call(null,t)}!Module.load&&Module.read&&(Module.load=function(n){globalEval(Module.read(n))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(t,n){throw n}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(t){return tempRet0=t,t},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(t){STACKTOP=t},getNativeTypeSize:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(t[t.length-1]==="*")return Runtime.QUANTUM_SIZE;if(t[0]==="i"){var n=parseInt(t.substr(1));return assert(n%8===0),n/8}else return 0}}},getNativeFieldSize:function(t){return Math.max(Runtime.getNativeTypeSize(t),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(t,n){return n==="double"||n==="i64"?t&7&&(assert((t&7)===4),t+=4):assert((t&3)===0),t},getAlignSize:function(t,n,i){return!i&&(t=="i64"||t=="double")?8:t?Math.min(n||(t?Runtime.getNativeFieldSize(t):0),Runtime.QUANTUM_SIZE):Math.min(n,8)},dynCall:function(t,n,i){return i&&i.length?Module["dynCall_"+t].apply(null,[n].concat(i)):Module["dynCall_"+t].call(null,n)},functionPointers:[],addFunction:function(t){for(var n=0;n<Runtime.functionPointers.length;n++)if(!Runtime.functionPointers[n])return Runtime.functionPointers[n]=t,2*(1+n);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(t){Runtime.functionPointers[(t-2)/2]=null},warnOnce:function(t){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[t]||(Runtime.warnOnce.shown[t]=1,Module.printErr(t))},funcWrappers:{},getFuncWrapper:function(t,n){if(!t)return;assert(n),Runtime.funcWrappers[n]||(Runtime.funcWrappers[n]={});var i=Runtime.funcWrappers[n];return i[t]||(n.length===1?i[t]=function(){return Runtime.dynCall(n,t)}:n.length===2?i[t]=function(l){return Runtime.dynCall(n,t,[l])}:i[t]=function(){return Runtime.dynCall(n,t,Array.prototype.slice.call(arguments))}),i[t]},getCompilerSetting:function(t){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(t){var n=STACKTOP;return STACKTOP=STACKTOP+t|0,STACKTOP=STACKTOP+15&-16,n},staticAlloc:function(t){var n=STATICTOP;return STATICTOP=STATICTOP+t|0,STATICTOP=STATICTOP+15&-16,n},dynamicAlloc:function(t){var n=HEAP32[DYNAMICTOP_PTR>>2],i=(n+t+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=i,i>=TOTAL_MEMORY){var s=enlargeMemory();if(!s)return HEAP32[DYNAMICTOP_PTR>>2]=n,0}return n},alignMemory:function(t,n){var i=t=Math.ceil(t/(n||16))*(n||16);return i},makeBigInt:function(t,n,i){var s=i?+(t>>>0)+ +(n>>>0)*4294967296:+(t>>>0)+ +(n|0)*4294967296;return s},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0,EXITSTATUS=0;function assert(t,n){t||abort("Assertion failed: "+n)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(t){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(t){var n=Runtime.stackAlloc(t.length);return writeArrayToMemory(t,n),n},stringToC:function(t){var n=0;if(t!=null&&t!==0){var i=(t.length<<2)+1;n=Runtime.stackAlloc(i),stringToUTF8(t,n,i)}return n}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(n,i,s,l,e){var p=getCFunc(n),v=[],w=0;if(l)for(var E=0;E<l.length;E++){var T=toC[s[E]];T?(w===0&&(w=Runtime.stackSave()),v[E]=T(l[E])):v[E]=l[E]}var C=p.apply(null,v);if(i==="string"&&(C=Pointer_stringify(C)),w!==0){if(e&&e.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(w)});return}Runtime.stackRestore(w)}return C};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(t){var n=t.toString().match(sourceRegex).slice(1);return{arguments:n[0],body:n[1],returnValue:n[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var t in JSfuncs)JSfuncs.hasOwnProperty(t)&&(JSsource[t]=parseJSFunc(JSfuncs[t]))}}cwrap=function(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(t){return t==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(t,n){return"$"+n}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type==="number")continue;var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(t,n,i,s){i=i||"i8",i.charAt(i.length-1)==="*"&&(i="i32");switch(i){case"i1":HEAP8[t>>0]=n;break;case"i8":HEAP8[t>>0]=n;break;case"i16":HEAP16[t>>1]=n;break;case"i32":HEAP32[t>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=n;break;case"double":HEAPF64[t>>3]=n;break;default:abort("invalid type for setValue: "+i)}}Module.setValue=setValue;function getValue(t,n,i){n=n||"i8",n.charAt(n.length-1)==="*"&&(n="i32");switch(n){case"i1":return HEAP8[t>>0];case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":return HEAP32[t>>2];case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];default:abort("invalid type for setValue: "+n)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(t,n,i,s){var l,e;typeof t=="number"?(l=!0,e=t):(l=!1,e=t.length);var p=typeof n=="string"?n:null,v;if(i==ALLOC_NONE?v=s:v=[typeof _malloc=="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][i===void 0?ALLOC_STATIC:i](Math.max(e,p?1:n.length)),l){var s=v,w;for(assert((v&3)==0),w=v+(e&~3);s<w;s+=4)HEAP32[s>>2]=0;for(w=v+e;s<w;)HEAP8[s++>>0]=0;return v}if(p==="i8")return t.subarray||t.slice?HEAPU8.set(t,v):HEAPU8.set(new Uint8Array(t),v),v;for(var E=0,T,C,R;E<e;){var B=t[E];if(typeof B=="function"&&(B=Runtime.getFunctionIndex(B)),T=p||n[E],T===0){E++;continue}T=="i64"&&(T="i32"),setValue(v+E,B,T),R!==T&&(C=Runtime.getNativeTypeSize(T),R=T),E+=C}return v}Module.allocate=allocate;function getMemory(t){return staticSealed?runtimeInitialized?_malloc(t):Runtime.dynamicAlloc(t):Runtime.staticAlloc(t)}Module.getMemory=getMemory;function Pointer_stringify(t,n){if(n===0||!t)return"";for(var i=0,s,l=0;!(s=HEAPU8[t+l>>0],i|=s,s==0&&!n);)if(l++,n&&l==n)break;n||(n=l);var e="";if(i<128){for(var p=1024,v;n>0;)v=String.fromCharCode.apply(String,HEAPU8.subarray(t,t+Math.min(n,p))),e=e?e+v:v,t+=p,n-=p;return e}return Module.UTF8ToString(t)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(t){for(var n="";;){var i=HEAP8[t++>>0];if(!i)return n;n+=String.fromCharCode(i)}}Module.AsciiToString=AsciiToString;function stringToAscii(t,n){return writeAsciiToMemory(t,n,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(t,n){for(var i=n;t[i];)++i;if(i-n>16&&t.subarray&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(n,i));for(var s,l,e,p,v,w,E="";;){if(s=t[n++],!s)return E;if(!(s&128)){E+=String.fromCharCode(s);continue}if(l=t[n++]&63,(s&224)==192){E+=String.fromCharCode((s&31)<<6|l);continue}if(e=t[n++]&63,(s&240)==224?s=(s&15)<<12|l<<6|e:(p=t[n++]&63,(s&248)==240?s=(s&7)<<18|l<<12|e<<6|p:(v=t[n++]&63,(s&252)==248?s=(s&3)<<24|l<<18|e<<12|p<<6|v:(w=t[n++]&63,s=(s&1)<<30|l<<24|e<<18|p<<12|v<<6|w))),s<65536)E+=String.fromCharCode(s);else{var T=s-65536;E+=String.fromCharCode(55296|T>>10,56320|T&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(t){return UTF8ArrayToString(HEAPU8,t)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(t,n,i,s){if(!(s>0))return 0;for(var l=i,e=i+s-1,p=0;p<t.length;++p){var v=t.charCodeAt(p);if(v>=55296&&v<=57343&&(v=65536+((v&1023)<<10)|t.charCodeAt(++p)&1023),v<=127){if(i>=e)break;n[i++]=v}else if(v<=2047){if(i+1>=e)break;n[i++]=192|v>>6,n[i++]=128|v&63}else if(v<=65535){if(i+2>=e)break;n[i++]=224|v>>12,n[i++]=128|v>>6&63,n[i++]=128|v&63}else if(v<=2097151){if(i+3>=e)break;n[i++]=240|v>>18,n[i++]=128|v>>12&63,n[i++]=128|v>>6&63,n[i++]=128|v&63}else if(v<=67108863){if(i+4>=e)break;n[i++]=248|v>>24,n[i++]=128|v>>18&63,n[i++]=128|v>>12&63,n[i++]=128|v>>6&63,n[i++]=128|v&63}else{if(i+5>=e)break;n[i++]=252|v>>30,n[i++]=128|v>>24&63,n[i++]=128|v>>18&63,n[i++]=128|v>>12&63,n[i++]=128|v>>6&63,n[i++]=128|v&63}}return n[i]=0,i-l}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(t,n,i){return stringToUTF8Array(t,HEAPU8,n,i)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(t){for(var n=0,i=0;i<t.length;++i){var s=t.charCodeAt(i);s>=55296&&s<=57343&&(s=65536+((s&1023)<<10)|t.charCodeAt(++i)&1023),s<=127?++n:s<=2047?n+=2:s<=65535?n+=3:s<=2097151?n+=4:s<=67108863?n+=5:n+=6}return n}Module.lengthBytesUTF8=lengthBytesUTF8;var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function demangle(t){var n=Module.___cxa_demangle||Module.__cxa_demangle;if(n){try{var i=t.substr(1),s=lengthBytesUTF8(i)+1,l=_malloc(s);stringToUTF8(i,l,s);var e=_malloc(4),p=n(l,0,0,e);if(getValue(e,"i32")===0&&p)return Pointer_stringify(p)}catch(v){}finally{l&&_free(l),e&&_free(e),p&&_free(p)}return t}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t}function demangleAll(t){var n=/__Z[\w\d_]+/g;return t.replace(n,function(i){var s=demangle(i);return i===s?i:i+" ["+s+"]"})}function jsStackTrace(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(n){t=n}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function stackTrace(){var t=jsStackTrace();return Module.extraStackTrace&&(t+=`
`+Module.extraStackTrace()),demangleAll(t)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||134217728;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(t){for(;t.length>0;){var n=t.shift();if(typeof n=="function"){n();continue}var i=n.func;typeof i=="number"?n.arg===void 0?Module.dynCall_v(i):Module.dynCall_vi(i,n.arg):i(n.arg===void 0?null:n.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}Module.addOnPreRun=addOnPreRun;function addOnInit(t){__ATINIT__.unshift(t)}Module.addOnInit=addOnInit;function addOnPreMain(t){__ATMAIN__.unshift(t)}Module.addOnPreMain=addOnPreMain;function addOnExit(t){__ATEXIT__.unshift(t)}Module.addOnExit=addOnExit;function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(t,n,i){var s=i>0?i:lengthBytesUTF8(t)+1,l=new Array(s),e=stringToUTF8Array(t,l,0,l.length);return n&&(l.length=e),l}Module.intArrayFromString=intArrayFromString;function intArrayToString(t){for(var n=[],i=0;i<t.length;i++){var s=t[i];s>255&&(s&=255),n.push(String.fromCharCode(s))}return n.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(t,n,i){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var s,l;i&&(l=n+lengthBytesUTF8(t),s=HEAP8[l]),stringToUTF8(t,n,Infinity),i&&(HEAP8[l]=s)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(t,n){HEAP8.set(t,n)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(t,n,i){for(var s=0;s<t.length;++s)HEAP8[n++>>0]=t.charCodeAt(s);i||(HEAP8[n>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(n,i){var s=n>>>16,l=n&65535,e=i>>>16,p=i&65535;return l*p+(s*p+l*e<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(t){return froundBuffer[0]=t,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(t){t=t>>>0;for(var n=0;n<32;n++)if(t&1<<31-n)return n;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var n=dependenciesFulfilled;dependenciesFulfilled=null,n()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(t,n,i,s,l,e,p,v){return _nbind.callbackSignatureList[t].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(t,n,i,s,l,e,p,v){return ASM_CONSTS[t](n,i,s,l,e,p,v)}function _emscripten_asm_const_iiiii(t,n,i,s,l){return ASM_CONSTS[t](n,i,s,l)}function _emscripten_asm_const_iiidddddd(t,n,i,s,l,e,p,v,w){return ASM_CONSTS[t](n,i,s,l,e,p,v,w)}function _emscripten_asm_const_iiididi(t,n,i,s,l,e,p){return ASM_CONSTS[t](n,i,s,l,e,p)}function _emscripten_asm_const_iiii(t,n,i,s){return ASM_CONSTS[t](n,i,s)}function _emscripten_asm_const_iiiid(t,n,i,s,l){return ASM_CONSTS[t](n,i,s,l)}function _emscripten_asm_const_iiiiii(t,n,i,s,l,e){return ASM_CONSTS[t](n,i,s,l,e)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(t,n){__ATEXIT__.unshift({func:t,arg:n})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(t,n,i,s){var l=arguments.length,e=l<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(t,n,i,s);else for(var v=t.length-1;v>=0;v--)(p=t[v])&&(e=(l<3?p(e):l>3?p(n,i,e):p(n,i))||e);return l>3&&e&&Object.defineProperty(n,i,e),e}function _defineHidden(t){return function(n,i){Object.defineProperty(n,i,{configurable:!1,enumerable:!1,value:t,writable:!0})}}var _nbind={};function __nbind_free_external(t){_nbind.externalList[t].dereference(t)}function __nbind_reference_external(t){_nbind.externalList[t].reference()}function _llvm_stackrestore(t){var n=_llvm_stacksave,i=n.LLVM_SAVEDSTACKS[t];n.LLVM_SAVEDSTACKS.splice(t,1),Runtime.stackRestore(i)}function __nbind_register_pool(t,n,i,s){_nbind.Pool.pageSize=t,_nbind.Pool.usedPtr=n/4,_nbind.Pool.rootPtr=i,_nbind.Pool.pagePtr=s/4,HEAP32[n/4]=16909060,HEAP8[n]==1&&(_nbind.bigEndian=!0),HEAP32[n/4]=0,_nbind.makeTypeKindTbl=(e={},e[1024]=_nbind.PrimitiveType,e[64]=_nbind.Int64Type,e[2048]=_nbind.BindClass,e[3072]=_nbind.BindClassPtr,e[4096]=_nbind.SharedClassPtr,e[5120]=_nbind.ArrayType,e[6144]=_nbind.ArrayType,e[7168]=_nbind.CStringType,e[9216]=_nbind.CallbackType,e[10240]=_nbind.BindType,e),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var l=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});l.proto=Module,_nbind.BindClass.list.push(l);var e}function _emscripten_set_main_loop_timing(t,n){if(Browser.mainLoop.timingMode=t,Browser.mainLoop.timingValue=n,!Browser.mainLoop.func)return 1;if(t==0)Browser.mainLoop.scheduler=function(){var p=Math.max(0,Browser.mainLoop.tickStartTime+n-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,p)},Browser.mainLoop.method="timeout";else if(t==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(t==2){if(!window.setImmediate){var i=[],s="setimmediate";function l(e){e.source===window&&e.data===s&&(e.stopPropagation(),i.shift()())}window.addEventListener("message",l,!0),window.setImmediate=function(p){i.push(p),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(p),window.postMessage({target:s})):window.postMessage(s,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(t,n,i,s,l){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=t,Browser.mainLoop.arg=s;var e;typeof s!="undefined"?e=function(){Module.dynCall_vi(t,s)}:e=function(){Module.dynCall_v(t)};var p=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var w=Date.now(),E=Browser.mainLoop.queue.shift();if(E.func(E.arg),Browser.mainLoop.remainingBlockers){var T=Browser.mainLoop.remainingBlockers,C=T%1==0?T-1:Math.floor(T);E.counted?Browser.mainLoop.remainingBlockers=C:(C=C+.5,Browser.mainLoop.remainingBlockers=(8*T+C)/9)}if(console.log('main loop blocker "'+E.name+'" took '+(Date.now()-w)+" ms"),Browser.mainLoop.updateStatus(),p<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(p<Browser.mainLoop.currentlyRunningMainloop)return;if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());if(Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(e),p<Browser.mainLoop.currentlyRunningMainloop)return;typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler()},l||(n&&n>0?_emscripten_set_main_loop_timing(0,1e3/n):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),i)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var t=Browser.mainLoop.timingMode,n=Browser.mainLoop.timingValue,i=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(i,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(t,n),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var t=Module.statusMessage||"Please wait...",n=Browser.mainLoop.remainingBlockers,i=Browser.mainLoop.expectedBlockers;n?n<i?Module.setStatus(t+" ("+(i-n)+"/"+i+")"):Module.setStatus(t):Module.setStatus("")}},runIter:function(t){if(ABORT)return;if(Module.preMainLoop){var n=Module.preMainLoop();if(n===!1)return}try{t()}catch(i){if(i instanceof ExitStatus)return;throw i&&typeof i=="object"&&i.stack&&Module.printErr("exception thrown: "+[i,i.stack]),i}Module.postMainLoop&&Module.postMainLoop()}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(l){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject=="undefined"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var t={};t.canHandle=function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},t.handle=function(e,p,v,w){var E=null;if(Browser.hasBlobConstructor)try{E=new Blob([e],{type:Browser.getMimetype(p)}),E.size!==e.length&&(E=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(p)}))}catch(B){Runtime.warnOnce("Blob constructor present but fails: "+B+"; falling back to blob builder")}if(!E){var T=new Browser.BlobBuilder;T.append(new Uint8Array(e).buffer),E=T.getBlob()}var C=Browser.URLObject.createObjectURL(E),R=new Image;R.onload=function(){assert(R.complete,"Image "+p+" could not be decoded");var A=document.createElement("canvas");A.width=R.width,A.height=R.height;var H=A.getContext("2d");H.drawImage(R,0,0),Module.preloadedImages[p]=A,Browser.URLObject.revokeObjectURL(C),v&&v(e)},R.onerror=function(A){console.log("Image "+C+" could not be decoded"),w&&w()},R.src=C},Module.preloadPlugins.push(t);var n={};n.canHandle=function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(e,p,v,w){var E=!1;function T(H){if(E)return;E=!0,Module.preloadedAudios[p]=H,v&&v(e)}function C(){if(E)return;E=!0,Module.preloadedAudios[p]=new Audio,w&&w()}if(Browser.hasBlobConstructor){try{var R=new Blob([e],{type:Browser.getMimetype(p)})}catch(H){return C()}var B=Browser.URLObject.createObjectURL(R),A=new Audio;A.addEventListener("canplaythrough",function(){T(A)},!1),A.onerror=function(G){if(E)return;console.log("warning: browser could not fully decode audio "+p+", trying slower base64 approach");function O(U){for(var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie="=",ue="",K=0,ce=0,ve=0;ve<U.length;ve++)for(K=K<<8|U[ve],ce+=8;ce>=6;){var Ve=K>>ce-6&63;ce-=6,ue+=$[Ve]}return ce==2?(ue+=$[(K&3)<<4],ue+=ie+ie):ce==4&&(ue+=$[(K&15)<<2],ue+=ie),ue}A.src="data:audio/x-"+p.substr(-3)+";base64,"+O(e),T(A)},A.src=B,Browser.safeSetTimeout(function(){T(A)},1e4)}else return C()},Module.preloadPlugins.push(n);function i(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var s=Module.canvas;s&&(s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock||s.webkitRequestPointerLock||s.msRequestPointerLock||function(){},s.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},s.exitPointerLock=s.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),Module.elementPointerLock&&s.addEventListener("click",function(l){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),l.preventDefault())},!1))},createContext:function(t,n,i,s){if(n&&Module.ctx&&t==Module.canvas)return Module.ctx;var l,e;if(n){var p={antialias:!1,alpha:!1};if(s)for(var v in s)p[v]=s[v];e=GL.createContext(t,p),e&&(l=GL.getContext(e).GLctx)}else l=t.getContext("2d");return l?(i&&(n||assert(typeof GLctx=="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=l,n&&GL.makeContextCurrent(e),Module.useWebGL=n,Browser.moduleContextCreatedCallbacks.forEach(function(w){w()}),Browser.init()),l):null},destroyContext:function(t,n,i){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(t,n,i){Browser.lockPointer=t,Browser.resizeCanvas=n,Browser.vrDevice=i,typeof Browser.lockPointer=="undefined"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas=="undefined"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice=="undefined"&&(Browser.vrDevice=null);var s=Module.canvas;function l(){Browser.isFullscreen=!1;var p=s.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===p?(s.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},s.exitFullscreen=s.exitFullscreen.bind(document),Browser.lockPointer&&s.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(p.parentNode.insertBefore(s,p),p.parentNode.removeChild(p),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(s)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",l,!1),document.addEventListener("mozfullscreenchange",l,!1),document.addEventListener("webkitfullscreenchange",l,!1),document.addEventListener("MSFullscreenChange",l,!1));var e=document.createElement("div");s.parentNode.insertBefore(e,s),e.appendChild(s),e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||(e.webkitRequestFullscreen?function(){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(e.webkitRequestFullScreen?function(){e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),i?e.requestFullscreen({vrDisplay:i}):e.requestFullscreen()},requestFullScreen:function(t,n,i){return Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Browser.requestFullScreen=function(s,l,e){return Browser.requestFullscreen(s,l,e)},Browser.requestFullscreen(t,n,i)},nextRAF:0,fakeRequestAnimationFrame:function(t){var n=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=n+1e3/60;else for(;n+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var i=Math.max(Browser.nextRAF-n,0);setTimeout(t,i)},requestAnimationFrame:function(n){typeof window=="undefined"?Browser.fakeRequestAnimationFrame(n):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(n))},safeCallback:function(t){return function(){if(!ABORT)return t.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var t=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],t.forEach(function(n){n()})}},safeRequestAnimationFrame:function(t){return Browser.requestAnimationFrame(function(){if(ABORT)return;Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t)})},safeSetTimeout:function(t,n){return Module.noExitRuntime=!0,setTimeout(function(){if(ABORT)return;Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t)},n)},safeSetInterval:function(t,n){return Module.noExitRuntime=!0,setInterval(function(){if(ABORT)return;Browser.allowAsyncCallbacks&&t()},n)},getMimetype:function(t){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[t.substr(t.lastIndexOf(".")+1)]},getUserMedia:function(t){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(t)},getMovementX:function(t){return t.movementX||t.mozMovementX||t.webkitMovementX||0},getMovementY:function(t){return t.movementY||t.mozMovementY||t.webkitMovementY||0},getMouseWheelDelta:function(t){var n=0;switch(t.type){case"DOMMouseScroll":n=t.detail;break;case"mousewheel":n=t.wheelDelta;break;case"wheel":n=t.deltaY;break;default:throw"unrecognized mouse wheel event: "+t.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(t){if(Browser.pointerLock)t.type!="mousemove"&&"mozMovementX"in t?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(t),Browser.mouseMovementY=Browser.getMovementY(t)),typeof SDL!="undefined"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var n=Module.canvas.getBoundingClientRect(),i=Module.canvas.width,s=Module.canvas.height,l=typeof window.scrollX!="undefined"?window.scrollX:window.pageXOffset,e=typeof window.scrollY!="undefined"?window.scrollY:window.pageYOffset;if(t.type==="touchstart"||t.type==="touchend"||t.type==="touchmove"){var p=t.touch;if(p===void 0)return;var v=p.pageX-(l+n.left),w=p.pageY-(e+n.top);v=v*(i/n.width),w=w*(s/n.height);var E={x:v,y:w};if(t.type==="touchstart")Browser.lastTouches[p.identifier]=E,Browser.touches[p.identifier]=E;else if(t.type==="touchend"||t.type==="touchmove"){var T=Browser.touches[p.identifier];T||(T=E),Browser.lastTouches[p.identifier]=T,Browser.touches[p.identifier]=E}return}var C=t.pageX-(l+n.left),R=t.pageY-(e+n.top);C=C*(i/n.width),R=R*(s/n.height),Browser.mouseMovementX=C-Browser.mouseX,Browser.mouseMovementY=R-Browser.mouseY,Browser.mouseX=C,Browser.mouseY=R}},asyncLoad:function(t,n,i,s){var l=s?"":getUniqueRunDependency("al "+t);Module.readAsync(t,function(e){assert(e,'Loading data file "'+t+'" failed (no arrayBuffer).'),n(new Uint8Array(e)),l&&removeRunDependency(l)},function(e){if(i)i();else throw'Loading data file "'+t+'" failed.'}),l&&addRunDependency(l)},resizeListeners:[],updateResizeListeners:function(){var t=Module.canvas;Browser.resizeListeners.forEach(function(n){n(t.width,t.height)})},setCanvasSize:function(t,n,i){var s=Module.canvas;Browser.updateCanvasDimensions(s,t,n),i||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t&~8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},updateCanvasDimensions:function(t,n,i){n&&i?(t.widthNative=n,t.heightNative=i):(n=t.widthNative,i=t.heightNative);var s=n,l=i;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(s/l<Module.forcedAspectRatio?s=Math.round(l*Module.forcedAspectRatio):l=Math.round(s/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&typeof screen!="undefined"){var e=Math.min(screen.width/s,screen.height/l);s=Math.round(s*e),l=Math.round(l*e)}Browser.resizeCanvas?(t.width!=s&&(t.width=s),t.height!=l&&(t.height=l),typeof t.style!="undefined"&&(t.style.removeProperty("width"),t.style.removeProperty("height"))):(t.width!=n&&(t.width=n),t.height!=i&&(t.height=i),typeof t.style!="undefined"&&(s!=n||l!=i?(t.style.setProperty("width",s+"px","important"),t.style.setProperty("height",l+"px","important")):(t.style.removeProperty("width"),t.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var t=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,t}},SYSCALLS={varargs:0,get:function(t){SYSCALLS.varargs+=4;var n=HEAP32[SYSCALLS.varargs-4>>2];return n},getStr:function(){var t=Pointer_stringify(SYSCALLS.get());return t},get64:function(){var t=SYSCALLS.get(),n=SYSCALLS.get();return t>=0?assert(n===0):assert(n===-1),t},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(t,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD();return FS.close(i),0}catch(s){return(typeof FS=="undefined"||!(s instanceof FS.ErrnoError))&&abort(s),-s.errno}}function ___syscall54(t,n){SYSCALLS.varargs=n;try{return 0}catch(i){return(typeof FS=="undefined"||!(i instanceof FS.ErrnoError))&&abort(i),-i.errno}}function _typeModule(t){var n=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function i(w,E,T,C,R,B){if(E==1){var A=C&896;(A==128||A==256||A==384)&&(w="X const")}var H;return B?H=T.replace("X",w).replace("Y",R):H=w.replace("X",T).replace("Y",R),H.replace(/([*&]) (?=[*&])/g,"$1")}function s(w,E,T,C,R){throw new Error(w+" type "+T.replace("X",E+"?")+(C?" with flag "+C:"")+" in "+R)}function l(w,E,T,C,R,B,A,H){B===void 0&&(B="X"),H===void 0&&(H=1);var G=T(w);if(G)return G;var O=C(w),U=O.placeholderFlag,$=n[U];A&&$&&(B=i(A[2],A[0],B,$[0],"?",!0));var ie;U==0&&(ie="Unbound"),U>=10&&(ie="Corrupt"),H>20&&(ie="Deeply nested"),ie&&s(ie,w,B,U,R||"?");var ue=O.paramList[0],K=l(ue,E,T,C,R,B,$,H+1),ce,ve={flags:$[0],id:w,name:"",paramList:[K]},Ve=[],Me="?";switch(O.placeholderFlag){case 1:ce=K.spec;break;case 2:if((K.flags&15360)==1024&&K.spec.ptrSize==1){ve.flags=7168;break}case 3:case 6:case 5:ce=K.spec,(K.flags&15360)!=2048;break;case 8:Me=""+O.paramList[1],ve.paramList.push(O.paramList[1]);break;case 9:for(var Ee=0,Ne=O.paramList[1];Ee<Ne.length;Ee++){var Oe=Ne[Ee],tt=l(Oe,E,T,C,R,B,$,H+1);Ve.push(tt.name),ve.paramList.push(tt)}Me=Ve.join(", ");break;default:break}if(ve.name=i($[2],$[0],K.name,K.flags,Me),ce){for(var Ze=0,Qe=Object.keys(ce);Ze<Qe.length;Ze++){var at=Qe[Ze];ve[at]=ve[at]||ce[at]}ve.flags|=ce.flags}return e(E,ve)}function e(w,E){var T=E.flags,C=T&896,R=T&15360;return!E.name&&R==1024&&(E.ptrSize==1?E.name=(T&16?"":(T&8?"un":"")+"signed ")+"char":E.name=(T&8?"u":"")+(T&32?"float":"int")+(E.ptrSize*8+"_t")),E.ptrSize==8&&!(T&32)&&(R=64),R==2048&&(C==512||C==640?R=4096:C&&(R=3072)),w(R,E)}var p=function(){function w(E){this.id=E.id,this.name=E.name,this.flags=E.flags,this.spec=E}return w.prototype.toString=function(){return this.name},w}(),v={Type:p,getComplexType:l,makeType:e,structureList:n};return t.output=v,t.output||v}function __nbind_register_type(t,n){var i=_nbind.readAsciiString(n),s={flags:10240,id:t,name:i};_nbind.makeType(_nbind.constructType,s)}function __nbind_register_callback_signature(t,n){var i=_nbind.readTypeIdList(t,n),s=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[s]=_nbind.makeJSCaller(i),s}function __extends(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);function s(){this.constructor=t}s.prototype=n.prototype,t.prototype=new s}function __nbind_register_class(t,n,i,s,l,e,p){var v=_nbind.readAsciiString(p),w=_nbind.readPolicyList(n),E=HEAPU32.subarray(t/4,t/4+2),T={flags:2048|(w.Value?2:0),id:E[0],name:v},C=_nbind.makeType(_nbind.constructType,T);C.ptrType=_nbind.getComplexType(E[1],_nbind.constructType,_nbind.getType,_nbind.queryType),C.destroy=_nbind.makeMethodCaller(C.ptrType,{boundID:T.id,flags:0,name:"destroy",num:0,ptr:e,title:C.name+".free",typeList:["void","uint32_t","uint32_t"]}),l&&(C.superIdList=Array.prototype.slice.call(HEAPU32.subarray(i/4,i/4+l)),C.upcastList=Array.prototype.slice.call(HEAPU32.subarray(s/4,s/4+l))),Module[C.name]=C.makeBound(w),_nbind.BindClass.list.push(C)}function _removeAccessorPrefix(t){var n=/^[Gg]et_?([A-Z]?([A-Z]?))/;return t.replace(n,function(i,s,l){return l?s:s.toLowerCase()})}function __nbind_register_function(t,n,i,s,l,e,p,v,w,E){var T=_nbind.getType(t),C=_nbind.readPolicyList(n),R=_nbind.readTypeIdList(i,s),B;if(p==5)B=[{direct:l,name:"__nbindConstructor",ptr:0,title:T.name+" constructor",typeList:["uint32_t"].concat(R.slice(1))},{direct:e,name:"__nbindValueConstructor",ptr:0,title:T.name+" value constructor",typeList:["void","uint32_t"].concat(R.slice(1))}];else{var A=_nbind.readAsciiString(v),H=(T.name&&T.name+".")+A;(p==3||p==4)&&(A=_removeAccessorPrefix(A)),B=[{boundID:t,direct:e,name:A,ptr:l,title:H,typeList:R}]}for(var G=0,O=B;G<O.length;G++){var U=O[G];U.signatureType=p,U.policyTbl=C,U.num=w,U.flags=E,T.addMethod(U)}}function _nbind_value(t,n){_nbind.typeNameTbl[t]||_nbind.throwError("Unknown value type "+t),Module.NBind.bind_value(t,n),_defineHidden(_nbind.typeNameTbl[t].proto.prototype.__nbindValueConstructor)(n.prototype,"__nbindValueConstructor")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(t,n){var i=_nbind.popValue(t);if(!i.fromJS)throw new Error("Object "+i+" has no fromJS function");i.fromJS(function(){i.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([n],arguments))})}function _emscripten_memcpy_big(t,n,i){return HEAPU8.set(HEAPU8.subarray(n,n+i),t),t}function __nbind_register_primitive(t,n,i){var s={flags:1024|i,id:t,ptrSize:n};_nbind.makeType(_nbind.constructType,s)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(t){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=t),t}function _llvm_stacksave(){var t=_llvm_stacksave;return t.LLVM_SAVEDSTACKS||(t.LLVM_SAVEDSTACKS=[]),t.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),t.LLVM_SAVEDSTACKS.length-1}function ___syscall140(t,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),s=SYSCALLS.get(),l=SYSCALLS.get(),e=SYSCALLS.get(),p=SYSCALLS.get(),v=l;return FS.llseek(i,v,p),HEAP32[e>>2]=i.position,i.getdents&&v===0&&p===0&&(i.getdents=null),0}catch(w){return(typeof FS=="undefined"||!(w instanceof FS.ErrnoError))&&abort(w),-w.errno}}function ___syscall146(t,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.get(),s=SYSCALLS.get(),l=SYSCALLS.get(),e=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(T,C){var R=___syscall146.buffers[T];assert(R),C===0||C===10?((T===1?Module.print:Module.printErr)(UTF8ArrayToString(R,0)),R.length=0):R.push(C)});for(var p=0;p<l;p++){for(var v=HEAP32[s+p*8>>2],w=HEAP32[s+(p*8+4)>>2],E=0;E<w;E++)___syscall146.printChar(i,HEAPU8[v+E]);e+=w}return e}catch(T){return(typeof FS=="undefined"||!(T instanceof FS.ErrnoError))&&abort(T),-T.errno}}function __nbind_finish(){for(var t=0,n=_nbind.BindClass.list;t<n.length;t++){var i=n[t];i.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function t(){}return t.lalloc=function(n){n=n+7&~7;var i=HEAPU32[t.usedPtr];if(n>t.pageSize/2||n>t.pageSize-i){var s=_nbind.typeNameTbl.NBind.proto;return s.lalloc(n)}else return HEAPU32[t.usedPtr]=i+n,t.rootPtr+i},t.lreset=function(n,i){var s=HEAPU32[t.pagePtr];if(s){var l=_nbind.typeNameTbl.NBind.proto;l.lreset(n,i)}else HEAPU32[t.usedPtr]=n},t}();_nbind.Pool=Pool;function constructType(t,n){var i=t==10240?_nbind.makeTypeNameTbl[n.name]||_nbind.BindType:_nbind.makeTypeKindTbl[t],s=new i(n);return typeIdTbl[n.id]=s,_nbind.typeNameTbl[n.name]=s,s}_nbind.constructType=constructType;function getType(t){return typeIdTbl[t]}_nbind.getType=getType;function queryType(t){var n=HEAPU8[t],i=_nbind.structureList[n][1];t/=4,i<0&&(++t,i=HEAPU32[t]+1);var s=Array.prototype.slice.call(HEAPU32.subarray(t+1,t+1+i));return n==9&&(s=[s[0],s.slice(1)]),{paramList:s,placeholderFlag:n}}_nbind.queryType=queryType;function getTypes(t,n){return t.map(function(i){return typeof i=="number"?_nbind.getComplexType(i,constructType,getType,queryType,n):_nbind.typeNameTbl[i]})}_nbind.getTypes=getTypes;function readTypeIdList(t,n){return Array.prototype.slice.call(HEAPU32,t/4,t/4+n)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(t){for(var n=t;HEAPU8[n++];);return String.fromCharCode.apply("",HEAPU8.subarray(t,n-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(t){var n={};if(t)for(;;){var i=HEAPU32[t/4];if(!i)break;n[readAsciiString(i)]=!0,t+=4}return n}_nbind.readPolicyList=readPolicyList;function getDynCall(t,n){var i={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d",void:"v"},s=t.map(function(e){return i[e.name]||"i"}).join(""),l=Module["dynCall_"+s];if(!l)throw new Error("dynCall_"+s+" not found for "+n+"("+t.map(function(e){return e.name}).join(", ")+")");return l}_nbind.getDynCall=getDynCall;function addMethod(t,n,i,s){var l=t[n];t.hasOwnProperty(n)&&l?((l.arity||l.arity===0)&&(l=_nbind.makeOverloader(l,l.arity),t[n]=l),l.addMethod(i,s)):(i.arity=s,t[n]=i)}_nbind.addMethod=addMethod;function throwError(t){throw new Error(t)}_nbind.throwError=throwError,_nbind.bigEndian=!1,_a=_typeModule(_typeModule),_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.heap=HEAPU32,i.ptrSize=4,i}return n.prototype.needsWireRead=function(i){return!!this.wireRead||!!this.makeWireRead},n.prototype.needsWireWrite=function(i){return!!this.wireWrite||!!this.makeWireWrite},n}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(t){__extends(n,t);function n(i){var s=t.call(this,i)||this,l=i.flags&32?{32:HEAPF32,64:HEAPF64}:i.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return s.heap=l[i.ptrSize*8],s.ptrSize=i.ptrSize,s}return n.prototype.needsWireWrite=function(i){return!!i&&!!i.Strict},n.prototype.makeWireWrite=function(i,s){return s&&s.Strict&&function(l){if(typeof l=="number")return l;throw new Error("Type mismatch")}},n}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(t,n){if(t==null){if(n&&n.Nullable)return 0;throw new Error("Type mismatch")}if(n&&n.Strict){if(typeof t!="string")throw new Error("Type mismatch")}else t=t.toString();var i=Module.lengthBytesUTF8(t)+1,s=_nbind.Pool.lalloc(i);return Module.stringToUTF8Array(t,HEAPU8,s,i),s}_nbind.pushCString=pushCString;function popCString(t){return t===0?null:Module.Pointer_stringify(t)}_nbind.popCString=popCString;var CStringType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireRead=popCString,i.wireWrite=pushCString,i.readResources=[_nbind.resources.pool],i.writeResources=[_nbind.resources.pool],i}return n.prototype.makeWireWrite=function(i,s){return function(l){return pushCString(l,s)}},n}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireRead=function(s){return!!s},i}return n.prototype.needsWireWrite=function(i){return!!i&&!!i.Strict},n.prototype.makeWireRead=function(i){return"!!("+i+")"},n.prototype.makeWireWrite=function(i,s){return s&&s.Strict&&function(l){if(typeof l=="boolean")return l;throw new Error("Type mismatch")}||i},n}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function t(){}return t.prototype.persist=function(){this.__nbindState|=1},t}();_nbind.Wrapper=Wrapper;function makeBound(t,n){var i=function(s){__extends(l,s);function l(e,p,v,w){var E=s.call(this)||this;if(!(E instanceof l))return new(Function.prototype.bind.apply(l,Array.prototype.concat.apply([null],arguments)));var T=p,C=v,R=w;if(e!==_nbind.ptrMarker){var B=E.__nbindConstructor.apply(E,arguments);T=4096|512,R=HEAPU32[B/4],C=HEAPU32[B/4+1]}var A={configurable:!0,enumerable:!1,value:null,writable:!1},H={__nbindFlags:T,__nbindPtr:C};R&&(H.__nbindShared=R,_nbind.mark(E));for(var G=0,O=Object.keys(H);G<O.length;G++){var U=O[G];A.value=H[U],Object.defineProperty(E,U,A)}return _defineHidden(0)(E,"__nbindState"),E}return l.prototype.free=function(){n.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")},l}(Wrapper);return __decorate([_defineHidden()],i.prototype,"__nbindConstructor",void 0),__decorate([_defineHidden()],i.prototype,"__nbindValueConstructor",void 0),__decorate([_defineHidden(t)],i.prototype,"__nbindPolicies",void 0),i}_nbind.makeBound=makeBound;function disableMember(t,n){function i(){throw new Error("Accessing deleted object")}Object.defineProperty(t,n,{configurable:!1,enumerable:!1,get:i,set:i})}_nbind.ptrMarker={};var BindClass=function(t){__extends(n,t);function n(i){var s=t.call(this,i)||this;return s.wireRead=function(l){return _nbind.popValue(l,s.ptrType)},s.wireWrite=function(l){return pushPointer(l,s.ptrType,!0)},s.pendingSuperCount=0,s.ready=!1,s.methodTbl={},i.paramList?(s.classType=i.paramList[0].classType,s.proto=s.classType.proto):s.classType=s,s}return n.prototype.makeBound=function(i){var s=_nbind.makeBound(i,this);return this.proto=s,this.ptrType.proto=s,s},n.prototype.addMethod=function(i){var s=this.methodTbl[i.name]||[];s.push(i),this.methodTbl[i.name]=s},n.prototype.registerMethods=function(i,s){for(var l,e=0,p=Object.keys(i.methodTbl);e<p.length;e++)for(var v=p[e],w=i.methodTbl[v],E=0,T=w;E<T.length;E++){var C=T[E],R=void 0,B=void 0;if(R=this.proto.prototype,s&&C.signatureType!=1)continue;switch(C.signatureType){case 1:R=this.proto;case 5:B=_nbind.makeCaller(C),_nbind.addMethod(R,C.name,B,C.typeList.length-1);break;case 4:l=_nbind.makeMethodCaller(i.ptrType,C);break;case 3:Object.defineProperty(R,C.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(i.ptrType,C),set:l});break;case 2:B=_nbind.makeMethodCaller(i.ptrType,C),_nbind.addMethod(R,C.name,B,C.typeList.length-1);break;default:break}}},n.prototype.registerSuperMethods=function(i,s,l){if(l[i.name])return;l[i.name]=!0;for(var e=0,p,v=0,w=i.superIdList||[];v<w.length;v++){var E=w[v],T=_nbind.getType(E);e++<s||s<0?p=-1:p=0,this.registerSuperMethods(T,p,l)}this.registerMethods(i,s<0)},n.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(l){return _nbind.getType(l).finish()});var i=this.proto;if(this.superList.length){var s=function(){this.constructor=i};s.prototype=this.superList[0].proto.prototype,i.prototype=new s}return i!=Module&&(i.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},n.prototype.upcastStep=function(i,s){if(i==this)return s;for(var l=0;l<this.superList.length;++l){var e=this.superList[l].upcastStep(i,_nbind.callUpcast(this.upcastList[l],s));if(e)return e}return 0},n}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(t,n){return t?new n.proto(_nbind.ptrMarker,n.flags,t):null}_nbind.popPointer=popPointer;function pushPointer(t,n,i){if(!(t instanceof _nbind.Wrapper)){if(i)return _nbind.pushValue(t);throw new Error("Type mismatch")}var s=t.__nbindPtr,l=t.__nbindType.classType,e=n.classType;if(t instanceof n.proto)for(;l!=e;)s=_nbind.callUpcast(l.upcastList[0],s),l=l.superList[0];else if(s=l.upcastStep(e,s),!s)throw new Error("Type mismatch");return s}_nbind.pushPointer=pushPointer;function pushMutablePointer(t,n){var i=pushPointer(t,n);if(t.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return i}var BindClassPtr=function(t){__extends(n,t);function n(i){var s=t.call(this,i)||this;s.classType=i.paramList[0].classType,s.proto=s.classType.proto;var l=i.flags&1,e=(s.flags&896)==256&&i.flags&2,p=l?pushPointer:pushMutablePointer,v=e?_nbind.popValue:popPointer;return s.makeWireWrite=function(w,E){return E.Nullable?function(T){return T?p(T,s):0}:function(T){return p(T,s)}},s.wireRead=function(w){return v(w,s)},s.wireWrite=function(w){return p(w,s)},s}return n}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(t,n){var i=HEAPU32[t/4],s=HEAPU32[t/4+1];return s?new n.proto(_nbind.ptrMarker,n.flags,s,i):null}_nbind.popShared=popShared;function pushShared(t,n){if(!(t instanceof n.proto))throw new Error("Type mismatch");return t.__nbindShared}function pushMutableShared(t,n){if(!(t instanceof n.proto))throw new Error("Type mismatch");if(t.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return t.__nbindShared}var SharedClassPtr=function(t){__extends(n,t);function n(i){var s=t.call(this,i)||this;s.readResources=[_nbind.resources.pool],s.classType=i.paramList[0].classType,s.proto=s.classType.proto;var l=i.flags&1,e=l?pushShared:pushMutableShared;return s.wireRead=function(p){return popShared(p,s)},s.wireWrite=function(p){return e(p,s)},s}return n}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function t(n){this.refCount=1,this.data=n}return t.prototype.register=function(){var n=firstFreeExternal;return n?firstFreeExternal=_nbind.externalList[n]:n=_nbind.externalList.length,_nbind.externalList[n]=this,n},t.prototype.reference=function(){++this.refCount},t.prototype.dereference=function(n){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[n]=firstFreeExternal,firstFreeExternal=n)},t}();_nbind.External=External;function popExternal(t){var n=_nbind.externalList[t];return n.dereference(t),n.data}function pushExternal(t){var n=new External(t);return n.reference(),n.register()}var ExternalType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireRead=popExternal,i.wireWrite=pushExternal,i}return n}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireWrite=function(s){return typeof s!="function"&&_nbind.throwError("Type mismatch"),new _nbind.External(s).register()},i}return n}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(t){var n=firstFreeValue;return n?firstFreeValue=_nbind.valueList[n]:n=_nbind.valueList.length,_nbind.valueList[n]=t,n*2+1}_nbind.pushValue=pushValue;function popValue(t,n){if(t||_nbind.throwError("Value type JavaScript class is missing or not registered"),t&1){t>>=1;var i=_nbind.valueList[t];return _nbind.valueList[t]=firstFreeValue,firstFreeValue=t,i}else{if(n)return _nbind.popShared(t,n);throw new Error("Invalid value slot "+t)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(t){return typeof t=="number"?t:pushValue(t)*4096+valueBase}function pop64(t){return t<valueBase?t:popValue((t-valueBase)/4096)}var CreateValueType=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeWireWrite=function(i){return"(_nbind.pushValue(new "+i+"))"},n}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireWrite=push64,i.wireRead=pop64,i}return n}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(t,n){if(!t)return 0;var i=t.length;if((n.size||n.size===0)&&i<n.size)throw new Error("Type mismatch");var s=n.memberType.ptrSize,l=_nbind.Pool.lalloc(4+i*s);HEAPU32[l/4]=i;var e=n.memberType.heap,p=(l+4)/s,v=n.memberType.wireWrite,w=0;if(v)for(;w<i;)e[p++]=v(t[w++]);else for(;w<i;)e[p++]=t[w++];return l}_nbind.pushArray=pushArray;function popArray(t,n){if(t===0)return null;var i=HEAPU32[t/4],s=new Array(i),l=n.memberType.heap;t=(t+4)/n.memberType.ptrSize;var e=n.memberType.wireRead,p=0;if(e)for(;p<i;)s[p++]=e(l[t++]);else for(;p<i;)s[p++]=l[t++];return s}_nbind.popArray=popArray;var ArrayType=function(t){__extends(n,t);function n(i){var s=t.call(this,i)||this;return s.wireRead=function(l){return popArray(l,s)},s.wireWrite=function(l){return pushArray(l,s)},s.readResources=[_nbind.resources.pool],s.writeResources=[_nbind.resources.pool],s.memberType=i.paramList[0],i.paramList[1]&&(s.size=i.paramList[1]),s}return n}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(t,n){if(t==null)if(n&&n.Nullable)t="";else throw new Error("Type mismatch");if(n&&n.Strict){if(typeof t!="string")throw new Error("Type mismatch")}else t=t.toString();var i=Module.lengthBytesUTF8(t),s=_nbind.Pool.lalloc(4+i+1);return HEAPU32[s/4]=i,Module.stringToUTF8Array(t,HEAPU8,s+4,i+1),s}_nbind.pushString=pushString;function popString(t){if(t===0)return null;var n=HEAPU32[t/4];return Module.Pointer_stringify(t+4,n)}_nbind.popString=popString;var StringType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireRead=popString,i.wireWrite=pushString,i.readResources=[_nbind.resources.pool],i.writeResources=[_nbind.resources.pool],i}return n.prototype.makeWireWrite=function(i,s){return function(l){return pushString(l,s)}},n}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(t){return Array.apply(null,Array(t)).map(function(n,i){return"a"+(i+1)})}function anyNeedsWireWrite(t,n){return t.reduce(function(i,s){return i||s.needsWireWrite(n)},!1)}function anyNeedsWireRead(t,n){return t.reduce(function(i,s){return i||!!s.needsWireRead(n)},!1)}function makeWireRead(t,n,i,s){var l=t.length;return i.makeWireRead?i.makeWireRead(s,t,l):i.wireRead?(t[l]=i.wireRead,"(convertParamList["+l+"]("+s+"))"):s}function makeWireWrite(t,n,i,s){var l,e=t.length;return i.makeWireWrite?l=i.makeWireWrite(s,n,t,e):l=i.wireWrite,l?typeof l=="string"?l:(t[e]=l,"(convertParamList["+e+"]("+s+"))"):s}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(t,n){return makeWireWrite(convertParamList,policyTbl,argTypeList[n],t)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(t,n){return makeWireRead(convertParamList,null,argTypeList[n],t)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(t){var n=t.length-1,i=_nbind.getTypes(t,"callback"),s=i[0],l=i.slice(1),e=anyNeedsWireRead(l,null),p=s.needsWireWrite(null);if(!p&&!e)switch(n){case 0:return function(v,w){return _nbind.externalList[w].data()};case 1:return function(v,w,E){return _nbind.externalList[w].data(E)};case 2:return function(v,w,E,T){return _nbind.externalList[w].data(E,T)};case 3:return function(v,w,E,T,C){return _nbind.externalList[w].data(E,T,C)};default:break}return buildJSCallerFunction(s,l)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(t,n){var i=n.typeList.length-1,s=n.typeList.slice(0);s.splice(1,0,"uint32_t",n.boundID);var l=_nbind.getTypes(s,n.title),e=l[0],p=l.slice(3),v=e.needsWireRead(n.policyTbl),w=anyNeedsWireWrite(p,n.policyTbl),E=n.ptr,T=n.num,C=_nbind.getDynCall(l,n.title),R=~n.flags&1;function B(){throw new Error("Calling a non-const method on a const object")}if(!v&&!w)switch(i){case 0:return function(){return this.__nbindFlags&R?B():C(E,T,_nbind.pushPointer(this,t))};case 1:return function(A){return this.__nbindFlags&R?B():C(E,T,_nbind.pushPointer(this,t),A)};case 2:return function(A,H){return this.__nbindFlags&R?B():C(E,T,_nbind.pushPointer(this,t),A,H)};case 3:return function(A,H,G){return this.__nbindFlags&R?B():C(E,T,_nbind.pushPointer(this,t),A,H,G)};default:break}return buildCallerFunction(C,t,E,T,n.policyTbl,w,"ptr,num,pushPointer(this,ptrType)",e,p,R,B)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(t){var n=t.typeList.length-1,i=_nbind.getTypes(t.typeList,t.title),s=i[0],l=i.slice(1),e=s.needsWireRead(t.policyTbl),p=anyNeedsWireWrite(l,t.policyTbl),v=t.direct,w=t.ptr;if(t.direct&&!e&&!p){var E=_nbind.getDynCall(i,t.title);switch(n){case 0:return function(){return E(v)};case 1:return function(B){return E(v,B)};case 2:return function(B,A){return E(v,B,A)};case 3:return function(B,A,H){return E(v,B,A,H)};default:break}w=0}var T;if(w){var C=t.typeList.slice(0);C.splice(1,0,"uint32_t"),i=_nbind.getTypes(C,t.title),T="ptr,num"}else w=v,T="ptr";var R=_nbind.getDynCall(i,t.title);return buildCallerFunction(R,null,w,t.num,t.policyTbl,p,T,s,l)}_nbind.makeCaller=makeCaller;function makeOverloader(t,n){var i=[];function s(){return i[arguments.length].apply(this,arguments)}return s.addMethod=function(l,e){i[e]=l},s.addMethod(t,n),s}_nbind.makeOverloader=makeOverloader;var Resource=function(){function t(n,i){var s=this;this.makeOpen=function(){return Object.keys(s.openTbl).join("")},this.makeClose=function(){return Object.keys(s.closeTbl).join("")},this.openTbl={},this.closeTbl={},n&&(this.openTbl[n]=!0),i&&(this.closeTbl[i]=!0)}return t.prototype.add=function(n){for(var i=0,s=Object.keys(n.openTbl);i<s.length;i++){var l=s[i];this.openTbl[l]=!0}for(var e=0,p=Object.keys(n.closeTbl);e<p.length;e++){var l=p[e];this.closeTbl[l]=!0}},t.prototype.remove=function(n){for(var i=0,s=Object.keys(n.openTbl);i<s.length;i++){var l=s[i];delete this.openTbl[l]}for(var e=0,p=Object.keys(n.closeTbl);e<p.length;e++){var l=p[e];delete this.closeTbl[l]}},t}();_nbind.Resource=Resource;function listResources(t,n){for(var i=new Resource,s=0,l=t;s<l.length;s++)for(var e=l[s],p=0,v=e.readResources||[];p<v.length;p++){var w=v[p];i.add(w)}for(var E=0,T=n;E<T.length;E++)for(var e=T[E],C=0,R=e.writeResources||[];C<R.length;C++){var w=R[C];i.add(w)}return i}_nbind.listResources=listResources,_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(t){__extends(n,t);function n(i,s){var l=t.call(this,i)||this;return l.ptr=s,l}return n.prototype.free=function(){_free(this.ptr)},n}(_nbind.External);function getBuffer(t){return t instanceof ArrayBuffer?new Uint8Array(t):t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pushBuffer(t,n){if(t==null&&(n&&n.Nullable&&(t=[])),typeof t!="object")throw new Error("Type mismatch");var i=t,s=i.byteLength||i.length;if(!s&&s!==0&&i.byteLength!==0)throw new Error("Type mismatch");var l=_nbind.Pool.lalloc(8),e=_malloc(s),p=l/4;return HEAPU32[p++]=s,HEAPU32[p++]=e,HEAPU32[p++]=new ExternalBuffer(t,e).register(),HEAPU8.set(getBuffer(t),e),l}var BufferType=function(t){__extends(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i.wireWrite=pushBuffer,i.readResources=[_nbind.resources.pool],i.writeResources=[_nbind.resources.pool],i}return n.prototype.makeWireWrite=function(i,s){return function(l){return pushBuffer(l,s)}},n}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(t,n,i){var s=_nbind.externalList[t].data,l=Buffer;if(typeof Buffer!="function"&&(l=function(){}),!(s instanceof Array)){var e=HEAPU8.subarray(n,n+i);if(s instanceof l){var p=void 0;typeof Buffer.from=="function"&&Buffer.from.length>=3?p=Buffer.from(e):p=new Buffer(e),p.copy(s)}else getBuffer(s).set(e)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var t=0,n=dirtyList;t<n.length;t++){var i=n[t];i.__nbindState&(1|2)||i.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(t){};function toggleLightGC(t){t?_nbind.mark=function(n){dirtyList.push(n),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(n){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function(n,i,s){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(n,i,s)},Module.requestFullscreen=function(n,i,s){Browser.requestFullscreen(n,i,s)},Module.requestAnimationFrame=function(n){Browser.requestAnimationFrame(n)},Module.setCanvasSize=function(n,i,s){Browser.setCanvasSize(n,i,s)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(n,i,s,l){return Browser.createContext(n,i,s,l)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof dateNow!="undefined"?_emscripten_get_now=dateNow:typeof self=="object"&&self.performance&&typeof self.performance.now=="function"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance=="object"&&typeof performance.now=="function"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var t=Module._fflush;t&&t(0);var n=___syscall146.printChar;if(!n)return;var i=___syscall146.buffers;i[1].length&&n(1,10),i[2].length&&n(2,10)}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(t,n,i,s,l,e){try{Module.dynCall_viiiii(t,n,i,s,l,e)}catch(p){if(typeof p!="number"&&p!=="longjmp")throw p;Module.setThrew(1,0)}}function invoke_vif(t,n,i){try{Module.dynCall_vif(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_vid(t,n,i){try{Module.dynCall_vid(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_fiff(t,n,i,s){try{return Module.dynCall_fiff(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_vi(t,n){try{Module.dynCall_vi(t,n)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;Module.setThrew(1,0)}}function invoke_vii(t,n,i){try{Module.dynCall_vii(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_ii(t,n){try{return Module.dynCall_ii(t,n)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;Module.setThrew(1,0)}}function invoke_viddi(t,n,i,s,l){try{Module.dynCall_viddi(t,n,i,s,l)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_vidd(t,n,i,s){try{Module.dynCall_vidd(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_iiii(t,n,i,s){try{return Module.dynCall_iiii(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_diii(t,n,i,s){try{return Module.dynCall_diii(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_di(t,n){try{return Module.dynCall_di(t,n)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;Module.setThrew(1,0)}}function invoke_iid(t,n,i){try{return Module.dynCall_iid(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_iii(t,n,i){try{return Module.dynCall_iii(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_viiddi(t,n,i,s,l,e){try{Module.dynCall_viiddi(t,n,i,s,l,e)}catch(p){if(typeof p!="number"&&p!=="longjmp")throw p;Module.setThrew(1,0)}}function invoke_viiiiii(t,n,i,s,l,e,p){try{Module.dynCall_viiiiii(t,n,i,s,l,e,p)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;Module.setThrew(1,0)}}function invoke_dii(t,n,i){try{return Module.dynCall_dii(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_i(t){try{return Module.dynCall_i(t)}catch(n){if(typeof n!="number"&&n!=="longjmp")throw n;Module.setThrew(1,0)}}function invoke_iiiiii(t,n,i,s,l,e){try{return Module.dynCall_iiiiii(t,n,i,s,l,e)}catch(p){if(typeof p!="number"&&p!=="longjmp")throw p;Module.setThrew(1,0)}}function invoke_viiid(t,n,i,s,l){try{Module.dynCall_viiid(t,n,i,s,l)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viififi(t,n,i,s,l,e,p){try{Module.dynCall_viififi(t,n,i,s,l,e,p)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;Module.setThrew(1,0)}}function invoke_viii(t,n,i,s){try{Module.dynCall_viii(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_v(t){try{Module.dynCall_v(t)}catch(n){if(typeof n!="number"&&n!=="longjmp")throw n;Module.setThrew(1,0)}}function invoke_viid(t,n,i,s){try{Module.dynCall_viid(t,n,i,s)}catch(l){if(typeof l!="number"&&l!=="longjmp")throw l;Module.setThrew(1,0)}}function invoke_idd(t,n,i){try{return Module.dynCall_idd(t,n,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_viiii(t,n,i,s,l){try{Module.dynCall_viiii(t,n,i,s,l)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:Infinity},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(t,n,i){var s=new t.Int8Array(i),l=new t.Int16Array(i),e=new t.Int32Array(i),p=new t.Uint8Array(i),v=new t.Uint16Array(i),w=new t.Uint32Array(i),E=new t.Float32Array(i),T=new t.Float64Array(i),C=n.DYNAMICTOP_PTR|0,R=n.tempDoublePtr|0,B=n.ABORT|0,A=n.STACKTOP|0,H=n.STACK_MAX|0,G=n.cttz_i8|0,O=n.___dso_handle|0,U=0,$=0,ie=0,ue=0,K=t.NaN,ce=t.Infinity,ve=0,Ve=0,Me=0,Ee=0,Ne=0,Oe=0,tt=t.Math.floor,Ze=t.Math.abs,Qe=t.Math.sqrt,at=t.Math.pow,mt=t.Math.cos,Ht=t.Math.sin,Wt=t.Math.tan,et=t.Math.acos,De=t.Math.asin,Le=t.Math.atan,Ye=t.Math.atan2,Re=t.Math.exp,re=t.Math.log,oe=t.Math.ceil,we=t.Math.imul,ge=t.Math.min,be=t.Math.max,Ce=t.Math.clz32,P=t.Math.fround,_e=n.abort,ke=n.assert,Se=n.enlargeMemory,se=n.getTotalMemory,he=n.abortOnCannotGrowMemory,me=n.invoke_viiiii,xt=n.invoke_vif,pt=n.invoke_vid,ze=n.invoke_fiff,At=n.invoke_vi,gt=n.invoke_vii,Ft=n.invoke_ii,Et=n.invoke_viddi,Pt=n.invoke_vidd,qt=n.invoke_iiii,Xe=n.invoke_diii,Ct=n.invoke_di,zt=n.invoke_iid,sn=n.invoke_iii,lr=n.invoke_viiddi,zn=n.invoke_viiiiii,oi=n.invoke_dii,fr=n.invoke_i,Zr=n.invoke_iiiiii,ci=n.invoke_viiid,Xr=n.invoke_viififi,Wr=n.invoke_viii,Mr=n.invoke_v,eo=n.invoke_viid,Ms=n.invoke_idd,si=n.invoke_viiii,Lo=n._emscripten_asm_const_iiiii,Jo=n._emscripten_asm_const_iiidddddd,yo=n._emscripten_asm_const_iiiid,Fe=n.__nbind_reference_external,bt=n._emscripten_asm_const_iiiiiiii,Mt=n._removeAccessorPrefix,It=n._typeModule,Kt=n.__nbind_register_pool,yr=n.__decorate,Zn=n._llvm_stackrestore,Qt=n.___cxa_atexit,Sr=n.__extends,Fi=n.__nbind_get_value_object,ki=n.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,Kn=n._emscripten_set_main_loop_timing,Kr=n.__nbind_register_primitive,ca=n.__nbind_register_type,fi=n._emscripten_memcpy_big,fa=n.__nbind_register_function,Wi=n.___setErrNo,tu=n.__nbind_register_class,Uo=n.__nbind_finish,kn=n._abort,wl=n._nbind_value,ks=n._llvm_stacksave,nu=n.___syscall54,Bi=n._defineHidden,to=n._emscripten_set_main_loop,Lu=n._emscripten_get_now,Zo=n.__nbind_register_callback_signature,os=n._emscripten_asm_const_iiiiii,ru=n.__nbind_free_external,Pu=n._emscripten_asm_const_iiii,Ss=n._emscripten_asm_const_iiididi,xh=n.___syscall6,Wv=n._atexit,Bm=n.___syscall140,t0=n.___syscall146,jv=P(0);let jt=P(0);function _c(r){r=r|0;var o=0;return o=A,A=A+r|0,A=A+15&-16,o|0}function Qv(){return A|0}function Eh(r){r=r|0,A=r}function bi(r,o){r=r|0,o=o|0,A=r,H=o}function Mc(r,o){r=r|0,o=o|0,U||(U=r,$=o)}function qv(r){r=r|0,Oe=r}function Jv(){return Oe|0}function n0(){var r=0,o=0;rr(8104,8,400)|0,rr(8504,408,540)|0,r=9044,o=r+44|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));s[9088]=0,s[9089]=1,e[2273]=0,e[2274]=948,e[2275]=948,Qt(17,8104,O|0)|0;return}function Nm(r){r=r|0,Ud(r+948|0);return}function rn(r){return r=P(r),((g0(r)|0)&2147483647)>>>0>2139095040|0}function Po(r,o,a){r=r|0,o=o|0,a=a|0;e:do if(e[r+(o<<3)+4>>2]|0)r=r+(o<<3)|0;else{if((o|2|0)==3?e[r+60>>2]|0:0){r=r+56|0;break}switch(o|0){case 0:case 2:case 4:case 5:{if(e[r+52>>2]|0){r=r+48|0;break e}break}default:}if(e[r+68>>2]|0){r=r+64|0;break}else{r=(o|1|0)==5?948:a;break}}while(0);return r|0}function wh(r){r=r|0;var o=0;return o=AM(1e3)|0,mf(r,(o|0)!=0,2456),e[2276]=(e[2276]|0)+1,rr(o|0,8104,1e3)|0,s[r+2>>0]|0&&(e[o+4>>2]=2,e[o+12>>2]=4),e[o+976>>2]=r,o|0}function mf(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;g=A,A=A+16|0,h=g,o||(e[h>>2]=a,Yd(r,5,3197,h)),A=g;return}function Ru(){return wh(956)|0}function Im(r){r=r|0;var o=0;return o=fn(1e3)|0,Zv(o,r),mf(e[r+976>>2]|0,1,2456),e[2276]=(e[2276]|0)+1,e[o+944>>2]=0,o|0}function Zv(r,o){r=r|0,o=o|0;var a=0;rr(r|0,o|0,948)|0,Tx(r+948|0,o+948|0),a=r+960|0,r=o+960|0,o=a+40|0;do e[a>>2]=e[r>>2],a=a+4|0,r=r+4|0;while((a|0)<(o|0));return}function Kv(r){r=r|0;var o=0,a=0,h=0,g=0;if(o=r+944|0,a=e[o>>2]|0,a|0&&(Om(a+948|0,r)|0,e[o>>2]=0),a=Ga(r)|0,a|0){o=0;do e[(Xa(r,o)|0)+944>>2]=0,o=o+1|0;while((o|0)!=(a|0))}a=r+948|0,h=e[a>>2]|0,g=r+952|0,o=e[g>>2]|0,(o|0)!=(h|0)&&(e[g>>2]=o+(~((o+-4-h|0)>>>2)<<2)),Um(a),_M(r),e[2276]=(e[2276]|0)+-1;return}function Om(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0;h=e[r>>2]|0,F=r+4|0,a=e[F>>2]|0,y=a;e:do if((h|0)==(a|0))g=h,M=4;else for(r=h;;){if((e[r>>2]|0)==(o|0)){g=r,M=4;break e}if(r=r+4|0,(r|0)==(a|0)){r=0;break}}while(0);return(M|0)==4&&((g|0)!=(a|0)?(h=g+4|0,r=y-h|0,o=r>>2,o&&(pE(g|0,h|0,r|0)|0,a=e[F>>2]|0),r=g+(o<<2)|0,(a|0)==(r|0)||(e[F>>2]=a+(~((a+-4-r|0)>>>2)<<2)),r=1):r=0),r|0}function Ga(r){return r=r|0,(e[r+952>>2]|0)-(e[r+948>>2]|0)>>2|0}function Xa(r,o){r=r|0,o=o|0;var a=0;return a=e[r+948>>2]|0,(e[r+952>>2]|0)-a>>2>>>0>o>>>0?r=e[a+(o<<2)>>2]|0:r=0,r|0}function Um(r){r=r|0;var o=0,a=0,h=0,g=0;h=A,A=A+32|0,o=h,g=e[r>>2]|0,a=(e[r+4>>2]|0)-g|0,((e[r+8>>2]|0)-g|0)>>>0>a>>>0&&(g=a>>2,lu(o,g,g,r+8|0),y0(r,o),uu(o)),A=h;return}function km(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0;W=Ga(r)|0;do if(W|0){if((e[(Xa(r,0)|0)+944>>2]|0)==(r|0)){if(!(Om(r+948|0,o)|0))break;rr(o+400|0,8504,540)|0,e[o+944>>2]=0,nr(r);break}M=e[(e[r+976>>2]|0)+12>>2]|0,F=r+948|0,k=(M|0)==0,a=0,y=0;do h=e[(e[F>>2]|0)+(y<<2)>>2]|0,(h|0)==(o|0)?nr(r):(g=Im(h)|0,e[(e[F>>2]|0)+(a<<2)>>2]=g,e[g+944>>2]=r,k||FL[M&15](h,g,r,a),a=a+1|0),y=y+1|0;while((y|0)!=(W|0));if(a>>>0<W>>>0){k=r+948|0,F=r+952|0,M=a,a=e[F>>2]|0;do y=(e[k>>2]|0)+(M<<2)|0,h=y+4|0,g=a-h|0,o=g>>2,o&&(pE(y|0,h|0,g|0)|0,a=e[F>>2]|0),g=a,h=y+(o<<2)|0,(g|0)!=(h|0)&&(a=g+(~((g+-4-h|0)>>>2)<<2)|0,e[F>>2]=a),M=M+1|0;while((M|0)!=(W|0))}}while(0);return}function Od(r){r=r|0;var o=0,a=0,h=0,g=0;Gs(r,(Ga(r)|0)==0,2491),Gs(r,(e[r+944>>2]|0)==0,2545),o=r+948|0,a=e[o>>2]|0,h=r+952|0,g=e[h>>2]|0,(g|0)!=(a|0)&&(e[h>>2]=g+(~((g+-4-a|0)>>>2)<<2)),Um(o),o=r+976|0,a=e[o>>2]|0,rr(r|0,8104,1e3)|0,s[a+2>>0]|0&&(e[r+4>>2]=2,e[r+12>>2]=4),e[o>>2]=a;return}function Gs(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;g=A,A=A+16|0,h=g,o||(e[h>>2]=a,Hs(r,5,3197,h)),A=g;return}function Ah(){return e[2276]|0}function r0(){var r=0;return r=AM(20)|0,i0((r|0)!=0,2592),e[2277]=(e[2277]|0)+1,e[r>>2]=e[239],e[r+4>>2]=e[240],e[r+8>>2]=e[241],e[r+12>>2]=e[242],e[r+16>>2]=e[243],r|0}function i0(r,o){r=r|0,o=o|0;var a=0,h=0;h=A,A=A+16|0,a=h,r||(e[a>>2]=o,Hs(0,5,3197,a)),A=h;return}function _h(r){r=r|0,_M(r),e[2277]=(e[2277]|0)+-1;return}function Du(r,o){r=r|0,o=o|0;var a=0;o?(Gs(r,(Ga(r)|0)==0,2629),a=1):(a=0,o=0),e[r+964>>2]=o,e[r+988>>2]=a;return}function Fu(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,y=h+8|0,g=h+4|0,M=h,e[g>>2]=o,Gs(r,(e[o+944>>2]|0)==0,2709),Gs(r,(e[r+964>>2]|0)==0,2763),vf(r),o=r+948|0,e[M>>2]=(e[o>>2]|0)+(a<<2),e[y>>2]=e[M>>2],Ha(o,y,g)|0,e[(e[g>>2]|0)+944>>2]=r,nr(r),A=h;return}function vf(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0;if(a=Ga(r)|0,a|0?(e[(Xa(r,0)|0)+944>>2]|0)!=(r|0):0){h=e[(e[r+976>>2]|0)+12>>2]|0,g=r+948|0,y=(h|0)==0,o=0;do M=e[(e[g>>2]|0)+(o<<2)>>2]|0,F=Im(M)|0,e[(e[g>>2]|0)+(o<<2)>>2]=F,e[F+944>>2]=r,y||FL[h&15](M,F,r,o),o=o+1|0;while((o|0)!=(a|0))}return}function Ha(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0;_t=A,A=A+64|0,Z=_t+52|0,F=_t+48|0,ye=_t+28|0,ht=_t+24|0,nt=_t+20|0,Ke=_t,h=e[r>>2]|0,y=h,o=h+((e[o>>2]|0)-y>>2<<2)|0,h=r+4|0,g=e[h>>2]|0,M=r+8|0;do if(g>>>0<(e[M>>2]|0)>>>0){if((o|0)==(g|0)){e[o>>2]=e[a>>2],e[h>>2]=(e[h>>2]|0)+4;break}x0(r,o,g,o+4|0),o>>>0<=a>>>0&&(a=(e[h>>2]|0)>>>0>a>>>0?a+4|0:a),e[o>>2]=e[a>>2]}else{h=(g-y>>2)+1|0,g=su(r)|0,g>>>0<h>>>0&&Yr(r),V=e[r>>2]|0,W=(e[M>>2]|0)-V|0,y=W>>1,lu(Ke,W>>2>>>0<g>>>1>>>0?y>>>0<h>>>0?h:y:g,o-V>>2,r+8|0),V=Ke+8|0,h=e[V>>2]|0,y=Ke+12|0,W=e[y>>2]|0,M=W,k=h;do if((h|0)==(W|0)){if(W=Ke+4|0,h=e[W>>2]|0,yt=e[Ke>>2]|0,g=yt,h>>>0<=yt>>>0){h=M-g>>1,h=(h|0)==0?1:h,lu(ye,h,h>>>2,e[Ke+16>>2]|0),e[ht>>2]=e[W>>2],e[nt>>2]=e[V>>2],e[F>>2]=e[ht>>2],e[Z>>2]=e[nt>>2],xf(ye,F,Z),h=e[Ke>>2]|0,e[Ke>>2]=e[ye>>2],e[ye>>2]=h,h=ye+4|0,yt=e[W>>2]|0,e[W>>2]=e[h>>2],e[h>>2]=yt,h=ye+8|0,yt=e[V>>2]|0,e[V>>2]=e[h>>2],e[h>>2]=yt,h=ye+12|0,yt=e[y>>2]|0,e[y>>2]=e[h>>2],e[h>>2]=yt,uu(ye),h=e[V>>2]|0;break}y=h,M=((y-g>>2)+1|0)/-2|0,F=h+(M<<2)|0,g=k-y|0,y=g>>2,y&&(pE(F|0,h|0,g|0)|0,h=e[W>>2]|0),yt=F+(y<<2)|0,e[V>>2]=yt,e[W>>2]=h+(M<<2),h=yt}while(0);e[h>>2]=e[a>>2],e[V>>2]=(e[V>>2]|0)+4,o=an(r,Ke,o)|0,uu(Ke)}while(0);return A=_t,o|0}function nr(r){r=r|0;var o=0;do{if(o=r+984|0,s[o>>0]|0)break;s[o>>0]=1,E[r+504>>2]=P(K),r=e[r+944>>2]|0}while((r|0)!=0);return}function Ud(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-4-h|0)>>>2)<<2)),Ut(a));return}function $v(r){return r=r|0,e[r+944>>2]|0}function ss(r){r=r|0,Gs(r,(e[r+964>>2]|0)!=0,2832),nr(r);return}function Ro(r){return r=r|0,(s[r+984>>0]|0)!=0|0}function o0(r,o){r=r|0,o=o|0,HV(r,o,400)|0&&(rr(r|0,o|0,400)|0,nr(r));return}function za(r){r=r|0;var o=jt;return o=P(E[r+44>>2]),r=rn(o)|0,P(r?P(0):o)}function Sc(r){r=r|0;var o=jt;return o=P(E[r+48>>2]),rn(o)|0&&(o=s[(e[r+976>>2]|0)+2>>0]|0?P(1):P(0)),P(o)}function ha(r,o){r=r|0,o=o|0,e[r+980>>2]=o;return}function Mh(r){return r=r|0,e[r+980>>2]|0}function Gm(r,o){r=r|0,o=o|0;var a=0;a=r+4|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function Xm(r){return r=r|0,e[r+4>>2]|0}function da(r,o){r=r|0,o=o|0;var a=0;a=r+8|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function e2(r){return r=r|0,e[r+8>>2]|0}function iu(r,o){r=r|0,o=o|0;var a=0;a=r+12|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function t2(r){return r=r|0,e[r+12>>2]|0}function Al(r,o){r=r|0,o=o|0;var a=0;a=r+16|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function gf(r){return r=r|0,e[r+16>>2]|0}function kd(r,o){r=r|0,o=o|0;var a=0;a=r+20|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function s0(r){return r=r|0,e[r+20>>2]|0}function Gd(r,o){r=r|0,o=o|0;var a=0;a=r+24|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function Hm(r){return r=r|0,e[r+24>>2]|0}function n2(r,o){r=r|0,o=o|0;var a=0;a=r+28|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function zm(r){return r=r|0,e[r+28>>2]|0}function r2(r,o){r=r|0,o=o|0;var a=0;a=r+32|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function a0(r){return r=r|0,e[r+32>>2]|0}function Ya(r,o){r=r|0,o=o|0;var a=0;a=r+36|0,(e[a>>2]|0)!=(o|0)&&(e[a>>2]=o,nr(r));return}function Tc(r){return r=r|0,e[r+36>>2]|0}function Ym(r,o){r=r|0,o=P(o);var a=0;a=r+40|0,P(E[a>>2])!=o&&(E[a>>2]=o,nr(r));return}function i2(r,o){r=r|0,o=P(o);var a=0;a=r+44|0,P(E[a>>2])!=o&&(E[a>>2]=o,nr(r));return}function bc(r,o){r=r|0,o=P(o);var a=0;a=r+48|0,P(E[a>>2])!=o&&(E[a>>2]=o,nr(r));return}function Bu(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+52|0,g=r+56|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function l0(r,o){r=r|0,o=P(o);var a=0,h=0;h=r+52|0,a=r+56|0,(P(E[h>>2])!=o?0:(e[a>>2]|0)==2)||(E[h>>2]=o,h=rn(o)|0,e[a>>2]=h?3:2,nr(r));return}function _l(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+52|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function o2(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=(y^1)&1,g=r+132+(o<<3)|0,o=r+132+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function s2(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=y?0:2,g=r+132+(o<<3)|0,o=r+132+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function Xd(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=o+132+(a<<3)|0,o=e[h+4>>2]|0,a=r,e[a>>2]=e[h>>2],e[a+4>>2]=o;return}function Hd(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=(y^1)&1,g=r+60+(o<<3)|0,o=r+60+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function a2(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=y?0:2,g=r+60+(o<<3)|0,o=r+60+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function l2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=o+60+(a<<3)|0,o=e[h+4>>2]|0,a=r,e[a>>2]=e[h>>2],e[a+4>>2]=o;return}function u2(r,o){r=r|0,o=o|0;var a=0;a=r+60+(o<<3)+4|0,(e[a>>2]|0)!=3&&(E[r+60+(o<<3)>>2]=P(K),e[a>>2]=3,nr(r));return}function Vm(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=(y^1)&1,g=r+204+(o<<3)|0,o=r+204+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function u0(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=y?0:2,g=r+204+(o<<3)|0,o=r+204+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function Xs(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=o+204+(a<<3)|0,o=e[h+4>>2]|0,a=r,e[a>>2]=e[h>>2],e[a+4>>2]=o;return}function Do(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0,y=0;y=rn(a)|0,h=(y^1)&1,g=r+276+(o<<3)|0,o=r+276+(o<<3)+4|0,(y|P(E[g>>2])==a?(e[o>>2]|0)==(h|0):0)||(E[g>>2]=a,e[o>>2]=h,nr(r));return}function c0(r,o){return r=r|0,o=o|0,P(E[r+276+(o<<3)>>2])}function yf(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+348|0,g=r+352|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function $n(r,o){r=r|0,o=P(o);var a=0,h=0;h=r+348|0,a=r+352|0,(P(E[h>>2])!=o?0:(e[a>>2]|0)==2)||(E[h>>2]=o,h=rn(o)|0,e[a>>2]=h?3:2,nr(r));return}function f0(r){r=r|0;var o=0;o=r+352|0,(e[o>>2]|0)!=3&&(E[r+348>>2]=P(K),e[o>>2]=3,nr(r));return}function Ts(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+348|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function Sn(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+356|0,g=r+360|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Ml(r,o){r=r|0,o=P(o);var a=0,h=0;h=r+356|0,a=r+360|0,(P(E[h>>2])!=o?0:(e[a>>2]|0)==2)||(E[h>>2]=o,h=rn(o)|0,e[a>>2]=h?3:2,nr(r));return}function kt(r){r=r|0;var o=0;o=r+360|0,(e[o>>2]|0)!=3&&(E[r+356>>2]=P(K),e[o>>2]=3,nr(r));return}function as(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+356|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function Sl(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+364|0,g=r+368|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Cc(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=y?0:2,h=r+364|0,g=r+368|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Wm(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+364|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function jn(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+372|0,g=r+376|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function h0(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=y?0:2,h=r+372|0,g=r+376|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Ur(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+372|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function ko(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+380|0,g=r+384|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Va(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=y?0:2,h=r+380|0,g=r+384|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function ls(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+380|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function Pe(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=(y^1)&1,h=r+388|0,g=r+392|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function Sh(r,o){r=r|0,o=P(o);var a=0,h=0,g=0,y=0;y=rn(o)|0,a=y?0:2,h=r+388|0,g=r+392|0,(y|P(E[h>>2])==o?(e[g>>2]|0)==(a|0):0)||(E[h>>2]=o,e[g>>2]=a,nr(r));return}function jm(r,o){r=r|0,o=o|0;var a=0,h=0;h=o+388|0,a=e[h+4>>2]|0,o=r,e[o>>2]=e[h>>2],e[o+4>>2]=a;return}function pa(r,o){r=r|0,o=P(o);var a=0;a=r+396|0,P(E[a>>2])!=o&&(E[a>>2]=o,nr(r));return}function Th(r){return r=r|0,P(E[r+396>>2])}function bs(r){return r=r|0,P(E[r+400>>2])}function Lc(r){return r=r|0,P(E[r+404>>2])}function Pc(r){return r=r|0,P(E[r+408>>2])}function Ko(r){return r=r|0,P(E[r+412>>2])}function Tl(r){return r=r|0,P(E[r+416>>2])}function Ci(r){return r=r|0,P(E[r+420>>2])}function no(r,o){r=r|0,o=o|0,Gs(r,(o|0)<6,2918);switch(o|0){case 0:{o=(e[r+496>>2]|0)==2?5:4;break}case 2:{o=(e[r+496>>2]|0)==2?4:5;break}default:}return P(E[r+424+(o<<2)>>2])}function ji(r,o){r=r|0,o=o|0,Gs(r,(o|0)<6,2918);switch(o|0){case 0:{o=(e[r+496>>2]|0)==2?5:4;break}case 2:{o=(e[r+496>>2]|0)==2?4:5;break}default:}return P(E[r+448+(o<<2)>>2])}function ou(r,o){r=r|0,o=o|0,Gs(r,(o|0)<6,2918);switch(o|0){case 0:{o=(e[r+496>>2]|0)==2?5:4;break}case 2:{o=(e[r+496>>2]|0)==2?4:5;break}default:}return P(E[r+472+(o<<2)>>2])}function Nu(r,o){r=r|0,o=o|0;var a=0,h=jt;return a=e[r+4>>2]|0,(a|0)==(e[o+4>>2]|0)?a?(h=P(E[r>>2]),r=P(Ze(P(h-P(E[o>>2]))))<P(999999974e-13)):r=1:r=0,r|0}function jr(r,o){r=P(r),o=P(o);var a=0;return rn(r)|0?a=rn(o)|0:a=P(Ze(P(r-o)))<P(999999974e-13),a|0}function d0(r,o){r=r|0,o=o|0,Iu(r,o);return}function Iu(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,ki(h|0,r|0,o|0,0),Hs(r,3,(s[h+11>>0]|0)<0?e[h>>2]|0:h,a),fW(h),A=a;return}function hs(r,o,a,h){r=P(r),o=P(o),a=a|0,h=h|0;var g=jt;r=P(r*o),g=P(bL(r,P(1)));do if(jr(g,P(0))|0)r=P(r-g);else{if(r=P(r-g),jr(g,P(1))|0){r=P(r+P(1));break}if(a){r=P(r+P(1));break}h||(g>P(.5)?g=P(1):(h=jr(g,P(.5))|0,g=P(h?1:0)),r=P(r+g))}while(0);return P(r/o)}function ds(r,o,a,h,g,y,M,F,k,W,V,Z,ye){r=r|0,o=P(o),a=a|0,h=P(h),g=g|0,y=P(y),M=M|0,F=P(F),k=P(k),W=P(W),V=P(V),Z=P(Z),ye=ye|0;var ht=0,nt=jt,Ke=jt,_t=jt,yt=jt,Lt=jt,ot=jt;return k<P(0)|W<P(0)?ye=0:(((ye|0)!=0?(nt=P(E[ye+4>>2]),nt!=P(0)):0)?(_t=P(hs(o,nt,0,0)),yt=P(hs(h,nt,0,0)),Ke=P(hs(y,nt,0,0)),nt=P(hs(F,nt,0,0))):(Ke=y,_t=o,nt=F,yt=h),(g|0)==(r|0)?ht=jr(Ke,_t)|0:ht=0,(M|0)==(a|0)?ye=jr(nt,yt)|0:ye=0,((ht?0:(Lt=P(o-V),!(Go(r,Lt,k)|0)))?!(Rc(r,Lt,g,k)|0):0)?ht=Ou(r,Lt,g,y,k)|0:ht=1,((ye?0:(ot=P(h-Z),!(Go(a,ot,W)|0)))?!(Rc(a,ot,M,W)|0):0)?ye=Ou(a,ot,M,F,W)|0:ye=1,ye=ht&ye),ye|0}function Go(r,o,a){return r=r|0,o=P(o),a=P(a),(r|0)==1?r=jr(o,a)|0:r=0,r|0}function Rc(r,o,a,h){return r=r|0,o=P(o),a=a|0,h=P(h),(r|0)==2&(a|0)==0?o>=h?r=1:r=jr(o,h)|0:r=0,r|0}function Ou(r,o,a,h,g){return r=r|0,o=P(o),a=a|0,h=P(h),g=P(g),(r|0)==2&(a|0)==2&h>o?g<=o?r=1:r=jr(o,g)|0:r=0,r|0}function Cs(r,o,a,h,g,y,M,F,k,W,V){r=r|0,o=P(o),a=P(a),h=h|0,g=g|0,y=y|0,M=P(M),F=P(F),k=k|0,W=W|0,V=V|0;var Z=0,ye=0,ht=0,nt=0,Ke=jt,_t=jt,yt=0,Lt=0,ot=0,ct=0,tn=0,Cr=0,Ln=0,xn=0,ir=0,Ar=0,Cn=0,Di=jt,il=jt,ol=jt,sl=0,xu=0;Cn=A,A=A+160|0,xn=Cn+152|0,Ln=Cn+120|0,Cr=Cn+104|0,ot=Cn+72|0,nt=Cn+56|0,tn=Cn+8|0,Lt=Cn,ct=(e[2279]|0)+1|0,e[2279]=ct,ir=r+984|0,((s[ir>>0]|0)!=0?(e[r+512>>2]|0)!=(e[2278]|0):0)?yt=4:(e[r+516>>2]|0)==(h|0)?Ar=0:yt=4,(yt|0)==4&&(e[r+520>>2]=0,e[r+924>>2]=-1,e[r+928>>2]=-1,E[r+932>>2]=P(-1),E[r+936>>2]=P(-1),Ar=1);e:do if(e[r+964>>2]|0)if(Ke=P($r(r,2,M)),_t=P($r(r,0,M)),Z=r+916|0,ol=P(E[Z>>2]),il=P(E[r+920>>2]),Di=P(E[r+932>>2]),ds(g,o,y,a,e[r+924>>2]|0,ol,e[r+928>>2]|0,il,Di,P(E[r+936>>2]),Ke,_t,V)|0)yt=22;else if(ht=e[r+520>>2]|0,!ht)yt=21;else for(ye=0;;){if(Z=r+524+(ye*24|0)|0,Di=P(E[Z>>2]),il=P(E[r+524+(ye*24|0)+4>>2]),ol=P(E[r+524+(ye*24|0)+16>>2]),ds(g,o,y,a,e[r+524+(ye*24|0)+8>>2]|0,Di,e[r+524+(ye*24|0)+12>>2]|0,il,ol,P(E[r+524+(ye*24|0)+20>>2]),Ke,_t,V)|0){yt=22;break e}if(ye=ye+1|0,ye>>>0>=ht>>>0){yt=21;break}}else{if(k){if(Z=r+916|0,!(jr(P(E[Z>>2]),o)|0)){yt=21;break}if(!(jr(P(E[r+920>>2]),a)|0)){yt=21;break}if((e[r+924>>2]|0)!=(g|0)){yt=21;break}Z=(e[r+928>>2]|0)==(y|0)?Z:0,yt=22;break}if(ht=e[r+520>>2]|0,!ht)yt=21;else for(ye=0;;){if(Z=r+524+(ye*24|0)|0,((jr(P(E[Z>>2]),o)|0?jr(P(E[r+524+(ye*24|0)+4>>2]),a)|0:0)?(e[r+524+(ye*24|0)+8>>2]|0)==(g|0):0)?(e[r+524+(ye*24|0)+12>>2]|0)==(y|0):0){yt=22;break e}if(ye=ye+1|0,ye>>>0>=ht>>>0){yt=21;break}}}while(0);do if((yt|0)==21)s[11697]|0?(Z=0,yt=28):(Z=0,yt=31);else if((yt|0)==22){if(ye=(s[11697]|0)!=0,!((Z|0)!=0&(Ar^1)))if(ye){yt=28;break}else{yt=31;break}nt=Z+16|0,e[r+908>>2]=e[nt>>2],ht=Z+20|0,e[r+912>>2]=e[ht>>2],(s[11698]|0)==0|ye^1||(e[Lt>>2]=Uu(ct)|0,e[Lt+4>>2]=ct,Hs(r,4,2972,Lt),ye=e[r+972>>2]|0,ye|0&&ed[ye&127](r),g=zs(g,k)|0,y=zs(y,k)|0,xu=+P(E[nt>>2]),sl=+P(E[ht>>2]),e[tn>>2]=g,e[tn+4>>2]=y,T[tn+8>>3]=+o,T[tn+16>>3]=+a,T[tn+24>>3]=xu,T[tn+32>>3]=sl,e[tn+40>>2]=W,Hs(r,4,2989,tn))}while(0);return(yt|0)==28&&(ye=Uu(ct)|0,e[nt>>2]=ye,e[nt+4>>2]=ct,e[nt+8>>2]=Ar?3047:11699,Hs(r,4,3038,nt),ye=e[r+972>>2]|0,ye|0&&ed[ye&127](r),tn=zs(g,k)|0,yt=zs(y,k)|0,e[ot>>2]=tn,e[ot+4>>2]=yt,T[ot+8>>3]=+o,T[ot+16>>3]=+a,e[ot+24>>2]=W,Hs(r,4,3049,ot),yt=31),(yt|0)==31&&(Pr(r,o,a,h,g,y,M,F,k,V),s[11697]|0&&(ye=e[2279]|0,tn=Uu(ye)|0,e[Cr>>2]=tn,e[Cr+4>>2]=ye,e[Cr+8>>2]=Ar?3047:11699,Hs(r,4,3083,Cr),ye=e[r+972>>2]|0,ye|0&&ed[ye&127](r),tn=zs(g,k)|0,Cr=zs(y,k)|0,sl=+P(E[r+908>>2]),xu=+P(E[r+912>>2]),e[Ln>>2]=tn,e[Ln+4>>2]=Cr,T[Ln+8>>3]=sl,T[Ln+16>>3]=xu,e[Ln+24>>2]=W,Hs(r,4,3092,Ln)),e[r+516>>2]=h,Z||(ye=r+520|0,Z=e[ye>>2]|0,(Z|0)==16&&(s[11697]|0&&Hs(r,4,3124,xn),e[ye>>2]=0,Z=0),k?Z=r+916|0:(e[ye>>2]=Z+1,Z=r+524+(Z*24|0)|0),E[Z>>2]=o,E[Z+4>>2]=a,e[Z+8>>2]=g,e[Z+12>>2]=y,e[Z+16>>2]=e[r+908>>2],e[Z+20>>2]=e[r+912>>2],Z=0)),k&&(e[r+416>>2]=e[r+908>>2],e[r+420>>2]=e[r+912>>2],s[r+985>>0]=1,s[ir>>0]=0),e[2279]=(e[2279]|0)+-1,e[r+512>>2]=e[2278],A=Cn,Ar|(Z|0)==0|0}function $r(r,o,a){r=r|0,o=o|0,a=P(a);var h=jt;return h=P(Ps(r,o,a)),P(h+P(va(r,o,a)))}function Hs(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=A,A=A+16|0,g=y,e[g>>2]=h,r?h=e[r+976>>2]|0:h=0,Vd(h,r,o,a,g),A=y;return}function Uu(r){return r=r|0,(r>>>0>60?3201:3201+(60-r)|0)|0}function zs(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;return g=A,A=A+32|0,a=g+12|0,h=g,e[a>>2]=e[254],e[a+4>>2]=e[255],e[a+8>>2]=e[256],e[h>>2]=e[257],e[h+4>>2]=e[258],e[h+8>>2]=e[259],(r|0)>2?r=11699:r=e[(o?h:a)+(r<<2)>>2]|0,A=g,r|0}function Pr(r,o,a,h,g,y,M,F,k,W){r=r|0,o=P(o),a=P(a),h=h|0,g=g|0,y=y|0,M=P(M),F=P(F),k=k|0,W=W|0;var V=0,Z=0,ye=0,ht=0,nt=jt,Ke=jt,_t=jt,yt=jt,Lt=jt,ot=jt,ct=jt,tn=0,Cr=0,Ln=0,xn=jt,ir=jt,Ar=0,Cn=jt,Di=0,il=0,ol=0,sl=0,xu=0,Ip=0,Op=0,jc=0,Up=0,W0=0,j0=0,kp=0,Gp=0,Xp=0,Vr=0,Qc=0,Hp=0,Ff=0,zp=jt,Yp=jt,Q0=jt,q0=jt,Bf=jt,Ma=0,fc=0,Yl=0,qc=0,nd=0,rd=jt,J0=jt,id=jt,od=jt,Sa=jt,ra=jt,Jc=0,Oi=jt,sd=jt,al=jt,Nf=jt,ll=jt,If=jt,ad=0,ld=0,Of=jt,Ta=jt,Zc=0,ud=0,cd=0,fd=0,ar=jt,so=0,ia=0,ul=0,ba=0,gr=0,Rn=0,Kc=0,dn=jt,hd=0,Mo=0;Kc=A,A=A+16|0,Ma=Kc+12|0,fc=Kc+8|0,Yl=Kc+4|0,qc=Kc,Gs(r,(g|0)==0|(rn(o)|0)^1,3326),Gs(r,(y|0)==0|(rn(a)|0)^1,3406),ia=ms(r,h)|0,e[r+496>>2]=ia,gr=Xu(2,ia)|0,Rn=Xu(0,ia)|0,E[r+440>>2]=P(Ps(r,gr,M)),E[r+444>>2]=P(va(r,gr,M)),E[r+428>>2]=P(Ps(r,Rn,M)),E[r+436>>2]=P(va(r,Rn,M)),E[r+464>>2]=P(bl(r,gr)),E[r+468>>2]=P(Dc(r,gr)),E[r+452>>2]=P(bl(r,Rn)),E[r+460>>2]=P(Dc(r,Rn)),E[r+488>>2]=P(m0(r,gr,M)),E[r+492>>2]=P(Tn(r,gr,M)),E[r+476>>2]=P(m0(r,Rn,M)),E[r+484>>2]=P(Tn(r,Rn,M));do if(e[r+964>>2]|0)Ch(r,o,a,g,y,M,F);else{if(ul=r+948|0,ba=(e[r+952>>2]|0)-(e[ul>>2]|0)>>2,!ba){c2(r,o,a,g,y,M,F);break}if(k?0:Qm(r,o,a,g,y,M,F)|0)break;vf(r),Qc=r+508|0,s[Qc>>0]=0,gr=Xu(e[r+4>>2]|0,ia)|0,Rn=ga(gr,ia)|0,so=ps(gr)|0,Hp=e[r+8>>2]|0,ud=r+28|0,Ff=(e[ud>>2]|0)!=0,ll=so?M:F,Of=so?F:M,zp=P(vs(r,gr,M)),Yp=P(Cl(r,gr,M)),nt=P(vs(r,Rn,M)),If=P(Ys(r,gr,M)),Ta=P(Ys(r,Rn,M)),Ln=so?g:y,Zc=so?y:g,ar=so?If:Ta,Lt=so?Ta:If,Nf=P($r(r,2,M)),yt=P($r(r,0,M)),Ke=P(P(xr(r+364|0,M))-ar),_t=P(P(xr(r+380|0,M))-ar),ot=P(P(xr(r+372|0,F))-Lt),ct=P(P(xr(r+388|0,F))-Lt),Q0=so?Ke:ot,q0=so?_t:ct,Nf=P(o-Nf),o=P(Nf-ar),rn(o)|0?ar=o:ar=P(Zi(P(ev(o,_t)),Ke)),sd=P(a-yt),o=P(sd-Lt),rn(o)|0?al=o:al=P(Zi(P(ev(o,ct)),ot)),Ke=so?ar:al,Oi=so?al:ar;e:do if((Ln|0)==1)for(h=0,Z=0;;){if(V=Xa(r,Z)|0,!h)(P(Qa(V))>P(0)?P(Pl(V))>P(0):0)?h=V:h=0;else if(Ll(V)|0){ht=0;break e}if(Z=Z+1|0,Z>>>0>=ba>>>0){ht=h;break}}else ht=0;while(0);tn=ht+500|0,Cr=ht+504|0,h=0,V=0,o=P(0),ye=0;do{if(Z=e[(e[ul>>2]|0)+(ye<<2)>>2]|0,(e[Z+36>>2]|0)==1)Lh(Z),s[Z+985>>0]=1,s[Z+984>>0]=0;else{zd(Z),k&&p0(Z,ms(Z,ia)|0,Ke,Oi,ar);do if((e[Z+24>>2]|0)!=1)if((Z|0)==(ht|0)){e[tn>>2]=e[2278],E[Cr>>2]=P(0);break}else{Qd(r,Z,ar,g,al,ar,al,y,ia,W);break}else V|0&&(e[V+960>>2]=Z),e[Z+960>>2]=0,V=Z,h=(h|0)==0?Z:h;while(0);ra=P(E[Z+504>>2]),o=P(o+P(ra+P($r(Z,gr,ar))))}ye=ye+1|0}while((ye|0)!=(ba|0));for(ol=o>Ke,Jc=Ff&((Ln|0)==2&ol)?1:Ln,Di=(Zc|0)==1,xu=Di&(k^1),Ip=(Jc|0)==1,Op=(Jc|0)==2,jc=976+(gr<<2)|0,Up=(Zc|2|0)==2,Xp=Di&(Ff^1),W0=1040+(Rn<<2)|0,j0=1040+(gr<<2)|0,kp=976+(Rn<<2)|0,Gp=(Zc|0)!=1,ol=Ff&((Ln|0)!=0&ol),il=r+976|0,Di=Di^1,o=Ke,Ar=0,sl=0,ra=P(0),Bf=P(0);;){e:do if(Ar>>>0<ba>>>0)for(Cr=e[ul>>2]|0,ye=0,ct=P(0),ot=P(0),_t=P(0),Ke=P(0),Z=0,V=0,ht=Ar;;){if(tn=e[Cr+(ht<<2)>>2]|0,(e[tn+36>>2]|0)!=1?(e[tn+940>>2]=sl,(e[tn+24>>2]|0)!=1):0){if(yt=P($r(tn,gr,ar)),Vr=e[jc>>2]|0,a=P(xr(tn+380+(Vr<<3)|0,ll)),Lt=P(E[tn+504>>2]),a=P(ev(a,Lt)),a=P(Zi(P(xr(tn+364+(Vr<<3)|0,ll)),a)),Ff&(ye|0)!=0&P(yt+P(ot+a))>o){y=ye,yt=ct,Ln=ht;break e}yt=P(yt+a),a=P(ot+yt),yt=P(ct+yt),Ll(tn)|0&&(_t=P(_t+P(Qa(tn))),Ke=P(Ke-P(Lt*P(Pl(tn))))),V|0&&(e[V+960>>2]=tn),e[tn+960>>2]=0,ye=ye+1|0,V=tn,Z=(Z|0)==0?tn:Z}else yt=ct,a=ot;if(ht=ht+1|0,ht>>>0<ba>>>0)ct=yt,ot=a;else{y=ye,Ln=ht;break}}else y=0,yt=P(0),_t=P(0),Ke=P(0),Z=0,Ln=Ar;while(0);Vr=_t>P(0)&_t<P(1),xn=Vr?P(1):_t,Vr=Ke>P(0)&Ke<P(1),ct=Vr?P(1):Ke;do if(Ip)Vr=51;else if(yt<Q0&((rn(Q0)|0)^1))o=Q0,Vr=51;else if(yt>q0&((rn(q0)|0)^1))o=q0,Vr=51;else if(s[(e[il>>2]|0)+3>>0]|0)Vr=51;else{if(xn==P(0)?0:!(P(Qa(r))==P(0))){Vr=53;break}o=yt,Vr=53}while(0);if((Vr|0)==51&&(Vr=0,rn(o)|0?Vr=53:(ir=P(o-yt),Cn=o)),(Vr|0)==53&&(Vr=0,yt<P(0)?(ir=P(-yt),Cn=o):(ir=P(0),Cn=o)),xu?0:(nd=(Z|0)==0,!nd)){ye=e[jc>>2]|0,ht=ir<P(0),Lt=P(ir/ct),tn=ir>P(0),ot=P(ir/xn),_t=P(0),yt=P(0),o=P(0),V=Z;do a=P(xr(V+380+(ye<<3)|0,ll)),Ke=P(xr(V+364+(ye<<3)|0,ll)),Ke=P(ev(a,P(Zi(Ke,P(E[V+504>>2]))))),ht?(a=P(Ke*P(Pl(V))),(a!=P(-0)?(dn=P(Ke-P(Lt*a)),rd=P(hi(V,gr,dn,Cn,ar)),dn!=rd):0)&&(_t=P(_t-P(rd-Ke)),o=P(o+a))):((tn?(J0=P(Qa(V)),J0!=P(0)):0)?(dn=P(Ke+P(ot*J0)),id=P(hi(V,gr,dn,Cn,ar)),dn!=id):0)&&(_t=P(_t-P(id-Ke)),yt=P(yt-J0)),V=e[V+960>>2]|0;while((V|0)!=0);if(o=P(ct+o),Ke=P(ir+_t),nd)o=P(0);else{Lt=P(xn+yt),ht=e[jc>>2]|0,tn=Ke<P(0),Cr=o==P(0),ot=P(Ke/o),ye=Ke>P(0),Lt=P(Ke/Lt),o=P(0);do{dn=P(xr(Z+380+(ht<<3)|0,ll)),_t=P(xr(Z+364+(ht<<3)|0,ll)),_t=P(ev(dn,P(Zi(_t,P(E[Z+504>>2]))))),tn?(dn=P(_t*P(Pl(Z))),Ke=P(-dn),dn!=P(-0)?(dn=P(ot*Ke),Ke=P(hi(Z,gr,P(_t+(Cr?Ke:dn)),Cn,ar))):Ke=_t):(ye?(od=P(Qa(Z)),od!=P(0)):0)?Ke=P(hi(Z,gr,P(_t+P(Lt*od)),Cn,ar)):Ke=_t,o=P(o-P(Ke-_t)),yt=P($r(Z,gr,ar)),a=P($r(Z,Rn,ar)),Ke=P(Ke+yt),E[fc>>2]=Ke,e[qc>>2]=1,_t=P(E[Z+396>>2]);e:do if(rn(_t)|0){V=rn(Oi)|0;do if(!V){if(ol|(Wa(Z,Rn,Oi)|0|Di))break;if((Fo(r,Z)|0)!=4)break;if((e[(xo(Z,Rn)|0)+4>>2]|0)==3)break;if((e[(qa(Z,Rn)|0)+4>>2]|0)==3)break;E[Ma>>2]=Oi,e[Yl>>2]=1;break e}while(0);if(Wa(Z,Rn,Oi)|0){V=e[Z+992+(e[kp>>2]<<2)>>2]|0,dn=P(a+P(xr(V,Oi))),E[Ma>>2]=dn,V=Gp&(e[V+4>>2]|0)==2,e[Yl>>2]=((rn(dn)|0|V)^1)&1;break}else{E[Ma>>2]=Oi,e[Yl>>2]=V?0:2;break}}else dn=P(Ke-yt),xn=P(dn/_t),dn=P(_t*dn),e[Yl>>2]=1,E[Ma>>2]=P(a+(so?xn:dn));while(0);Xo(Z,gr,Cn,ar,qc,fc),Xo(Z,Rn,Oi,ar,Yl,Ma);do if(Wa(Z,Rn,Oi)|0?0:(Fo(r,Z)|0)==4){if((e[(xo(Z,Rn)|0)+4>>2]|0)==3){V=0;break}V=(e[(qa(Z,Rn)|0)+4>>2]|0)!=3}else V=0;while(0);dn=P(E[fc>>2]),xn=P(E[Ma>>2]),hd=e[qc>>2]|0,Mo=e[Yl>>2]|0,Cs(Z,so?dn:xn,so?xn:dn,ia,so?hd:Mo,so?Mo:hd,ar,al,k&(V^1),3488,W)|0,s[Qc>>0]=s[Qc>>0]|s[Z+508>>0],Z=e[Z+960>>2]|0}while((Z|0)!=0)}}else o=P(0);if(o=P(ir+o),Mo=o<P(0)&1,s[Qc>>0]=Mo|p[Qc>>0],Op&o>P(0)?(V=e[jc>>2]|0,((e[r+364+(V<<3)+4>>2]|0)!=0?(Sa=P(xr(r+364+(V<<3)|0,ll)),Sa>=P(0)):0)?Ke=P(Zi(P(0),P(Sa-P(Cn-o)))):Ke=P(0)):Ke=o,tn=Ar>>>0<Ln>>>0,tn){ht=e[ul>>2]|0,ye=Ar,V=0;do Z=e[ht+(ye<<2)>>2]|0,e[Z+24>>2]|0||(V=((e[(xo(Z,gr)|0)+4>>2]|0)==3&1)+V|0,V=V+((e[(qa(Z,gr)|0)+4>>2]|0)==3&1)|0),ye=ye+1|0;while((ye|0)!=(Ln|0));V?(yt=P(0),a=P(0)):Vr=101}else Vr=101;e:do if((Vr|0)==101){Vr=0;switch(Hp|0){case 1:{V=0,yt=P(Ke*P(.5)),a=P(0);break e}case 2:{V=0,yt=Ke,a=P(0);break e}case 3:{if(y>>>0<=1){V=0,yt=P(0),a=P(0);break e}a=P((y+-1|0)>>>0),V=0,yt=P(0),a=P(P(Zi(Ke,P(0)))/a);break e}case 5:{a=P(Ke/P((y+1|0)>>>0)),V=0,yt=a;break e}case 4:{a=P(Ke/P(y>>>0)),V=0,yt=P(a*P(.5));break e}default:{V=0,yt=P(0),a=P(0);break e}}}while(0);if(o=P(zp+yt),tn){_t=P(Ke/P(V|0)),ye=e[ul>>2]|0,Z=Ar,Ke=P(0);do{V=e[ye+(Z<<2)>>2]|0;e:do if((e[V+36>>2]|0)!=1){switch(e[V+24>>2]|0){case 1:{if(gs(V,gr)|0){if(!k)break e;dn=P(Hu(V,gr,Cn)),dn=P(dn+P(bl(r,gr))),dn=P(dn+P(Ps(V,gr,ar))),E[V+400+(e[j0>>2]<<2)>>2]=dn;break e}break}case 0:if(Mo=(e[(xo(V,gr)|0)+4>>2]|0)==3,dn=P(_t+o),o=Mo?dn:o,k&&(Mo=V+400+(e[j0>>2]<<2)|0,E[Mo>>2]=P(o+P(E[Mo>>2]))),Mo=(e[(qa(V,gr)|0)+4>>2]|0)==3,dn=P(_t+o),o=Mo?dn:o,xu){dn=P(a+P($r(V,gr,ar))),Ke=Oi,o=P(o+P(dn+P(E[V+504>>2])));break e}else{o=P(o+P(a+P(zu(V,gr,ar)))),Ke=P(Zi(Ke,P(zu(V,Rn,ar))));break e}default:}k&&(dn=P(yt+P(bl(r,gr))),Mo=V+400+(e[j0>>2]<<2)|0,E[Mo>>2]=P(dn+P(E[Mo>>2])))}while(0);Z=Z+1|0}while((Z|0)!=(Ln|0))}else Ke=P(0);if(a=P(Yp+o),Up?yt=P(P(hi(r,Rn,P(Ta+Ke),Of,M))-Ta):yt=Oi,_t=P(P(hi(r,Rn,P(Ta+(Xp?Oi:Ke)),Of,M))-Ta),tn&k){Z=Ar;do{ye=e[(e[ul>>2]|0)+(Z<<2)>>2]|0;do if((e[ye+36>>2]|0)!=1){if((e[ye+24>>2]|0)==1){if(gs(ye,Rn)|0){if(dn=P(Hu(ye,Rn,Oi)),dn=P(dn+P(bl(r,Rn))),dn=P(dn+P(Ps(ye,Rn,ar))),V=e[W0>>2]|0,E[ye+400+(V<<2)>>2]=dn,!(rn(dn)|0))break}else V=e[W0>>2]|0;dn=P(bl(r,Rn)),E[ye+400+(V<<2)>>2]=P(dn+P(Ps(ye,Rn,ar)));break}V=Fo(r,ye)|0;do if((V|0)==4){if((e[(xo(ye,Rn)|0)+4>>2]|0)==3){Vr=139;break}if((e[(qa(ye,Rn)|0)+4>>2]|0)==3){Vr=139;break}if(Wa(ye,Rn,Oi)|0){o=nt;break}hd=e[ye+908+(e[jc>>2]<<2)>>2]|0,e[Ma>>2]=hd,o=P(E[ye+396>>2]),Mo=rn(o)|0,Ke=(e[R>>2]=hd,P(E[R>>2])),Mo?o=_t:(ir=P($r(ye,Rn,ar)),dn=P(Ke/o),o=P(o*Ke),o=P(ir+(so?dn:o))),E[fc>>2]=o,E[Ma>>2]=P(P($r(ye,gr,ar))+Ke),e[Yl>>2]=1,e[qc>>2]=1,Xo(ye,gr,Cn,ar,Yl,Ma),Xo(ye,Rn,Oi,ar,qc,fc),o=P(E[Ma>>2]),ir=P(E[fc>>2]),dn=so?o:ir,o=so?ir:o,Mo=((rn(dn)|0)^1)&1,Cs(ye,dn,o,ia,Mo,((rn(o)|0)^1)&1,ar,al,1,3493,W)|0,o=nt}else Vr=139;while(0);e:do if((Vr|0)==139){Vr=0,o=P(yt-P(zu(ye,Rn,ar)));do if((e[(xo(ye,Rn)|0)+4>>2]|0)==3){if((e[(qa(ye,Rn)|0)+4>>2]|0)!=3)break;o=P(nt+P(Zi(P(0),P(o*P(.5)))));break e}while(0);if((e[(qa(ye,Rn)|0)+4>>2]|0)==3){o=nt;break}if((e[(xo(ye,Rn)|0)+4>>2]|0)==3){o=P(nt+P(Zi(P(0),o)));break}switch(V|0){case 1:{o=nt;break e}case 2:{o=P(nt+P(o*P(.5)));break e}default:{o=P(nt+o);break e}}}while(0);dn=P(ra+o),Mo=ye+400+(e[W0>>2]<<2)|0,E[Mo>>2]=P(dn+P(E[Mo>>2]))}while(0);Z=Z+1|0}while((Z|0)!=(Ln|0))}if(ra=P(ra+_t),Bf=P(Zi(Bf,a)),y=sl+1|0,Ln>>>0>=ba>>>0)break;o=Cn,Ar=Ln,sl=y}do if(k){if(V=y>>>0>1,V?0:!(qm(r)|0))break;if(!(rn(Oi)|0)){o=P(Oi-ra);e:do switch(e[r+12>>2]|0){case 3:{nt=P(nt+o),ot=P(0);break}case 2:{nt=P(nt+P(o*P(.5))),ot=P(0);break}case 4:{Oi>ra?ot=P(o/P(y>>>0)):ot=P(0);break}case 7:if(Oi>ra){nt=P(nt+P(o/P(y<<1>>>0))),ot=P(o/P(y>>>0)),ot=V?ot:P(0);break e}else{nt=P(nt+P(o*P(.5))),ot=P(0);break e}case 6:{ot=P(o/P(sl>>>0)),ot=Oi>ra&V?ot:P(0);break}default:ot=P(0)}while(0);if(y|0)for(tn=1040+(Rn<<2)|0,Cr=976+(Rn<<2)|0,ht=0,Z=0;;){e:do if(Z>>>0<ba>>>0)for(Ke=P(0),_t=P(0),o=P(0),ye=Z;;){V=e[(e[ul>>2]|0)+(ye<<2)>>2]|0;do if((e[V+36>>2]|0)!=1?(e[V+24>>2]|0)==0:0){if((e[V+940>>2]|0)!=(ht|0))break e;if(En(V,Rn)|0&&(dn=P(E[V+908+(e[Cr>>2]<<2)>>2]),o=P(Zi(o,P(dn+P($r(V,Rn,ar)))))),(Fo(r,V)|0)!=5)break;Sa=P(Yu(V)),Sa=P(Sa+P(Ps(V,0,ar))),dn=P(E[V+912>>2]),dn=P(P(dn+P($r(V,0,ar)))-Sa),Sa=P(Zi(_t,Sa)),dn=P(Zi(Ke,dn)),Ke=dn,_t=Sa,o=P(Zi(o,P(Sa+dn)))}while(0);if(V=ye+1|0,V>>>0<ba>>>0)ye=V;else{ye=V;break}}else _t=P(0),o=P(0),ye=Z;while(0);if(Lt=P(ot+o),a=nt,nt=P(nt+Lt),Z>>>0<ye>>>0){yt=P(a+_t),V=Z;do{Z=e[(e[ul>>2]|0)+(V<<2)>>2]|0;e:do if((e[Z+36>>2]|0)!=1?(e[Z+24>>2]|0)==0:0)switch(Fo(r,Z)|0){case 1:{dn=P(a+P(Ps(Z,Rn,ar))),E[Z+400+(e[tn>>2]<<2)>>2]=dn;break e}case 3:{dn=P(P(nt-P(va(Z,Rn,ar)))-P(E[Z+908+(e[Cr>>2]<<2)>>2])),E[Z+400+(e[tn>>2]<<2)>>2]=dn;break e}case 2:{dn=P(a+P(P(Lt-P(E[Z+908+(e[Cr>>2]<<2)>>2]))*P(.5))),E[Z+400+(e[tn>>2]<<2)>>2]=dn;break e}case 4:{if(dn=P(a+P(Ps(Z,Rn,ar))),E[Z+400+(e[tn>>2]<<2)>>2]=dn,Wa(Z,Rn,Oi)|0)break e;if(so?(Ke=P(E[Z+908>>2]),o=P(Ke+P($r(Z,gr,ar))),_t=Lt):(_t=P(E[Z+912>>2]),_t=P(_t+P($r(Z,Rn,ar))),o=Lt,Ke=P(E[Z+908>>2])),jr(o,Ke)|0?jr(_t,P(E[Z+912>>2]))|0:0)break e;Cs(Z,o,_t,ia,1,1,ar,al,1,3501,W)|0;break e}case 5:{E[Z+404>>2]=P(P(yt-P(Yu(Z)))+P(Hu(Z,0,Oi)));break e}default:break e}while(0);V=V+1|0}while((V|0)!=(ye|0))}if(ht=ht+1|0,(ht|0)==(y|0))break;Z=ye}}}while(0);if(E[r+908>>2]=P(hi(r,2,Nf,M,M)),E[r+912>>2]=P(hi(r,0,sd,F,M)),((Jc|0)!=0?(ad=e[r+32>>2]|0,ld=(Jc|0)==2,!(ld&(ad|0)!=2)):0)?ld&(ad|0)==2&&(o=P(If+Cn),o=P(Zi(P(ev(o,P(Ph(r,gr,Bf,ll)))),If)),Vr=198):(o=P(hi(r,gr,Bf,ll,M)),Vr=198),(Vr|0)==198&&(E[r+908+(e[976+(gr<<2)>>2]<<2)>>2]=o),((Zc|0)!=0?(cd=e[r+32>>2]|0,fd=(Zc|0)==2,!(fd&(cd|0)!=2)):0)?fd&(cd|0)==2&&(o=P(Ta+Oi),o=P(Zi(P(ev(o,P(Ph(r,Rn,P(Ta+ra),Of)))),Ta)),Vr=204):(o=P(hi(r,Rn,P(Ta+ra),Of,M)),Vr=204),(Vr|0)==204&&(E[r+908+(e[976+(Rn<<2)>>2]<<2)>>2]=o),k){if((e[ud>>2]|0)==2){Z=976+(Rn<<2)|0,ye=1040+(Rn<<2)|0,V=0;do ht=Xa(r,V)|0,e[ht+24>>2]|0||(hd=e[Z>>2]|0,dn=P(E[r+908+(hd<<2)>>2]),Mo=ht+400+(e[ye>>2]<<2)|0,dn=P(dn-P(E[Mo>>2])),E[Mo>>2]=P(dn-P(E[ht+908+(hd<<2)>>2]))),V=V+1|0;while((V|0)!=(ba|0))}if(h|0){V=so?Jc:g;do Qn(r,h,ar,V,al,ia,W),h=e[h+960>>2]|0;while((h|0)!=0)}if(V=(gr|2|0)==3,Z=(Rn|2|0)==3,V|Z){h=0;do ye=e[(e[ul>>2]|0)+(h<<2)>>2]|0,(e[ye+36>>2]|0)!=1&&(V&&Vs(r,ye,gr),Z&&Vs(r,ye,Rn)),h=h+1|0;while((h|0)!=(ba|0))}}}while(0);A=Kc;return}function ku(r,o){r=r|0,o=P(o);var a=0;mf(r,o>=P(0),3147),a=o==P(0),E[r+4>>2]=a?P(0):o;return}function ma(r,o,a,h){r=r|0,o=P(o),a=P(a),h=h|0;var g=jt,y=jt,M=0,F=0,k=0;e[2278]=(e[2278]|0)+1,zd(r),Wa(r,2,o)|0?(g=P(xr(e[r+992>>2]|0,o)),k=1,g=P(g+P($r(r,2,o)))):(g=P(xr(r+380|0,o)),g>=P(0)?k=2:(k=((rn(o)|0)^1)&1,g=o)),Wa(r,0,a)|0?(y=P(xr(e[r+996>>2]|0,a)),F=1,y=P(y+P($r(r,0,o)))):(y=P(xr(r+388|0,a)),y>=P(0)?F=2:(F=((rn(a)|0)^1)&1,y=a)),M=r+976|0,(Cs(r,g,y,h,k,F,o,a,1,3189,e[M>>2]|0)|0?(p0(r,e[r+496>>2]|0,o,a,o),Ls(r,P(E[(e[M>>2]|0)+4>>2]),P(0),P(0)),s[11696]|0):0)&&d0(r,7);return}function zd(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;F=A,A=A+32|0,M=F+24|0,y=F+16|0,h=F+8|0,g=F,a=0;do o=r+380+(a<<3)|0,((e[r+380+(a<<3)+4>>2]|0)!=0?(k=o,W=e[k+4>>2]|0,V=h,e[V>>2]=e[k>>2],e[V+4>>2]=W,V=r+364+(a<<3)|0,W=e[V+4>>2]|0,k=g,e[k>>2]=e[V>>2],e[k+4>>2]=W,e[y>>2]=e[h>>2],e[y+4>>2]=e[h+4>>2],e[M>>2]=e[g>>2],e[M+4>>2]=e[g+4>>2],Nu(y,M)|0):0)||(o=r+348+(a<<3)|0),e[r+992+(a<<2)>>2]=o,a=a+1|0;while((a|0)!=2);A=F;return}function Wa(r,o,a){r=r|0,o=o|0,a=P(a);var h=0;r=e[r+992+(e[976+(o<<2)>>2]<<2)>>2]|0;switch(e[r+4>>2]|0){case 0:case 3:{r=0;break}case 1:{P(E[r>>2])<P(0)?r=0:h=5;break}case 2:{P(E[r>>2])<P(0)?r=0:r=(rn(a)|0)^1;break}default:h=5}return(h|0)==5&&(r=1),r|0}function xr(r,o){r=r|0,o=P(o);switch(e[r+4>>2]|0){case 2:{o=P(P(P(E[r>>2])*o)/P(100));break}case 1:{o=P(E[r>>2]);break}default:o=P(K)}return P(o)}function p0(r,o,a,h,g){r=r|0,o=o|0,a=P(a),h=P(h),g=P(g);var y=0,M=jt;o=e[r+944>>2]|0?o:1,y=Xu(e[r+4>>2]|0,o)|0,o=ga(y,o)|0,a=P(v0(r,y,a)),h=P(v0(r,o,h)),M=P(a+P(Ps(r,y,g))),E[r+400+(e[1040+(y<<2)>>2]<<2)>>2]=M,a=P(a+P(va(r,y,g))),E[r+400+(e[1e3+(y<<2)>>2]<<2)>>2]=a,a=P(h+P(Ps(r,o,g))),E[r+400+(e[1040+(o<<2)>>2]<<2)>>2]=a,g=P(h+P(va(r,o,g))),E[r+400+(e[1e3+(o<<2)>>2]<<2)>>2]=g;return}function Ls(r,o,a,h){r=r|0,o=P(o),a=P(a),h=P(h);var g=0,y=0,M=jt,F=jt,k=0,W=0,V=jt,Z=0,ye=jt,ht=jt,nt=jt,Ke=jt;if(!(o==P(0))&&(g=r+400|0,Ke=P(E[g>>2]),y=r+404|0,nt=P(E[y>>2]),Z=r+416|0,ht=P(E[Z>>2]),W=r+420|0,M=P(E[W>>2]),ye=P(Ke+a),V=P(nt+h),h=P(ye+ht),F=P(V+M),k=(e[r+988>>2]|0)==1,E[g>>2]=P(hs(Ke,o,0,k)),E[y>>2]=P(hs(nt,o,0,k)),a=P(bL(P(ht*o),P(1))),jr(a,P(0))|0?y=0:y=(jr(a,P(1))|0)^1,a=P(bL(P(M*o),P(1))),jr(a,P(0))|0?g=0:g=(jr(a,P(1))|0)^1,Ke=P(hs(h,o,k&y,k&(y^1))),E[Z>>2]=P(Ke-P(hs(ye,o,0,k))),Ke=P(hs(F,o,k&g,k&(g^1))),E[W>>2]=P(Ke-P(hs(V,o,0,k))),y=(e[r+952>>2]|0)-(e[r+948>>2]|0)>>2,y|0)){g=0;do Ls(Xa(r,g)|0,o,ye,V),g=g+1|0;while((g|0)!=(y|0))}return}function bh(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;switch(a|0){case 5:case 0:{r=IB(e[489]|0,h,g)|0;break}default:r=aW(h,g)|0}return r|0}function Yd(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;g=A,A=A+16|0,y=g,e[y>>2]=h,Vd(r,0,o,a,y),A=g;return}function Vd(r,o,a,h,g){if(r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,r=r|0?r:956,rN[e[r+8>>2]&1](r,o,a,h,g)|0,(a|0)==5)kn();else return}function Wd(r,o,a){r=r|0,o=o|0,a=a|0,s[r+o>>0]=a&1;return}function Tx(r,o){r=r|0,o=o|0;var a=0,h=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,a=o+4|0,h=(e[a>>2]|0)-(e[o>>2]|0)>>2,h|0&&(jd(r,h),Gu(r,e[o>>2]|0,e[a>>2]|0,h));return}function jd(r,o){r=r|0,o=o|0;var a=0;if((su(r)|0)>>>0<o>>>0&&Yr(r),o>>>0>1073741823)kn();else{a=fn(o<<2)|0,e[r+4>>2]=a,e[r>>2]=a,e[r+8>>2]=a+(o<<2);return}}function Gu(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,h=r+4|0,r=a-o|0,(r|0)>0&&(rr(e[h>>2]|0,o|0,r|0)|0,e[h>>2]=(e[h>>2]|0)+(r>>>2<<2));return}function su(r){return r=r|0,1073741823}function Ps(r,o,a){return r=r|0,o=o|0,a=P(a),(ps(o)|0?(e[r+96>>2]|0)!=0:0)?r=r+92|0:r=Po(r+60|0,e[1040+(o<<2)>>2]|0,992)|0,P(ja(r,a))}function va(r,o,a){return r=r|0,o=o|0,a=P(a),(ps(o)|0?(e[r+104>>2]|0)!=0:0)?r=r+100|0:r=Po(r+60|0,e[1e3+(o<<2)>>2]|0,992)|0,P(ja(r,a))}function ps(r){return r=r|0,(r|1|0)==3|0}function ja(r,o){return r=r|0,o=P(o),(e[r+4>>2]|0)==3?o=P(0):o=P(xr(r,o)),P(o)}function ms(r,o){return r=r|0,o=o|0,r=e[r>>2]|0,((r|0)==0?(o|0)>1?o:1:r)|0}function Xu(r,o){r=r|0,o=o|0;var a=0;e:do if((o|0)==2){switch(r|0){case 2:{r=3;break e}case 3:break;default:{a=4;break e}}r=2}else a=4;while(0);return r|0}function bl(r,o){r=r|0,o=o|0;var a=jt;return((ps(o)|0?(e[r+312>>2]|0)!=0:0)?(a=P(E[r+308>>2]),a>=P(0)):0)||(a=P(Zi(P(E[(Po(r+276|0,e[1040+(o<<2)>>2]|0,992)|0)>>2]),P(0)))),P(a)}function Dc(r,o){r=r|0,o=o|0;var a=jt;return((ps(o)|0?(e[r+320>>2]|0)!=0:0)?(a=P(E[r+316>>2]),a>=P(0)):0)||(a=P(Zi(P(E[(Po(r+276|0,e[1e3+(o<<2)>>2]|0,992)|0)>>2]),P(0)))),P(a)}function m0(r,o,a){r=r|0,o=o|0,a=P(a);var h=jt;return((ps(o)|0?(e[r+240>>2]|0)!=0:0)?(h=P(xr(r+236|0,a)),h>=P(0)):0)||(h=P(Zi(P(xr(Po(r+204|0,e[1040+(o<<2)>>2]|0,992)|0,a)),P(0)))),P(h)}function Tn(r,o,a){r=r|0,o=o|0,a=P(a);var h=jt;return((ps(o)|0?(e[r+248>>2]|0)!=0:0)?(h=P(xr(r+244|0,a)),h>=P(0)):0)||(h=P(Zi(P(xr(Po(r+204|0,e[1e3+(o<<2)>>2]|0,992)|0,a)),P(0)))),P(h)}function Ch(r,o,a,h,g,y,M){r=r|0,o=P(o),a=P(a),h=h|0,g=g|0,y=P(y),M=P(M);var F=jt,k=jt,W=jt,V=jt,Z=jt,ye=jt,ht=0,nt=0,Ke=0;Ke=A,A=A+16|0,ht=Ke,nt=r+964|0,Gs(r,(e[nt>>2]|0)!=0,3519),F=P(Ys(r,2,o)),k=P(Ys(r,0,o)),W=P($r(r,2,o)),V=P($r(r,0,o)),rn(o)|0?Z=o:Z=P(Zi(P(0),P(P(o-W)-F))),rn(a)|0?ye=a:ye=P(Zi(P(0),P(P(a-V)-k))),(h|0)==1&(g|0)==1?(E[r+908>>2]=P(hi(r,2,P(o-W),y,y)),o=P(hi(r,0,P(a-V),M,y))):(iN[e[nt>>2]&1](ht,r,Z,h,ye,g),Z=P(F+P(E[ht>>2])),ye=P(o-W),E[r+908>>2]=P(hi(r,2,(h|2|0)==2?Z:ye,y,y)),ye=P(k+P(E[ht+4>>2])),o=P(a-V),o=P(hi(r,0,(g|2|0)==2?ye:o,M,y))),E[r+912>>2]=o,A=Ke;return}function c2(r,o,a,h,g,y,M){r=r|0,o=P(o),a=P(a),h=h|0,g=g|0,y=P(y),M=P(M);var F=jt,k=jt,W=jt,V=jt;W=P(Ys(r,2,y)),F=P(Ys(r,0,y)),V=P($r(r,2,y)),k=P($r(r,0,y)),o=P(o-V),E[r+908>>2]=P(hi(r,2,(h|2|0)==2?W:o,y,y)),a=P(a-k),E[r+912>>2]=P(hi(r,0,(g|2|0)==2?F:a,M,y));return}function Qm(r,o,a,h,g,y,M){r=r|0,o=P(o),a=P(a),h=h|0,g=g|0,y=P(y),M=P(M);var F=0,k=jt,W=jt;return F=(h|0)==2,((o<=P(0)&F?0:!(a<=P(0)&(g|0)==2))?!((h|0)==1&(g|0)==1):0)?r=0:(k=P($r(r,0,y)),W=P($r(r,2,y)),F=o<P(0)&F|(rn(o)|0),o=P(o-W),E[r+908>>2]=P(hi(r,2,F?P(0):o,y,y)),o=P(a-k),F=a<P(0)&(g|0)==2|(rn(a)|0),E[r+912>>2]=P(hi(r,0,F?P(0):o,M,y)),r=1),r|0}function ga(r,o){return r=r|0,o=o|0,di(r)|0?r=Xu(2,o)|0:r=0,r|0}function vs(r,o,a){return r=r|0,o=o|0,a=P(a),a=P(m0(r,o,a)),P(a+P(bl(r,o)))}function Cl(r,o,a){return r=r|0,o=o|0,a=P(a),a=P(Tn(r,o,a)),P(a+P(Dc(r,o)))}function Ys(r,o,a){r=r|0,o=o|0,a=P(a);var h=jt;return h=P(vs(r,o,a)),P(h+P(Cl(r,o,a)))}function Ll(r){return r=r|0,e[r+24>>2]|0?r=0:P(Qa(r))!=P(0)?r=1:r=P(Pl(r))!=P(0),r|0}function Qa(r){r=r|0;var o=jt;if(e[r+944>>2]|0){if(o=P(E[r+44>>2]),rn(o)|0)return o=P(E[r+40>>2]),r=o>P(0)&((rn(o)|0)^1),P(r?o:P(0))}else o=P(0);return P(o)}function Pl(r){r=r|0;var o=jt,a=0,h=jt;do if(e[r+944>>2]|0){if(o=P(E[r+48>>2]),rn(o)|0){if(a=s[(e[r+976>>2]|0)+2>>0]|0,a<<24>>24==0?(h=P(E[r+40>>2]),h<P(0)&((rn(h)|0)^1)):0){o=P(-h);break}o=a<<24>>24?P(1):P(0)}}else o=P(0);while(0);return P(o)}function Lh(r){r=r|0;var o=0,a=0;if(Fg(r+400|0,0,540)|0,s[r+985>>0]=1,vf(r),a=Ga(r)|0,a|0){o=r+948|0,r=0;do Lh(e[(e[o>>2]|0)+(r<<2)>>2]|0),r=r+1|0;while((r|0)!=(a|0))}return}function Qd(r,o,a,h,g,y,M,F,k,W){r=r|0,o=o|0,a=P(a),h=h|0,g=P(g),y=P(y),M=P(M),F=F|0,k=k|0,W=W|0;var V=0,Z=jt,ye=0,ht=0,nt=jt,Ke=jt,_t=0,yt=jt,Lt=0,ot=jt,ct=0,tn=0,Cr=0,Ln=0,xn=0,ir=0,Ar=0,Cn=0,Di=0,il=0;Di=A,A=A+16|0,Cr=Di+12|0,Ln=Di+8|0,xn=Di+4|0,ir=Di,Cn=Xu(e[r+4>>2]|0,k)|0,ct=ps(Cn)|0,Z=P(xr(qd(o)|0,ct?y:M)),tn=Wa(o,2,y)|0,Ar=Wa(o,0,M)|0;do if(rn(Z)|0?0:!(rn(ct?a:g)|0)){if(V=o+504|0,!(rn(P(E[V>>2]))|0)){if(!(Bn(e[o+976>>2]|0,0)|0))break;if((e[o+500>>2]|0)==(e[2278]|0))break}E[V>>2]=P(Zi(Z,P(Ys(o,Cn,y))))}else ye=7;while(0);do if((ye|0)==7){if(Lt=ct^1,!(Lt|tn^1)){M=P(xr(e[o+992>>2]|0,y)),E[o+504>>2]=P(Zi(M,P(Ys(o,2,y))));break}if(!(ct|Ar^1)){M=P(xr(e[o+996>>2]|0,M)),E[o+504>>2]=P(Zi(M,P(Ys(o,0,y))));break}E[Cr>>2]=P(K),E[Ln>>2]=P(K),e[xn>>2]=0,e[ir>>2]=0,yt=P($r(o,2,y)),ot=P($r(o,0,y)),tn?(nt=P(yt+P(xr(e[o+992>>2]|0,y))),E[Cr>>2]=nt,e[xn>>2]=1,ht=1):(ht=0,nt=P(K)),Ar?(Z=P(ot+P(xr(e[o+996>>2]|0,M))),E[Ln>>2]=Z,e[ir>>2]=1,V=1):(V=0,Z=P(K)),ye=e[r+32>>2]|0,ct&(ye|0)==2?ye=2:(rn(nt)|0?!(rn(a)|0):0)&&(E[Cr>>2]=a,e[xn>>2]=2,ht=2,nt=a),(((ye|0)==2&Lt?0:rn(Z)|0)?!(rn(g)|0):0)&&(E[Ln>>2]=g,e[ir>>2]=2,V=2,Z=g),Ke=P(E[o+396>>2]),_t=rn(Ke)|0;do if(_t)ye=ht;else{if((ht|0)==1&Lt){E[Ln>>2]=P(P(nt-yt)/Ke),e[ir>>2]=1,V=1,ye=1;break}ct&(V|0)==1?(E[Cr>>2]=P(Ke*P(Z-ot)),e[xn>>2]=1,V=1,ye=1):ye=ht}while(0);il=rn(a)|0,ht=(Fo(r,o)|0)!=4,(ct|tn|((h|0)!=1|il)|(ht|(ye|0)==1)?0:(E[Cr>>2]=a,e[xn>>2]=1,!_t))&&(E[Ln>>2]=P(P(a-yt)/Ke),e[ir>>2]=1,V=1),(Ar|Lt|((F|0)!=1|(rn(g)|0))|(ht|(V|0)==1)?0:(E[Ln>>2]=g,e[ir>>2]=1,!_t))&&(E[Cr>>2]=P(Ke*P(g-ot)),e[xn>>2]=1),Xo(o,2,y,y,xn,Cr),Xo(o,0,M,y,ir,Ln),a=P(E[Cr>>2]),g=P(E[Ln>>2]),Cs(o,a,g,k,e[xn>>2]|0,e[ir>>2]|0,y,M,0,3565,W)|0,M=P(E[o+908+(e[976+(Cn<<2)>>2]<<2)>>2]),E[o+504>>2]=P(Zi(M,P(Ys(o,Cn,y))))}while(0);e[o+500>>2]=e[2278],A=Di;return}function hi(r,o,a,h,g){return r=r|0,o=o|0,a=P(a),h=P(h),g=P(g),h=P(Ph(r,o,a,h)),P(Zi(h,P(Ys(r,o,g))))}function Fo(r,o){return r=r|0,o=o|0,o=o+20|0,o=e[((e[o>>2]|0)==0?r+16|0:o)>>2]|0,((o|0)==5?di(e[r+4>>2]|0)|0:0)&&(o=1),o|0}function xo(r,o){return r=r|0,o=o|0,(ps(o)|0?(e[r+96>>2]|0)!=0:0)?o=4:o=e[1040+(o<<2)>>2]|0,r+60+(o<<3)|0}function qa(r,o){return r=r|0,o=o|0,(ps(o)|0?(e[r+104>>2]|0)!=0:0)?o=5:o=e[1e3+(o<<2)>>2]|0,r+60+(o<<3)|0}function Xo(r,o,a,h,g,y){r=r|0,o=o|0,a=P(a),h=P(h),g=g|0,y=y|0,a=P(xr(r+380+(e[976+(o<<2)>>2]<<3)|0,a)),a=P(a+P($r(r,o,h)));switch(e[g>>2]|0){case 2:case 1:{g=rn(a)|0,h=P(E[y>>2]),E[y>>2]=g|h<a?h:a;break}case 0:{rn(a)|0||(e[g>>2]=2,E[y>>2]=a);break}default:}return}function gs(r,o){return r=r|0,o=o|0,r=r+132|0,(ps(o)|0?(e[(Po(r,4,948)|0)+4>>2]|0)!=0:0)?r=1:r=(e[(Po(r,e[1040+(o<<2)>>2]|0,948)|0)+4>>2]|0)!=0,r|0}function Hu(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0;return r=r+132|0,(ps(o)|0?(h=Po(r,4,948)|0,(e[h+4>>2]|0)!=0):0)?g=4:(h=Po(r,e[1040+(o<<2)>>2]|0,948)|0,e[h+4>>2]|0?g=4:a=P(0)),(g|0)==4&&(a=P(xr(h,a))),P(a)}function zu(r,o,a){r=r|0,o=o|0,a=P(a);var h=jt;return h=P(E[r+908+(e[976+(o<<2)>>2]<<2)>>2]),h=P(h+P(Ps(r,o,a))),P(h+P(va(r,o,a)))}function qm(r){r=r|0;var o=0,a=0,h=0;e:do if(di(e[r+4>>2]|0)|0)o=0;else if((e[r+16>>2]|0)!=5)if(a=Ga(r)|0,!a)o=0;else for(o=0;;){if(h=Xa(r,o)|0,(e[h+24>>2]|0)==0?(e[h+20>>2]|0)==5:0){o=1;break e}if(o=o+1|0,o>>>0>=a>>>0){o=0;break}}else o=1;while(0);return o|0}function En(r,o){r=r|0,o=o|0;var a=jt;return a=P(E[r+908+(e[976+(o<<2)>>2]<<2)>>2]),a>=P(0)&((rn(a)|0)^1)|0}function Yu(r){r=r|0;var o=jt,a=0,h=0,g=0,y=0,M=0,F=0,k=jt;if(a=e[r+968>>2]|0,a)k=P(E[r+908>>2]),o=P(E[r+912>>2]),o=P($B[a&0](r,k,o)),Gs(r,(rn(o)|0)^1,3573);else{y=Ga(r)|0;do if(y|0){for(a=0,g=0;;){if(h=Xa(r,g)|0,e[h+940>>2]|0){M=8;break}if((e[h+24>>2]|0)!=1)if(F=(Fo(r,h)|0)==5,F){a=h;break}else a=(a|0)==0?h:a;if(g=g+1|0,g>>>0>=y>>>0){M=8;break}}if((M|0)==8&&!a)break;return o=P(Yu(a)),P(o+P(E[a+404>>2]))}while(0);o=P(E[r+912>>2])}return P(o)}function Ph(r,o,a,h){r=r|0,o=o|0,a=P(a),h=P(h);var g=jt,y=0;return di(o)|0?(o=1,y=3):ps(o)|0?(o=0,y=3):(h=P(K),g=P(K)),(y|0)==3&&(g=P(xr(r+364+(o<<3)|0,h)),h=P(xr(r+380+(o<<3)|0,h))),y=h<a&(h>=P(0)&((rn(h)|0)^1)),a=y?h:a,y=g>=P(0)&((rn(g)|0)^1)&a<g,P(y?g:a)}function Qn(r,o,a,h,g,y,M){r=r|0,o=o|0,a=P(a),h=h|0,g=P(g),y=y|0,M=M|0;var F=jt,k=jt,W=0,V=0,Z=jt,ye=jt,ht=jt,nt=0,Ke=0,_t=0,yt=0,Lt=jt,ot=0;_t=Xu(e[r+4>>2]|0,y)|0,nt=ga(_t,y)|0,Ke=ps(_t)|0,Z=P($r(o,2,a)),ye=P($r(o,0,a)),Wa(o,2,a)|0?F=P(Z+P(xr(e[o+992>>2]|0,a))):(gs(o,2)|0?Fc(o,2)|0:0)?(F=P(E[r+908>>2]),k=P(bl(r,2)),k=P(F-P(k+P(Dc(r,2)))),F=P(Hu(o,2,a)),F=P(hi(o,2,P(k-P(F+P(au(o,2,a)))),a,a))):F=P(K),Wa(o,0,g)|0?k=P(ye+P(xr(e[o+996>>2]|0,g))):(gs(o,0)|0?Fc(o,0)|0:0)?(k=P(E[r+912>>2]),Lt=P(bl(r,0)),Lt=P(k-P(Lt+P(Dc(r,0)))),k=P(Hu(o,0,g)),k=P(hi(o,0,P(Lt-P(k+P(au(o,0,g)))),g,a))):k=P(K),W=rn(F)|0,V=rn(k)|0;do if(W^V?(ht=P(E[o+396>>2]),!(rn(ht)|0)):0)if(W){F=P(Z+P(P(k-ye)*ht));break}else{Lt=P(ye+P(P(F-Z)/ht)),k=V?Lt:k;break}while(0);V=rn(F)|0,W=rn(k)|0,V|W&&(ot=(V^1)&1,h=a>P(0)&((h|0)!=0&V),F=Ke?F:h?a:F,Cs(o,F,k,y,Ke?ot:h?2:ot,V&(W^1)&1,F,k,0,3623,M)|0,F=P(E[o+908>>2]),F=P(F+P($r(o,2,a))),k=P(E[o+912>>2]),k=P(k+P($r(o,0,a)))),Cs(o,F,k,y,1,1,F,k,1,3635,M)|0,(Fc(o,_t)|0?!(gs(o,_t)|0):0)?(ot=e[976+(_t<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(Lt-P(E[o+908+(ot<<2)>>2])),Lt=P(Lt-P(Dc(r,_t))),Lt=P(Lt-P(va(o,_t,a))),Lt=P(Lt-P(au(o,_t,Ke?a:g))),E[o+400+(e[1040+(_t<<2)>>2]<<2)>>2]=Lt):yt=21;do if((yt|0)==21){if(gs(o,_t)|0?0:(e[r+8>>2]|0)==1){ot=e[976+(_t<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(P(Lt-P(E[o+908+(ot<<2)>>2]))*P(.5)),E[o+400+(e[1040+(_t<<2)>>2]<<2)>>2]=Lt;break}(gs(o,_t)|0?0:(e[r+8>>2]|0)==2)&&(ot=e[976+(_t<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(Lt-P(E[o+908+(ot<<2)>>2])),E[o+400+(e[1040+(_t<<2)>>2]<<2)>>2]=Lt)}while(0);(Fc(o,nt)|0?!(gs(o,nt)|0):0)?(ot=e[976+(nt<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(Lt-P(E[o+908+(ot<<2)>>2])),Lt=P(Lt-P(Dc(r,nt))),Lt=P(Lt-P(va(o,nt,a))),Lt=P(Lt-P(au(o,nt,Ke?g:a))),E[o+400+(e[1040+(nt<<2)>>2]<<2)>>2]=Lt):yt=30;do if((yt|0)==30?!(gs(o,nt)|0):0){if((Fo(r,o)|0)==2){ot=e[976+(nt<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(P(Lt-P(E[o+908+(ot<<2)>>2]))*P(.5)),E[o+400+(e[1040+(nt<<2)>>2]<<2)>>2]=Lt;break}ot=(Fo(r,o)|0)==3,ot^(e[r+28>>2]|0)==2&&(ot=e[976+(nt<<2)>>2]|0,Lt=P(E[r+908+(ot<<2)>>2]),Lt=P(Lt-P(E[o+908+(ot<<2)>>2])),E[o+400+(e[1040+(nt<<2)>>2]<<2)>>2]=Lt)}while(0);return}function Vs(r,o,a){r=r|0,o=o|0,a=a|0;var h=jt,g=0;g=e[976+(a<<2)>>2]|0,h=P(E[o+908+(g<<2)>>2]),h=P(P(E[r+908+(g<<2)>>2])-h),h=P(h-P(E[o+400+(e[1040+(a<<2)>>2]<<2)>>2])),E[o+400+(e[1e3+(a<<2)>>2]<<2)>>2]=h;return}function di(r){return r=r|0,(r|1|0)==1|0}function qd(r){r=r|0;var o=jt;switch(e[r+56>>2]|0){case 0:case 3:{o=P(E[r+40>>2]),o>P(0)&((rn(o)|0)^1)?r=s[(e[r+976>>2]|0)+2>>0]|0?1056:992:r=1056;break}default:r=r+52|0}return r|0}function Bn(r,o){return r=r|0,o=o|0,(s[r+o>>0]|0)!=0|0}function Fc(r,o){return r=r|0,o=o|0,r=r+132|0,(ps(o)|0?(e[(Po(r,5,948)|0)+4>>2]|0)!=0:0)?r=1:r=(e[(Po(r,e[1e3+(o<<2)>>2]|0,948)|0)+4>>2]|0)!=0,r|0}function au(r,o,a){r=r|0,o=o|0,a=P(a);var h=0,g=0;return r=r+132|0,(ps(o)|0?(h=Po(r,5,948)|0,(e[h+4>>2]|0)!=0):0)?g=4:(h=Po(r,e[1e3+(o<<2)>>2]|0,948)|0,e[h+4>>2]|0?g=4:a=P(0)),(g|0)==4&&(a=P(xr(h,a))),P(a)}function v0(r,o,a){return r=r|0,o=o|0,a=P(a),gs(r,o)|0?a=P(Hu(r,o,a)):a=P(-P(au(r,o,a))),P(a)}function g0(r){return r=P(r),(E[R>>2]=r,e[R>>2]|0)|0}function lu(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>1073741823)kn();else{g=fn(o<<2)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<2)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<2);return}function y0(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>2)<<2)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function uu(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-4-o|0)>>>2)<<2)),r=e[r>>2]|0,r|0&&Ut(r);return}function x0(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;if(M=r+4|0,F=e[M>>2]|0,g=F-h|0,y=g>>2,r=o+(y<<2)|0,r>>>0<a>>>0){h=F;do e[h>>2]=e[r>>2],r=r+4|0,h=(e[M>>2]|0)+4|0,e[M>>2]=h;while(r>>>0<a>>>0)}y|0&&pE(F+(0-y<<2)|0,o|0,g|0)|0;return}function an(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0;return F=o+4|0,k=e[F>>2]|0,g=e[r>>2]|0,M=a,y=M-g|0,h=k+(0-(y>>2)<<2)|0,e[F>>2]=h,(y|0)>0&&rr(h|0,g|0,y|0)|0,g=r+4|0,y=o+8|0,h=(e[g>>2]|0)-M|0,(h|0)>0&&(rr(e[y>>2]|0,a|0,h|0)|0,e[y>>2]=(e[y>>2]|0)+(h>>>2<<2)),M=e[r>>2]|0,e[r>>2]=e[F>>2],e[F>>2]=M,M=e[g>>2]|0,e[g>>2]=e[y>>2],e[y>>2]=M,M=r+8|0,a=o+12|0,r=e[M>>2]|0,e[M>>2]=e[a>>2],e[a>>2]=r,e[o>>2]=e[F>>2],k|0}function xf(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;if(M=e[o>>2]|0,y=e[a>>2]|0,(M|0)!=(y|0)){g=r+8|0,a=((y+-4-M|0)>>>2)+1|0,r=M,h=e[g>>2]|0;do e[h>>2]=e[r>>2],h=(e[g>>2]|0)+4|0,e[g>>2]=h,r=r+4|0;while((r|0)!=(y|0));e[o>>2]=M+(a<<2)}return}function Jm(){n0();return}function Zm(){var r=0;return r=fn(4)|0,Km(r),r|0}function Km(r){r=r|0,e[r>>2]=r0()|0;return}function E0(r){r=r|0,r|0&&(Rh(r),Ut(r));return}function Rh(r){r=r|0,_h(e[r>>2]|0);return}function cu(r,o,a){r=r|0,o=o|0,a=a|0,Wd(e[r>>2]|0,o,a);return}function w0(r,o){r=r|0,o=P(o),ku(e[r>>2]|0,o);return}function Vu(r,o){return r=r|0,o=o|0,Bn(e[r>>2]|0,o)|0}function ys(){var r=0;return r=fn(8)|0,Wu(r,0),r|0}function Wu(r,o){r=r|0,o=o|0,o?o=wh(e[o>>2]|0)|0:o=Ru()|0,e[r>>2]=o,e[r+4>>2]=0,ha(o,r);return}function Eo(r){r=r|0;var o=0;return o=fn(8)|0,Wu(o,r),o|0}function Pn(r){r=r|0,r|0&&(Dh(r),Ut(r));return}function Dh(r){r=r|0;var o=0;Kv(e[r>>2]|0),o=r+4|0,r=e[o>>2]|0,e[o>>2]=0,r|0&&(Ws(r),Ut(r));return}function Ws(r){r=r|0,fu(r);return}function fu(r){r=r|0,r=e[r>>2]|0,r|0&&ru(r|0);return}function hu(r){return r=r|0,Mh(r)|0}function du(r){r=r|0;var o=0,a=0;a=r+4|0,o=e[a>>2]|0,e[a>>2]=0,o|0&&(Ws(o),Ut(o)),Od(e[r>>2]|0);return}function Rl(r,o){r=r|0,o=o|0,o0(e[r>>2]|0,e[o>>2]|0);return}function $m(r,o){r=r|0,o=o|0,Gd(e[r>>2]|0,o);return}function e1(r,o,a){r=r|0,o=o|0,a=+a,o2(e[r>>2]|0,o,P(a));return}function A0(r,o,a){r=r|0,o=o|0,a=+a,s2(e[r>>2]|0,o,P(a));return}function _0(r,o){r=r|0,o=o|0,iu(e[r>>2]|0,o);return}function M0(r,o){r=r|0,o=o|0,Al(e[r>>2]|0,o);return}function Nn(r,o){r=r|0,o=o|0,kd(e[r>>2]|0,o);return}function Bo(r,o){r=r|0,o=o|0,Gm(e[r>>2]|0,o);return}function Qi(r,o){r=r|0,o=o|0,n2(e[r>>2]|0,o);return}function wo(r,o){r=r|0,o=o|0,da(e[r>>2]|0,o);return}function Dl(r,o,a){r=r|0,o=o|0,a=+a,Hd(e[r>>2]|0,o,P(a));return}function S0(r,o,a){r=r|0,o=o|0,a=+a,a2(e[r>>2]|0,o,P(a));return}function Tr(r,o){r=r|0,o=o|0,u2(e[r>>2]|0,o);return}function Fh(r,o){r=r|0,o=o|0,r2(e[r>>2]|0,o);return}function ju(r,o){r=r|0,o=o|0,Ya(e[r>>2]|0,o);return}function Qu(r,o){r=r|0,o=+o,Ym(e[r>>2]|0,P(o));return}function Fl(r,o){r=r|0,o=+o,Bu(e[r>>2]|0,P(o));return}function $o(r,o){r=r|0,o=+o,l0(e[r>>2]|0,P(o));return}function Jd(r,o){r=r|0,o=+o,i2(e[r>>2]|0,P(o));return}function t1(r,o){r=r|0,o=+o,bc(e[r>>2]|0,P(o));return}function n1(r,o){r=r|0,o=+o,yf(e[r>>2]|0,P(o));return}function lo(r,o){r=r|0,o=+o,$n(e[r>>2]|0,P(o));return}function ln(r){r=r|0,f0(e[r>>2]|0);return}function ro(r,o){r=r|0,o=+o,Sn(e[r>>2]|0,P(o));return}function Bc(r,o){r=r|0,o=+o,Ml(e[r>>2]|0,P(o));return}function Rs(r){r=r|0,kt(e[r>>2]|0);return}function js(r,o){r=r|0,o=+o,Sl(e[r>>2]|0,P(o));return}function Qs(r,o){r=r|0,o=+o,Cc(e[r>>2]|0,P(o));return}function ya(r,o){r=r|0,o=+o,jn(e[r>>2]|0,P(o));return}function Bl(r,o){r=r|0,o=+o,h0(e[r>>2]|0,P(o));return}function Nc(r,o){r=r|0,o=+o,ko(e[r>>2]|0,P(o));return}function Ja(r,o){r=r|0,o=+o,Va(e[r>>2]|0,P(o));return}function qu(r,o){r=r|0,o=+o,Pe(e[r>>2]|0,P(o));return}function Zd(r,o){r=r|0,o=+o,Sh(e[r>>2]|0,P(o));return}function Kd(r,o){r=r|0,o=+o,pa(e[r>>2]|0,P(o));return}function Za(r,o,a){r=r|0,o=o|0,a=+a,Do(e[r>>2]|0,o,P(a));return}function $d(r,o,a){r=r|0,o=o|0,a=+a,Vm(e[r>>2]|0,o,P(a));return}function Bh(r,o,a){r=r|0,o=o|0,a=+a,u0(e[r>>2]|0,o,P(a));return}function Nh(r){return r=r|0,Hm(e[r>>2]|0)|0}function qs(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;h=A,A=A+16|0,g=h,Xd(g,e[o>>2]|0,a),us(r,g),A=h;return}function us(r,o){r=r|0,o=o|0,Nl(r,e[o+4>>2]|0,+P(E[o>>2]));return}function Nl(r,o,a){r=r|0,o=o|0,a=+a,e[r>>2]=o,T[r+8>>3]=a;return}function ep(r){return r=r|0,t2(e[r>>2]|0)|0}function xa(r){return r=r|0,gf(e[r>>2]|0)|0}function f2(r){return r=r|0,s0(e[r>>2]|0)|0}function T0(r){return r=r|0,Xm(e[r>>2]|0)|0}function r1(r){return r=r|0,zm(e[r>>2]|0)|0}function bx(r){return r=r|0,e2(e[r>>2]|0)|0}function h2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;h=A,A=A+16|0,g=h,l2(g,e[o>>2]|0,a),us(r,g),A=h;return}function d2(r){return r=r|0,a0(e[r>>2]|0)|0}function tp(r){return r=r|0,Tc(e[r>>2]|0)|0}function i1(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,_l(h,e[o>>2]|0),us(r,h),A=a;return}function b0(r){return r=r|0,+ +P(za(e[r>>2]|0))}function p2(r){return r=r|0,+ +P(Sc(e[r>>2]|0))}function m2(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,Ts(h,e[o>>2]|0),us(r,h),A=a;return}function Ih(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,as(h,e[o>>2]|0),us(r,h),A=a;return}function Cx(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,Wm(h,e[o>>2]|0),us(r,h),A=a;return}function Lx(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,Ur(h,e[o>>2]|0),us(r,h),A=a;return}function v2(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,ls(h,e[o>>2]|0),us(r,h),A=a;return}function g2(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,jm(h,e[o>>2]|0),us(r,h),A=a;return}function Ef(r){return r=r|0,+ +P(Th(e[r>>2]|0))}function Px(r,o){return r=r|0,o=o|0,+ +P(c0(e[r>>2]|0,o))}function Rx(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;h=A,A=A+16|0,g=h,Xs(g,e[o>>2]|0,a),us(r,g),A=h;return}function Ju(r,o,a){r=r|0,o=o|0,a=a|0,Fu(e[r>>2]|0,e[o>>2]|0,a);return}function Dx(r,o){r=r|0,o=o|0,km(e[r>>2]|0,e[o>>2]|0);return}function y2(r){return r=r|0,Ga(e[r>>2]|0)|0}function Fx(r){return r=r|0,r=$v(e[r>>2]|0)|0,r?r=hu(r)|0:r=0,r|0}function x2(r,o){return r=r|0,o=o|0,r=Xa(e[r>>2]|0,o)|0,r?r=hu(r)|0:r=0,r|0}function Ic(r,o){r=r|0,o=o|0;var a=0,h=0;h=fn(4)|0,E2(h,o),a=r+4|0,o=e[a>>2]|0,e[a>>2]=h,o|0&&(Ws(o),Ut(o)),Du(e[r>>2]|0,1);return}function E2(r,o){r=r|0,o=o|0,Ox(r,o);return}function Bx(r,o,a,h,g,y){r=r|0,o=o|0,a=P(a),h=h|0,g=P(g),y=y|0;var M=0,F=0;M=A,A=A+16|0,F=M,w2(F,Mh(o)|0,+a,h,+g,y),E[r>>2]=P(+T[F>>3]),E[r+4>>2]=P(+T[F+8>>3]),A=M;return}function w2(r,o,a,h,g,y){r=r|0,o=o|0,a=+a,h=h|0,g=+g,y=y|0;var M=0,F=0,k=0,W=0,V=0;M=A,A=A+32|0,V=M+8|0,W=M+20|0,k=M,F=M+16|0,T[V>>3]=a,e[W>>2]=h,T[k>>3]=g,e[F>>2]=y,np(r,e[o+4>>2]|0,V,W,k,F),A=M;return}function np(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0;M=A,A=A+16|0,F=M,lc(F),o=xs(o)|0,A2(r,o,+T[a>>3],e[h>>2]|0,+T[g>>3],e[y>>2]|0),uc(F),A=M;return}function xs(r){return r=r|0,e[r>>2]|0}function A2(r,o,a,h,g,y){r=r|0,o=o|0,a=+a,h=h|0,g=+g,y=y|0;var M=0;M=Ea(o1()|0)|0,a=+Ka(a),h=rp(h)|0,g=+Ka(g),Nx(r,Ss(0,M|0,o|0,+a,h|0,+g,rp(y)|0)|0);return}function o1(){var r=0;return s[7608]|0||(a1(9120),r=7608,e[r>>2]=1,e[r+4>>2]=0),9120}function Ea(r){return r=r|0,e[r+8>>2]|0}function Ka(r){return r=+r,+ +Oc(r)}function rp(r){return r=r|0,Oh(r)|0}function Nx(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;g=A,A=A+32|0,a=g,h=o,h&1?($a(a,0),Fi(h|0,a|0)|0,s1(r,a),Ix(a)):(e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2]),A=g;return}function $a(r,o){r=r|0,o=o|0,Zu(r,o),e[r+8>>2]=0,s[r+24>>0]=0;return}function s1(r,o){r=r|0,o=o|0,o=o+8|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2];return}function Ix(r){r=r|0,s[r+24>>0]=0;return}function Zu(r,o){r=r|0,o=o|0,e[r>>2]=o;return}function Oh(r){return r=r|0,r|0}function Oc(r){return r=+r,+r}function a1(r){r=r|0,Js(r,l1()|0,4);return}function l1(){return 1064}function Js(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a,e[r+8>>2]=Zo(o|0,a+1|0)|0;return}function Ox(r,o){r=r|0,o=o|0,o=e[o>>2]|0,e[r>>2]=o,Fe(o|0);return}function _2(r){r=r|0;var o=0,a=0;a=r+4|0,o=e[a>>2]|0,e[a>>2]=0,o|0&&(Ws(o),Ut(o)),Du(e[r>>2]|0,0);return}function M2(r){r=r|0,ss(e[r>>2]|0);return}function ip(r){return r=r|0,Ro(e[r>>2]|0)|0}function Ux(r,o,a,h){r=r|0,o=+o,a=+a,h=h|0,ma(e[r>>2]|0,P(o),P(a),h);return}function kx(r){return r=r|0,+ +P(bs(e[r>>2]|0))}function S(r){return r=r|0,+ +P(Pc(e[r>>2]|0))}function b(r){return r=r|0,+ +P(Lc(e[r>>2]|0))}function I(r){return r=r|0,+ +P(Ko(e[r>>2]|0))}function J(r){return r=r|0,+ +P(Tl(e[r>>2]|0))}function ee(r){return r=r|0,+ +P(Ci(e[r>>2]|0))}function fe(r,o){r=r|0,o=o|0,T[r>>3]=+P(bs(e[o>>2]|0)),T[r+8>>3]=+P(Pc(e[o>>2]|0)),T[r+16>>3]=+P(Lc(e[o>>2]|0)),T[r+24>>3]=+P(Ko(e[o>>2]|0)),T[r+32>>3]=+P(Tl(e[o>>2]|0)),T[r+40>>3]=+P(Ci(e[o>>2]|0));return}function Ge(r,o){return r=r|0,o=o|0,+ +P(no(e[r>>2]|0,o))}function it(r,o){return r=r|0,o=o|0,+ +P(ji(e[r>>2]|0,o))}function Rt(r,o){return r=r|0,o=o|0,+ +P(ou(e[r>>2]|0,o))}function nn(){return Ah()|0}function In(){sr(),vn(),Li(),qi(),el(),wt();return}function sr(){jG(11713,4938,1);return}function vn(){mM(10448);return}function Li(){Un(10408);return}function qi(){dt(10324);return}function el(){Mg(10096);return}function wt(){lt(9132);return}function lt(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0,Lt=0,ot=0,ct=0,tn=0,Cr=0,Ln=0,xn=0,ir=0,Ar=0,Cn=0,Di=0,il=0,ol=0,sl=0,xu=0,Ip=0,Op=0,jc=0,Up=0,W0=0,j0=0,kp=0,Gp=0,Xp=0,Vr=0,Qc=0,Hp=0,Ff=0,zp=0,Yp=0,Q0=0,q0=0,Bf=0,Ma=0,fc=0,Yl=0,qc=0,nd=0,rd=0,J0=0,id=0,od=0,Sa=0,ra=0,Jc=0,Oi=0,sd=0,al=0,Nf=0,ll=0,If=0,ad=0,ld=0,Of=0,Ta=0,Zc=0,ud=0,cd=0,fd=0,ar=0,so=0,ia=0,ul=0,ba=0,gr=0,Rn=0,Kc=0;o=A,A=A+672|0,a=o+656|0,Kc=o+648|0,Rn=o+640|0,gr=o+632|0,ba=o+624|0,ul=o+616|0,ia=o+608|0,so=o+600|0,ar=o+592|0,fd=o+584|0,cd=o+576|0,ud=o+568|0,Zc=o+560|0,Ta=o+552|0,Of=o+544|0,ld=o+536|0,ad=o+528|0,If=o+520|0,ll=o+512|0,Nf=o+504|0,al=o+496|0,sd=o+488|0,Oi=o+480|0,Jc=o+472|0,ra=o+464|0,Sa=o+456|0,od=o+448|0,id=o+440|0,J0=o+432|0,rd=o+424|0,nd=o+416|0,qc=o+408|0,Yl=o+400|0,fc=o+392|0,Ma=o+384|0,Bf=o+376|0,q0=o+368|0,Q0=o+360|0,Yp=o+352|0,zp=o+344|0,Ff=o+336|0,Hp=o+328|0,Qc=o+320|0,Vr=o+312|0,Xp=o+304|0,Gp=o+296|0,kp=o+288|0,j0=o+280|0,W0=o+272|0,Up=o+264|0,jc=o+256|0,Op=o+248|0,Ip=o+240|0,xu=o+232|0,sl=o+224|0,ol=o+216|0,il=o+208|0,Di=o+200|0,Cn=o+192|0,Ar=o+184|0,ir=o+176|0,xn=o+168|0,Ln=o+160|0,Cr=o+152|0,tn=o+144|0,ct=o+136|0,ot=o+128|0,Lt=o+120|0,yt=o+112|0,_t=o+104|0,Ke=o+96|0,nt=o+88|0,ht=o+80|0,ye=o+72|0,Z=o+64|0,V=o+56|0,W=o+48|0,k=o+40|0,F=o+32|0,M=o+24|0,y=o+16|0,g=o+8|0,h=o,Bt(r,3646),hn(r,3651,2)|0,On(r,3665,2)|0,Ni(r,3682,18)|0,e[Kc>>2]=19,e[Kc+4>>2]=0,e[a>>2]=e[Kc>>2],e[a+4>>2]=e[Kc+4>>2],qn(r,3690,a)|0,e[Rn>>2]=1,e[Rn+4>>2]=0,e[a>>2]=e[Rn>>2],e[a+4>>2]=e[Rn+4>>2],pi(r,3696,a)|0,e[gr>>2]=2,e[gr+4>>2]=0,e[a>>2]=e[gr>>2],e[a+4>>2]=e[gr+4>>2],Ei(r,3706,a)|0,e[ba>>2]=1,e[ba+4>>2]=0,e[a>>2]=e[ba>>2],e[a+4>>2]=e[ba+4>>2],Rr(r,3722,a)|0,e[ul>>2]=2,e[ul+4>>2]=0,e[a>>2]=e[ul>>2],e[a+4>>2]=e[ul+4>>2],Rr(r,3734,a)|0,e[ia>>2]=3,e[ia+4>>2]=0,e[a>>2]=e[ia>>2],e[a+4>>2]=e[ia+4>>2],Ei(r,3753,a)|0,e[so>>2]=4,e[so+4>>2]=0,e[a>>2]=e[so>>2],e[a+4>>2]=e[so+4>>2],Ei(r,3769,a)|0,e[ar>>2]=5,e[ar+4>>2]=0,e[a>>2]=e[ar>>2],e[a+4>>2]=e[ar+4>>2],Ei(r,3783,a)|0,e[fd>>2]=6,e[fd+4>>2]=0,e[a>>2]=e[fd>>2],e[a+4>>2]=e[fd+4>>2],Ei(r,3796,a)|0,e[cd>>2]=7,e[cd+4>>2]=0,e[a>>2]=e[cd>>2],e[a+4>>2]=e[cd+4>>2],Ei(r,3813,a)|0,e[ud>>2]=8,e[ud+4>>2]=0,e[a>>2]=e[ud>>2],e[a+4>>2]=e[ud+4>>2],Ei(r,3825,a)|0,e[Zc>>2]=3,e[Zc+4>>2]=0,e[a>>2]=e[Zc>>2],e[a+4>>2]=e[Zc+4>>2],Rr(r,3843,a)|0,e[Ta>>2]=4,e[Ta+4>>2]=0,e[a>>2]=e[Ta>>2],e[a+4>>2]=e[Ta+4>>2],Rr(r,3853,a)|0,e[Of>>2]=9,e[Of+4>>2]=0,e[a>>2]=e[Of>>2],e[a+4>>2]=e[Of+4>>2],Ei(r,3870,a)|0,e[ld>>2]=10,e[ld+4>>2]=0,e[a>>2]=e[ld>>2],e[a+4>>2]=e[ld+4>>2],Ei(r,3884,a)|0,e[ad>>2]=11,e[ad+4>>2]=0,e[a>>2]=e[ad>>2],e[a+4>>2]=e[ad+4>>2],Ei(r,3896,a)|0,e[If>>2]=1,e[If+4>>2]=0,e[a>>2]=e[If>>2],e[a+4>>2]=e[If+4>>2],Gi(r,3907,a)|0,e[ll>>2]=2,e[ll+4>>2]=0,e[a>>2]=e[ll>>2],e[a+4>>2]=e[ll+4>>2],Gi(r,3915,a)|0,e[Nf>>2]=3,e[Nf+4>>2]=0,e[a>>2]=e[Nf>>2],e[a+4>>2]=e[Nf+4>>2],Gi(r,3928,a)|0,e[al>>2]=4,e[al+4>>2]=0,e[a>>2]=e[al>>2],e[a+4>>2]=e[al+4>>2],Gi(r,3948,a)|0,e[sd>>2]=5,e[sd+4>>2]=0,e[a>>2]=e[sd>>2],e[a+4>>2]=e[sd+4>>2],Gi(r,3960,a)|0,e[Oi>>2]=6,e[Oi+4>>2]=0,e[a>>2]=e[Oi>>2],e[a+4>>2]=e[Oi+4>>2],Gi(r,3974,a)|0,e[Jc>>2]=7,e[Jc+4>>2]=0,e[a>>2]=e[Jc>>2],e[a+4>>2]=e[Jc+4>>2],Gi(r,3983,a)|0,e[ra>>2]=20,e[ra+4>>2]=0,e[a>>2]=e[ra>>2],e[a+4>>2]=e[ra+4>>2],qn(r,3999,a)|0,e[Sa>>2]=8,e[Sa+4>>2]=0,e[a>>2]=e[Sa>>2],e[a+4>>2]=e[Sa+4>>2],Gi(r,4012,a)|0,e[od>>2]=9,e[od+4>>2]=0,e[a>>2]=e[od>>2],e[a+4>>2]=e[od+4>>2],Gi(r,4022,a)|0,e[id>>2]=21,e[id+4>>2]=0,e[a>>2]=e[id>>2],e[a+4>>2]=e[id+4>>2],qn(r,4039,a)|0,e[J0>>2]=10,e[J0+4>>2]=0,e[a>>2]=e[J0>>2],e[a+4>>2]=e[J0+4>>2],Gi(r,4053,a)|0,e[rd>>2]=11,e[rd+4>>2]=0,e[a>>2]=e[rd>>2],e[a+4>>2]=e[rd+4>>2],Gi(r,4065,a)|0,e[nd>>2]=12,e[nd+4>>2]=0,e[a>>2]=e[nd>>2],e[a+4>>2]=e[nd+4>>2],Gi(r,4084,a)|0,e[qc>>2]=13,e[qc+4>>2]=0,e[a>>2]=e[qc>>2],e[a+4>>2]=e[qc+4>>2],Gi(r,4097,a)|0,e[Yl>>2]=14,e[Yl+4>>2]=0,e[a>>2]=e[Yl>>2],e[a+4>>2]=e[Yl+4>>2],Gi(r,4117,a)|0,e[fc>>2]=15,e[fc+4>>2]=0,e[a>>2]=e[fc>>2],e[a+4>>2]=e[fc+4>>2],Gi(r,4129,a)|0,e[Ma>>2]=16,e[Ma+4>>2]=0,e[a>>2]=e[Ma>>2],e[a+4>>2]=e[Ma+4>>2],Gi(r,4148,a)|0,e[Bf>>2]=17,e[Bf+4>>2]=0,e[a>>2]=e[Bf>>2],e[a+4>>2]=e[Bf+4>>2],Gi(r,4161,a)|0,e[q0>>2]=18,e[q0+4>>2]=0,e[a>>2]=e[q0>>2],e[a+4>>2]=e[q0+4>>2],Gi(r,4181,a)|0,e[Q0>>2]=5,e[Q0+4>>2]=0,e[a>>2]=e[Q0>>2],e[a+4>>2]=e[Q0+4>>2],Rr(r,4196,a)|0,e[Yp>>2]=6,e[Yp+4>>2]=0,e[a>>2]=e[Yp>>2],e[a+4>>2]=e[Yp+4>>2],Rr(r,4206,a)|0,e[zp>>2]=7,e[zp+4>>2]=0,e[a>>2]=e[zp>>2],e[a+4>>2]=e[zp+4>>2],Rr(r,4217,a)|0,e[Ff>>2]=3,e[Ff+4>>2]=0,e[a>>2]=e[Ff>>2],e[a+4>>2]=e[Ff+4>>2],Ku(r,4235,a)|0,e[Hp>>2]=1,e[Hp+4>>2]=0,e[a>>2]=e[Hp>>2],e[a+4>>2]=e[Hp+4>>2],Gx(r,4251,a)|0,e[Qc>>2]=4,e[Qc+4>>2]=0,e[a>>2]=e[Qc>>2],e[a+4>>2]=e[Qc+4>>2],Ku(r,4263,a)|0,e[Vr>>2]=5,e[Vr+4>>2]=0,e[a>>2]=e[Vr>>2],e[a+4>>2]=e[Vr+4>>2],Ku(r,4279,a)|0,e[Xp>>2]=6,e[Xp+4>>2]=0,e[a>>2]=e[Xp>>2],e[a+4>>2]=e[Xp+4>>2],Ku(r,4293,a)|0,e[Gp>>2]=7,e[Gp+4>>2]=0,e[a>>2]=e[Gp>>2],e[a+4>>2]=e[Gp+4>>2],Ku(r,4306,a)|0,e[kp>>2]=8,e[kp+4>>2]=0,e[a>>2]=e[kp>>2],e[a+4>>2]=e[kp+4>>2],Ku(r,4323,a)|0,e[j0>>2]=9,e[j0+4>>2]=0,e[a>>2]=e[j0>>2],e[a+4>>2]=e[j0+4>>2],Ku(r,4335,a)|0,e[W0>>2]=2,e[W0+4>>2]=0,e[a>>2]=e[W0>>2],e[a+4>>2]=e[W0+4>>2],Gx(r,4353,a)|0,e[Up>>2]=12,e[Up+4>>2]=0,e[a>>2]=e[Up>>2],e[a+4>>2]=e[Up+4>>2],Uh(r,4363,a)|0,e[jc>>2]=1,e[jc+4>>2]=0,e[a>>2]=e[jc>>2],e[a+4>>2]=e[jc+4>>2],wf(r,4376,a)|0,e[Op>>2]=2,e[Op+4>>2]=0,e[a>>2]=e[Op>>2],e[a+4>>2]=e[Op+4>>2],wf(r,4388,a)|0,e[Ip>>2]=13,e[Ip+4>>2]=0,e[a>>2]=e[Ip>>2],e[a+4>>2]=e[Ip+4>>2],Uh(r,4402,a)|0,e[xu>>2]=14,e[xu+4>>2]=0,e[a>>2]=e[xu>>2],e[a+4>>2]=e[xu+4>>2],Uh(r,4411,a)|0,e[sl>>2]=15,e[sl+4>>2]=0,e[a>>2]=e[sl>>2],e[a+4>>2]=e[sl+4>>2],Uh(r,4421,a)|0,e[ol>>2]=16,e[ol+4>>2]=0,e[a>>2]=e[ol>>2],e[a+4>>2]=e[ol+4>>2],Uh(r,4433,a)|0,e[il>>2]=17,e[il+4>>2]=0,e[a>>2]=e[il>>2],e[a+4>>2]=e[il+4>>2],Uh(r,4446,a)|0,e[Di>>2]=18,e[Di+4>>2]=0,e[a>>2]=e[Di>>2],e[a+4>>2]=e[Di+4>>2],Uh(r,4458,a)|0,e[Cn>>2]=3,e[Cn+4>>2]=0,e[a>>2]=e[Cn>>2],e[a+4>>2]=e[Cn+4>>2],wf(r,4471,a)|0,e[Ar>>2]=1,e[Ar+4>>2]=0,e[a>>2]=e[Ar>>2],e[a+4>>2]=e[Ar+4>>2],S2(r,4486,a)|0,e[ir>>2]=10,e[ir+4>>2]=0,e[a>>2]=e[ir>>2],e[a+4>>2]=e[ir+4>>2],Ku(r,4496,a)|0,e[xn>>2]=11,e[xn+4>>2]=0,e[a>>2]=e[xn>>2],e[a+4>>2]=e[xn+4>>2],Ku(r,4508,a)|0,e[Ln>>2]=3,e[Ln+4>>2]=0,e[a>>2]=e[Ln>>2],e[a+4>>2]=e[Ln+4>>2],Gx(r,4519,a)|0,e[Cr>>2]=4,e[Cr+4>>2]=0,e[a>>2]=e[Cr>>2],e[a+4>>2]=e[Cr+4>>2],zT(r,4530,a)|0,e[tn>>2]=19,e[tn+4>>2]=0,e[a>>2]=e[tn>>2],e[a+4>>2]=e[tn+4>>2],YT(r,4542,a)|0,e[ct>>2]=12,e[ct+4>>2]=0,e[a>>2]=e[ct>>2],e[a+4>>2]=e[ct+4>>2],VT(r,4554,a)|0,e[ot>>2]=13,e[ot+4>>2]=0,e[a>>2]=e[ot>>2],e[a+4>>2]=e[ot+4>>2],WT(r,4568,a)|0,e[Lt>>2]=2,e[Lt+4>>2]=0,e[a>>2]=e[Lt>>2],e[a+4>>2]=e[Lt+4>>2],jT(r,4578,a)|0,e[yt>>2]=20,e[yt+4>>2]=0,e[a>>2]=e[yt>>2],e[a+4>>2]=e[yt+4>>2],QT(r,4587,a)|0,e[_t>>2]=22,e[_t+4>>2]=0,e[a>>2]=e[_t>>2],e[a+4>>2]=e[_t+4>>2],qn(r,4602,a)|0,e[Ke>>2]=23,e[Ke+4>>2]=0,e[a>>2]=e[Ke>>2],e[a+4>>2]=e[Ke+4>>2],qn(r,4619,a)|0,e[nt>>2]=14,e[nt+4>>2]=0,e[a>>2]=e[nt>>2],e[a+4>>2]=e[nt+4>>2],qT(r,4629,a)|0,e[ht>>2]=1,e[ht+4>>2]=0,e[a>>2]=e[ht>>2],e[a+4>>2]=e[ht+4>>2],JT(r,4637,a)|0,e[ye>>2]=4,e[ye+4>>2]=0,e[a>>2]=e[ye>>2],e[a+4>>2]=e[ye+4>>2],wf(r,4653,a)|0,e[Z>>2]=5,e[Z+4>>2]=0,e[a>>2]=e[Z>>2],e[a+4>>2]=e[Z+4>>2],wf(r,4669,a)|0,e[V>>2]=6,e[V+4>>2]=0,e[a>>2]=e[V>>2],e[a+4>>2]=e[V+4>>2],wf(r,4686,a)|0,e[W>>2]=7,e[W+4>>2]=0,e[a>>2]=e[W>>2],e[a+4>>2]=e[W+4>>2],wf(r,4701,a)|0,e[k>>2]=8,e[k+4>>2]=0,e[a>>2]=e[k>>2],e[a+4>>2]=e[k+4>>2],wf(r,4719,a)|0,e[F>>2]=9,e[F+4>>2]=0,e[a>>2]=e[F>>2],e[a+4>>2]=e[F+4>>2],wf(r,4736,a)|0,e[M>>2]=21,e[M+4>>2]=0,e[a>>2]=e[M>>2],e[a+4>>2]=e[M+4>>2],ZT(r,4754,a)|0,e[y>>2]=2,e[y+4>>2]=0,e[a>>2]=e[y>>2],e[a+4>>2]=e[y+4>>2],S2(r,4772,a)|0,e[g>>2]=3,e[g+4>>2]=0,e[a>>2]=e[g>>2],e[a+4>>2]=e[g+4>>2],S2(r,4790,a)|0,e[h>>2]=4,e[h+4>>2]=0,e[a>>2]=e[h>>2],e[a+4>>2]=e[h+4>>2],S2(r,4808,a)|0,A=o;return}function Bt(r,o){r=r|0,o=o|0;var a=0;a=bp()|0,e[r>>2]=a,z0(a,o),Fp(e[r>>2]|0);return}function hn(r,o,a){return r=r|0,o=o|0,a=a|0,wg(r,ai(o)|0,a,0),r|0}function On(r,o,a){return r=r|0,o=o|0,a=a|0,yg(r,ai(o)|0,a,0),r|0}function Ni(r,o,a){return r=r|0,o=o|0,a=a|0,hC(r,ai(o)|0,a,0),r|0}function qn(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Qh(r,o,g),A=h,r|0}function pi(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],eC(r,o,g),A=h,r|0}function Ei(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],sg(r,o,g),A=h,r|0}function Rr(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Jb(r,o,g),A=h,r|0}function Gi(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],mu(r,o,g),A=h,r|0}function Ku(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],eg(r,o,g),A=h,r|0}function Gx(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],S3(r,o,g),A=h,r|0}function Uh(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],d3(r,o,g),A=h,r|0}function wf(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Bb(r,o,g),A=h,r|0}function S2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Gh(r,o,g),A=h,r|0}function zT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],z2(r,o,g),A=h,r|0}function YT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Mb(r,o,g),A=h,r|0}function VT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],h1(r,o,g),A=h,r|0}function WT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Eb(r,o,g),A=h,r|0}function jT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],ab(r,o,g),A=h,r|0}function QT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],C0(r,o,g),A=h,r|0}function qT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],X5(r,o,g),A=h,r|0}function JT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],bA(r,o,g),A=h,r|0}function ZT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],KT(r,o,g),A=h,r|0}function KT(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],$T(r,a,g,1),A=h;return}function ai(r){return r=r|0,r|0}function $T(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=Xx()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=e5(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,t5(y,h)|0,h),A=g;return}function Xx(){var r=0,o=0;if(s[7616]|0||(_A(9136),Qt(24,9136,O|0)|0,o=7616,e[o>>2]=1,e[o+4>>2]=0),!(hr(9136)|0)){r=9136,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));_A(9136)}return 9136}function e5(r){return r=r|0,0}function t5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=Xx()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],AA(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(i5(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function li(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0;M=A,A=A+32|0,ye=M+24|0,Z=M+20|0,k=M+16|0,V=M+12|0,W=M+8|0,F=M+4|0,ht=M,e[Z>>2]=o,e[k>>2]=a,e[V>>2]=h,e[W>>2]=g,e[F>>2]=y,y=r+28|0,e[ht>>2]=e[y>>2],e[ye>>2]=e[ht>>2],n5(r+24|0,ye,Z,V,W,k,F)|0,e[y>>2]=e[e[y>>2]>>2],A=M;return}function n5(r,o,a,h,g,y,M){return r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,M=M|0,r=r5(o)|0,o=fn(24)|0,wA(o+4|0,e[a>>2]|0,e[h>>2]|0,e[g>>2]|0,e[y>>2]|0,e[M>>2]|0),e[o>>2]=e[r>>2],e[r>>2]=o,o|0}function r5(r){return r=r|0,e[r>>2]|0}function wA(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,e[r>>2]=o,e[r+4>>2]=a,e[r+8>>2]=h,e[r+12>>2]=g,e[r+16>>2]=y;return}function Fn(r,o){return r=r|0,o=o|0,o|r|0}function AA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function i5(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=o5(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,s5(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],AA(y,h,a),e[k>>2]=(e[k>>2]|0)+12,a5(r,F),l5(F),A=W;return}}function o5(r){return r=r|0,357913941}function s5(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function a5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function l5(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function _A(r){r=r|0,f5(r);return}function u5(r){r=r|0,c5(r+24|0);return}function hr(r){return r=r|0,e[r>>2]|0}function c5(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function f5(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,3,o,h5()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Fr(){return 9228}function h5(){return 1140}function d5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=p5(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=m5(o,h)|0,A=a,o|0}function Br(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,e[r>>2]=o,e[r+4>>2]=a,e[r+8>>2]=h,e[r+12>>2]=g,e[r+16>>2]=y;return}function p5(r){return r=r|0,(e[(Xx()|0)+24>>2]|0)+(r*12|0)|0}function m5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;return g=A,A=A+48|0,h=g,a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),td[a&31](h,r),h=v5(h)|0,A=g,h|0}function v5(r){r=r|0;var o=0,a=0,h=0,g=0;return g=A,A=A+32|0,o=g+12|0,a=g,h=on(Ir()|0)|0,h?(Il(o,h),Hx(a,o),g5(r,a),r=zx(o)|0):r=y5(r)|0,A=g,r|0}function Ir(){var r=0;return s[7632]|0||(op(9184),Qt(25,9184,O|0)|0,r=7632,e[r>>2]=1,e[r+4>>2]=0),9184}function on(r){return r=r|0,e[r+36>>2]|0}function Il(r,o){r=r|0,o=o|0,e[r>>2]=o,e[r+4>>2]=r,e[r+8>>2]=0;return}function Hx(r,o){r=r|0,o=o|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=0;return}function g5(r,o){r=r|0,o=o|0,A5(o,r,r+8|0,r+16|0,r+24|0,r+32|0,r+40|0)|0;return}function zx(r){return r=r|0,e[(e[r+4>>2]|0)+8>>2]|0}function y5(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0;k=A,A=A+16|0,a=k+4|0,h=k,g=ac(8)|0,y=g,M=fn(48)|0,F=M,o=F+48|0;do e[F>>2]=e[r>>2],F=F+4|0,r=r+4|0;while((F|0)<(o|0));return o=y+4|0,e[o>>2]=M,F=fn(8)|0,M=e[o>>2]|0,e[h>>2]=0,e[a>>2]=e[h>>2],MA(F,M,a),e[g>>2]=F,A=k,y|0}function MA(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,a=fn(16)|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=1092,e[a+12>>2]=o,e[r+4>>2]=a;return}function x5(r){r=r|0,Dg(r),Ut(r);return}function E5(r){r=r|0,r=e[r+12>>2]|0,r|0&&Ut(r);return}function w5(r){r=r|0,Ut(r);return}function A5(r,o,a,h,g,y,M){return r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,M=M|0,y=_5(e[r>>2]|0,o,a,h,g,y,M)|0,M=r+4|0,e[(e[M>>2]|0)+8>>2]=y,e[(e[M>>2]|0)+8>>2]|0}function _5(r,o,a,h,g,y,M){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,M=M|0;var F=0,k=0;return F=A,A=A+16|0,k=F,lc(k),r=xs(r)|0,M=M5(r,+T[o>>3],+T[a>>3],+T[h>>3],+T[g>>3],+T[y>>3],+T[M>>3])|0,uc(k),A=F,M|0}function M5(r,o,a,h,g,y,M){r=r|0,o=+o,a=+a,h=+h,g=+g,y=+y,M=+M;var F=0;return F=Ea(S5()|0)|0,o=+Ka(o),a=+Ka(a),h=+Ka(h),g=+Ka(g),y=+Ka(y),Jo(0,F|0,r|0,+o,+a,+h,+g,+y,+ +Ka(M))|0}function S5(){var r=0;return s[7624]|0||(T5(9172),r=7624,e[r>>2]=1,e[r+4>>2]=0),9172}function T5(r){r=r|0,Js(r,b5()|0,6);return}function b5(){return 1112}function op(r){r=r|0,Af(r);return}function sp(r){r=r|0,Yx(r+24|0),SA(r+16|0);return}function Yx(r){r=r|0,TA(r);return}function SA(r){r=r|0,C5(r);return}function C5(r){r=r|0;var o=0,a=0;if(o=e[r>>2]|0,o|0)do a=o,o=e[o>>2]|0,Ut(a);while((o|0)!=0);e[r>>2]=0;return}function TA(r){r=r|0;var o=0,a=0;if(o=e[r>>2]|0,o|0)do a=o,o=e[o>>2]|0,Ut(a);while((o|0)!=0);e[r>>2]=0;return}function Af(r){r=r|0;var o=0;e[r+16>>2]=0,e[r+20>>2]=0,o=r+24|0,e[o>>2]=0,e[r+28>>2]=o,e[r+36>>2]=0,s[r+40>>0]=0,s[r+41>>0]=0;return}function bA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],CA(r,a,g,0),A=h;return}function CA(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=T2()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=LA(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,ap(y,h)|0,h),A=g;return}function T2(){var r=0,o=0;if(s[7640]|0||(RA(9232),Qt(26,9232,O|0)|0,o=7640,e[o>>2]=1,e[o+4>>2]=0),!(hr(9232)|0)){r=9232,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));RA(9232)}return 9232}function LA(r){return r=r|0,0}function ap(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=T2()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],Ol(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Ul(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function Ol(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Ul(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=PA(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,L5(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],Ol(y,h,a),e[k>>2]=(e[k>>2]|0)+12,P5(r,F),R5(F),A=W;return}}function PA(r){return r=r|0,357913941}function L5(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function P5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function R5(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function RA(r){r=r|0,B5(r);return}function D5(r){r=r|0,F5(r+24|0);return}function F5(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function B5(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,1,o,N5()|0,3),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function N5(){return 1144}function I5(r,o,a,h,g){r=r|0,o=o|0,a=+a,h=+h,g=g|0;var y=0,M=0,F=0,k=0;y=A,A=A+16|0,M=y+8|0,F=y,k=O5(r)|0,r=e[k+4>>2]|0,e[F>>2]=e[k>>2],e[F+4>>2]=r,e[M>>2]=e[F>>2],e[M+4>>2]=e[F+4>>2],U5(o,M,a,h,g),A=y;return}function O5(r){return r=r|0,(e[(T2()|0)+24>>2]|0)+(r*12|0)|0}function U5(r,o,a,h,g){r=r|0,o=o|0,a=+a,h=+h,g=g|0;var y=0,M=0,F=0,k=0,W=0;W=A,A=A+16|0,M=W+2|0,F=W+1|0,k=W,y=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(y=e[(e[r>>2]|0)+y>>2]|0),Uc(M,a),a=+kc(M,a),Uc(F,h),h=+kc(F,h),_f(k,g),k=Mf(k,g)|0,eN[y&1](r,a,h,k),A=W;return}function Uc(r,o){r=r|0,o=+o;return}function kc(r,o){return r=r|0,o=+o,+ +G5(o)}function _f(r,o){r=r|0,o=o|0;return}function Mf(r,o){return r=r|0,o=o|0,k5(o)|0}function k5(r){return r=r|0,r|0}function G5(r){return r=+r,+r}function X5(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],H5(r,a,g,1),A=h;return}function H5(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=Vx()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=z5(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,Y5(y,h)|0,h),A=g;return}function Vx(){var r=0,o=0;if(s[7648]|0||(FA(9268),Qt(27,9268,O|0)|0,o=7648,e[o>>2]=1,e[o+4>>2]=0),!(hr(9268)|0)){r=9268,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));FA(9268)}return 9268}function z5(r){return r=r|0,0}function Y5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=Vx()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],DA(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(V5(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function DA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function V5(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=W5(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,j5(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],DA(y,h,a),e[k>>2]=(e[k>>2]|0)+12,Q5(r,F),q5(F),A=W;return}}function W5(r){return r=r|0,357913941}function j5(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function Q5(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function q5(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function FA(r){r=r|0,K5(r);return}function J5(r){r=r|0,Z5(r+24|0);return}function Z5(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function K5(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,4,o,BA()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function BA(){return 1160}function NA(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=Wx(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=IA(o,h)|0,A=a,o|0}function Wx(r){return r=r|0,(e[(Vx()|0)+24>>2]|0)+(r*12|0)|0}function IA(r,o){r=r|0,o=o|0;var a=0;return a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),OA(nv[a&31](r)|0)|0}function OA(r){return r=r|0,r&1|0}function C0(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],UA(r,a,g,0),A=h;return}function UA(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=jx()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=$5(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,kA(y,h)|0,h),A=g;return}function jx(){var r=0,o=0;if(s[7656]|0||(GA(9304),Qt(28,9304,O|0)|0,o=7656,e[o>>2]=1,e[o+4>>2]=0),!(hr(9304)|0)){r=9304,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));GA(9304)}return 9304}function $5(r){return r=r|0,0}function kA(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=jx()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],Qx(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(u1(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function Qx(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function u1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=eb(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,tb(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],Qx(y,h,a),e[k>>2]=(e[k>>2]|0)+12,nb(r,F),rb(F),A=W;return}}function eb(r){return r=r|0,357913941}function tb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function nb(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function rb(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function GA(r){r=r|0,HA(r);return}function c1(r){r=r|0,XA(r+24|0);return}function XA(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function HA(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,5,o,ib()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function ib(){return 1164}function qx(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=ob(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],sb(o,g,a),A=h;return}function ob(r){return r=r|0,(e[(jx()|0)+24>>2]|0)+(r*12|0)|0}function sb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),L0(g,a),a=Sf(g,a)|0,td[h&31](r,a),P0(g),A=y;return}function L0(r,o){r=r|0,o=o|0,zA(r,o);return}function Sf(r,o){return r=r|0,o=o|0,r|0}function P0(r){r=r|0,Ws(r);return}function zA(r,o){r=r|0,o=o|0,b2(r,o);return}function b2(r,o){r=r|0,o=o|0,e[r>>2]=o;return}function ab(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],lb(r,a,g,0),A=h;return}function lb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=Jx()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=ub(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,cb(y,h)|0,h),A=g;return}function Jx(){var r=0,o=0;if(s[7664]|0||(WA(9340),Qt(29,9340,O|0)|0,o=7664,e[o>>2]=1,e[o+4>>2]=0),!(hr(9340)|0)){r=9340,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));WA(9340)}return 9340}function ub(r){return r=r|0,0}function cb(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=Jx()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],YA(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(fb(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function YA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function fb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=hb(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,db(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],YA(y,h,a),e[k>>2]=(e[k>>2]|0)+12,VA(r,F),pb(F),A=W;return}}function hb(r){return r=r|0,357913941}function db(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function VA(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function pb(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function WA(r){r=r|0,gb(r);return}function mb(r){r=r|0,vb(r+24|0);return}function vb(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function gb(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,4,o,yb()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function yb(){return 1180}function jA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=xb(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],a=R0(o,g,a)|0,A=h,a|0}function xb(r){return r=r|0,(e[(Jx()|0)+24>>2]|0)+(r*12|0)|0}function R0(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;return y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),tl(g,a),g=kh(g,a)|0,g=C2(DL[h&15](r,g)|0)|0,A=y,g|0}function tl(r,o){r=r|0,o=o|0;return}function kh(r,o){return r=r|0,o=o|0,QA(o)|0}function C2(r){return r=r|0,r|0}function QA(r){return r=r|0,r|0}function Eb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],wb(r,a,g,0),A=h;return}function wb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=L2()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=P2(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,D0(y,h)|0,h),A=g;return}function L2(){var r=0,o=0;if(s[7672]|0||(Kx(9376),Qt(30,9376,O|0)|0,o=7672,e[o>>2]=1,e[o+4>>2]=0),!(hr(9376)|0)){r=9376,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));Kx(9376)}return 9376}function P2(r){return r=r|0,0}function D0(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=L2()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],lp(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(qA(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function lp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function qA(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Ab(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,_b(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],lp(y,h,a),e[k>>2]=(e[k>>2]|0)+12,f1(r,F),Zx(F),A=W;return}}function Ab(r){return r=r|0,357913941}function _b(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function f1(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Zx(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function Kx(r){r=r|0,kl(r);return}function JA(r){r=r|0,$x(r+24|0);return}function $x(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function kl(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,5,o,F0()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function F0(){return 1196}function B0(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=N0(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=up(o,h)|0,A=a,o|0}function N0(r){return r=r|0,(e[(L2()|0)+24>>2]|0)+(r*12|0)|0}function up(r,o){r=r|0,o=o|0;var a=0;return a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),C2(nv[a&31](r)|0)|0}function h1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],cp(r,a,g,1),A=h;return}function cp(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=I0()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=fp(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,d1(y,h)|0,h),A=g;return}function I0(){var r=0,o=0;if(s[7680]|0||(n3(9412),Qt(31,9412,O|0)|0,o=7680,e[o>>2]=1,e[o+4>>2]=0),!(hr(9412)|0)){r=9412,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));n3(9412)}return 9412}function fp(r){return r=r|0,0}function d1(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=I0()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],e3(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(R2(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function e3(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function R2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=p1(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,D2(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],e3(y,h,a),e[k>>2]=(e[k>>2]|0)+12,ZA(r,F),t3(F),A=W;return}}function p1(r){return r=r|0,357913941}function D2(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function ZA(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function t3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function n3(r){r=r|0,B2(r);return}function m1(r){r=r|0,F2(r+24|0);return}function F2(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function B2(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,6,o,r3()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function r3(){return 1200}function v1(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=g1(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=y1(o,h)|0,A=a,o|0}function g1(r){return r=r|0,(e[(I0()|0)+24>>2]|0)+(r*12|0)|0}function y1(r,o){r=r|0,o=o|0;var a=0;return a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),x1(nv[a&31](r)|0)|0}function x1(r){return r=r|0,r|0}function Mb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],E1(r,a,g,0),A=h;return}function E1(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=N2()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=KA(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,I2(y,h)|0,h),A=g;return}function N2(){var r=0,o=0;if(s[7688]|0||(w1(9448),Qt(32,9448,O|0)|0,o=7688,e[o>>2]=1,e[o+4>>2]=0),!(hr(9448)|0)){r=9448,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));w1(9448)}return 9448}function KA(r){return r=r|0,0}function I2(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=N2()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],hp(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(O2(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function hp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function O2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=uo(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,$A(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],hp(y,h,a),e[k>>2]=(e[k>>2]|0)+12,e_(r,F),t_(F),A=W;return}}function uo(r){return r=r|0,357913941}function $A(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function e_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function t_(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function w1(r){r=r|0,k2(r);return}function U2(r){r=r|0,pu(r+24|0);return}function pu(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function k2(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,6,o,A1()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function A1(){return 1204}function wa(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=G2(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],$u(o,g,a),A=h;return}function G2(r){return r=r|0,(e[(N2()|0)+24>>2]|0)+(r*12|0)|0}function $u(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),X2(g,a),g=_1(g,a)|0,td[h&31](r,g),A=y;return}function X2(r,o){r=r|0,o=o|0;return}function _1(r,o){return r=r|0,o=o|0,H2(o)|0}function H2(r){return r=r|0,r|0}function z2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],dp(r,a,g,0),A=h;return}function dp(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=M1()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=i3(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,pp(y,h)|0,h),A=g;return}function M1(){var r=0,o=0;if(s[7696]|0||(Pi(9484),Qt(33,9484,O|0)|0,o=7696,e[o>>2]=1,e[o+4>>2]=0),!(hr(9484)|0)){r=9484,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));Pi(9484)}return 9484}function i3(r){return r=r|0,0}function pp(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=M1()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],mp(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(S1(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function mp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function S1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Sb(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Gc(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],mp(y,h,a),e[k>>2]=(e[k>>2]|0)+12,o3(r,F),Y2(F),A=W;return}}function Sb(r){return r=r|0,357913941}function Gc(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function o3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Y2(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function Pi(r){r=r|0,n_(r);return}function s3(r){r=r|0,a3(r+24|0);return}function a3(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function n_(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,1,o,T1()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function T1(){return 1212}function l3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+16|0,y=g+8|0,M=g,F=r_(r)|0,r=e[F+4>>2]|0,e[M>>2]=e[F>>2],e[M+4>>2]=r,e[y>>2]=e[M>>2],e[y+4>>2]=e[M+4>>2],i_(o,y,a,h),A=g;return}function r_(r){return r=r|0,(e[(M1()|0)+24>>2]|0)+(r*12|0)|0}function i_(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;F=A,A=A+16|0,y=F+1|0,M=F,g=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(g=e[(e[r>>2]|0)+g>>2]|0),X2(y,a),y=_1(y,a)|0,tl(M,h),M=kh(M,h)|0,gE[g&15](r,y,M),A=F;return}function Gh(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],u3(r,a,g,1),A=h;return}function u3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=V2()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=W2(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,j2(y,h)|0,h),A=g;return}function V2(){var r=0,o=0;if(s[7704]|0||(gp(9520),Qt(34,9520,O|0)|0,o=7704,e[o>>2]=1,e[o+4>>2]=0),!(hr(9520)|0)){r=9520,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));gp(9520)}return 9520}function W2(r){return r=r|0,0}function j2(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=V2()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],Q2(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(vp(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function Q2(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function vp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=c3(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Tb(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],Q2(y,h,a),e[k>>2]=(e[k>>2]|0)+12,o_(r,F),O0(F),A=W;return}}function c3(r){return r=r|0,357913941}function Tb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function o_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function O0(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function gp(r){r=r|0,Lb(r);return}function bb(r){r=r|0,Cb(r+24|0);return}function Cb(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function Lb(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,1,o,Pb()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Pb(){return 1224}function Rb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;return g=A,A=A+16|0,y=g+8|0,M=g,F=Db(r)|0,r=e[F+4>>2]|0,e[M>>2]=e[F>>2],e[M+4>>2]=r,e[y>>2]=e[M>>2],e[y+4>>2]=e[M+4>>2],h=+Fb(o,y,a),A=g,+h}function Db(r){return r=r|0,(e[(V2()|0)+24>>2]|0)+(r*12|0)|0}function Fb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),_f(g,a),g=Mf(g,a)|0,M=+Oc(+nN[h&7](r,g)),A=y,+M}function Bb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Nb(r,a,g,1),A=h;return}function Nb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=f3()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=Ib(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,h3(y,h)|0,h),A=g;return}function f3(){var r=0,o=0;if(s[7712]|0||(b1(9556),Qt(35,9556,O|0)|0,o=7712,e[o>>2]=1,e[o+4>>2]=0),!(hr(9556)|0)){r=9556,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));b1(9556)}return 9556}function Ib(r){return r=r|0,0}function h3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=f3()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],s_(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(yp(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function s_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function yp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Ob(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Ao(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],s_(y,h,a),e[k>>2]=(e[k>>2]|0)+12,q2(r,F),a_(F),A=W;return}}function Ob(r){return r=r|0,357913941}function Ao(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function q2(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function a_(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function b1(r){r=r|0,C1(r);return}function J2(r){r=r|0,Ub(r+24|0);return}function Ub(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function C1(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,5,o,kb()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function kb(){return 1232}function l_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=u_(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],a=+L1(o,g),A=h,+a}function u_(r){return r=r|0,(e[(f3()|0)+24>>2]|0)+(r*12|0)|0}function L1(r,o){r=r|0,o=o|0;var a=0;return a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),+ +Oc(+tN[a&15](r))}function d3(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Gb(r,a,g,1),A=h;return}function Gb(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=ec()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=c_(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,f_(y,h)|0,h),A=g;return}function ec(){var r=0,o=0;if(s[7720]|0||(v3(9592),Qt(36,9592,O|0)|0,o=7720,e[o>>2]=1,e[o+4>>2]=0),!(hr(9592)|0)){r=9592,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));v3(9592)}return 9592}function c_(r){return r=r|0,0}function f_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=ec()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],xp(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Xb(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function xp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Xb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Hb(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,p3(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],xp(y,h,a),e[k>>2]=(e[k>>2]|0)+12,zb(r,F),m3(F),A=W;return}}function Hb(r){return r=r|0,357913941}function p3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function zb(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function m3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function v3(r){r=r|0,Z2(r);return}function g3(r){r=r|0,h_(r+24|0);return}function h_(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function Z2(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,7,o,d_()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function d_(){return 1276}function Ep(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=P1(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=p_(o,h)|0,A=a,o|0}function P1(r){return r=r|0,(e[(ec()|0)+24>>2]|0)+(r*12|0)|0}function p_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;return g=A,A=A+16|0,h=g,a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),td[a&31](h,r),h=y3(h)|0,A=g,h|0}function y3(r){r=r|0;var o=0,a=0,h=0,g=0;return g=A,A=A+32|0,o=g+12|0,a=g,h=on(K2()|0)|0,h?(Il(o,h),Hx(a,o),m_(r,a),r=zx(o)|0):r=x3(r)|0,A=g,r|0}function K2(){var r=0;return s[7736]|0||(x_(9640),Qt(25,9640,O|0)|0,r=7736,e[r>>2]=1,e[r+4>>2]=0),9640}function m_(r,o){r=r|0,o=o|0,v_(o,r,r+8|0)|0;return}function x3(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0;return a=A,A=A+16|0,g=a+4|0,M=a,h=ac(8)|0,o=h,F=fn(16)|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2],e[F+12>>2]=e[r+12>>2],y=o+4|0,e[y>>2]=F,r=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],E3(r,y,g),e[h>>2]=r,A=a,o|0}function E3(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,a=fn(16)|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=1244,e[a+12>>2]=o,e[r+4>>2]=a;return}function w3(r){r=r|0,Dg(r),Ut(r);return}function Yb(r){r=r|0,r=e[r+12>>2]|0,r|0&&Ut(r);return}function $2(r){r=r|0,Ut(r);return}function v_(r,o,a){return r=r|0,o=o|0,a=a|0,o=A3(e[r>>2]|0,o,a)|0,a=r+4|0,e[(e[a>>2]|0)+8>>2]=o,e[(e[a>>2]|0)+8>>2]|0}function A3(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;return h=A,A=A+16|0,g=h,lc(g),r=xs(r)|0,a=g_(r,e[o>>2]|0,+T[a>>3])|0,uc(g),A=h,a|0}function g_(r,o,a){r=r|0,o=o|0,a=+a;var h=0;return h=Ea(_3()|0)|0,o=rp(o)|0,yo(0,h|0,r|0,o|0,+ +Ka(a))|0}function _3(){var r=0;return s[7728]|0||(y_(9628),r=7728,e[r>>2]=1,e[r+4>>2]=0),9628}function y_(r){r=r|0,Js(r,M3()|0,2);return}function M3(){return 1264}function x_(r){r=r|0,Af(r);return}function S3(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],E_(r,a,g,1),A=h;return}function E_(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=R1()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=w_(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,T3(y,h)|0,h),A=g;return}function R1(){var r=0,o=0;if(s[7744]|0||(G0(9684),Qt(37,9684,O|0)|0,o=7744,e[o>>2]=1,e[o+4>>2]=0),!(hr(9684)|0)){r=9684,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));G0(9684)}return 9684}function w_(r){return r=r|0,0}function T3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=R1()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],Zs(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Xh(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function Zs(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Xh(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Tf(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Xc(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],Zs(y,h,a),e[k>>2]=(e[k>>2]|0)+12,U0(r,F),k0(F),A=W;return}}function Tf(r){return r=r|0,357913941}function Xc(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function U0(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function k0(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function G0(r){r=r|0,Yh(r);return}function Hh(r){r=r|0,zh(r+24|0);return}function zh(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function Yh(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,5,o,Vh()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Vh(){return 1280}function Vb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=io(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],a=Gl(o,g,a)|0,A=h,a|0}function io(r){return r=r|0,(e[(R1()|0)+24>>2]|0)+(r*12|0)|0}function Gl(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return M=A,A=A+32|0,g=M,y=M+16|0,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),_f(y,a),y=Mf(y,a)|0,gE[h&15](g,r,y),y=y3(g)|0,A=M,y|0}function eg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],D1(r,a,g,1),A=h;return}function D1(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=wp()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=Ds(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,tg(y,h)|0,h),A=g;return}function wp(){var r=0,o=0;if(s[7752]|0||(nl(9720),Qt(38,9720,O|0)|0,o=7752,e[o>>2]=1,e[o+4>>2]=0),!(hr(9720)|0)){r=9720,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));nl(9720)}return 9720}function Ds(r){return r=r|0,0}function tg(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=wp()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],F1(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Ap(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function F1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Ap(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=ng(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,B1(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],F1(y,h,a),e[k>>2]=(e[k>>2]|0)+12,rg(r,F),_p(F),A=W;return}}function ng(r){return r=r|0,357913941}function B1(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function rg(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function _p(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function nl(r){r=r|0,Wh(r);return}function Wb(r){r=r|0,jb(r+24|0);return}function jb(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function Wh(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,8,o,b3()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function b3(){return 1288}function A_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;return a=A,A=A+16|0,h=a+8|0,g=a,y=Ri(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],o=tc(o,h)|0,A=a,o|0}function Ri(r){return r=r|0,(e[(wp()|0)+24>>2]|0)+(r*12|0)|0}function tc(r,o){r=r|0,o=o|0;var a=0;return a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),Oh(nv[a&31](r)|0)|0}function mu(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],C3(r,a,g,0),A=h;return}function C3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=N1()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=Mp(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,ig(y,h)|0,h),A=g;return}function N1(){var r=0,o=0;if(s[7760]|0||(O1(9756),Qt(39,9756,O|0)|0,o=7760,e[o>>2]=1,e[o+4>>2]=0),!(hr(9756)|0)){r=9756,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));O1(9756)}return 9756}function Mp(r){return r=r|0,0}function ig(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=N1()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],I1(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(og(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function I1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function og(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=Gn(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Xl(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],I1(y,h,a),e[k>>2]=(e[k>>2]|0)+12,Sp(r,F),L3(F),A=W;return}}function Gn(r){return r=r|0,357913941}function Xl(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function Sp(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function L3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function O1(r){r=r|0,D3(r);return}function P3(r){r=r|0,R3(r+24|0);return}function R3(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function D3(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,8,o,Ks()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Ks(){return 1292}function __(r,o,a){r=r|0,o=o|0,a=+a;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=Qb(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],qb(o,g,a),A=h;return}function Qb(r){return r=r|0,(e[(N1()|0)+24>>2]|0)+(r*12|0)|0}function qb(r,o,a){r=r|0,o=o|0,a=+a;var h=0,g=0,y=0;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),Uc(g,a),a=+kc(g,a),KB[h&31](r,a),A=y;return}function Jb(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],U1(r,a,g,0),A=h;return}function U1(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=F3()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=Zb(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,Kb(y,h)|0,h),A=g;return}function F3(){var r=0,o=0;if(s[7768]|0||(vu(9792),Qt(40,9792,O|0)|0,o=7768,e[o>>2]=1,e[o+4>>2]=0),!(hr(9792)|0)){r=9792,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));vu(9792)}return 9792}function Zb(r){return r=r|0,0}function Kb(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=F3()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],M_(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(k1(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function M_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function k1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=nc(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,Hc(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],M_(y,h,a),e[k>>2]=(e[k>>2]|0)+12,rl(r,F),rc(F),A=W;return}}function nc(r){return r=r|0,357913941}function Hc(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function rl(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function rc(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function vu(r){r=r|0,B3(r);return}function zc(r){r=r|0,ic(r+24|0);return}function ic(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function B3(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,1,o,bf()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function bf(){return 1300}function oc(r,o,a,h){r=r|0,o=o|0,a=a|0,h=+h;var g=0,y=0,M=0,F=0;g=A,A=A+16|0,y=g+8|0,M=g,F=X0(r)|0,r=e[F+4>>2]|0,e[M>>2]=e[F>>2],e[M+4>>2]=r,e[y>>2]=e[M>>2],e[y+4>>2]=e[M+4>>2],Ji(o,y,a,h),A=g;return}function X0(r){return r=r|0,(e[(F3()|0)+24>>2]|0)+(r*12|0)|0}function Ji(r,o,a,h){r=r|0,o=o|0,a=a|0,h=+h;var g=0,y=0,M=0,F=0;F=A,A=A+16|0,y=F+1|0,M=F,g=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(g=e[(e[r>>2]|0)+g>>2]|0),_f(y,a),y=Mf(y,a)|0,Uc(M,h),h=+kc(M,h),sN[g&15](r,y,h),A=F;return}function sg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],Cf(r,a,g,0),A=h;return}function Cf(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=G1()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=ag(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,N3(y,h)|0,h),A=g;return}function G1(){var r=0,o=0;if(s[7776]|0||(O3(9828),Qt(41,9828,O|0)|0,o=7776,e[o>>2]=1,e[o+4>>2]=0),!(hr(9828)|0)){r=9828,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));O3(9828)}return 9828}function ag(r){return r=r|0,0}function N3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=G1()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],X1(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Tp(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function X1(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Tp(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=I3(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,lg(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],X1(y,h,a),e[k>>2]=(e[k>>2]|0)+12,ug(r,F),cg(F),A=W;return}}function I3(r){return r=r|0,357913941}function lg(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function ug(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function cg(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function O3(r){r=r|0,U3(r);return}function gu(r){r=r|0,fg(r+24|0);return}function fg(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function U3(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,7,o,H1()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function H1(){return 1312}function hg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=dg(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],$b(o,g,a),A=h;return}function dg(r){return r=r|0,(e[(G1()|0)+24>>2]|0)+(r*12|0)|0}function $b(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),_f(g,a),g=Mf(g,a)|0,td[h&31](r,g),A=y;return}function eC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],S_(r,a,g,0),A=h;return}function S_(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=pg()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=k3(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,G3(y,h)|0,h),A=g;return}function pg(){var r=0,o=0;if(s[7784]|0||(z1(9864),Qt(42,9864,O|0)|0,o=7784,e[o>>2]=1,e[o+4>>2]=0),!(hr(9864)|0)){r=9864,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));z1(9864)}return 9864}function k3(r){return r=r|0,0}function G3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=pg()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],mg(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(tC(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function mg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function tC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=nC(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,X3(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],mg(y,h,a),e[k>>2]=(e[k>>2]|0)+12,vg(r,F),H3(F),A=W;return}}function nC(r){return r=r|0,357913941}function X3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function vg(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function H3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function z1(r){r=r|0,T_(r);return}function z3(r){r=r|0,Y3(r+24|0);return}function Y3(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function T_(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,8,o,b_()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function b_(){return 1320}function C_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=L_(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],P_(o,g,a),A=h;return}function L_(r){return r=r|0,(e[(pg()|0)+24>>2]|0)+(r*12|0)|0}function P_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),jh(g,a),g=R_(g,a)|0,td[h&31](r,g),A=y;return}function jh(r,o){r=r|0,o=o|0;return}function R_(r,o){return r=r|0,o=o|0,rC(o)|0}function rC(r){return r=r|0,r|0}function Qh(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],iC(r,a,g,0),A=h;return}function iC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=Y1()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=qh(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,D_(y,h)|0,h),A=g;return}function Y1(){var r=0,o=0;if(s[7792]|0||(N_(9900),Qt(43,9900,O|0)|0,o=7792,e[o>>2]=1,e[o+4>>2]=0),!(hr(9900)|0)){r=9900,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));N_(9900)}return 9900}function qh(r){return r=r|0,0}function D_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=Y1()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],F_(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(Jh(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function F_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function Jh(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=oC(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,B_(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],F_(y,h,a),e[k>>2]=(e[k>>2]|0)+12,V3(r,F),W3(F),A=W;return}}function oC(r){return r=r|0,357913941}function B_(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function V3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function W3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function N_(r){r=r|0,aC(r);return}function j3(r){r=r|0,sC(r+24|0);return}function sC(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function aC(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,22,o,lC()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function lC(){return 1344}function uC(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0;a=A,A=A+16|0,h=a+8|0,g=a,y=cC(r)|0,r=e[y+4>>2]|0,e[g>>2]=e[y>>2],e[g+4>>2]=r,e[h>>2]=e[g>>2],e[h+4>>2]=e[g+4>>2],fC(o,h),A=a;return}function cC(r){return r=r|0,(e[(Y1()|0)+24>>2]|0)+(r*12|0)|0}function fC(r,o){r=r|0,o=o|0;var a=0;a=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(a=e[(e[r>>2]|0)+a>>2]|0),ed[a&127](r);return}function hC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=gg()|0,r=$s(a)|0,li(y,o,g,r,I_(a,h)|0,h);return}function gg(){var r=0,o=0;if(s[7800]|0||(K3(9936),Qt(44,9936,O|0)|0,o=7800,e[o>>2]=1,e[o+4>>2]=0),!(hr(9936)|0)){r=9936,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));K3(9936)}return 9936}function $s(r){return r=r|0,r|0}function I_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=gg()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(O_(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Q3(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function O_(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Q3(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=U_(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,q3(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,O_(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,J3(r,g),Z3(g),A=F;return}}function U_(r){return r=r|0,536870911}function q3(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function J3(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Z3(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function K3(r){r=r|0,pC(r);return}function $3(r){r=r|0,dC(r+24|0);return}function dC(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function pC(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,23,o,A1()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function k_(r,o){r=r|0,o=o|0,X_(e[(G_(r)|0)>>2]|0,o);return}function G_(r){return r=r|0,(e[(gg()|0)+24>>2]|0)+(r<<3)|0}function X_(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,X2(h,o),o=_1(h,o)|0,ed[r&127](o),A=a;return}function yg(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=xg()|0,r=V1(a)|0,li(y,o,g,r,H_(a,h)|0,h);return}function xg(){var r=0,o=0;if(s[7808]|0||(W_(9972),Qt(45,9972,O|0)|0,o=7808,e[o>>2]=1,e[o+4>>2]=0),!(hr(9972)|0)){r=9972,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));W_(9972)}return 9972}function V1(r){return r=r|0,r|0}function H_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=xg()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(z_(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(H0(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function z_(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function H0(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=Eg(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,eE(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,z_(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,Y_(r,g),V_(g),A=F;return}}function Eg(r){return r=r|0,536870911}function eE(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function Y_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function V_(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function W_(r){r=r|0,Q_(r);return}function mC(r){r=r|0,j_(r+24|0);return}function j_(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function Q_(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,9,o,vC()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function vC(){return 1348}function q_(r,o){return r=r|0,o=o|0,J_(e[(gC(r)|0)>>2]|0,o)|0}function gC(r){return r=r|0,(e[(xg()|0)+24>>2]|0)+(r<<3)|0}function J_(r,o){r=r|0,o=o|0;var a=0,h=0;return a=A,A=A+16|0,h=a,W1(h,o),o=tE(h,o)|0,o=C2(nv[r&31](o)|0)|0,A=a,o|0}function W1(r,o){r=r|0,o=o|0;return}function tE(r,o){return r=r|0,o=o|0,yC(o)|0}function yC(r){return r=r|0,r|0}function wg(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=co()|0,r=xC(a)|0,li(y,o,g,r,Ho(a,h)|0,h);return}function co(){var r=0,o=0;if(s[7816]|0||(_g(10008),Qt(46,10008,O|0)|0,o=7816,e[o>>2]=1,e[o+4>>2]=0),!(hr(10008)|0)){r=10008,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));_g(10008)}return 10008}function xC(r){return r=r|0,r|0}function Ho(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=co()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(j1(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Z_(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function j1(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Z_(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=EC(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,wC(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,j1(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,K_(r,g),Ag(g),A=F;return}}function EC(r){return r=r|0,536870911}function wC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function K_(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Ag(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function _g(r){r=r|0,eM(r);return}function AC(r){r=r|0,$_(r+24|0);return}function $_(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function eM(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,15,o,F0()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function _C(r){return r=r|0,Lf(e[(MC(r)|0)>>2]|0)|0}function MC(r){return r=r|0,(e[(co()|0)+24>>2]|0)+(r<<3)|0}function Lf(r){return r=r|0,C2(LM[r&7]()|0)|0}function bp(){var r=0;return s[7832]|0||(rM(10052),Qt(25,10052,O|0)|0,r=7832,e[r>>2]=1,e[r+4>>2]=0),10052}function z0(r,o){r=r|0,o=o|0,e[r>>2]=Yc()|0,e[r+4>>2]=tM()|0,e[r+12>>2]=o,e[r+8>>2]=nM()|0,e[r+32>>2]=2;return}function Yc(){return 11709}function tM(){return 1188}function nM(){return Lp()|0}function Cp(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(nE(a),Ut(a)):o|0&&(Dh(o),Ut(o));return}function Fs(r,o){return r=r|0,o=o|0,o&r|0}function nE(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function Lp(){var r=0;return s[7824]|0||(e[2511]=Q1()|0,e[2512]=0,r=7824,e[r>>2]=1,e[r+4>>2]=0),10044}function Q1(){return 0}function rM(r){r=r|0,Af(r);return}function Mg(r){r=r|0;var o=0,a=0,h=0,g=0,y=0;o=A,A=A+32|0,a=o+24|0,y=o+16|0,g=o+8|0,h=o,rE(r,4827),Zh(r,4834,3)|0,Pp(r,3682,47)|0,e[y>>2]=9,e[y+4>>2]=0,e[a>>2]=e[y>>2],e[a+4>>2]=e[y+4>>2],iM(r,4841,a)|0,e[g>>2]=1,e[g+4>>2]=0,e[a>>2]=e[g>>2],e[a+4>>2]=e[g+4>>2],SC(r,4871,a)|0,e[h>>2]=10,e[h+4>>2]=0,e[a>>2]=e[h>>2],e[a+4>>2]=e[h+4>>2],TC(r,4891,a)|0,A=o;return}function rE(r,o){r=r|0,o=o|0;var a=0;a=es()|0,e[r>>2]=a,zo(a,o),Fp(e[r>>2]|0);return}function Zh(r,o,a){return r=r|0,o=o|0,a=a|0,vt(r,ai(o)|0,a,0),r|0}function Pp(r,o,a){return r=r|0,o=o|0,a=a|0,te(r,ai(o)|0,a,0),r|0}function iM(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],tL(r,o,g),A=h,r|0}function SC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],kC(r,o,g),A=h,r|0}function TC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=e[a+4>>2]|0,e[y>>2]=e[a>>2],e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],bC(r,o,g),A=h,r|0}function bC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],oM(r,a,g,1),A=h;return}function oM(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=Rp()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=CC(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,sM(y,h)|0,h),A=g;return}function Rp(){var r=0,o=0;if(s[7840]|0||(aM(10100),Qt(48,10100,O|0)|0,o=7840,e[o>>2]=1,e[o+4>>2]=0),!(hr(10100)|0)){r=10100,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));aM(10100)}return 10100}function CC(r){return r=r|0,0}function sM(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=Rp()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],iE(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(oE(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function iE(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function oE(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=sE(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,LC(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],iE(y,h,a),e[k>>2]=(e[k>>2]|0)+12,PC(r,F),RC(F),A=W;return}}function sE(r){return r=r|0,357913941}function LC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function PC(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function RC(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function aM(r){r=r|0,BC(r);return}function DC(r){r=r|0,FC(r+24|0);return}function FC(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function BC(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,6,o,NC()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function NC(){return 1364}function IC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;return h=A,A=A+16|0,g=h+8|0,y=h,M=OC(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],a=UC(o,g,a)|0,A=h,a|0}function OC(r){return r=r|0,(e[(Rp()|0)+24>>2]|0)+(r*12|0)|0}function UC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;return y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),_f(g,a),g=Mf(g,a)|0,g=OA(DL[h&15](r,g)|0)|0,A=y,g|0}function kC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],GC(r,a,g,0),A=h;return}function GC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=aE()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=XC(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,HC(y,h)|0,h),A=g;return}function aE(){var r=0,o=0;if(s[7848]|0||(uM(10136),Qt(49,10136,O|0)|0,o=7848,e[o>>2]=1,e[o+4>>2]=0),!(hr(10136)|0)){r=10136,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));uM(10136)}return 10136}function XC(r){return r=r|0,0}function HC(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=aE()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],lM(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(zC(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function lM(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function zC(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=YC(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,VC(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],lM(y,h,a),e[k>>2]=(e[k>>2]|0)+12,WC(r,F),jC(F),A=W;return}}function YC(r){return r=r|0,357913941}function VC(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function WC(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function jC(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function uM(r){r=r|0,cM(r);return}function QC(r){r=r|0,qC(r+24|0);return}function qC(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function cM(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,9,o,fM()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function fM(){return 1372}function lE(r,o,a){r=r|0,o=o|0,a=+a;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,g=h+8|0,y=h,M=JC(r)|0,r=e[M+4>>2]|0,e[y>>2]=e[M>>2],e[y+4>>2]=r,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],ZC(o,g,a),A=h;return}function JC(r){return r=r|0,(e[(aE()|0)+24>>2]|0)+(r*12|0)|0}function ZC(r,o,a){r=r|0,o=o|0,a=+a;var h=0,g=0,y=0,M=jt;y=A,A=A+16|0,g=y,h=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(h=e[(e[r>>2]|0)+h>>2]|0),KC(g,a),M=P($C(g,a)),ZB[h&1](r,M),A=y;return}function KC(r,o){r=r|0,o=+o;return}function $C(r,o){return r=r|0,o=+o,P(eL(o))}function eL(r){return r=+r,P(r)}function tL(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,g=h+8|0,y=h,F=e[a>>2]|0,M=e[a+4>>2]|0,a=ai(o)|0,e[y>>2]=F,e[y+4>>2]=M,e[g>>2]=e[y>>2],e[g+4>>2]=e[y+4>>2],nL(r,a,g,0),A=h;return}function nL(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0,k=0,W=0,V=0;g=A,A=A+32|0,y=g+16|0,V=g+8|0,F=g,W=e[a>>2]|0,k=e[a+4>>2]|0,M=e[r>>2]|0,r=uE()|0,e[V>>2]=W,e[V+4>>2]=k,e[y>>2]=e[V>>2],e[y+4>>2]=e[V+4>>2],a=rL(y)|0,e[F>>2]=W,e[F+4>>2]=k,e[y>>2]=e[F>>2],e[y+4>>2]=e[F+4>>2],li(M,o,r,a,iL(y,h)|0,h),A=g;return}function uE(){var r=0,o=0;if(s[7856]|0||(f(10172),Qt(50,10172,O|0)|0,o=7856,e[o>>2]=1,e[o+4>>2]=0),!(hr(10172)|0)){r=10172,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));f(10172)}return 10172}function rL(r){return r=r|0,0}function iL(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0;return V=A,A=A+32|0,g=V+24|0,M=V+16|0,F=V,k=V+8|0,y=e[r>>2]|0,h=e[r+4>>2]|0,e[F>>2]=y,e[F+4>>2]=h,Z=uE()|0,W=Z+24|0,r=Fn(o,4)|0,e[k>>2]=r,o=Z+28|0,a=e[o>>2]|0,a>>>0<(e[Z+32>>2]|0)>>>0?(e[M>>2]=y,e[M+4>>2]=h,e[g>>2]=e[M>>2],e[g+4>>2]=e[M+4>>2],hM(a,g,r),r=(e[o>>2]|0)+12|0,e[o>>2]=r):(oL(W,F,k),r=e[o>>2]|0),A=V,((r-(e[W>>2]|0)|0)/12|0)+-1|0}function hM(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=e[o+4>>2]|0,e[r>>2]=e[o>>2],e[r+4>>2]=h,e[r+8>>2]=a;return}function oL(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;if(W=A,A=A+48|0,h=W+32|0,M=W+24|0,F=W,k=r+4|0,g=(((e[k>>2]|0)-(e[r>>2]|0)|0)/12|0)+1|0,y=m(r)|0,y>>>0<g>>>0)Yr(r);else{V=e[r>>2]|0,ye=((e[r+8>>2]|0)-V|0)/12|0,Z=ye<<1,u(F,ye>>>0<y>>>1>>>0?Z>>>0<g>>>0?g:Z:y,((e[k>>2]|0)-V|0)/12|0,r+8|0),k=F+8|0,y=e[k>>2]|0,g=e[o+4>>2]|0,a=e[a>>2]|0,e[M>>2]=e[o>>2],e[M+4>>2]=g,e[h>>2]=e[M>>2],e[h+4>>2]=e[M+4>>2],hM(y,h,a),e[k>>2]=(e[k>>2]|0)+12,d(r,F),c(F),A=W;return}}function m(r){return r=r|0,357913941}function u(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>357913941)kn();else{g=fn(o*12|0)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a*12|0)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o*12|0);return}function d(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(((g|0)/-12|0)*12|0)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function c(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~(((h+-12-o|0)>>>0)/12|0)*12|0)),r=e[r>>2]|0,r|0&&Ut(r);return}function f(r){r=r|0,L(r);return}function x(r){r=r|0,_(r+24|0);return}function _(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~(((o+-12-h|0)>>>0)/12|0)*12|0)),Ut(a));return}function L(r){r=r|0;var o=0;o=Fr()|0,Br(r,2,3,o,D()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function D(){return 1380}function N(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+16|0,y=g+8|0,M=g,F=Y(r)|0,r=e[F+4>>2]|0,e[M>>2]=e[F>>2],e[M+4>>2]=r,e[y>>2]=e[M>>2],e[y+4>>2]=e[M+4>>2],z(o,y,a,h),A=g;return}function Y(r){return r=r|0,(e[(uE()|0)+24>>2]|0)+(r*12|0)|0}function z(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;F=A,A=A+16|0,y=F+1|0,M=F,g=e[o>>2]|0,o=e[o+4>>2]|0,r=r+(o>>1)|0,o&1&&(g=e[(e[r>>2]|0)+g>>2]|0),_f(y,a),y=Mf(y,a)|0,X(M,h),M=j(M,h)|0,gE[g&15](r,y,M),A=F;return}function X(r,o){r=r|0,o=o|0;return}function j(r,o){return r=r|0,o=o|0,q(o)|0}function q(r){return r=r|0,(r|0)!=0|0}function te(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=ae()|0,r=ne(a)|0,li(y,o,g,r,Q(a,h)|0,h);return}function ae(){var r=0,o=0;if(s[7864]|0||(He(10208),Qt(51,10208,O|0)|0,o=7864,e[o>>2]=1,e[o+4>>2]=0),!(hr(10208)|0)){r=10208,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));He(10208)}return 10208}function ne(r){return r=r|0,r|0}function Q(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=ae()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(xe(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Te(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function xe(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Te(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=de(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,le(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,xe(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,Ae(r,g),je(g),A=F;return}}function de(r){return r=r|0,536870911}function le(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function Ae(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function je(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function He(r){r=r|0,Be(r);return}function ut(r){r=r|0,qe(r+24|0);return}function qe(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function Be(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,24,o,rt()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function rt(){return 1392}function st(r,o){r=r|0,o=o|0,ft(e[(Je(r)|0)>>2]|0,o);return}function Je(r){return r=r|0,(e[(ae()|0)+24>>2]|0)+(r<<3)|0}function ft(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,W1(h,o),o=tE(h,o)|0,ed[r&127](o),A=a;return}function vt(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=Vt()|0,r=Gt(a)|0,li(y,o,g,r,Yt(a,h)|0,h);return}function Vt(){var r=0,o=0;if(s[7872]|0||(er(10244),Qt(52,10244,O|0)|0,o=7872,e[o>>2]=1,e[o+4>>2]=0),!(hr(10244)|0)){r=10244,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));er(10244)}return 10244}function Gt(r){return r=r|0,r|0}function Yt(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=Vt()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(Dt(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Zt(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function Dt(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Zt(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=un(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,Yn(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,Dt(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,Ot(r,g),Er(g),A=F;return}}function un(r){return r=r|0,536870911}function Yn(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function Ot(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Er(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function er(r){r=r|0,br(r);return}function dr(r){r=r|0,gn(r+24|0);return}function gn(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function br(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,16,o,pr()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function pr(){return 1400}function wi(r){return r=r|0,Xi(e[(Hr(r)|0)>>2]|0)|0}function Hr(r){return r=r|0,(e[(Vt()|0)+24>>2]|0)+(r<<3)|0}function Xi(r){return r=r|0,fo(LM[r&7]()|0)|0}function fo(r){return r=r|0,r|0}function es(){var r=0;return s[7880]|0||(tr(10280),Qt(25,10280,O|0)|0,r=7880,e[r>>2]=1,e[r+4>>2]=0),10280}function zo(r,o){r=r|0,o=o|0,e[r>>2]=Hi()|0,e[r+4>>2]=$e()|0,e[r+12>>2]=o,e[r+8>>2]=We()|0,e[r+32>>2]=4;return}function Hi(){return 11711}function $e(){return 1356}function We(){return Lp()|0}function yn(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&($t(a),Ut(a)):o|0&&(Rh(o),Ut(o));return}function $t(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function tr(r){r=r|0,Af(r);return}function dt(r){r=r|0,Mn(r,4920),wn(r)|0,Xn(r)|0;return}function Mn(r,o){r=r|0,o=o|0;var a=0;a=K2()|0,e[r>>2]=a,cn(a,o),Fp(e[r>>2]|0);return}function wn(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,Vc()|0),r|0}function Xn(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,An()|0),r|0}function An(){var r=0;return s[7888]|0||(mr(10328),Qt(53,10328,O|0)|0,r=7888,e[r>>2]=1,e[r+4>>2]=0),hr(10328)|0||mr(10328),10328}function Jt(r,o){r=r|0,o=o|0,li(r,0,o,0,0,0);return}function mr(r){r=r|0,Ii(r),zr(r,10);return}function kr(r){r=r|0,_o(r+24|0);return}function _o(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function Ii(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,1,o,Y0()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function ui(r,o,a){r=r|0,o=o|0,a=+a,Yo(r,o,a);return}function zr(r,o){r=r|0,o=o|0,e[r+20>>2]=o;return}function Yo(r,o,a){r=r|0,o=o|0,a=+a;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+16|0,y=h+8|0,F=h+13|0,g=h,M=h+12|0,_f(F,o),e[y>>2]=Mf(F,o)|0,Uc(M,a),T[g>>3]=+kc(M,a),Dp(r,y,g),A=h;return}function Dp(r,o,a){r=r|0,o=o|0,a=a|0,Nl(r+8|0,e[o>>2]|0,+T[a>>3]),s[r+24>>0]=1;return}function Y0(){return 1404}function sc(r,o){return r=r|0,o=+o,Pf(r,o)|0}function Pf(r,o){r=r|0,o=+o;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return h=A,A=A+16|0,y=h+4|0,M=h+8|0,F=h,g=ac(8)|0,a=g,k=fn(16)|0,_f(y,r),r=Mf(y,r)|0,Uc(M,o),Nl(k,r,+kc(M,o)),M=a+4|0,e[M>>2]=k,r=fn(8)|0,M=e[M>>2]|0,e[F>>2]=0,e[y>>2]=e[F>>2],E3(r,M,y),e[g>>2]=r,A=h,a|0}function Vc(){var r=0;return s[7896]|0||(Wc(10364),Qt(54,10364,O|0)|0,r=7896,e[r>>2]=1,e[r+4>>2]=0),hr(10364)|0||Wc(10364),10364}function Wc(r){r=r|0,Hl(r),zr(r,55);return}function V0(r){r=r|0,Kh(r+24|0);return}function Kh(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function Hl(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,4,o,Nt()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function q1(r){r=r|0,J1(r);return}function J1(r){r=r|0,Sg(r);return}function Sg(r){r=r|0,Ie(r+8|0),s[r+24>>0]=1;return}function Ie(r){r=r|0,e[r>>2]=0,T[r+8>>3]=0;return}function Nt(){return 1424}function Tt(){return Xt()|0}function Xt(){var r=0,o=0,a=0,h=0,g=0,y=0,M=0;return o=A,A=A+16|0,g=o+4|0,M=o,a=ac(8)|0,r=a,h=fn(16)|0,Ie(h),y=r+4|0,e[y>>2]=h,h=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],E3(h,y,g),e[a>>2]=h,A=o,r|0}function cn(r,o){r=r|0,o=o|0,e[r>>2]=Qr()|0,e[r+4>>2]=Or()|0,e[r+12>>2]=o,e[r+8>>2]=Ai()|0,e[r+32>>2]=5;return}function Qr(){return 11710}function Or(){return 1416}function Ai(){return zi()|0}function vr(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(Vo(a),Ut(a)):o|0&&Ut(o);return}function Vo(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function zi(){var r=0;return s[7904]|0||(e[2600]=Wo()|0,e[2601]=0,r=7904,e[r>>2]=1,e[r+4>>2]=0),10400}function Wo(){return e[357]|0}function Un(r){r=r|0,Es(r,4926),ws(r)|0;return}function Es(r,o){r=r|0,o=o|0;var a=0;a=Ir()|0,e[r>>2]=a,zl(a,o),Fp(e[r>>2]|0);return}function ws(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,mi()|0),r|0}function mi(){var r=0;return s[7912]|0||(jo(10412),Qt(56,10412,O|0)|0,r=7912,e[r>>2]=1,e[r+4>>2]=0),hr(10412)|0||jo(10412),10412}function jo(r){r=r|0,vi(r),zr(r,57);return}function ei(r){r=r|0,wr(r+24|0);return}function wr(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function vi(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,5,o,ea()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Gr(r){r=r|0,qr(r);return}function qr(r){r=r|0,oo(r);return}function oo(r){r=r|0;var o=0,a=0;o=r+8|0,a=o+48|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(a|0));s[r+56>>0]=1;return}function ea(){return 1432}function ta(){return Aa()|0}function Aa(){var r=0,o=0,a=0,h=0,g=0,y=0,M=0,F=0;M=A,A=A+16|0,r=M+4|0,o=M,a=ac(8)|0,h=a,g=fn(48)|0,y=g,F=y+48|0;do e[y>>2]=0,y=y+4|0;while((y|0)<(F|0));return y=h+4|0,e[y>>2]=g,F=fn(8)|0,y=e[y>>2]|0,e[o>>2]=0,e[r>>2]=e[o>>2],MA(F,y,r),e[a>>2]=F,A=M,h|0}function zl(r,o){r=r|0,o=o|0,e[r>>2]=Rf()|0,e[r+4>>2]=cE()|0,e[r+12>>2]=o,e[r+8>>2]=Tg()|0,e[r+32>>2]=6;return}function Rf(){return 11704}function cE(){return 1436}function Tg(){return zi()|0}function dM(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(pM(a),Ut(a)):o|0&&Ut(o);return}function pM(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function mM(r){r=r|0,sL(r,4933),aL(r)|0,vM(r)|0;return}function sL(r,o){r=r|0,o=o|0;var a=0;a=kG()|0,e[r>>2]=a,GG(a,o),Fp(e[r>>2]|0);return}function aL(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,LG()|0),r|0}function vM(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,gM()|0),r|0}function gM(){var r=0;return s[7920]|0||(Z1(10452),Qt(58,10452,O|0)|0,r=7920,e[r>>2]=1,e[r+4>>2]=0),hr(10452)|0||Z1(10452),10452}function Z1(r){r=r|0,xG(r),zr(r,1);return}function gG(r){r=r|0,yG(r+24|0);return}function yG(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function xG(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,1,o,_G()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function EG(r,o,a){r=r|0,o=+o,a=+a,wG(r,o,a);return}function wG(r,o,a){r=r|0,o=+o,a=+a;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+32|0,y=h+8|0,F=h+17|0,g=h,M=h+16|0,Uc(F,o),T[y>>3]=+kc(F,o),Uc(M,a),T[g>>3]=+kc(M,a),AG(r,y,g),A=h;return}function AG(r,o,a){r=r|0,o=o|0,a=a|0,qF(r+8|0,+T[o>>3],+T[a>>3]),s[r+24>>0]=1;return}function qF(r,o,a){r=r|0,o=+o,a=+a,T[r>>3]=o,T[r+8>>3]=a;return}function _G(){return 1472}function MG(r,o){return r=+r,o=+o,SG(r,o)|0}function SG(r,o){r=+r,o=+o;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return h=A,A=A+16|0,M=h+4|0,F=h+8|0,k=h,g=ac(8)|0,a=g,y=fn(16)|0,Uc(M,r),r=+kc(M,r),Uc(F,o),qF(y,r,+kc(F,o)),F=a+4|0,e[F>>2]=y,y=fn(8)|0,F=e[F>>2]|0,e[k>>2]=0,e[M>>2]=e[k>>2],JF(y,F,M),e[g>>2]=y,A=h,a|0}function JF(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,a=fn(16)|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=1452,e[a+12>>2]=o,e[r+4>>2]=a;return}function TG(r){r=r|0,Dg(r),Ut(r);return}function bG(r){r=r|0,r=e[r+12>>2]|0,r|0&&Ut(r);return}function CG(r){r=r|0,Ut(r);return}function LG(){var r=0;return s[7928]|0||(ZF(10488),Qt(59,10488,O|0)|0,r=7928,e[r>>2]=1,e[r+4>>2]=0),hr(10488)|0||ZF(10488),10488}function ZF(r){r=r|0,DG(r),zr(r,60);return}function PG(r){r=r|0,RG(r+24|0);return}function RG(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function DG(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,6,o,IG()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function FG(r){r=r|0,BG(r);return}function BG(r){r=r|0,NG(r);return}function NG(r){r=r|0,KF(r+8|0),s[r+24>>0]=1;return}function KF(r){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0;return}function IG(){return 1492}function OG(){return UG()|0}function UG(){var r=0,o=0,a=0,h=0,g=0,y=0,M=0;return o=A,A=A+16|0,g=o+4|0,M=o,a=ac(8)|0,r=a,h=fn(16)|0,KF(h),y=r+4|0,e[y>>2]=h,h=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],JF(h,y,g),e[a>>2]=h,A=o,r|0}function kG(){var r=0;return s[7936]|0||(WG(10524),Qt(25,10524,O|0)|0,r=7936,e[r>>2]=1,e[r+4>>2]=0),10524}function GG(r,o){r=r|0,o=o|0,e[r>>2]=XG()|0,e[r+4>>2]=HG()|0,e[r+12>>2]=o,e[r+8>>2]=zG()|0,e[r+32>>2]=7;return}function XG(){return 11700}function HG(){return 1484}function zG(){return zi()|0}function YG(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(VG(a),Ut(a)):o|0&&Ut(o);return}function VG(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function WG(r){r=r|0,Af(r);return}function jG(r,o,a){r=r|0,o=o|0,a=a|0,r=ai(o)|0,o=QG(a)|0,a=qG(a,0)|0,SX(r,o,a,lL()|0,0);return}function QG(r){return r=r|0,r|0}function qG(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=lL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(eB(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(nX(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function lL(){var r=0,o=0;if(s[7944]|0||($F(10568),Qt(61,10568,O|0)|0,o=7944,e[o>>2]=1,e[o+4>>2]=0),!(hr(10568)|0)){r=10568,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));$F(10568)}return 10568}function $F(r){r=r|0,KG(r);return}function JG(r){r=r|0,ZG(r+24|0);return}function ZG(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function KG(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,17,o,r3()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function $G(r){return r=r|0,tX(e[(eX(r)|0)>>2]|0)|0}function eX(r){return r=r|0,(e[(lL()|0)+24>>2]|0)+(r<<3)|0}function tX(r){return r=r|0,x1(LM[r&7]()|0)|0}function eB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function nX(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=rX(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,iX(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,eB(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,oX(r,g),sX(g),A=F;return}}function rX(r){return r=r|0,536870911}function iX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function oX(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function sX(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function aX(){lX();return}function lX(){uX(10604);return}function uX(r){r=r|0,cX(r,4955);return}function cX(r,o){r=r|0,o=o|0;var a=0;a=fX()|0,e[r>>2]=a,hX(a,o),Fp(e[r>>2]|0);return}function fX(){var r=0;return s[7952]|0||(wX(10612),Qt(25,10612,O|0)|0,r=7952,e[r>>2]=1,e[r+4>>2]=0),10612}function hX(r,o){r=r|0,o=o|0,e[r>>2]=vX()|0,e[r+4>>2]=gX()|0,e[r+12>>2]=o,e[r+8>>2]=yX()|0,e[r+32>>2]=8;return}function Fp(r){r=r|0;var o=0,a=0;o=A,A=A+16|0,a=o,bg()|0,e[a>>2]=r,dX(10608,a),A=o;return}function bg(){return s[11714]|0||(e[2652]=0,Qt(62,10608,O|0)|0,s[11714]=1),10608}function dX(r,o){r=r|0,o=o|0;var a=0;a=fn(8)|0,e[a+4>>2]=e[o>>2],e[a>>2]=e[r>>2],e[r>>2]=a;return}function pX(r){r=r|0,mX(r);return}function mX(r){r=r|0;var o=0,a=0;if(o=e[r>>2]|0,o|0)do a=o,o=e[o>>2]|0,Ut(a);while((o|0)!=0);e[r>>2]=0;return}function vX(){return 11715}function gX(){return 1496}function yX(){return Lp()|0}function xX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(EX(a),Ut(a)):o|0&&Ut(o);return}function EX(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function wX(r){r=r|0,Af(r);return}function AX(r,o){r=r|0,o=o|0;var a=0,h=0;bg()|0,a=e[2652]|0;e:do if(a|0){for(;!(h=e[a+4>>2]|0,h|0?(NB(uL(h)|0,r)|0)==0:0);)if(a=e[a>>2]|0,!a)break e;_X(h,o)}while(0);return}function uL(r){return r=r|0,e[r+12>>2]|0}function _X(r,o){r=r|0,o=o|0;var a=0;r=r+36|0,a=e[r>>2]|0,a|0&&(Ws(a),Ut(a)),a=fn(4)|0,E2(a,o),e[r>>2]=a;return}function cL(){return s[11716]|0||(e[2664]=0,Qt(63,10656,O|0)|0,s[11716]=1),10656}function tB(){var r=0;return s[11717]|0?r=e[2665]|0:(MX(),e[2665]=1504,s[11717]=1,r=1504),r|0}function MX(){s[11740]|0||(s[11718]=Fn(Fn(8,0)|0,0)|0,s[11719]=Fn(Fn(0,0)|0,0)|0,s[11720]=Fn(Fn(0,16)|0,0)|0,s[11721]=Fn(Fn(8,0)|0,0)|0,s[11722]=Fn(Fn(0,0)|0,0)|0,s[11723]=Fn(Fn(8,0)|0,0)|0,s[11724]=Fn(Fn(0,0)|0,0)|0,s[11725]=Fn(Fn(8,0)|0,0)|0,s[11726]=Fn(Fn(0,0)|0,0)|0,s[11727]=Fn(Fn(8,0)|0,0)|0,s[11728]=Fn(Fn(0,0)|0,0)|0,s[11729]=Fn(Fn(0,0)|0,32)|0,s[11730]=Fn(Fn(0,0)|0,32)|0,s[11740]=1);return}function nB(){return 1572}function SX(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0,V=0;y=A,A=A+32|0,V=y+16|0,W=y+12|0,k=y+8|0,F=y+4|0,M=y,e[V>>2]=r,e[W>>2]=o,e[k>>2]=a,e[F>>2]=h,e[M>>2]=g,cL()|0,TX(10656,V,W,k,F,M),A=y;return}function TX(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0;M=fn(24)|0,wA(M+4|0,e[o>>2]|0,e[a>>2]|0,e[h>>2]|0,e[g>>2]|0,e[y>>2]|0),e[M>>2]=e[r>>2],e[r>>2]=M;return}function rB(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0,Lt=0;if(Lt=A,A=A+32|0,nt=Lt+20|0,Ke=Lt+8|0,_t=Lt+4|0,yt=Lt,o=e[o>>2]|0,o|0){ht=nt+4|0,k=nt+8|0,W=Ke+4|0,V=Ke+8|0,Z=Ke+8|0,ye=nt+8|0;do{if(M=o+4|0,F=fL(M)|0,F|0){if(g=fE(F)|0,e[nt>>2]=0,e[ht>>2]=0,e[k>>2]=0,h=(hE(F)|0)+1|0,bX(nt,h),h|0)for(;h=h+-1|0,Df(Ke,e[g>>2]|0),y=e[ht>>2]|0,y>>>0<(e[ye>>2]|0)>>>0?(e[y>>2]=e[Ke>>2],e[ht>>2]=(e[ht>>2]|0)+4):hL(nt,Ke),h;)g=g+4|0;h=dE(F)|0,e[Ke>>2]=0,e[W>>2]=0,e[V>>2]=0;e:do if(e[h>>2]|0)for(g=0,y=0;;){if((g|0)==(y|0)?CX(Ke,h):(e[g>>2]=e[h>>2],e[W>>2]=(e[W>>2]|0)+4),h=h+4|0,!(e[h>>2]|0))break e;g=e[W>>2]|0,y=e[Z>>2]|0}while(0);e[_t>>2]=yM(M)|0,e[yt>>2]=hr(F)|0,LX(a,r,_t,yt,nt,Ke),dL(Ke),$h(nt)}o=e[o>>2]|0}while((o|0)!=0)}A=Lt;return}function fL(r){return r=r|0,e[r+12>>2]|0}function fE(r){return r=r|0,e[r+12>>2]|0}function hE(r){return r=r|0,e[r+16>>2]|0}function bX(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;g=A,A=A+32|0,a=g,h=e[r>>2]|0,(e[r+8>>2]|0)-h>>2>>>0<o>>>0&&(fB(a,o,(e[r+4>>2]|0)-h>>2,r+8|0),hB(r,a),dB(a)),A=g;return}function hL(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0;if(M=A,A=A+32|0,a=M,h=r+4|0,g=((e[h>>2]|0)-(e[r>>2]|0)>>2)+1|0,y=cB(r)|0,y>>>0<g>>>0)Yr(r);else{F=e[r>>2]|0,W=(e[r+8>>2]|0)-F|0,k=W>>1,fB(a,W>>2>>>0<y>>>1>>>0?k>>>0<g>>>0?g:k:y,(e[h>>2]|0)-F>>2,r+8|0),y=a+8|0,e[e[y>>2]>>2]=e[o>>2],e[y>>2]=(e[y>>2]|0)+4,hB(r,a),dB(a),A=M;return}}function dE(r){return r=r|0,e[r+8>>2]|0}function CX(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0;if(M=A,A=A+32|0,a=M,h=r+4|0,g=((e[h>>2]|0)-(e[r>>2]|0)>>2)+1|0,y=uB(r)|0,y>>>0<g>>>0)Yr(r);else{F=e[r>>2]|0,W=(e[r+8>>2]|0)-F|0,k=W>>1,QX(a,W>>2>>>0<y>>>1>>>0?k>>>0<g>>>0?g:k:y,(e[h>>2]|0)-F>>2,r+8|0),y=a+8|0,e[e[y>>2]>>2]=e[o>>2],e[y>>2]=(e[y>>2]|0)+4,qX(r,a),JX(a),A=M;return}}function yM(r){return r=r|0,e[r>>2]|0}function LX(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,PX(r,o,a,h,g,y);return}function dL(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-4-h|0)>>>2)<<2)),Ut(a));return}function $h(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-4-h|0)>>>2)<<2)),Ut(a));return}function PX(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0,k=0,W=0,V=0,Z=0;M=A,A=A+48|0,V=M+40|0,F=M+32|0,Z=M+24|0,k=M+12|0,W=M,lc(F),r=xs(r)|0,e[Z>>2]=e[o>>2],a=e[a>>2]|0,h=e[h>>2]|0,pL(k,g),RX(W,y),e[V>>2]=e[Z>>2],DX(r,V,a,h,k,W),dL(W),$h(k),uc(F),A=M;return}function pL(r,o){r=r|0,o=o|0;var a=0,h=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,a=o+4|0,h=(e[a>>2]|0)-(e[o>>2]|0)>>2,h|0&&(WX(r,h),jX(r,e[o>>2]|0,e[a>>2]|0,h));return}function RX(r,o){r=r|0,o=o|0;var a=0,h=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,a=o+4|0,h=(e[a>>2]|0)-(e[o>>2]|0)>>2,h|0&&(YX(r,h),VX(r,e[o>>2]|0,e[a>>2]|0,h));return}function DX(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0,k=0,W=0,V=0,Z=0;M=A,A=A+32|0,V=M+28|0,Z=M+24|0,F=M+12|0,k=M,W=Ea(FX()|0)|0,e[Z>>2]=e[o>>2],e[V>>2]=e[Z>>2],o=K1(V)|0,a=iB(a)|0,h=mL(h)|0,e[F>>2]=e[g>>2],V=g+4|0,e[F+4>>2]=e[V>>2],Z=g+8|0,e[F+8>>2]=e[Z>>2],e[Z>>2]=0,e[V>>2]=0,e[g>>2]=0,g=vL(F)|0,e[k>>2]=e[y>>2],V=y+4|0,e[k+4>>2]=e[V>>2],Z=y+8|0,e[k+8>>2]=e[Z>>2],e[Z>>2]=0,e[V>>2]=0,e[y>>2]=0,bt(0,W|0,r|0,o|0,a|0,h|0,g|0,BX(k)|0)|0,dL(k),$h(F),A=M;return}function FX(){var r=0;return s[7968]|0||(HX(10708),r=7968,e[r>>2]=1,e[r+4>>2]=0),10708}function K1(r){return r=r|0,sB(r)|0}function iB(r){return r=r|0,oB(r)|0}function mL(r){return r=r|0,x1(r)|0}function vL(r){return r=r|0,IX(r)|0}function BX(r){return r=r|0,NX(r)|0}function NX(r){r=r|0;var o=0,a=0,h=0;if(h=(e[r+4>>2]|0)-(e[r>>2]|0)|0,a=h>>2,h=ac(h+4|0)|0,e[h>>2]=a,a|0){o=0;do e[h+4+(o<<2)>>2]=oB(e[(e[r>>2]|0)+(o<<2)>>2]|0)|0,o=o+1|0;while((o|0)!=(a|0))}return h|0}function oB(r){return r=r|0,r|0}function IX(r){r=r|0;var o=0,a=0,h=0;if(h=(e[r+4>>2]|0)-(e[r>>2]|0)|0,a=h>>2,h=ac(h+4|0)|0,e[h>>2]=a,a|0){o=0;do e[h+4+(o<<2)>>2]=sB((e[r>>2]|0)+(o<<2)|0)|0,o=o+1|0;while((o|0)!=(a|0))}return h|0}function sB(r){r=r|0;var o=0,a=0,h=0,g=0;return g=A,A=A+32|0,o=g+12|0,a=g,h=on(aB()|0)|0,h?(Il(o,h),Hx(a,o),yV(r,a),r=zx(o)|0):r=OX(r)|0,A=g,r|0}function aB(){var r=0;return s[7960]|0||(XX(10664),Qt(25,10664,O|0)|0,r=7960,e[r>>2]=1,e[r+4>>2]=0),10664}function OX(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0;return a=A,A=A+16|0,g=a+4|0,M=a,h=ac(8)|0,o=h,F=fn(4)|0,e[F>>2]=e[r>>2],y=o+4|0,e[y>>2]=F,r=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],lB(r,y,g),e[h>>2]=r,A=a,o|0}function lB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,a=fn(16)|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=1656,e[a+12>>2]=o,e[r+4>>2]=a;return}function UX(r){r=r|0,Dg(r),Ut(r);return}function kX(r){r=r|0,r=e[r+12>>2]|0,r|0&&Ut(r);return}function GX(r){r=r|0,Ut(r);return}function XX(r){r=r|0,Af(r);return}function HX(r){r=r|0,Js(r,zX()|0,5);return}function zX(){return 1676}function YX(r,o){r=r|0,o=o|0;var a=0;if((uB(r)|0)>>>0<o>>>0&&Yr(r),o>>>0>1073741823)kn();else{a=fn(o<<2)|0,e[r+4>>2]=a,e[r>>2]=a,e[r+8>>2]=a+(o<<2);return}}function VX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,h=r+4|0,r=a-o|0,(r|0)>0&&(rr(e[h>>2]|0,o|0,r|0)|0,e[h>>2]=(e[h>>2]|0)+(r>>>2<<2));return}function uB(r){return r=r|0,1073741823}function WX(r,o){r=r|0,o=o|0;var a=0;if((cB(r)|0)>>>0<o>>>0&&Yr(r),o>>>0>1073741823)kn();else{a=fn(o<<2)|0,e[r+4>>2]=a,e[r>>2]=a,e[r+8>>2]=a+(o<<2);return}}function jX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,h=r+4|0,r=a-o|0,(r|0)>0&&(rr(e[h>>2]|0,o|0,r|0)|0,e[h>>2]=(e[h>>2]|0)+(r>>>2<<2));return}function cB(r){return r=r|0,1073741823}function QX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>1073741823)kn();else{g=fn(o<<2)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<2)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<2);return}function qX(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>2)<<2)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function JX(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-4-o|0)>>>2)<<2)),r=e[r>>2]|0,r|0&&Ut(r);return}function fB(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>1073741823)kn();else{g=fn(o<<2)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<2)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<2);return}function hB(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>2)<<2)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function dB(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-4-o|0)>>>2)<<2)),r=e[r>>2]|0,r|0&&Ut(r);return}function ZX(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0;if(Ke=A,A=A+32|0,V=Ke+20|0,Z=Ke+12|0,W=Ke+16|0,ye=Ke+4|0,ht=Ke,nt=Ke+8|0,F=tB()|0,y=e[F>>2]|0,M=e[y>>2]|0,M|0)for(k=e[F+8>>2]|0,F=e[F+4>>2]|0;Df(V,M),KX(r,V,F,k),y=y+4|0,M=e[y>>2]|0,M;)k=k+1|0,F=F+1|0;if(y=nB()|0,M=e[y>>2]|0,M|0)do Df(V,M),e[Z>>2]=e[y+4>>2],$X(o,V,Z),y=y+8|0,M=e[y>>2]|0;while((M|0)!=0);if(y=e[(bg()|0)>>2]|0,y|0)do o=e[y+4>>2]|0,Df(V,e[(Cg(o)|0)>>2]|0),e[Z>>2]=uL(o)|0,eH(a,V,Z),y=e[y>>2]|0;while((y|0)!=0);if(Df(W,0),y=cL()|0,e[V>>2]=e[W>>2],rB(V,y,g),y=e[(bg()|0)>>2]|0,y|0){r=V+4|0,o=V+8|0,a=V+8|0;do{if(k=e[y+4>>2]|0,Df(Z,e[(Cg(k)|0)>>2]|0),tH(ye,pB(k)|0),M=e[ye>>2]|0,M|0){e[V>>2]=0,e[r>>2]=0,e[o>>2]=0;do Df(ht,e[(Cg(e[M+4>>2]|0)|0)>>2]|0),F=e[r>>2]|0,F>>>0<(e[a>>2]|0)>>>0?(e[F>>2]=e[ht>>2],e[r>>2]=(e[r>>2]|0)+4):hL(V,ht),M=e[M>>2]|0;while((M|0)!=0);nH(h,Z,V),$h(V)}e[nt>>2]=e[Z>>2],W=mB(k)|0,e[V>>2]=e[nt>>2],rB(V,W,g),SA(ye),y=e[y>>2]|0}while((y|0)!=0)}A=Ke;return}function KX(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,pH(r,o,a,h);return}function $X(r,o,a){r=r|0,o=o|0,a=a|0,dH(r,o,a);return}function Cg(r){return r=r|0,r|0}function eH(r,o,a){r=r|0,o=o|0,a=a|0,uH(r,o,a);return}function pB(r){return r=r|0,r+16|0}function tH(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;if(y=A,A=A+16|0,g=y+8|0,a=y,e[r>>2]=0,h=e[o>>2]|0,e[g>>2]=h,e[a>>2]=r,a=lH(a)|0,h|0){if(h=fn(12)|0,M=(vB(g)|0)+4|0,r=e[M+4>>2]|0,o=h+4|0,e[o>>2]=e[M>>2],e[o+4>>2]=r,o=e[e[g>>2]>>2]|0,e[g>>2]=o,!o)r=h;else for(o=h;r=fn(12)|0,k=(vB(g)|0)+4|0,F=e[k+4>>2]|0,M=r+4|0,e[M>>2]=e[k>>2],e[M+4>>2]=F,e[o>>2]=r,M=e[e[g>>2]>>2]|0,e[g>>2]=M,M;)o=r;e[r>>2]=e[a>>2],e[a>>2]=h}A=y;return}function nH(r,o,a){r=r|0,o=o|0,a=a|0,rH(r,o,a);return}function mB(r){return r=r|0,r+24|0}function rH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+32|0,M=h+24|0,g=h+16|0,F=h+12|0,y=h,lc(g),r=xs(r)|0,e[F>>2]=e[o>>2],pL(y,a),e[M>>2]=e[F>>2],iH(r,M,y),$h(y),uc(g),A=h;return}function iH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=A,A=A+32|0,M=h+16|0,F=h+12|0,g=h,y=Ea(oH()|0)|0,e[F>>2]=e[o>>2],e[M>>2]=e[F>>2],o=K1(M)|0,e[g>>2]=e[a>>2],M=a+4|0,e[g+4>>2]=e[M>>2],F=a+8|0,e[g+8>>2]=e[F>>2],e[F>>2]=0,e[M>>2]=0,e[a>>2]=0,Lo(0,y|0,r|0,o|0,vL(g)|0)|0,$h(g),A=h;return}function oH(){var r=0;return s[7976]|0||(sH(10720),r=7976,e[r>>2]=1,e[r+4>>2]=0),10720}function sH(r){r=r|0,Js(r,aH()|0,2);return}function aH(){return 1732}function lH(r){return r=r|0,e[r>>2]|0}function vB(r){return r=r|0,e[r>>2]|0}function uH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+32|0,y=h+16|0,g=h+8|0,M=h,lc(g),r=xs(r)|0,e[M>>2]=e[o>>2],a=e[a>>2]|0,e[y>>2]=e[M>>2],gB(r,y,a),uc(g),A=h;return}function gB(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+16|0,y=h+4|0,M=h,g=Ea(cH()|0)|0,e[M>>2]=e[o>>2],e[y>>2]=e[M>>2],o=K1(y)|0,Lo(0,g|0,r|0,o|0,iB(a)|0)|0,A=h;return}function cH(){var r=0;return s[7984]|0||(fH(10732),r=7984,e[r>>2]=1,e[r+4>>2]=0),10732}function fH(r){r=r|0,Js(r,hH()|0,2);return}function hH(){return 1744}function dH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;h=A,A=A+32|0,y=h+16|0,g=h+8|0,M=h,lc(g),r=xs(r)|0,e[M>>2]=e[o>>2],a=e[a>>2]|0,e[y>>2]=e[M>>2],gB(r,y,a),uc(g),A=h;return}function pH(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+32|0,M=g+16|0,y=g+8|0,F=g,lc(y),r=xs(r)|0,e[F>>2]=e[o>>2],a=s[a>>0]|0,h=s[h>>0]|0,e[M>>2]=e[F>>2],mH(r,M,a,h),uc(y),A=g;return}function mH(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+16|0,M=g+4|0,F=g,y=Ea(vH()|0)|0,e[F>>2]=e[o>>2],e[M>>2]=e[F>>2],o=K1(M)|0,a=Lg(a)|0,os(0,y|0,r|0,o|0,a|0,Lg(h)|0)|0,A=g;return}function vH(){var r=0;return s[7992]|0||(yH(10744),r=7992,e[r>>2]=1,e[r+4>>2]=0),10744}function Lg(r){return r=r|0,gH(r)|0}function gH(r){return r=r|0,r&255|0}function yH(r){r=r|0,Js(r,xH()|0,3);return}function xH(){return 1756}function EH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;ye=A,A=A+32|0,F=ye+8|0,k=ye+4|0,W=ye+20|0,V=ye,b2(r,0),h=gV(o)|0,e[F>>2]=0,Z=F+4|0,e[Z>>2]=0,e[F+8>>2]=0;switch(h<<24>>24){case 0:{s[W>>0]=0,wH(k,a,W),xM(r,k)|0,fu(k);break}case 8:{Z=AL(o)|0,s[W>>0]=8,Df(V,e[Z+4>>2]|0),AH(k,a,W,V,Z+8|0),xM(r,k)|0,fu(k);break}case 9:{if(y=AL(o)|0,o=e[y+4>>2]|0,o|0)for(M=F+8|0,g=y+12|0;o=o+-1|0,Df(k,e[g>>2]|0),h=e[Z>>2]|0,h>>>0<(e[M>>2]|0)>>>0?(e[h>>2]=e[k>>2],e[Z>>2]=(e[Z>>2]|0)+4):hL(F,k),o;)g=g+4|0;s[W>>0]=9,Df(V,e[y+8>>2]|0),_H(k,a,W,V,F),xM(r,k)|0,fu(k);break}default:Z=AL(o)|0,s[W>>0]=h,Df(V,e[Z+4>>2]|0),MH(k,a,W,V),xM(r,k)|0,fu(k)}$h(F),A=ye;return}function wH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;h=A,A=A+16|0,g=h,lc(g),o=xs(o)|0,OH(r,o,s[a>>0]|0),uc(g),A=h;return}function xM(r,o){r=r|0,o=o|0;var a=0;return a=e[r>>2]|0,a|0&&ru(a|0),e[r>>2]=e[o>>2],e[o>>2]=0,r|0}function AH(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0;y=A,A=A+32|0,F=y+16|0,M=y+8|0,k=y,lc(M),o=xs(o)|0,a=s[a>>0]|0,e[k>>2]=e[h>>2],g=e[g>>2]|0,e[F>>2]=e[k>>2],FH(r,o,a,F,g),uc(M),A=y;return}function _H(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0;y=A,A=A+32|0,k=y+24|0,M=y+16|0,W=y+12|0,F=y,lc(M),o=xs(o)|0,a=s[a>>0]|0,e[W>>2]=e[h>>2],pL(F,g),e[k>>2]=e[W>>2],LH(r,o,a,k,F),$h(F),uc(M),A=y;return}function MH(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+32|0,M=g+16|0,y=g+8|0,F=g,lc(y),o=xs(o)|0,a=s[a>>0]|0,e[F>>2]=e[h>>2],e[M>>2]=e[F>>2],SH(r,o,a,M),uc(y),A=g;return}function SH(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0,M=0,F=0;g=A,A=A+16|0,y=g+4|0,F=g,M=Ea(TH()|0)|0,a=Lg(a)|0,e[F>>2]=e[h>>2],e[y>>2]=e[F>>2],EM(r,Lo(0,M|0,o|0,a|0,K1(y)|0)|0),A=g;return}function TH(){var r=0;return s[8e3]|0||(bH(10756),r=8e3,e[r>>2]=1,e[r+4>>2]=0),10756}function EM(r,o){r=r|0,o=o|0,b2(r,o);return}function bH(r){r=r|0,Js(r,CH()|0,2);return}function CH(){return 1772}function LH(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0;y=A,A=A+32|0,k=y+16|0,W=y+12|0,M=y,F=Ea(PH()|0)|0,a=Lg(a)|0,e[W>>2]=e[h>>2],e[k>>2]=e[W>>2],h=K1(k)|0,e[M>>2]=e[g>>2],k=g+4|0,e[M+4>>2]=e[k>>2],W=g+8|0,e[M+8>>2]=e[W>>2],e[W>>2]=0,e[k>>2]=0,e[g>>2]=0,EM(r,os(0,F|0,o|0,a|0,h|0,vL(M)|0)|0),$h(M),A=y;return}function PH(){var r=0;return s[8008]|0||(RH(10768),r=8008,e[r>>2]=1,e[r+4>>2]=0),10768}function RH(r){r=r|0,Js(r,DH()|0,3);return}function DH(){return 1784}function FH(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0;y=A,A=A+16|0,F=y+4|0,k=y,M=Ea(BH()|0)|0,a=Lg(a)|0,e[k>>2]=e[h>>2],e[F>>2]=e[k>>2],h=K1(F)|0,EM(r,os(0,M|0,o|0,a|0,h|0,mL(g)|0)|0),A=y;return}function BH(){var r=0;return s[8016]|0||(NH(10780),r=8016,e[r>>2]=1,e[r+4>>2]=0),10780}function NH(r){r=r|0,Js(r,IH()|0,3);return}function IH(){return 1800}function OH(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;h=Ea(UH()|0)|0,EM(r,Pu(0,h|0,o|0,Lg(a)|0)|0);return}function UH(){var r=0;return s[8024]|0||(kH(10792),r=8024,e[r>>2]=1,e[r+4>>2]=0),10792}function kH(r){r=r|0,Js(r,GH()|0,1);return}function GH(){return 1816}function XH(){HH(),zH(),YH();return}function HH(){e[2702]=VB(65536)|0;return}function zH(){cz(10856);return}function YH(){VH(10816);return}function VH(r){r=r|0,WH(r,5044),jH(r)|0;return}function WH(r,o){r=r|0,o=o|0;var a=0;a=aB()|0,e[r>>2]=a,iz(a,o),Fp(e[r>>2]|0);return}function jH(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,QH()|0),r|0}function QH(){var r=0;return s[8032]|0||(yB(10820),Qt(64,10820,O|0)|0,r=8032,e[r>>2]=1,e[r+4>>2]=0),hr(10820)|0||yB(10820),10820}function yB(r){r=r|0,ZH(r),zr(r,25);return}function qH(r){r=r|0,JH(r+24|0);return}function JH(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function ZH(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,18,o,tz()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function KH(r,o){r=r|0,o=o|0,$H(r,o);return}function $H(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;a=A,A=A+16|0,h=a,g=a+4|0,tl(g,o),e[h>>2]=kh(g,o)|0,ez(r,h),A=a;return}function ez(r,o){r=r|0,o=o|0,xB(r+4|0,e[o>>2]|0),s[r+8>>0]=1;return}function xB(r,o){r=r|0,o=o|0,e[r>>2]=o;return}function tz(){return 1824}function nz(r){return r=r|0,rz(r)|0}function rz(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0;return a=A,A=A+16|0,g=a+4|0,M=a,h=ac(8)|0,o=h,F=fn(4)|0,tl(g,r),xB(F,kh(g,r)|0),y=o+4|0,e[y>>2]=F,r=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],lB(r,y,g),e[h>>2]=r,A=a,o|0}function ac(r){r=r|0;var o=0,a=0;return r=r+7&-8,(r>>>0<=32768?(o=e[2701]|0,r>>>0<=(65536-o|0)>>>0):0)?(a=(e[2702]|0)+o|0,e[2701]=o+r,r=a):(r=VB(r+8|0)|0,e[r>>2]=e[2703],e[2703]=r,r=r+8|0),r|0}function iz(r,o){r=r|0,o=o|0,e[r>>2]=oz()|0,e[r+4>>2]=sz()|0,e[r+12>>2]=o,e[r+8>>2]=az()|0,e[r+32>>2]=9;return}function oz(){return 11744}function sz(){return 1832}function az(){return zi()|0}function lz(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(uz(a),Ut(a)):o|0&&Ut(o);return}function uz(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function cz(r){r=r|0,fz(r,5052),hz(r)|0,dz(r,5058,26)|0,pz(r,5069,1)|0,mz(r,5077,10)|0,vz(r,5087,19)|0,gz(r,5094,27)|0;return}function fz(r,o){r=r|0,o=o|0;var a=0;a=uV()|0,e[r>>2]=a,cV(a,o),Fp(e[r>>2]|0);return}function hz(r){r=r|0;var o=0;return o=e[r>>2]|0,Jt(o,qY()|0),r|0}function dz(r,o,a){return r=r|0,o=o|0,a=a|0,RY(r,ai(o)|0,a,0),r|0}function pz(r,o,a){return r=r|0,o=o|0,a=a|0,vY(r,ai(o)|0,a,0),r|0}function mz(r,o,a){return r=r|0,o=o|0,a=a|0,Qz(r,ai(o)|0,a,0),r|0}function vz(r,o,a){return r=r|0,o=o|0,a=a|0,Fz(r,ai(o)|0,a,0),r|0}function EB(r,o){r=r|0,o=o|0;var a=0,h=0;e:for(;;){for(a=e[2703]|0;;){if((a|0)==(o|0))break e;if(h=e[a>>2]|0,e[2703]=h,!a)a=h;else break}Ut(a)}e[2701]=r;return}function gz(r,o,a){return r=r|0,o=o|0,a=a|0,yz(r,ai(o)|0,a,0),r|0}function yz(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=gL()|0,r=xz(a)|0,li(y,o,g,r,Ez(a,h)|0,h);return}function gL(){var r=0,o=0;if(s[8040]|0||(AB(10860),Qt(65,10860,O|0)|0,o=8040,e[o>>2]=1,e[o+4>>2]=0),!(hr(10860)|0)){r=10860,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));AB(10860)}return 10860}function xz(r){return r=r|0,r|0}function Ez(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=gL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(wB(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(wz(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function wB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function wz(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=Az(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,_z(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,wB(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,Mz(r,g),Sz(g),A=F;return}}function Az(r){return r=r|0,536870911}function _z(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function Mz(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Sz(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function AB(r){r=r|0,Cz(r);return}function Tz(r){r=r|0,bz(r+24|0);return}function bz(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function Cz(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,11,o,Lz()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Lz(){return 1840}function Pz(r,o,a){r=r|0,o=o|0,a=a|0,Dz(e[(Rz(r)|0)>>2]|0,o,a);return}function Rz(r){return r=r|0,(e[(gL()|0)+24>>2]|0)+(r<<3)|0}function Dz(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;h=A,A=A+16|0,y=h+1|0,g=h,tl(y,o),o=kh(y,o)|0,tl(g,a),a=kh(g,a)|0,td[r&31](o,a),A=h;return}function Fz(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=yL()|0,r=Bz(a)|0,li(y,o,g,r,Nz(a,h)|0,h);return}function yL(){var r=0,o=0;if(s[8048]|0||(MB(10896),Qt(66,10896,O|0)|0,o=8048,e[o>>2]=1,e[o+4>>2]=0),!(hr(10896)|0)){r=10896,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));MB(10896)}return 10896}function Bz(r){return r=r|0,r|0}function Nz(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=yL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(_B(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Iz(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function _B(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Iz(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=Oz(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,Uz(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,_B(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,kz(r,g),Gz(g),A=F;return}}function Oz(r){return r=r|0,536870911}function Uz(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function kz(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function Gz(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function MB(r){r=r|0,zz(r);return}function Xz(r){r=r|0,Hz(r+24|0);return}function Hz(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function zz(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,11,o,Yz()|0,1),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function Yz(){return 1852}function Vz(r,o){return r=r|0,o=o|0,jz(e[(Wz(r)|0)>>2]|0,o)|0}function Wz(r){return r=r|0,(e[(yL()|0)+24>>2]|0)+(r<<3)|0}function jz(r,o){r=r|0,o=o|0;var a=0,h=0;return a=A,A=A+16|0,h=a,tl(h,o),o=kh(h,o)|0,o=x1(nv[r&31](o)|0)|0,A=a,o|0}function Qz(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=xL()|0,r=qz(a)|0,li(y,o,g,r,Jz(a,h)|0,h);return}function xL(){var r=0,o=0;if(s[8056]|0||(TB(10932),Qt(67,10932,O|0)|0,o=8056,e[o>>2]=1,e[o+4>>2]=0),!(hr(10932)|0)){r=10932,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));TB(10932)}return 10932}function qz(r){return r=r|0,r|0}function Jz(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=xL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(SB(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(Zz(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function SB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function Zz(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=Kz(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,$z(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,SB(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,eY(r,g),tY(g),A=F;return}}function Kz(r){return r=r|0,536870911}function $z(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function eY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function tY(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function TB(r){r=r|0,iY(r);return}function nY(r){r=r|0,rY(r+24|0);return}function rY(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function iY(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,7,o,oY()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function oY(){return 1860}function sY(r,o,a){return r=r|0,o=o|0,a=a|0,lY(e[(aY(r)|0)>>2]|0,o,a)|0}function aY(r){return r=r|0,(e[(xL()|0)+24>>2]|0)+(r<<3)|0}function lY(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0;return h=A,A=A+32|0,M=h+12|0,y=h+8|0,F=h,k=h+16|0,g=h+4|0,uY(k,o),cY(F,k,o),L0(g,a),a=Sf(g,a)|0,e[M>>2]=e[F>>2],gE[r&15](y,M,a),a=fY(y)|0,fu(y),P0(g),A=h,a|0}function uY(r,o){r=r|0,o=o|0;return}function cY(r,o,a){r=r|0,o=o|0,a=a|0,hY(r,a);return}function fY(r){return r=r|0,xs(r)|0}function hY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0;g=A,A=A+16|0,a=g,h=o,h&1?(dY(a,0),Fi(h|0,a|0)|0,pY(r,a),mY(a)):e[r>>2]=e[o>>2],A=g;return}function dY(r,o){r=r|0,o=o|0,Zu(r,o),e[r+4>>2]=0,s[r+8>>0]=0;return}function pY(r,o){r=r|0,o=o|0,e[r>>2]=e[o+4>>2];return}function mY(r){r=r|0,s[r+8>>0]=0;return}function vY(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=EL()|0,r=gY(a)|0,li(y,o,g,r,yY(a,h)|0,h);return}function EL(){var r=0,o=0;if(s[8064]|0||(CB(10968),Qt(68,10968,O|0)|0,o=8064,e[o>>2]=1,e[o+4>>2]=0),!(hr(10968)|0)){r=10968,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));CB(10968)}return 10968}function gY(r){return r=r|0,r|0}function yY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=EL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(bB(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(xY(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function bB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function xY(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=EY(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,wY(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,bB(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,AY(r,g),_Y(g),A=F;return}}function EY(r){return r=r|0,536870911}function wY(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function AY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function _Y(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function CB(r){r=r|0,TY(r);return}function MY(r){r=r|0,SY(r+24|0);return}function SY(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function TY(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,1,o,bY()|0,5),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function bY(){return 1872}function CY(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,PY(e[(LY(r)|0)>>2]|0,o,a,h,g,y);return}function LY(r){return r=r|0,(e[(EL()|0)+24>>2]|0)+(r<<3)|0}function PY(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0,k=0,W=0,V=0,Z=0;M=A,A=A+32|0,F=M+16|0,k=M+12|0,W=M+8|0,V=M+4|0,Z=M,L0(F,o),o=Sf(F,o)|0,L0(k,a),a=Sf(k,a)|0,L0(W,h),h=Sf(W,h)|0,L0(V,g),g=Sf(V,g)|0,L0(Z,y),y=Sf(Z,y)|0,JB[r&1](o,a,h,g,y),P0(Z),P0(V),P0(W),P0(k),P0(F),A=M;return}function RY(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;y=e[r>>2]|0,g=wL()|0,r=DY(a)|0,li(y,o,g,r,FY(a,h)|0,h);return}function wL(){var r=0,o=0;if(s[8072]|0||(PB(11004),Qt(69,11004,O|0)|0,o=8072,e[o>>2]=1,e[o+4>>2]=0),!(hr(11004)|0)){r=11004,o=r+36|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(o|0));PB(11004)}return 11004}function DY(r){return r=r|0,r|0}function FY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0,F=0,k=0;return F=A,A=A+16|0,g=F,y=F+4|0,e[g>>2]=r,k=wL()|0,M=k+24|0,o=Fn(o,4)|0,e[y>>2]=o,a=k+28|0,h=e[a>>2]|0,h>>>0<(e[k+32>>2]|0)>>>0?(LB(h,r,o),o=(e[a>>2]|0)+8|0,e[a>>2]=o):(BY(M,g,y),o=e[a>>2]|0),A=F,(o-(e[M>>2]|0)>>3)+-1|0}function LB(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,e[r+4>>2]=a;return}function BY(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0;if(F=A,A=A+32|0,g=F,y=r+4|0,M=((e[y>>2]|0)-(e[r>>2]|0)>>3)+1|0,h=NY(r)|0,h>>>0<M>>>0)Yr(r);else{k=e[r>>2]|0,V=(e[r+8>>2]|0)-k|0,W=V>>2,IY(g,V>>3>>>0<h>>>1>>>0?W>>>0<M>>>0?M:W:h,(e[y>>2]|0)-k>>3,r+8|0),M=g+8|0,LB(e[M>>2]|0,e[o>>2]|0,e[a>>2]|0),e[M>>2]=(e[M>>2]|0)+8,OY(r,g),UY(g),A=F;return}}function NY(r){return r=r|0,536870911}function IY(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0;e[r+12>>2]=0,e[r+16>>2]=h;do if(o)if(o>>>0>536870911)kn();else{g=fn(o<<3)|0;break}else g=0;while(0);e[r>>2]=g,h=g+(a<<3)|0,e[r+8>>2]=h,e[r+4>>2]=h,e[r+12>>2]=g+(o<<3);return}function OY(r,o){r=r|0,o=o|0;var a=0,h=0,g=0,y=0,M=0;h=e[r>>2]|0,M=r+4|0,y=o+4|0,g=(e[M>>2]|0)-h|0,a=(e[y>>2]|0)+(0-(g>>3)<<3)|0,e[y>>2]=a,(g|0)>0?(rr(a|0,h|0,g|0)|0,h=y,a=e[y>>2]|0):h=y,y=e[r>>2]|0,e[r>>2]=a,e[h>>2]=y,y=o+8|0,g=e[M>>2]|0,e[M>>2]=e[y>>2],e[y>>2]=g,y=r+8|0,M=o+12|0,r=e[y>>2]|0,e[y>>2]=e[M>>2],e[M>>2]=r,e[o>>2]=e[h>>2];return}function UY(r){r=r|0;var o=0,a=0,h=0;o=e[r+4>>2]|0,a=r+8|0,h=e[a>>2]|0,(h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-8-o|0)>>>3)<<3)),r=e[r>>2]|0,r|0&&Ut(r);return}function PB(r){r=r|0,XY(r);return}function kY(r){r=r|0,GY(r+24|0);return}function GY(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function XY(r){r=r|0;var o=0;o=Fr()|0,Br(r,1,12,o,HY()|0,2),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function HY(){return 1896}function zY(r,o,a){r=r|0,o=o|0,a=a|0,VY(e[(YY(r)|0)>>2]|0,o,a);return}function YY(r){return r=r|0,(e[(wL()|0)+24>>2]|0)+(r<<3)|0}function VY(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;h=A,A=A+16|0,y=h+4|0,g=h,WY(y,o),o=jY(y,o)|0,L0(g,a),a=Sf(g,a)|0,td[r&31](o,a),P0(g),A=h;return}function WY(r,o){r=r|0,o=o|0;return}function jY(r,o){return r=r|0,o=o|0,QY(o)|0}function QY(r){return r=r|0,r|0}function qY(){var r=0;return s[8080]|0||(RB(11040),Qt(70,11040,O|0)|0,r=8080,e[r>>2]=1,e[r+4>>2]=0),hr(11040)|0||RB(11040),11040}function RB(r){r=r|0,KY(r),zr(r,71);return}function JY(r){r=r|0,ZY(r+24|0);return}function ZY(r){r=r|0;var o=0,a=0,h=0;a=e[r>>2]|0,h=a,a|0&&(r=r+4|0,o=e[r>>2]|0,(o|0)!=(a|0)&&(e[r>>2]=o+(~((o+-8-h|0)>>>3)<<3)),Ut(a));return}function KY(r){r=r|0;var o=0;o=Fr()|0,Br(r,5,7,o,nV()|0,0),e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0;return}function $Y(r){r=r|0,eV(r);return}function eV(r){r=r|0,tV(r);return}function tV(r){r=r|0,s[r+8>>0]=1;return}function nV(){return 1936}function rV(){return iV()|0}function iV(){var r=0,o=0,a=0,h=0,g=0,y=0,M=0;return o=A,A=A+16|0,g=o+4|0,M=o,a=ac(8)|0,r=a,y=r+4|0,e[y>>2]=fn(1)|0,h=fn(8)|0,y=e[y>>2]|0,e[M>>2]=0,e[g>>2]=e[M>>2],oV(h,y,g),e[a>>2]=h,A=o,r|0}function oV(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]=o,a=fn(16)|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=1916,e[a+12>>2]=o,e[r+4>>2]=a;return}function sV(r){r=r|0,Dg(r),Ut(r);return}function aV(r){r=r|0,r=e[r+12>>2]|0,r|0&&Ut(r);return}function lV(r){r=r|0,Ut(r);return}function uV(){var r=0;return s[8088]|0||(vV(11076),Qt(25,11076,O|0)|0,r=8088,e[r>>2]=1,e[r+4>>2]=0),11076}function cV(r,o){r=r|0,o=o|0,e[r>>2]=fV()|0,e[r+4>>2]=hV()|0,e[r+12>>2]=o,e[r+8>>2]=dV()|0,e[r+32>>2]=10;return}function fV(){return 11745}function hV(){return 1940}function dV(){return Lp()|0}function pV(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,(Fs(h,896)|0)==512?a|0&&(mV(a),Ut(a)):o|0&&Ut(o);return}function mV(r){r=r|0,r=e[r+4>>2]|0,r|0&&Bp(r);return}function vV(r){r=r|0,Af(r);return}function Df(r,o){r=r|0,o=o|0,e[r>>2]=o;return}function AL(r){return r=r|0,e[r>>2]|0}function gV(r){return r=r|0,s[e[r>>2]>>0]|0}function yV(r,o){r=r|0,o=o|0;var a=0,h=0;a=A,A=A+16|0,h=a,e[h>>2]=e[r>>2],xV(o,h)|0,A=a;return}function xV(r,o){r=r|0,o=o|0;var a=0;return a=EV(e[r>>2]|0,o)|0,o=r+4|0,e[(e[o>>2]|0)+8>>2]=a,e[(e[o>>2]|0)+8>>2]|0}function EV(r,o){r=r|0,o=o|0;var a=0,h=0;return a=A,A=A+16|0,h=a,lc(h),r=xs(r)|0,o=wV(r,e[o>>2]|0)|0,uc(h),A=a,o|0}function lc(r){r=r|0,e[r>>2]=e[2701],e[r+4>>2]=e[2703];return}function wV(r,o){r=r|0,o=o|0;var a=0;return a=Ea(AV()|0)|0,Pu(0,a|0,r|0,mL(o)|0)|0}function uc(r){r=r|0,EB(e[r>>2]|0,e[r+4>>2]|0);return}function AV(){var r=0;return s[8096]|0||(_V(11120),r=8096,e[r>>2]=1,e[r+4>>2]=0),11120}function _V(r){r=r|0,Js(r,MV()|0,1);return}function MV(){return 1948}function SV(){TV();return}function TV(){var r=0,o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0;if(nt=A,A=A+16|0,V=nt+4|0,Z=nt,Kt(65536,10804,e[2702]|0,10812),a=tB()|0,o=e[a>>2]|0,r=e[o>>2]|0,r|0)for(h=e[a+8>>2]|0,a=e[a+4>>2]|0;Kr(r|0,p[a>>0]|0|0,s[h>>0]|0),o=o+4|0,r=e[o>>2]|0,r;)h=h+1|0,a=a+1|0;if(r=nB()|0,o=e[r>>2]|0,o|0)do ca(o|0,e[r+4>>2]|0),r=r+8|0,o=e[r>>2]|0;while((o|0)!=0);ca(bV()|0,5167),W=bg()|0,r=e[W>>2]|0;e:do if(r|0){do CV(e[r+4>>2]|0),r=e[r>>2]|0;while((r|0)!=0);if(r=e[W>>2]|0,r|0){k=W;do{for(;!(g=r,r=e[r>>2]|0,g=e[g+4>>2]|0,!(LV(g)|0));)if(e[Z>>2]=k,e[V>>2]=e[Z>>2],PV(W,V)|0,!r)break e;if(RV(g),k=e[k>>2]|0,o=DB(g)|0,y=ks()|0,M=A,A=A+((1*(o<<2)|0)+15&-16)|0,F=A,A=A+((1*(o<<2)|0)+15&-16)|0,o=e[(pB(g)|0)>>2]|0,o|0)for(a=M,h=F;e[a>>2]=e[(Cg(e[o+4>>2]|0)|0)>>2],e[h>>2]=e[o+8>>2],o=e[o>>2]|0,o;)a=a+4|0,h=h+4|0;Ke=Cg(g)|0,o=DV(g)|0,a=DB(g)|0,h=FV(g)|0,tu(Ke|0,o|0,M|0,F|0,a|0,h|0,uL(g)|0),Zn(y|0)}while((r|0)!=0)}}while(0);if(r=e[(cL()|0)>>2]|0,r|0)do Ke=r+4|0,W=fL(Ke)|0,g=dE(W)|0,y=fE(W)|0,M=(hE(W)|0)+1|0,F=wM(W)|0,k=FB(Ke)|0,W=hr(W)|0,V=yM(Ke)|0,Z=_L(Ke)|0,fa(0,g|0,y|0,M|0,F|0,k|0,W|0,V|0,Z|0,ML(Ke)|0),r=e[r>>2]|0;while((r|0)!=0);r=e[(bg()|0)>>2]|0;e:do if(r|0){t:for(;;){if(o=e[r+4>>2]|0,o|0?(ye=e[(Cg(o)|0)>>2]|0,ht=e[(mB(o)|0)>>2]|0,ht|0):0){a=ht;do{o=a+4|0,h=fL(o)|0;n:do if(h|0)switch(hr(h)|0){case 0:break t;case 4:case 3:case 2:{F=dE(h)|0,k=fE(h)|0,W=(hE(h)|0)+1|0,V=wM(h)|0,Z=hr(h)|0,Ke=yM(o)|0,fa(ye|0,F|0,k|0,W|0,V|0,0,Z|0,Ke|0,_L(o)|0,ML(o)|0);break n}case 1:{M=dE(h)|0,F=fE(h)|0,k=(hE(h)|0)+1|0,W=wM(h)|0,V=FB(o)|0,Z=hr(h)|0,Ke=yM(o)|0,fa(ye|0,M|0,F|0,k|0,W|0,V|0,Z|0,Ke|0,_L(o)|0,ML(o)|0);break n}case 5:{W=dE(h)|0,V=fE(h)|0,Z=(hE(h)|0)+1|0,Ke=wM(h)|0,fa(ye|0,W|0,V|0,Z|0,Ke|0,BV(h)|0,hr(h)|0,0,0,0);break n}default:break n}while(0);a=e[a>>2]|0}while((a|0)!=0)}if(r=e[r>>2]|0,!r)break e}kn()}while(0);Uo(),A=nt;return}function bV(){return 11703}function CV(r){r=r|0,s[r+40>>0]=0;return}function LV(r){return r=r|0,(s[r+40>>0]|0)!=0|0}function PV(r,o){return r=r|0,o=o|0,o=NV(o)|0,r=e[o>>2]|0,e[o>>2]=e[r>>2],Ut(r),e[o>>2]|0}function RV(r){r=r|0,s[r+40>>0]=1;return}function DB(r){return r=r|0,e[r+20>>2]|0}function DV(r){return r=r|0,e[r+8>>2]|0}function FV(r){return r=r|0,e[r+32>>2]|0}function wM(r){return r=r|0,e[r+4>>2]|0}function FB(r){return r=r|0,e[r+4>>2]|0}function _L(r){return r=r|0,e[r+8>>2]|0}function ML(r){return r=r|0,e[r+16>>2]|0}function BV(r){return r=r|0,e[r+20>>2]|0}function NV(r){return r=r|0,e[r>>2]|0}function AM(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0,Lt=0,ot=0,ct=0,tn=0;tn=A,A=A+16|0,ye=tn;do if(r>>>0<245){if(W=r>>>0<11?16:r+11&-8,r=W>>>3,Z=e[2783]|0,a=Z>>>r,a&3|0)return o=(a&1^1)+r|0,r=11172+(o<<1<<2)|0,a=r+8|0,h=e[a>>2]|0,g=h+8|0,y=e[g>>2]|0,(r|0)==(y|0)?e[2783]=Z&~(1<<o):(e[y+12>>2]=r,e[a>>2]=y),ct=o<<3,e[h+4>>2]=ct|3,ct=h+ct+4|0,e[ct>>2]=e[ct>>2]|1,ct=g,A=tn,ct|0;if(V=e[2785]|0,W>>>0>V>>>0){if(a|0)return o=2<<r,o=a<<r&(o|0-o),o=(o&0-o)+-1|0,M=o>>>12&16,o=o>>>M,a=o>>>5&8,o=o>>>a,g=o>>>2&4,o=o>>>g,r=o>>>1&2,o=o>>>r,h=o>>>1&1,h=(a|M|g|r|h)+(o>>>h)|0,o=11172+(h<<1<<2)|0,r=o+8|0,g=e[r>>2]|0,M=g+8|0,a=e[M>>2]|0,(o|0)==(a|0)?(r=Z&~(1<<h),e[2783]=r):(e[a+12>>2]=o,e[r>>2]=a,r=Z),y=(h<<3)-W|0,e[g+4>>2]=W|3,h=g+W|0,e[h+4>>2]=y|1,e[h+y>>2]=y,V|0&&(g=e[2788]|0,o=V>>>3,a=11172+(o<<1<<2)|0,o=1<<o,r&o?(r=a+8|0,o=e[r>>2]|0):(e[2783]=r|o,o=a,r=a+8|0),e[r>>2]=g,e[o+12>>2]=g,e[g+8>>2]=o,e[g+12>>2]=a),e[2785]=y,e[2788]=h,ct=M,A=tn,ct|0;if(F=e[2784]|0,F){if(a=(F&0-F)+-1|0,M=a>>>12&16,a=a>>>M,y=a>>>5&8,a=a>>>y,k=a>>>2&4,a=a>>>k,h=a>>>1&2,a=a>>>h,r=a>>>1&1,r=e[11436+((y|M|k|h|r)+(a>>>r)<<2)>>2]|0,a=(e[r+4>>2]&-8)-W|0,h=e[r+16+(((e[r+16>>2]|0)==0&1)<<2)>>2]|0,!h)k=r,y=a;else{do M=(e[h+4>>2]&-8)-W|0,k=M>>>0<a>>>0,a=k?M:a,r=k?h:r,h=e[h+16+(((e[h+16>>2]|0)==0&1)<<2)>>2]|0;while((h|0)!=0);k=r,y=a}if(M=k+W|0,k>>>0<M>>>0){g=e[k+24>>2]|0,o=e[k+12>>2]|0;do if((o|0)==(k|0)){if(r=k+20|0,o=e[r>>2]|0,!o&&(r=k+16|0,o=e[r>>2]|0,!o)){a=0;break}for(;;){if(a=o+20|0,h=e[a>>2]|0,h|0){o=h,r=a;continue}if(a=o+16|0,h=e[a>>2]|0,h)o=h,r=a;else break}e[r>>2]=0,a=o}else a=e[k+8>>2]|0,e[a+12>>2]=o,e[o+8>>2]=a,a=o;while(0);do if(g|0){if(o=e[k+28>>2]|0,r=11436+(o<<2)|0,(k|0)==(e[r>>2]|0)){if(e[r>>2]=a,!a){e[2784]=F&~(1<<o);break}}else if(e[g+16+(((e[g+16>>2]|0)!=(k|0)&1)<<2)>>2]=a,!a)break;e[a+24>>2]=g,o=e[k+16>>2]|0,o|0&&(e[a+16>>2]=o,e[o+24>>2]=a),o=e[k+20>>2]|0,o|0&&(e[a+20>>2]=o,e[o+24>>2]=a)}while(0);return y>>>0<16?(ct=y+W|0,e[k+4>>2]=ct|3,ct=k+ct+4|0,e[ct>>2]=e[ct>>2]|1):(e[k+4>>2]=W|3,e[M+4>>2]=y|1,e[M+y>>2]=y,V|0&&(h=e[2788]|0,o=V>>>3,a=11172+(o<<1<<2)|0,o=1<<o,Z&o?(r=a+8|0,o=e[r>>2]|0):(e[2783]=Z|o,o=a,r=a+8|0),e[r>>2]=h,e[o+12>>2]=h,e[h+8>>2]=o,e[h+12>>2]=a),e[2785]=y,e[2788]=M),ct=k+8|0,A=tn,ct|0}else Z=W}else Z=W}else Z=W}else if(r>>>0<=4294967231)if(r=r+11|0,W=r&-8,k=e[2784]|0,k){h=0-W|0,r=r>>>8,r?W>>>0>16777215?F=31:(Z=(r+1048320|0)>>>16&8,ot=r<<Z,V=(ot+520192|0)>>>16&4,ot=ot<<V,F=(ot+245760|0)>>>16&2,F=14-(V|Z|F)+(ot<<F>>>15)|0,F=W>>>(F+7|0)&1|F<<1):F=0,a=e[11436+(F<<2)>>2]|0;e:do if(!a)a=0,r=0,ot=57;else for(r=0,M=W<<((F|0)==31?0:25-(F>>>1)|0),y=0;;){if(g=(e[a+4>>2]&-8)-W|0,g>>>0<h>>>0)if(g)r=a,h=g;else{r=a,h=0,g=a,ot=61;break e}if(g=e[a+20>>2]|0,a=e[a+16+(M>>>31<<2)>>2]|0,y=(g|0)==0|(g|0)==(a|0)?y:g,g=(a|0)==0,g){a=y,ot=57;break}else M=M<<((g^1)&1)}while(0);if((ot|0)==57){if((a|0)==0&(r|0)==0){if(r=2<<F,r=k&(r|0-r),!r){Z=W;break}Z=(r&0-r)+-1|0,M=Z>>>12&16,Z=Z>>>M,y=Z>>>5&8,Z=Z>>>y,F=Z>>>2&4,Z=Z>>>F,V=Z>>>1&2,Z=Z>>>V,a=Z>>>1&1,r=0,a=e[11436+((y|M|F|V|a)+(Z>>>a)<<2)>>2]|0}a?(g=a,ot=61):(F=r,M=h)}if((ot|0)==61)for(;;)if(ot=0,a=(e[g+4>>2]&-8)-W|0,Z=a>>>0<h>>>0,a=Z?a:h,r=Z?g:r,g=e[g+16+(((e[g+16>>2]|0)==0&1)<<2)>>2]|0,g)h=a,ot=61;else{F=r,M=a;break}if((F|0)!=0?M>>>0<((e[2785]|0)-W|0)>>>0:0){if(y=F+W|0,F>>>0>=y>>>0)return ct=0,A=tn,ct|0;g=e[F+24>>2]|0,o=e[F+12>>2]|0;do if((o|0)==(F|0)){if(r=F+20|0,o=e[r>>2]|0,!o&&(r=F+16|0,o=e[r>>2]|0,!o)){o=0;break}for(;;){if(a=o+20|0,h=e[a>>2]|0,h|0){o=h,r=a;continue}if(a=o+16|0,h=e[a>>2]|0,h)o=h,r=a;else break}e[r>>2]=0}else ct=e[F+8>>2]|0,e[ct+12>>2]=o,e[o+8>>2]=ct;while(0);do if(g){if(r=e[F+28>>2]|0,a=11436+(r<<2)|0,(F|0)==(e[a>>2]|0)){if(e[a>>2]=o,!o){h=k&~(1<<r),e[2784]=h;break}}else if(e[g+16+(((e[g+16>>2]|0)!=(F|0)&1)<<2)>>2]=o,!o){h=k;break}e[o+24>>2]=g,r=e[F+16>>2]|0,r|0&&(e[o+16>>2]=r,e[r+24>>2]=o),r=e[F+20>>2]|0,r&&(e[o+20>>2]=r,e[r+24>>2]=o),h=k}else h=k;while(0);do if(M>>>0>=16){if(e[F+4>>2]=W|3,e[y+4>>2]=M|1,e[y+M>>2]=M,o=M>>>3,M>>>0<256){a=11172+(o<<1<<2)|0,r=e[2783]|0,o=1<<o,r&o?(r=a+8|0,o=e[r>>2]|0):(e[2783]=r|o,o=a,r=a+8|0),e[r>>2]=y,e[o+12>>2]=y,e[y+8>>2]=o,e[y+12>>2]=a;break}if(o=M>>>8,o?M>>>0>16777215?o=31:(ot=(o+1048320|0)>>>16&8,ct=o<<ot,Lt=(ct+520192|0)>>>16&4,ct=ct<<Lt,o=(ct+245760|0)>>>16&2,o=14-(Lt|ot|o)+(ct<<o>>>15)|0,o=M>>>(o+7|0)&1|o<<1):o=0,a=11436+(o<<2)|0,e[y+28>>2]=o,r=y+16|0,e[r+4>>2]=0,e[r>>2]=0,r=1<<o,!(h&r)){e[2784]=h|r,e[a>>2]=y,e[y+24>>2]=a,e[y+12>>2]=y,e[y+8>>2]=y;break}for(r=M<<((o|0)==31?0:25-(o>>>1)|0),a=e[a>>2]|0;;){if((e[a+4>>2]&-8|0)==(M|0)){ot=97;break}if(h=a+16+(r>>>31<<2)|0,o=e[h>>2]|0,o)r=r<<1,a=o;else{ot=96;break}}if((ot|0)==96){e[h>>2]=y,e[y+24>>2]=a,e[y+12>>2]=y,e[y+8>>2]=y;break}else if((ot|0)==97){ot=a+8|0,ct=e[ot>>2]|0,e[ct+12>>2]=y,e[ot>>2]=y,e[y+8>>2]=ct,e[y+12>>2]=a,e[y+24>>2]=0;break}}else ct=M+W|0,e[F+4>>2]=ct|3,ct=F+ct+4|0,e[ct>>2]=e[ct>>2]|1;while(0);return ct=F+8|0,A=tn,ct|0}else Z=W}else Z=W;else Z=-1;while(0);if(a=e[2785]|0,a>>>0>=Z>>>0)return o=a-Z|0,r=e[2788]|0,o>>>0>15?(ct=r+Z|0,e[2788]=ct,e[2785]=o,e[ct+4>>2]=o|1,e[ct+o>>2]=o,e[r+4>>2]=Z|3):(e[2785]=0,e[2788]=0,e[r+4>>2]=a|3,ct=r+a+4|0,e[ct>>2]=e[ct>>2]|1),ct=r+8|0,A=tn,ct|0;if(M=e[2786]|0,M>>>0>Z>>>0)return Lt=M-Z|0,e[2786]=Lt,ct=e[2789]|0,ot=ct+Z|0,e[2789]=ot,e[ot+4>>2]=Lt|1,e[ct+4>>2]=Z|3,ct=ct+8|0,A=tn,ct|0;if(e[2901]|0?r=e[2903]|0:(e[2903]=4096,e[2902]=4096,e[2904]=-1,e[2905]=-1,e[2906]=0,e[2894]=0,r=ye&-16^1431655768,e[ye>>2]=r,e[2901]=r,r=4096),F=Z+48|0,k=Z+47|0,y=r+k|0,g=0-r|0,W=y&g,W>>>0<=Z>>>0)return ct=0,A=tn,ct|0;if(r=e[2893]|0,r|0?(V=e[2891]|0,ye=V+W|0,ye>>>0<=V>>>0|ye>>>0>r>>>0):0)return ct=0,A=tn,ct|0;e:do if(e[2894]&4)o=0,ot=133;else{a=e[2789]|0;t:do if(a){for(h=11580;!(r=e[h>>2]|0,r>>>0<=a>>>0?(Ke=h+4|0,(r+(e[Ke>>2]|0)|0)>>>0>a>>>0):0);)if(r=e[h+8>>2]|0,r)h=r;else{ot=118;break t}if(o=y-M&g,o>>>0<2147483647)if(r=Np(o|0)|0,(r|0)==((e[h>>2]|0)+(e[Ke>>2]|0)|0)){if((r|0)!=(-1|0)){M=o,y=r,ot=135;break e}}else h=r,ot=126;else o=0}else ot=118;while(0);do if((ot|0)==118)if(a=Np(0)|0,(a|0)!=(-1|0)?(o=a,ht=e[2902]|0,nt=ht+-1|0,o=((nt&o|0)==0?0:(nt+o&0-ht)-o|0)+W|0,ht=e[2891]|0,nt=o+ht|0,o>>>0>Z>>>0&o>>>0<2147483647):0){if(Ke=e[2893]|0,Ke|0?nt>>>0<=ht>>>0|nt>>>0>Ke>>>0:0){o=0;break}if(r=Np(o|0)|0,(r|0)==(a|0)){M=o,y=a,ot=135;break e}else h=r,ot=126}else o=0;while(0);do if((ot|0)==126){if(a=0-o|0,!(F>>>0>o>>>0&(o>>>0<2147483647&(h|0)!=(-1|0))))if((h|0)==(-1|0)){o=0;break}else{M=o,y=h,ot=135;break e}if(r=e[2903]|0,r=k-o+r&0-r,r>>>0>=2147483647){M=o,y=h,ot=135;break e}if((Np(r|0)|0)==(-1|0)){Np(a|0)|0,o=0;break}else{M=r+o|0,y=h,ot=135;break e}}while(0);e[2894]=e[2894]|4,ot=133}while(0);if((((ot|0)==133?W>>>0<2147483647:0)?(Lt=Np(W|0)|0,Ke=Np(0)|0,_t=Ke-Lt|0,yt=_t>>>0>(Z+40|0)>>>0,!((Lt|0)==(-1|0)|yt^1|Lt>>>0<Ke>>>0&((Lt|0)!=(-1|0)&(Ke|0)!=(-1|0))^1)):0)&&(M=yt?_t:o,y=Lt,ot=135),(ot|0)==135){o=(e[2891]|0)+M|0,e[2891]=o,o>>>0>(e[2892]|0)>>>0&&(e[2892]=o),k=e[2789]|0;do if(k){for(o=11580;;){if(r=e[o>>2]|0,a=o+4|0,h=e[a>>2]|0,(y|0)==(r+h|0)){ot=145;break}if(g=e[o+8>>2]|0,g)o=g;else break}if(((ot|0)==145?(e[o+12>>2]&8|0)==0:0)?k>>>0<y>>>0&k>>>0>=r>>>0:0){e[a>>2]=h+M,ct=k+8|0,ct=(ct&7|0)==0?0:0-ct&7,ot=k+ct|0,ct=(e[2786]|0)+(M-ct)|0,e[2789]=ot,e[2786]=ct,e[ot+4>>2]=ct|1,e[ot+ct+4>>2]=40,e[2790]=e[2905];break}for(y>>>0<(e[2787]|0)>>>0&&(e[2787]=y),a=y+M|0,o=11580;;){if((e[o>>2]|0)==(a|0)){ot=153;break}if(r=e[o+8>>2]|0,r)o=r;else break}if((ot|0)==153?(e[o+12>>2]&8|0)==0:0){e[o>>2]=y,V=o+4|0,e[V>>2]=(e[V>>2]|0)+M,V=y+8|0,V=y+((V&7|0)==0?0:0-V&7)|0,o=a+8|0,o=a+((o&7|0)==0?0:0-o&7)|0,W=V+Z|0,F=o-V-Z|0,e[V+4>>2]=Z|3;do if((o|0)!=(k|0)){if((o|0)==(e[2788]|0)){ct=(e[2785]|0)+F|0,e[2785]=ct,e[2788]=W,e[W+4>>2]=ct|1,e[W+ct>>2]=ct;break}if(r=e[o+4>>2]|0,(r&3|0)==1){M=r&-8,h=r>>>3;e:do if(r>>>0<256)if(r=e[o+8>>2]|0,a=e[o+12>>2]|0,(a|0)==(r|0)){e[2783]=e[2783]&~(1<<h);break}else{e[r+12>>2]=a,e[a+8>>2]=r;break}else{y=e[o+24>>2]|0,r=e[o+12>>2]|0;do if((r|0)==(o|0)){if(h=o+16|0,a=h+4|0,r=e[a>>2]|0,!r)if(r=e[h>>2]|0,r)a=h;else{r=0;break}for(;;){if(h=r+20|0,g=e[h>>2]|0,g|0){r=g,a=h;continue}if(h=r+16|0,g=e[h>>2]|0,g)r=g,a=h;else break}e[a>>2]=0}else ct=e[o+8>>2]|0,e[ct+12>>2]=r,e[r+8>>2]=ct;while(0);if(!y)break;a=e[o+28>>2]|0,h=11436+(a<<2)|0;do if((o|0)!=(e[h>>2]|0)){if(e[y+16+(((e[y+16>>2]|0)!=(o|0)&1)<<2)>>2]=r,!r)break e}else{if(e[h>>2]=r,r|0)break;e[2784]=e[2784]&~(1<<a);break e}while(0);if(e[r+24>>2]=y,a=o+16|0,h=e[a>>2]|0,h|0&&(e[r+16>>2]=h,e[h+24>>2]=r),a=e[a+4>>2]|0,!a)break;e[r+20>>2]=a,e[a+24>>2]=r}while(0);o=o+M|0,g=M+F|0}else g=F;if(o=o+4|0,e[o>>2]=e[o>>2]&-2,e[W+4>>2]=g|1,e[W+g>>2]=g,o=g>>>3,g>>>0<256){a=11172+(o<<1<<2)|0,r=e[2783]|0,o=1<<o,r&o?(r=a+8|0,o=e[r>>2]|0):(e[2783]=r|o,o=a,r=a+8|0),e[r>>2]=W,e[o+12>>2]=W,e[W+8>>2]=o,e[W+12>>2]=a;break}o=g>>>8;do if(!o)o=0;else{if(g>>>0>16777215){o=31;break}ot=(o+1048320|0)>>>16&8,ct=o<<ot,Lt=(ct+520192|0)>>>16&4,ct=ct<<Lt,o=(ct+245760|0)>>>16&2,o=14-(Lt|ot|o)+(ct<<o>>>15)|0,o=g>>>(o+7|0)&1|o<<1}while(0);if(h=11436+(o<<2)|0,e[W+28>>2]=o,r=W+16|0,e[r+4>>2]=0,e[r>>2]=0,r=e[2784]|0,a=1<<o,!(r&a)){e[2784]=r|a,e[h>>2]=W,e[W+24>>2]=h,e[W+12>>2]=W,e[W+8>>2]=W;break}for(r=g<<((o|0)==31?0:25-(o>>>1)|0),a=e[h>>2]|0;;){if((e[a+4>>2]&-8|0)==(g|0)){ot=194;break}if(h=a+16+(r>>>31<<2)|0,o=e[h>>2]|0,o)r=r<<1,a=o;else{ot=193;break}}if((ot|0)==193){e[h>>2]=W,e[W+24>>2]=a,e[W+12>>2]=W,e[W+8>>2]=W;break}else if((ot|0)==194){ot=a+8|0,ct=e[ot>>2]|0,e[ct+12>>2]=W,e[ot>>2]=W,e[W+8>>2]=ct,e[W+12>>2]=a,e[W+24>>2]=0;break}}else ct=(e[2786]|0)+F|0,e[2786]=ct,e[2789]=W,e[W+4>>2]=ct|1;while(0);return ct=V+8|0,A=tn,ct|0}for(o=11580;!(r=e[o>>2]|0,r>>>0<=k>>>0?(ct=r+(e[o+4>>2]|0)|0,ct>>>0>k>>>0):0);)o=e[o+8>>2]|0;g=ct+-47|0,r=g+8|0,r=g+((r&7|0)==0?0:0-r&7)|0,g=k+16|0,r=r>>>0<g>>>0?k:r,o=r+8|0,a=y+8|0,a=(a&7|0)==0?0:0-a&7,ot=y+a|0,a=M+-40-a|0,e[2789]=ot,e[2786]=a,e[ot+4>>2]=a|1,e[ot+a+4>>2]=40,e[2790]=e[2905],a=r+4|0,e[a>>2]=27,e[o>>2]=e[2895],e[o+4>>2]=e[2896],e[o+8>>2]=e[2897],e[o+12>>2]=e[2898],e[2895]=y,e[2896]=M,e[2898]=0,e[2897]=o,o=r+24|0;do ot=o,o=o+4|0,e[o>>2]=7;while((ot+8|0)>>>0<ct>>>0);if((r|0)!=(k|0)){if(y=r-k|0,e[a>>2]=e[a>>2]&-2,e[k+4>>2]=y|1,e[r>>2]=y,o=y>>>3,y>>>0<256){a=11172+(o<<1<<2)|0,r=e[2783]|0,o=1<<o,r&o?(r=a+8|0,o=e[r>>2]|0):(e[2783]=r|o,o=a,r=a+8|0),e[r>>2]=k,e[o+12>>2]=k,e[k+8>>2]=o,e[k+12>>2]=a;break}if(o=y>>>8,o?y>>>0>16777215?a=31:(ot=(o+1048320|0)>>>16&8,ct=o<<ot,Lt=(ct+520192|0)>>>16&4,ct=ct<<Lt,a=(ct+245760|0)>>>16&2,a=14-(Lt|ot|a)+(ct<<a>>>15)|0,a=y>>>(a+7|0)&1|a<<1):a=0,h=11436+(a<<2)|0,e[k+28>>2]=a,e[k+20>>2]=0,e[g>>2]=0,o=e[2784]|0,r=1<<a,!(o&r)){e[2784]=o|r,e[h>>2]=k,e[k+24>>2]=h,e[k+12>>2]=k,e[k+8>>2]=k;break}for(r=y<<((a|0)==31?0:25-(a>>>1)|0),a=e[h>>2]|0;;){if((e[a+4>>2]&-8|0)==(y|0)){ot=216;break}if(h=a+16+(r>>>31<<2)|0,o=e[h>>2]|0,o)r=r<<1,a=o;else{ot=215;break}}if((ot|0)==215){e[h>>2]=k,e[k+24>>2]=a,e[k+12>>2]=k,e[k+8>>2]=k;break}else if((ot|0)==216){ot=a+8|0,ct=e[ot>>2]|0,e[ct+12>>2]=k,e[ot>>2]=k,e[k+8>>2]=ct,e[k+12>>2]=a,e[k+24>>2]=0;break}}}else{ct=e[2787]|0,(ct|0)==0|y>>>0<ct>>>0&&(e[2787]=y),e[2895]=y,e[2896]=M,e[2898]=0,e[2792]=e[2901],e[2791]=-1,o=0;do ct=11172+(o<<1<<2)|0,e[ct+12>>2]=ct,e[ct+8>>2]=ct,o=o+1|0;while((o|0)!=32);ct=y+8|0,ct=(ct&7|0)==0?0:0-ct&7,ot=y+ct|0,ct=M+-40-ct|0,e[2789]=ot,e[2786]=ct,e[ot+4>>2]=ct|1,e[ot+ct+4>>2]=40,e[2790]=e[2905]}while(0);if(o=e[2786]|0,o>>>0>Z>>>0)return Lt=o-Z|0,e[2786]=Lt,ct=e[2789]|0,ot=ct+Z|0,e[2789]=ot,e[ot+4>>2]=Lt|1,e[ct+4>>2]=Z|3,ct=ct+8|0,A=tn,ct|0}return e[(Pg()|0)>>2]=12,ct=0,A=tn,ct|0}function _M(r){r=r|0;var o=0,a=0,h=0,g=0,y=0,M=0,F=0,k=0;if(!r)return;a=r+-8|0,g=e[2787]|0,r=e[r+-4>>2]|0,o=r&-8,k=a+o|0;do if(r&1)F=a,M=a;else{if(h=e[a>>2]|0,!(r&3))return;if(M=a+(0-h)|0,y=h+o|0,M>>>0<g>>>0)return;if((M|0)==(e[2788]|0)){if(r=k+4|0,o=e[r>>2]|0,(o&3|0)!=3){F=M,o=y;break}e[2785]=y,e[r>>2]=o&-2,e[M+4>>2]=y|1,e[M+y>>2]=y;return}if(a=h>>>3,h>>>0<256)if(r=e[M+8>>2]|0,o=e[M+12>>2]|0,(o|0)==(r|0)){e[2783]=e[2783]&~(1<<a),F=M,o=y;break}else{e[r+12>>2]=o,e[o+8>>2]=r,F=M,o=y;break}g=e[M+24>>2]|0,r=e[M+12>>2]|0;do if((r|0)==(M|0)){if(a=M+16|0,o=a+4|0,r=e[o>>2]|0,!r)if(r=e[a>>2]|0,r)o=a;else{r=0;break}for(;;){if(a=r+20|0,h=e[a>>2]|0,h|0){r=h,o=a;continue}if(a=r+16|0,h=e[a>>2]|0,h)r=h,o=a;else break}e[o>>2]=0}else F=e[M+8>>2]|0,e[F+12>>2]=r,e[r+8>>2]=F;while(0);if(g){if(o=e[M+28>>2]|0,a=11436+(o<<2)|0,(M|0)==(e[a>>2]|0)){if(e[a>>2]=r,!r){e[2784]=e[2784]&~(1<<o),F=M,o=y;break}}else if(e[g+16+(((e[g+16>>2]|0)!=(M|0)&1)<<2)>>2]=r,!r){F=M,o=y;break}e[r+24>>2]=g,o=M+16|0,a=e[o>>2]|0,a|0&&(e[r+16>>2]=a,e[a+24>>2]=r),o=e[o+4>>2]|0,o?(e[r+20>>2]=o,e[o+24>>2]=r,F=M,o=y):(F=M,o=y)}else F=M,o=y}while(0);if(M>>>0>=k>>>0)return;if(r=k+4|0,h=e[r>>2]|0,!(h&1))return;if(h&2)e[r>>2]=h&-2,e[F+4>>2]=o|1,e[M+o>>2]=o,g=o;else{if(r=e[2788]|0,(k|0)==(e[2789]|0)){if(k=(e[2786]|0)+o|0,e[2786]=k,e[2789]=F,e[F+4>>2]=k|1,(F|0)!=(r|0))return;e[2788]=0,e[2785]=0;return}if((k|0)==(r|0)){k=(e[2785]|0)+o|0,e[2785]=k,e[2788]=M,e[F+4>>2]=k|1,e[M+k>>2]=k;return}g=(h&-8)+o|0,a=h>>>3;do if(h>>>0<256)if(o=e[k+8>>2]|0,r=e[k+12>>2]|0,(r|0)==(o|0)){e[2783]=e[2783]&~(1<<a);break}else{e[o+12>>2]=r,e[r+8>>2]=o;break}else{y=e[k+24>>2]|0,r=e[k+12>>2]|0;do if((r|0)==(k|0)){if(a=k+16|0,o=a+4|0,r=e[o>>2]|0,!r)if(r=e[a>>2]|0,r)o=a;else{a=0;break}for(;;){if(a=r+20|0,h=e[a>>2]|0,h|0){r=h,o=a;continue}if(a=r+16|0,h=e[a>>2]|0,h)r=h,o=a;else break}e[o>>2]=0,a=r}else a=e[k+8>>2]|0,e[a+12>>2]=r,e[r+8>>2]=a,a=r;while(0);if(y|0){if(r=e[k+28>>2]|0,o=11436+(r<<2)|0,(k|0)==(e[o>>2]|0)){if(e[o>>2]=a,!a){e[2784]=e[2784]&~(1<<r);break}}else if(e[y+16+(((e[y+16>>2]|0)!=(k|0)&1)<<2)>>2]=a,!a)break;e[a+24>>2]=y,r=k+16|0,o=e[r>>2]|0,o|0&&(e[a+16>>2]=o,e[o+24>>2]=a),r=e[r+4>>2]|0,r|0&&(e[a+20>>2]=r,e[r+24>>2]=a)}}while(0);if(e[F+4>>2]=g|1,e[M+g>>2]=g,(F|0)==(e[2788]|0)){e[2785]=g;return}}if(r=g>>>3,g>>>0<256){a=11172+(r<<1<<2)|0,o=e[2783]|0,r=1<<r,o&r?(o=a+8|0,r=e[o>>2]|0):(e[2783]=o|r,r=a,o=a+8|0),e[o>>2]=F,e[r+12>>2]=F,e[F+8>>2]=r,e[F+12>>2]=a;return}r=g>>>8,r?g>>>0>16777215?r=31:(M=(r+1048320|0)>>>16&8,k=r<<M,y=(k+520192|0)>>>16&4,k=k<<y,r=(k+245760|0)>>>16&2,r=14-(y|M|r)+(k<<r>>>15)|0,r=g>>>(r+7|0)&1|r<<1):r=0,h=11436+(r<<2)|0,e[F+28>>2]=r,e[F+20>>2]=0,e[F+16>>2]=0,o=e[2784]|0,a=1<<r;do if(o&a){for(o=g<<((r|0)==31?0:25-(r>>>1)|0),a=e[h>>2]|0;;){if((e[a+4>>2]&-8|0)==(g|0)){r=73;break}if(h=a+16+(o>>>31<<2)|0,r=e[h>>2]|0,r)o=o<<1,a=r;else{r=72;break}}if((r|0)==72){e[h>>2]=F,e[F+24>>2]=a,e[F+12>>2]=F,e[F+8>>2]=F;break}else if((r|0)==73){M=a+8|0,k=e[M>>2]|0,e[k+12>>2]=F,e[M>>2]=F,e[F+8>>2]=k,e[F+12>>2]=a,e[F+24>>2]=0;break}}else e[2784]=o|a,e[h>>2]=F,e[F+24>>2]=h,e[F+12>>2]=F,e[F+8>>2]=F;while(0);if(k=(e[2791]|0)+-1|0,e[2791]=k,!k)r=11588;else return;for(;r=e[r>>2]|0,r;)r=r+8|0;e[2791]=-1;return}function IV(){return 11628}function OV(r){r=r|0;var o=0,a=0;return o=A,A=A+16|0,a=o,e[a>>2]=GV(e[r+60>>2]|0)|0,r=MM(xh(6,a|0)|0)|0,A=o,r|0}function BB(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0;Z=A,A=A+48|0,W=Z+16|0,y=Z,g=Z+32|0,F=r+28|0,h=e[F>>2]|0,e[g>>2]=h,k=r+20|0,h=(e[k>>2]|0)-h|0,e[g+4>>2]=h,e[g+8>>2]=o,e[g+12>>2]=a,h=h+a|0,M=r+60|0,e[y>>2]=e[M>>2],e[y+4>>2]=g,e[y+8>>2]=2,y=MM(t0(146,y|0)|0)|0;e:do if((h|0)!=(y|0)){for(o=2;!((y|0)<0);)if(h=h-y|0,ht=e[g+4>>2]|0,ye=y>>>0>ht>>>0,g=ye?g+8|0:g,o=(ye<<31>>31)+o|0,ht=y-(ye?ht:0)|0,e[g>>2]=(e[g>>2]|0)+ht,ye=g+4|0,e[ye>>2]=(e[ye>>2]|0)-ht,e[W>>2]=e[M>>2],e[W+4>>2]=g,e[W+8>>2]=o,y=MM(t0(146,W|0)|0)|0,(h|0)==(y|0)){V=3;break e}e[r+16>>2]=0,e[F>>2]=0,e[k>>2]=0,e[r>>2]=e[r>>2]|32,(o|0)==2?a=0:a=a-(e[g+4>>2]|0)|0}else V=3;while(0);return(V|0)==3&&(ht=e[r+44>>2]|0,e[r+16>>2]=ht+(e[r+48>>2]|0),e[F>>2]=ht,e[k>>2]=ht),A=Z,a|0}function UV(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;return g=A,A=A+32|0,y=g,h=g+20|0,e[y>>2]=e[r+60>>2],e[y+4>>2]=0,e[y+8>>2]=o,e[y+12>>2]=h,e[y+16>>2]=a,(MM(Bm(140,y|0)|0)|0)<0?(e[h>>2]=-1,r=-1):r=e[h>>2]|0,A=g,r|0}function MM(r){return r=r|0,r>>>0>4294963200&&(e[(Pg()|0)>>2]=0-r,r=-1),r|0}function Pg(){return(kV()|0)+64|0}function kV(){return SL()|0}function SL(){return 2084}function GV(r){return r=r|0,r|0}function XV(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;return g=A,A=A+32|0,h=g,e[r+36>>2]=1,((e[r>>2]&64|0)==0?(e[h>>2]=e[r+60>>2],e[h+4>>2]=21523,e[h+8>>2]=g+16,nu(54,h|0)|0):0)&&(s[r+75>>0]=-1),h=BB(r,o,a)|0,A=g,h|0}function NB(r,o){r=r|0,o=o|0;var a=0,h=0;if(a=s[r>>0]|0,h=s[o>>0]|0,a<<24>>24==0?1:a<<24>>24!=h<<24>>24)r=h;else{do r=r+1|0,o=o+1|0,a=s[r>>0]|0,h=s[o>>0]|0;while(!(a<<24>>24==0?1:a<<24>>24!=h<<24>>24));r=h}return(a&255)-(r&255)|0}function HV(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0;e:do if(!a)r=0;else{for(;!(h=s[r>>0]|0,g=s[o>>0]|0,h<<24>>24!=g<<24>>24);)if(a=a+-1|0,a)r=r+1|0,o=o+1|0;else{r=0;break e}r=(h&255)-(g&255)|0}while(0);return r|0}function IB(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0;Ke=A,A=A+224|0,V=Ke+120|0,Z=Ke+80|0,ht=Ke,nt=Ke+136|0,h=Z,g=h+40|0;do e[h>>2]=0,h=h+4|0;while((h|0)<(g|0));return e[V>>2]=e[a>>2],(TL(0,o,V,ht,Z)|0)<0?a=-1:((e[r+76>>2]|0)>-1?ye=zV(r)|0:ye=0,a=e[r>>2]|0,W=a&32,(s[r+74>>0]|0)<1&&(e[r>>2]=a&-33),h=r+48|0,e[h>>2]|0?a=TL(r,o,V,ht,Z)|0:(g=r+44|0,y=e[g>>2]|0,e[g>>2]=nt,M=r+28|0,e[M>>2]=nt,F=r+20|0,e[F>>2]=nt,e[h>>2]=80,k=r+16|0,e[k>>2]=nt+80,a=TL(r,o,V,ht,Z)|0,y&&(CM[e[r+36>>2]&7](r,0,0)|0,a=(e[F>>2]|0)==0?-1:a,e[g>>2]=y,e[h>>2]=0,e[k>>2]=0,e[M>>2]=0,e[F>>2]=0)),h=e[r>>2]|0,e[r>>2]=h|W,ye|0&&YV(r),a=(h&32|0)==0?a:-1),A=Ke,a|0}function TL(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0,Lt=0,ot=0,ct=0,tn=0,Cr=0,Ln=0,xn=0,ir=0,Ar=0,Cn=0;Cn=A,A=A+64|0,Ln=Cn+16|0,xn=Cn,tn=Cn+24|0,ir=Cn+8|0,Ar=Cn+20|0,e[Ln>>2]=o,Lt=(r|0)!=0,ot=tn+40|0,ct=ot,tn=tn+39|0,Cr=ir+4|0,M=0,y=0,V=0;e:for(;;){do if((y|0)>-1)if((M|0)>(2147483647-y|0)){e[(Pg()|0)>>2]=75,y=-1;break}else{y=M+y|0;break}while(0);if(M=s[o>>0]|0,M<<24>>24)F=o;else{yt=87;break}t:for(;;){switch(M<<24>>24){case 37:{M=F,yt=9;break t}case 0:{M=F;break t}default:}_t=F+1|0,e[Ln>>2]=_t,M=s[_t>>0]|0,F=_t}t:do if((yt|0)==9)for(;;){if(yt=0,(s[F+1>>0]|0)!=37)break t;if(M=M+1|0,F=F+2|0,e[Ln>>2]=F,(s[F>>0]|0)==37)yt=9;else break}while(0);if(M=M-o|0,Lt&&Bs(r,o,M),M|0){o=F;continue}k=F+1|0,M=(s[k>>0]|0)+-48|0,M>>>0<10?(_t=(s[F+2>>0]|0)==36,Ke=_t?M:-1,V=_t?1:V,k=_t?F+3|0:k):Ke=-1,e[Ln>>2]=k,M=s[k>>0]|0,F=(M<<24>>24)+-32|0;t:do if(F>>>0<32)for(W=0,Z=M;;){if(M=1<<F,!(M&75913)){M=Z;break t}if(W=M|W,k=k+1|0,e[Ln>>2]=k,M=s[k>>0]|0,F=(M<<24>>24)+-32|0,F>>>0>=32)break;Z=M}else W=0;while(0);if(M<<24>>24==42){if(F=k+1|0,M=(s[F>>0]|0)+-48|0,M>>>0<10?(s[k+2>>0]|0)==36:0)e[g+(M<<2)>>2]=10,M=e[h+((s[F>>0]|0)+-48<<3)>>2]|0,V=1,k=k+3|0;else{if(V|0){y=-1;break}Lt?(V=(e[a>>2]|0)+(4-1)&~(4-1),M=e[V>>2]|0,e[a>>2]=V+4,V=0,k=F):(M=0,V=0,k=F)}e[Ln>>2]=k,_t=(M|0)<0,M=_t?0-M|0:M,W=_t?W|8192:W}else{if(M=OB(Ln)|0,(M|0)<0){y=-1;break}k=e[Ln>>2]|0}do if((s[k>>0]|0)==46){if((s[k+1>>0]|0)!=42){e[Ln>>2]=k+1,F=OB(Ln)|0,k=e[Ln>>2]|0;break}if(Z=k+2|0,F=(s[Z>>0]|0)+-48|0,F>>>0<10?(s[k+3>>0]|0)==36:0){e[g+(F<<2)>>2]=10,F=e[h+((s[Z>>0]|0)+-48<<3)>>2]|0,k=k+4|0,e[Ln>>2]=k;break}if(V|0){y=-1;break e}Lt?(_t=(e[a>>2]|0)+(4-1)&~(4-1),F=e[_t>>2]|0,e[a>>2]=_t+4):F=0,e[Ln>>2]=Z,k=Z}else F=-1;while(0);for(nt=0;;){if(((s[k>>0]|0)+-65|0)>>>0>57){y=-1;break e}if(_t=k+1|0,e[Ln>>2]=_t,Z=s[(s[k>>0]|0)+-65+(5178+(nt*58|0))>>0]|0,ye=Z&255,(ye+-1|0)>>>0<8)nt=ye,k=_t;else break}if(!(Z<<24>>24)){y=-1;break}ht=(Ke|0)>-1;do if(Z<<24>>24==19)if(ht){y=-1;break e}else yt=49;else{if(ht){e[g+(Ke<<2)>>2]=ye,ht=h+(Ke<<3)|0,Ke=e[ht+4>>2]|0,yt=xn,e[yt>>2]=e[ht>>2],e[yt+4>>2]=Ke,yt=49;break}if(!Lt){y=0;break e}UB(xn,ye,a)}while(0);if((yt|0)==49?(yt=0,!Lt):0){M=0,o=_t;continue}k=s[k>>0]|0,k=(nt|0)!=0&(k&15|0)==3?k&-33:k,ht=W&-65537,Ke=(W&8192|0)==0?W:ht;t:do switch(k|0){case 110:switch((nt&255)<<24>>24){case 0:{e[e[xn>>2]>>2]=y,M=0,o=_t;continue e}case 1:{e[e[xn>>2]>>2]=y,M=0,o=_t;continue e}case 2:{M=e[xn>>2]|0,e[M>>2]=y,e[M+4>>2]=((y|0)<0)<<31>>31,M=0,o=_t;continue e}case 3:{l[e[xn>>2]>>1]=y,M=0,o=_t;continue e}case 4:{s[e[xn>>2]>>0]=y,M=0,o=_t;continue e}case 6:{e[e[xn>>2]>>2]=y,M=0,o=_t;continue e}case 7:{M=e[xn>>2]|0,e[M>>2]=y,e[M+4>>2]=((y|0)<0)<<31>>31,M=0,o=_t;continue e}default:{M=0,o=_t;continue e}}case 112:{k=120,F=F>>>0>8?F:8,o=Ke|8,yt=61;break}case 88:case 120:{o=Ke,yt=61;break}case 111:{k=xn,o=e[k>>2]|0,k=e[k+4>>2]|0,ye=WV(o,k,ot)|0,ht=ct-ye|0,W=0,Z=5642,F=(Ke&8|0)==0|(F|0)>(ht|0)?F:ht+1|0,ht=Ke,yt=67;break}case 105:case 100:if(k=xn,o=e[k>>2]|0,k=e[k+4>>2]|0,(k|0)<0){o=SM(0,0,o|0,k|0)|0,k=Oe,W=xn,e[W>>2]=o,e[W+4>>2]=k,W=1,Z=5642,yt=66;break t}else{W=(Ke&2049|0)!=0&1,Z=(Ke&2048|0)==0?(Ke&1|0)==0?5642:5644:5643,yt=66;break t}case 117:{k=xn,W=0,Z=5642,o=e[k>>2]|0,k=e[k+4>>2]|0,yt=66;break}case 99:{s[tn>>0]=e[xn>>2],o=tn,W=0,Z=5642,ye=ot,k=1,F=ht;break}case 109:{k=jV(e[(Pg()|0)>>2]|0)|0,yt=71;break}case 115:{k=e[xn>>2]|0,k=k|0?k:5652,yt=71;break}case 67:{e[ir>>2]=e[xn>>2],e[Cr>>2]=0,e[xn>>2]=ir,ye=-1,k=ir,yt=75;break}case 83:{o=e[xn>>2]|0,F?(ye=F,k=o,yt=75):(na(r,32,M,0,Ke),o=0,yt=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{M=qV(r,+T[xn>>3],M,F,Ke,k)|0,o=_t;continue e}default:W=0,Z=5642,ye=ot,k=F,F=Ke}while(0);t:do if((yt|0)==61)Ke=xn,nt=e[Ke>>2]|0,Ke=e[Ke+4>>2]|0,ye=VV(nt,Ke,ot,k&32)|0,Z=(o&8|0)==0|(nt|0)==0&(Ke|0)==0,W=Z?0:2,Z=Z?5642:5642+(k>>4)|0,ht=o,o=nt,k=Ke,yt=67;else if((yt|0)==66)ye=Rg(o,k,ot)|0,ht=Ke,yt=67;else if((yt|0)==71)yt=0,Ke=QV(k,0,F)|0,nt=(Ke|0)==0,o=k,W=0,Z=5642,ye=nt?k+F|0:Ke,k=nt?F:Ke-k|0,F=ht;else if((yt|0)==75){for(yt=0,Z=k,o=0,F=0;!(W=e[Z>>2]|0,!W);){if(F=kB(Ar,W)|0,(F|0)<0|F>>>0>(ye-o|0)>>>0)break;if(o=F+o|0,ye>>>0>o>>>0)Z=Z+4|0;else break}if((F|0)<0){y=-1;break e}if(na(r,32,M,o,Ke),!o)o=0,yt=84;else for(W=0;;){if(F=e[k>>2]|0,!F){yt=84;break t}if(F=kB(Ar,F)|0,W=F+W|0,(W|0)>(o|0)){yt=84;break t}if(Bs(r,Ar,F),W>>>0>=o>>>0){yt=84;break}else k=k+4|0}}while(0);if((yt|0)==67)yt=0,k=(o|0)!=0|(k|0)!=0,Ke=(F|0)!=0|k,k=((k^1)&1)+(ct-ye)|0,o=Ke?ye:ot,ye=ot,k=Ke?(F|0)>(k|0)?F:k:F,F=(F|0)>-1?ht&-65537:ht;else if((yt|0)==84){yt=0,na(r,32,M,o,Ke^8192),M=(M|0)>(o|0)?M:o,o=_t;continue}nt=ye-o|0,ht=(k|0)<(nt|0)?nt:k,Ke=ht+W|0,M=(M|0)<(Ke|0)?Ke:M,na(r,32,M,Ke,F),Bs(r,Z,W),na(r,48,M,Ke,F^65536),na(r,48,ht,nt,0),Bs(r,o,nt),na(r,32,M,Ke,F^8192),o=_t}e:do if((yt|0)==87&&!r)if(!V)y=0;else{for(y=1;!(o=e[g+(y<<2)>>2]|0,!o);)if(UB(h+(y<<3)|0,o,a),y=y+1|0,(y|0)>=10){y=1;break e}for(;;){if(e[g+(y<<2)>>2]|0){y=-1;break e}if(y=y+1|0,(y|0)>=10){y=1;break}}}while(0);return A=Cn,y|0}function zV(r){return r=r|0,0}function YV(r){r=r|0;return}function Bs(r,o,a){r=r|0,o=o|0,a=a|0,e[r>>2]&32||iW(o,a,r)|0;return}function OB(r){r=r|0;var o=0,a=0,h=0;if(a=e[r>>2]|0,h=(s[a>>0]|0)+-48|0,h>>>0<10){o=0;do o=h+(o*10|0)|0,a=a+1|0,e[r>>2]=a,h=(s[a>>0]|0)+-48|0;while(h>>>0<10)}else o=0;return o|0}function UB(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;e:do if(o>>>0<=20)do switch(o|0){case 9:{h=(e[a>>2]|0)+(4-1)&~(4-1),o=e[h>>2]|0,e[a>>2]=h+4,e[r>>2]=o;break e}case 10:{h=(e[a>>2]|0)+(4-1)&~(4-1),o=e[h>>2]|0,e[a>>2]=h+4,h=r,e[h>>2]=o,e[h+4>>2]=((o|0)<0)<<31>>31;break e}case 11:{h=(e[a>>2]|0)+(4-1)&~(4-1),o=e[h>>2]|0,e[a>>2]=h+4,h=r,e[h>>2]=o,e[h+4>>2]=0;break e}case 12:{h=(e[a>>2]|0)+(8-1)&~(8-1),o=h,g=e[o>>2]|0,o=e[o+4>>2]|0,e[a>>2]=h+8,h=r,e[h>>2]=g,e[h+4>>2]=o;break e}case 13:{g=(e[a>>2]|0)+(4-1)&~(4-1),h=e[g>>2]|0,e[a>>2]=g+4,h=(h&65535)<<16>>16,g=r,e[g>>2]=h,e[g+4>>2]=((h|0)<0)<<31>>31;break e}case 14:{g=(e[a>>2]|0)+(4-1)&~(4-1),h=e[g>>2]|0,e[a>>2]=g+4,g=r,e[g>>2]=h&65535,e[g+4>>2]=0;break e}case 15:{g=(e[a>>2]|0)+(4-1)&~(4-1),h=e[g>>2]|0,e[a>>2]=g+4,h=(h&255)<<24>>24,g=r,e[g>>2]=h,e[g+4>>2]=((h|0)<0)<<31>>31;break e}case 16:{g=(e[a>>2]|0)+(4-1)&~(4-1),h=e[g>>2]|0,e[a>>2]=g+4,g=r,e[g>>2]=h&255,e[g+4>>2]=0;break e}case 17:{g=(e[a>>2]|0)+(8-1)&~(8-1),y=+T[g>>3],e[a>>2]=g+8,T[r>>3]=y;break e}case 18:{g=(e[a>>2]|0)+(8-1)&~(8-1),y=+T[g>>3],e[a>>2]=g+8,T[r>>3]=y;break e}default:break e}while(0);while(0);return}function VV(r,o,a,h){if(r=r|0,o=o|0,a=a|0,h=h|0,!((r|0)==0&(o|0)==0))do a=a+-1|0,s[a>>0]=p[5694+(r&15)>>0]|0|h,r=TM(r|0,o|0,4)|0,o=Oe;while(!((r|0)==0&(o|0)==0));return a|0}function WV(r,o,a){if(r=r|0,o=o|0,a=a|0,!((r|0)==0&(o|0)==0))do a=a+-1|0,s[a>>0]=r&7|48,r=TM(r|0,o|0,3)|0,o=Oe;while(!((r|0)==0&(o|0)==0));return a|0}function Rg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;if(o>>>0>0|(o|0)==0&r>>>0>4294967295){for(;h=PL(r|0,o|0,10,0)|0,a=a+-1|0,s[a>>0]=h&255|48,h=r,r=LL(r|0,o|0,10,0)|0,o>>>0>9|(o|0)==9&h>>>0>4294967295;)o=Oe;o=r}else o=r;if(o)for(;!(a=a+-1|0,s[a>>0]=(o>>>0)%10|0|48,o>>>0<10);)o=(o>>>0)/10|0;return a|0}function jV(r){return r=r|0,eW(r,e[($V()|0)+188>>2]|0)|0}function QV(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;y=o&255,h=(a|0)!=0;e:do if(h&(r&3|0)!=0)for(g=o&255;;){if((s[r>>0]|0)==g<<24>>24){M=6;break e}if(r=r+1|0,a=a+-1|0,h=(a|0)!=0,!(h&(r&3|0)!=0)){M=5;break}}else M=5;while(0);(M|0)==5&&(h?M=6:a=0);e:do if((M|0)==6&&(g=o&255,(s[r>>0]|0)!=g<<24>>24)){h=we(y,16843009)|0;t:do if(a>>>0>3){for(;!(y=e[r>>2]^h,(y&-2139062144^-2139062144)&y+-16843009|0);)if(r=r+4|0,a=a+-4|0,a>>>0<=3){M=11;break t}}else M=11;while(0);if((M|0)==11&&!a){a=0;break}for(;;){if((s[r>>0]|0)==g<<24>>24)break e;if(r=r+1|0,a=a+-1|0,!a){a=0;break}}}while(0);return(a|0?r:0)|0}function na(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0;if(M=A,A=A+256|0,y=M,(a|0)>(h|0)&(g&73728|0)==0){if(g=a-h|0,Fg(y|0,o|0,(g>>>0<256?g:256)|0)|0,g>>>0>255){o=a-h|0;do Bs(r,y,256),g=g+-256|0;while(g>>>0>255);g=o&255}Bs(r,y,g)}A=M;return}function kB(r,o){return r=r|0,o=o|0,r?r=ZV(r,o,0)|0:r=0,r|0}function qV(r,o,a,h,g,y){r=r|0,o=+o,a=a|0,h=h|0,g=g|0,y=y|0;var M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0,Ke=0,_t=0,yt=0,Lt=0,ot=0,ct=0,tn=0,Cr=0,Ln=0,xn=0,ir=0,Ar=0,Cn=0,Di=0;Di=A,A=A+560|0,k=Di+8|0,_t=Di,Cn=Di+524|0,Ar=Cn,W=Di+512|0,e[_t>>2]=0,ir=W+12|0,GB(o)|0,(Oe|0)<0?(o=-o,Ln=1,Cr=5659):(Ln=(g&2049|0)!=0&1,Cr=(g&2048|0)==0?(g&1|0)==0?5660:5665:5662),GB(o)|0,xn=Oe&2146435072;do if(xn>>>0<2146435072|(xn|0)==2146435072&0<0){if(ht=+JV(o,_t)*2,M=ht!=0,M&&(e[_t>>2]=(e[_t>>2]|0)+-1),Lt=y|32,(Lt|0)==97){nt=y&32,ye=(nt|0)==0?Cr:Cr+9|0,Z=Ln|2,M=12-h|0;do if(h>>>0>11|(M|0)==0)o=ht;else{o=8;do M=M+-1|0,o=o*16;while((M|0)!=0);if((s[ye>>0]|0)==45){o=-(o+(-ht-o));break}else{o=ht+o-o;break}}while(0);F=e[_t>>2]|0,M=(F|0)<0?0-F|0:F,M=Rg(M,((M|0)<0)<<31>>31,ir)|0,(M|0)==(ir|0)&&(M=W+11|0,s[M>>0]=48),s[M+-1>>0]=(F>>31&2)+43,V=M+-2|0,s[V>>0]=y+15,W=(h|0)<1,k=(g&8|0)==0,M=Cn;do xn=~~o,F=M+1|0,s[M>>0]=p[5694+xn>>0]|nt,o=(o-+(xn|0))*16,((F-Ar|0)==1?!(k&(W&o==0)):0)?(s[F>>0]=46,M=M+2|0):M=F;while(o!=0);xn=M-Ar|0,Ar=ir-V|0,ir=(h|0)!=0&(xn+-2|0)<(h|0)?h+2|0:xn,M=Ar+Z+ir|0,na(r,32,a,M,g),Bs(r,ye,Z),na(r,48,a,M,g^65536),Bs(r,Cn,xn),na(r,48,ir-xn|0,0,0),Bs(r,V,Ar),na(r,32,a,M,g^8192);break}F=(h|0)<0?6:h,M?(M=(e[_t>>2]|0)+-28|0,e[_t>>2]=M,o=ht*268435456):(o=ht,M=e[_t>>2]|0),xn=(M|0)<0?k:k+288|0,k=xn;do ct=~~o>>>0,e[k>>2]=ct,k=k+4|0,o=(o-+(ct>>>0))*1e9;while(o!=0);if((M|0)>0)for(W=xn,Z=k;;){if(V=(M|0)<29?M:29,M=Z+-4|0,M>>>0>=W>>>0){k=0;do ot=WB(e[M>>2]|0,0,V|0)|0,ot=CL(ot|0,Oe|0,k|0,0)|0,ct=Oe,yt=PL(ot|0,ct|0,1e9,0)|0,e[M>>2]=yt,k=LL(ot|0,ct|0,1e9,0)|0,M=M+-4|0;while(M>>>0>=W>>>0);k&&(W=W+-4|0,e[W>>2]=k)}for(k=Z;!(k>>>0<=W>>>0);)if(M=k+-4|0,!(e[M>>2]|0))k=M;else break;if(M=(e[_t>>2]|0)-V|0,e[_t>>2]=M,(M|0)>0)Z=k;else break}else W=xn;if((M|0)<0){h=((F+25|0)/9|0)+1|0,Ke=(Lt|0)==102;do{if(nt=0-M|0,nt=(nt|0)<9?nt:9,W>>>0<k>>>0){V=(1<<nt)+-1|0,Z=1e9>>>nt,ye=0,M=W;do ct=e[M>>2]|0,e[M>>2]=(ct>>>nt)+ye,ye=we(ct&V,Z)|0,M=M+4|0;while(M>>>0<k>>>0);M=(e[W>>2]|0)==0?W+4|0:W,ye?(e[k>>2]=ye,W=M,M=k+4|0):(W=M,M=k)}else W=(e[W>>2]|0)==0?W+4|0:W,M=k;k=Ke?xn:W,k=(M-k>>2|0)>(h|0)?k+(h<<2)|0:M,M=(e[_t>>2]|0)+nt|0,e[_t>>2]=M}while((M|0)<0);M=W,h=k}else M=W,h=k;if(ct=xn,M>>>0<h>>>0){if(k=(ct-M>>2)*9|0,V=e[M>>2]|0,V>>>0>=10){W=10;do W=W*10|0,k=k+1|0;while(V>>>0>=W>>>0)}}else k=0;if(Ke=(Lt|0)==103,yt=(F|0)!=0,W=F-((Lt|0)!=102?k:0)+((yt&Ke)<<31>>31)|0,(W|0)<(((h-ct>>2)*9|0)+-9|0)){if(W=W+9216|0,nt=xn+4+(((W|0)/9|0)+-1024<<2)|0,W=((W|0)%9|0)+1|0,(W|0)<9){V=10;do V=V*10|0,W=W+1|0;while((W|0)!=9)}else V=10;if(Z=e[nt>>2]|0,ye=(Z>>>0)%(V>>>0)|0,W=(nt+4|0)==(h|0),W&(ye|0)==0)W=nt;else if(ht=(((Z>>>0)/(V>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,ot=(V|0)/2|0,o=ye>>>0<ot>>>0?.5:W&(ye|0)==(ot|0)?1:1.5,Ln&&(ot=(s[Cr>>0]|0)==45,o=ot?-o:o,ht=ot?-ht:ht),W=Z-ye|0,e[nt>>2]=W,ht+o!=ht){if(ot=W+V|0,e[nt>>2]=ot,ot>>>0>999999999)for(k=nt;W=k+-4|0,e[k>>2]=0,W>>>0<M>>>0&&(M=M+-4|0,e[M>>2]=0),ot=(e[W>>2]|0)+1|0,e[W>>2]=ot,ot>>>0>999999999;)k=W;else W=nt;if(k=(ct-M>>2)*9|0,Z=e[M>>2]|0,Z>>>0>=10){V=10;do V=V*10|0,k=k+1|0;while(Z>>>0>=V>>>0)}}else W=nt;W=W+4|0,W=h>>>0>W>>>0?W:h,ot=M}else W=h,ot=M;for(Lt=W;;){if(Lt>>>0<=ot>>>0){_t=0;break}if(M=Lt+-4|0,!(e[M>>2]|0))Lt=M;else{_t=1;break}}h=0-k|0;do if(Ke)if(M=((yt^1)&1)+F|0,(M|0)>(k|0)&(k|0)>-5?(V=y+-1|0,F=M+-1-k|0):(V=y+-2|0,F=M+-1|0),M=g&8,M)nt=M;else{if(_t?(tn=e[Lt+-4>>2]|0,(tn|0)!=0):0)if((tn>>>0)%10|0)W=0;else{W=0,M=10;do M=M*10|0,W=W+1|0;while(!((tn>>>0)%(M>>>0)|0|0))}else W=9;if(M=((Lt-ct>>2)*9|0)+-9|0,(V|32|0)==102){nt=M-W|0,nt=(nt|0)>0?nt:0,F=(F|0)<(nt|0)?F:nt,nt=0;break}else{nt=M+k-W|0,nt=(nt|0)>0?nt:0,F=(F|0)<(nt|0)?F:nt,nt=0;break}}else V=y,nt=g&8;while(0);if(Ke=F|nt,Z=(Ke|0)!=0&1,ye=(V|32|0)==102,ye)yt=0,M=(k|0)>0?k:0;else{if(M=(k|0)<0?h:k,M=Rg(M,((M|0)<0)<<31>>31,ir)|0,W=ir,(W-M|0)<2)do M=M+-1|0,s[M>>0]=48;while((W-M|0)<2);s[M+-1>>0]=(k>>31&2)+43,M=M+-2|0,s[M>>0]=V,yt=M,M=W-M|0}if(M=Ln+1+F+Z+M|0,na(r,32,a,M,g),Bs(r,Cr,Ln),na(r,48,a,M,g^65536),ye){V=ot>>>0>xn>>>0?xn:ot,nt=Cn+9|0,Z=nt,ye=Cn+8|0,W=V;do{if(k=Rg(e[W>>2]|0,0,nt)|0,(W|0)==(V|0))(k|0)==(nt|0)&&(s[ye>>0]=48,k=ye);else if(k>>>0>Cn>>>0){Fg(Cn|0,48,k-Ar|0)|0;do k=k+-1|0;while(k>>>0>Cn>>>0)}Bs(r,k,Z-k|0),W=W+4|0}while(W>>>0<=xn>>>0);if(Ke|0&&Bs(r,5710,1),W>>>0<Lt>>>0&(F|0)>0)for(;;){if(k=Rg(e[W>>2]|0,0,nt)|0,k>>>0>Cn>>>0){Fg(Cn|0,48,k-Ar|0)|0;do k=k+-1|0;while(k>>>0>Cn>>>0)}if(Bs(r,k,(F|0)<9?F:9),W=W+4|0,k=F+-9|0,W>>>0<Lt>>>0&(F|0)>9)F=k;else{F=k;break}}na(r,48,F+9|0,9,0)}else{if(Ke=_t?Lt:ot+4|0,(F|0)>-1){_t=Cn+9|0,nt=(nt|0)==0,h=_t,Z=0-Ar|0,ye=Cn+8|0,V=ot;do{k=Rg(e[V>>2]|0,0,_t)|0,(k|0)==(_t|0)&&(s[ye>>0]=48,k=ye);do if((V|0)==(ot|0)){if(W=k+1|0,Bs(r,k,1),nt&(F|0)<1){k=W;break}Bs(r,5710,1),k=W}else{if(k>>>0<=Cn>>>0)break;Fg(Cn|0,48,k+Z|0)|0;do k=k+-1|0;while(k>>>0>Cn>>>0)}while(0);Ar=h-k|0,Bs(r,k,(F|0)>(Ar|0)?Ar:F),F=F-Ar|0,V=V+4|0}while(V>>>0<Ke>>>0&(F|0)>-1)}na(r,48,F+18|0,18,0),Bs(r,yt,ir-yt|0)}na(r,32,a,M,g^8192)}else Cn=(y&32|0)!=0,M=Ln+3|0,na(r,32,a,M,g&-65537),Bs(r,Cr,Ln),Bs(r,o!=o|!1?Cn?5686:5690:Cn?5678:5682,3),na(r,32,a,M,g^8192);while(0);return A=Di,((M|0)<(a|0)?a:M)|0}function GB(r){r=+r;var o=0;return T[R>>3]=r,o=e[R>>2]|0,Oe=e[R+4>>2]|0,o|0}function JV(r,o){return r=+r,o=o|0,+ +XB(r,o)}function XB(r,o){r=+r,o=o|0;var a=0,h=0,g=0;T[R>>3]=r,a=e[R>>2]|0,h=e[R+4>>2]|0,g=TM(a|0,h|0,52)|0;switch(g&2047){case 0:{r!=0?(r=+XB(r*18446744073709552e3,o),a=(e[o>>2]|0)+-64|0):a=0,e[o>>2]=a;break}case 2047:break;default:e[o>>2]=(g&2047)+-1022,e[R>>2]=a,e[R+4>>2]=h&-2146435073|1071644672,r=+T[R>>3]}return+r}function ZV(r,o,a){r=r|0,o=o|0,a=a|0;do if(r){if(o>>>0<128){s[r>>0]=o,r=1;break}if(!(e[e[(KV()|0)+188>>2]>>2]|0))if((o&-128|0)==57216){s[r>>0]=o,r=1;break}else{e[(Pg()|0)>>2]=84,r=-1;break}if(o>>>0<2048){s[r>>0]=o>>>6|192,s[r+1>>0]=o&63|128,r=2;break}if(o>>>0<55296|(o&-8192|0)==57344){s[r>>0]=o>>>12|224,s[r+1>>0]=o>>>6&63|128,s[r+2>>0]=o&63|128,r=3;break}if((o+-65536|0)>>>0<1048576){s[r>>0]=o>>>18|240,s[r+1>>0]=o>>>12&63|128,s[r+2>>0]=o>>>6&63|128,s[r+3>>0]=o&63|128,r=4;break}else{e[(Pg()|0)>>2]=84,r=-1;break}}else r=1;while(0);return r|0}function KV(){return SL()|0}function $V(){return SL()|0}function eW(r,o){r=r|0,o=o|0;var a=0,h=0;for(h=0;;){if((p[5712+h>>0]|0)==(r|0)){r=2;break}if(a=h+1|0,(a|0)==87){a=5800,h=87,r=5;break}else h=a}if((r|0)==2&&(h?(a=5800,r=5):a=5800),(r|0)==5)for(;;){do r=a,a=a+1|0;while((s[r>>0]|0)!=0);if(h=h+-1|0,h)r=5;else break}return tW(a,e[o+20>>2]|0)|0}function tW(r,o){return r=r|0,o=o|0,nW(r,o)|0}function nW(r,o){return r=r|0,o=o|0,o?o=rW(e[o>>2]|0,e[o+4>>2]|0,r)|0:o=0,(o|0?o:r)|0}function rW(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0;ye=(e[r>>2]|0)+1794895138|0,y=$1(e[r+8>>2]|0,ye)|0,h=$1(e[r+12>>2]|0,ye)|0,g=$1(e[r+16>>2]|0,ye)|0;e:do if((y>>>0<o>>>2>>>0?(Z=o-(y<<2)|0,h>>>0<Z>>>0&g>>>0<Z>>>0):0)?((g|h)&3|0)==0:0){for(Z=h>>>2,V=g>>>2,W=0;;){if(F=y>>>1,k=W+F|0,M=k<<1,g=M+Z|0,h=$1(e[r+(g<<2)>>2]|0,ye)|0,g=$1(e[r+(g+1<<2)>>2]|0,ye)|0,!(g>>>0<o>>>0&h>>>0<(o-g|0)>>>0)){h=0;break e}if(s[r+(g+h)>>0]|0){h=0;break e}if(h=NB(a,r+g|0)|0,!h)break;if(h=(h|0)<0,(y|0)==1){h=0;break e}else W=h?W:k,y=h?F:y-F|0}h=M+V|0,g=$1(e[r+(h<<2)>>2]|0,ye)|0,h=$1(e[r+(h+1<<2)>>2]|0,ye)|0,h>>>0<o>>>0&g>>>0<(o-h|0)>>>0?h=(s[r+(h+g)>>0]|0)==0?r+h|0:0:h=0}else h=0;while(0);return h|0}function $1(r,o){r=r|0,o=o|0;var a=0;return a=qB(r|0)|0,((o|0)==0?r:a)|0}function iW(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0,F=0;h=a+16|0,g=e[h>>2]|0,g?y=5:oW(a)|0?h=0:(g=e[h>>2]|0,y=5);e:do if((y|0)==5){if(F=a+20|0,M=e[F>>2]|0,h=M,(g-M|0)>>>0<o>>>0){h=CM[e[a+36>>2]&7](a,r,o)|0;break}t:do if((s[a+75>>0]|0)>-1){for(M=o;;){if(!M){y=0,g=r;break t}if(g=M+-1|0,(s[r+g>>0]|0)==10)break;M=g}if(h=CM[e[a+36>>2]&7](a,r,M)|0,h>>>0<M>>>0)break e;y=M,g=r+M|0,o=o-M|0,h=e[F>>2]|0}else y=0,g=r;while(0);rr(h|0,g|0,o|0)|0,e[F>>2]=(e[F>>2]|0)+o,h=y+o|0}while(0);return h|0}function oW(r){r=r|0;var o=0,a=0;return o=r+74|0,a=s[o>>0]|0,s[o>>0]=a+255|a,o=e[r>>2]|0,o&8?(e[r>>2]=o|32,r=-1):(e[r+8>>2]=0,e[r+4>>2]=0,a=e[r+44>>2]|0,e[r+28>>2]=a,e[r+20>>2]=a,e[r+16>>2]=a+(e[r+48>>2]|0),r=0),r|0}function Zi(r,o){r=P(r),o=P(o);var a=0,h=0;a=HB(r)|0;do if((a&2147483647)>>>0<=2139095040){if(h=HB(o)|0,(h&2147483647)>>>0<=2139095040)if((h^a|0)<0){r=(a|0)<0?o:r;break}else{r=r<o?o:r;break}}else r=o;while(0);return P(r)}function HB(r){return r=P(r),(E[R>>2]=r,e[R>>2]|0)|0}function ev(r,o){r=P(r),o=P(o);var a=0,h=0;a=zB(r)|0;do if((a&2147483647)>>>0<=2139095040){if(h=zB(o)|0,(h&2147483647)>>>0<=2139095040)if((h^a|0)<0){r=(a|0)<0?r:o;break}else{r=r<o?r:o;break}}else r=o;while(0);return P(r)}function zB(r){return r=P(r),(E[R>>2]=r,e[R>>2]|0)|0}function bL(r,o){r=P(r),o=P(o);var a=0,h=0,g=0,y=0,M=0,F=0,k=0,W=0;y=(E[R>>2]=r,e[R>>2]|0),F=(E[R>>2]=o,e[R>>2]|0),a=y>>>23&255,M=F>>>23&255,k=y&-2147483648,g=F<<1;e:do if((g|0)!=0?!((a|0)==255|((sW(o)|0)&2147483647)>>>0>2139095040):0){if(h=y<<1,h>>>0<=g>>>0)return o=P(r*P(0)),P((h|0)==(g|0)?o:r);if(a)h=y&8388607|8388608;else{if(a=y<<9,(a|0)>-1){h=a,a=0;do a=a+-1|0,h=h<<1;while((h|0)>-1)}else a=0;h=y<<1-a}if(M)F=F&8388607|8388608;else{if(y=F<<9,(y|0)>-1){g=0;do g=g+-1|0,y=y<<1;while((y|0)>-1)}else g=0;M=g,F=F<<1-g}g=h-F|0,y=(g|0)>-1;t:do if((a|0)>(M|0)){for(;;){if(y)if(g)h=g;else break;if(h=h<<1,a=a+-1|0,g=h-F|0,y=(g|0)>-1,(a|0)<=(M|0))break t}o=P(r*P(0));break e}while(0);if(y)if(g)h=g;else{o=P(r*P(0));break}if(h>>>0<8388608)do h=h<<1,a=a+-1|0;while(h>>>0<8388608);(a|0)>0?a=h+-8388608|a<<23:a=h>>>(1-a|0),o=(e[R>>2]=a|k,P(E[R>>2]))}else W=3;while(0);return(W|0)==3&&(o=P(r*o),o=P(o/o)),P(o)}function sW(r){return r=P(r),(E[R>>2]=r,e[R>>2]|0)|0}function aW(r,o){return r=r|0,o=o|0,IB(e[582]|0,r,o)|0}function Yr(r){r=r|0,kn()}function Dg(r){r=r|0;return}function lW(r,o){return r=r|0,o=o|0,0}function uW(r){return r=r|0,(YB(r+4|0)|0)==-1?(ed[e[(e[r>>2]|0)+8>>2]&127](r),r=1):r=0,r|0}function YB(r){r=r|0;var o=0;return o=e[r>>2]|0,e[r>>2]=o+-1,o+-1|0}function Bp(r){r=r|0,uW(r)|0&&cW(r);return}function cW(r){r=r|0;var o=0;o=r+8|0,((e[o>>2]|0)!=0?(YB(o)|0)!=-1:0)||ed[e[(e[r>>2]|0)+16>>2]&127](r);return}function fn(r){r=r|0;var o=0;for(o=(r|0)==0?1:r;!(r=AM(o)|0,r|0);){if(r=hW()|0,!r){r=0;break}oN[r&0]()}return r|0}function VB(r){return r=r|0,fn(r)|0}function Ut(r){r=r|0,_M(r);return}function fW(r){r=r|0,(s[r+11>>0]|0)<0&&Ut(e[r>>2]|0);return}function hW(){var r=0;return r=e[2923]|0,e[2923]=r+0,r|0}function dW(){}function SM(r,o,a,h){return r=r|0,o=o|0,a=a|0,h=h|0,h=o-h-(a>>>0>r>>>0|0)>>>0,(Oe=h,r-a>>>0|0)|0}function CL(r,o,a,h){return r=r|0,o=o|0,a=a|0,h=h|0,a=r+a>>>0,(Oe=o+h+(a>>>0<r>>>0|0)>>>0,a|0)|0}function Fg(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0,M=0;if(y=r+a|0,o=o&255,(a|0)>=67){for(;r&3;)s[r>>0]=o,r=r+1|0;for(h=y&-4|0,g=h-64|0,M=o|o<<8|o<<16|o<<24;(r|0)<=(g|0);)e[r>>2]=M,e[r+4>>2]=M,e[r+8>>2]=M,e[r+12>>2]=M,e[r+16>>2]=M,e[r+20>>2]=M,e[r+24>>2]=M,e[r+28>>2]=M,e[r+32>>2]=M,e[r+36>>2]=M,e[r+40>>2]=M,e[r+44>>2]=M,e[r+48>>2]=M,e[r+52>>2]=M,e[r+56>>2]=M,e[r+60>>2]=M,r=r+64|0;for(;(r|0)<(h|0);)e[r>>2]=M,r=r+4|0}for(;(r|0)<(y|0);)s[r>>0]=o,r=r+1|0;return y-a|0}function WB(r,o,a){return r=r|0,o=o|0,a=a|0,(a|0)<32?(Oe=o<<a|(r&(1<<a)-1<<32-a)>>>32-a,r<<a):(Oe=r<<a-32,0)}function TM(r,o,a){return r=r|0,o=o|0,a=a|0,(a|0)<32?(Oe=o>>>a,r>>>a|(o&(1<<a)-1)<<32-a):(Oe=0,o>>>a-32|0)}function rr(r,o,a){r=r|0,o=o|0,a=a|0;var h=0,g=0,y=0;if((a|0)>=8192)return fi(r|0,o|0,a|0)|0;if(y=r|0,g=r+a|0,(r&3)==(o&3)){for(;r&3;){if(!a)return y|0;s[r>>0]=s[o>>0]|0,r=r+1|0,o=o+1|0,a=a-1|0}for(a=g&-4|0,h=a-64|0;(r|0)<=(h|0);)e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],e[r+16>>2]=e[o+16>>2],e[r+20>>2]=e[o+20>>2],e[r+24>>2]=e[o+24>>2],e[r+28>>2]=e[o+28>>2],e[r+32>>2]=e[o+32>>2],e[r+36>>2]=e[o+36>>2],e[r+40>>2]=e[o+40>>2],e[r+44>>2]=e[o+44>>2],e[r+48>>2]=e[o+48>>2],e[r+52>>2]=e[o+52>>2],e[r+56>>2]=e[o+56>>2],e[r+60>>2]=e[o+60>>2],r=r+64|0,o=o+64|0;for(;(r|0)<(a|0);)e[r>>2]=e[o>>2],r=r+4|0,o=o+4|0}else for(a=g-4|0;(r|0)<(a|0);)s[r>>0]=s[o>>0]|0,s[r+1>>0]=s[o+1>>0]|0,s[r+2>>0]=s[o+2>>0]|0,s[r+3>>0]=s[o+3>>0]|0,r=r+4|0,o=o+4|0;for(;(r|0)<(g|0);)s[r>>0]=s[o>>0]|0,r=r+1|0,o=o+1|0;return y|0}function jB(r){r=r|0;var o=0;return o=s[G+(r&255)>>0]|0,(o|0)<8?o|0:(o=s[G+(r>>8&255)>>0]|0,(o|0)<8?o+8|0:(o=s[G+(r>>16&255)>>0]|0,(o|0)<8?o+16|0:(s[G+(r>>>24)>>0]|0)+24|0))}function QB(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0;var y=0,M=0,F=0,k=0,W=0,V=0,Z=0,ye=0,ht=0,nt=0;if(V=r,k=o,W=k,M=a,ye=h,F=ye,!W)return y=(g|0)!=0,F?y?(e[g>>2]=r|0,e[g+4>>2]=o&0,ye=0,g=0,(Oe=ye,g)|0):(ye=0,g=0,(Oe=ye,g)|0):(y&&(e[g>>2]=(V>>>0)%(M>>>0),e[g+4>>2]=0),ye=0,g=(V>>>0)/(M>>>0)>>>0,(Oe=ye,g)|0);y=(F|0)==0;do if(M){if(!y){if(y=(Ce(F|0)|0)-(Ce(W|0)|0)|0,y>>>0<=31){Z=y+1|0,F=31-y|0,o=y-31>>31,M=Z,r=V>>>(Z>>>0)&o|W<<F,o=W>>>(Z>>>0)&o,y=0,F=V<<F;break}return g?(e[g>>2]=r|0,e[g+4>>2]=k|o&0,ye=0,g=0,(Oe=ye,g)|0):(ye=0,g=0,(Oe=ye,g)|0)}if(y=M-1|0,y&M|0){F=(Ce(M|0)|0)+33-(Ce(W|0)|0)|0,nt=64-F|0,Z=32-F|0,k=Z>>31,ht=F-32|0,o=ht>>31,M=F,r=Z-1>>31&W>>>(ht>>>0)|(W<<Z|V>>>(F>>>0))&o,o=o&W>>>(F>>>0),y=V<<nt&k,F=(W<<nt|V>>>(ht>>>0))&k|V<<Z&F-33>>31;break}return g|0&&(e[g>>2]=y&V,e[g+4>>2]=0),(M|0)==1?(ht=k|o&0,nt=r|0|0,(Oe=ht,nt)|0):(nt=jB(M|0)|0,ht=W>>>(nt>>>0)|0,nt=W<<32-nt|V>>>(nt>>>0)|0,(Oe=ht,nt)|0)}else{if(y)return g|0&&(e[g>>2]=(W>>>0)%(M>>>0),e[g+4>>2]=0),ht=0,nt=(W>>>0)/(M>>>0)>>>0,(Oe=ht,nt)|0;if(!V)return g|0&&(e[g>>2]=0,e[g+4>>2]=(W>>>0)%(F>>>0)),ht=0,nt=(W>>>0)/(F>>>0)>>>0,(Oe=ht,nt)|0;if(y=F-1|0,!(y&F))return g|0&&(e[g>>2]=r|0,e[g+4>>2]=y&W|o&0),ht=0,nt=W>>>((jB(F|0)|0)>>>0),(Oe=ht,nt)|0;if(y=(Ce(F|0)|0)-(Ce(W|0)|0)|0,y>>>0<=30){o=y+1|0,F=31-y|0,M=o,r=W<<F|V>>>(o>>>0),o=W>>>(o>>>0),y=0,F=V<<F;break}return g?(e[g>>2]=r|0,e[g+4>>2]=k|o&0,ht=0,nt=0,(Oe=ht,nt)|0):(ht=0,nt=0,(Oe=ht,nt)|0)}while(0);if(!M)W=F,k=0,F=0;else{Z=a|0|0,V=ye|h&0,W=CL(Z|0,V|0,-1,-1)|0,a=Oe,k=F,F=0;do h=k,k=y>>>31|k<<1,y=F|y<<1,h=r<<1|h>>>31|0,ye=r>>>31|o<<1|0,SM(W|0,a|0,h|0,ye|0)|0,nt=Oe,ht=nt>>31|((nt|0)<0?-1:0)<<1,F=ht&1,r=SM(h|0,ye|0,ht&Z|0,(((nt|0)<0?-1:0)>>31|((nt|0)<0?-1:0)<<1)&V|0)|0,o=Oe,M=M-1|0;while((M|0)!=0);W=k,k=0}return M=0,g|0&&(e[g>>2]=r,e[g+4>>2]=o),ht=(y|0)>>>31|(W|M)<<1|(M<<1|y>>>31)&0|k,nt=(y<<1|0>>>31)&-2|F,(Oe=ht,nt)|0}function LL(r,o,a,h){return r=r|0,o=o|0,a=a|0,h=h|0,QB(r,o,a,h,0)|0}function Np(r){r=r|0;var o=0,a=0;return a=r+15&-16|0,o=e[C>>2]|0,r=o+a|0,(a|0)>0&(r|0)<(o|0)|(r|0)<0?(he()|0,Wi(12),-1):(e[C>>2]=r,((r|0)>(se()|0)?(Se()|0)==0:0)?(e[C>>2]=o,Wi(12),-1):o|0)}function pE(r,o,a){r=r|0,o=o|0,a=a|0;var h=0;if((o|0)<(r|0)&(r|0)<(o+a|0)){for(h=r,o=o+a|0,r=r+a|0;(a|0)>0;)r=r-1|0,o=o-1|0,a=a-1|0,s[r>>0]=s[o>>0]|0;r=h}else rr(r,o,a)|0;return r|0}function PL(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0;var g=0,y=0;return y=A,A=A+16|0,g=y|0,QB(r,o,a,h,g)|0,A=y,(Oe=e[g+4>>2]|0,e[g>>2]|0)|0}function qB(r){return r=r|0,(r&255)<<24|(r>>8&255)<<16|(r>>16&255)<<8|r>>>24|0}function pW(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,JB[r&1](o|0,a|0,h|0,g|0,y|0)}function mW(r,o,a){r=r|0,o=o|0,a=P(a),ZB[r&1](o|0,P(a))}function vW(r,o,a){r=r|0,o=o|0,a=+a,KB[r&31](o|0,+a)}function gW(r,o,a,h){return r=r|0,o=o|0,a=P(a),h=P(h),P($B[r&0](o|0,P(a),P(h)))}function yW(r,o){r=r|0,o=o|0,ed[r&127](o|0)}function xW(r,o,a){r=r|0,o=o|0,a=a|0,td[r&31](o|0,a|0)}function EW(r,o){return r=r|0,o=o|0,nv[r&31](o|0)|0}function wW(r,o,a,h,g){r=r|0,o=o|0,a=+a,h=+h,g=g|0,eN[r&1](o|0,+a,+h,g|0)}function AW(r,o,a,h){r=r|0,o=o|0,a=+a,h=+h,nj[r&1](o|0,+a,+h)}function _W(r,o,a,h){return r=r|0,o=o|0,a=a|0,h=h|0,CM[r&7](o|0,a|0,h|0)|0}function MW(r,o,a,h){return r=r|0,o=o|0,a=a|0,h=h|0,+rj[r&1](o|0,a|0,h|0)}function SW(r,o){return r=r|0,o=o|0,+tN[r&15](o|0)}function TW(r,o,a){return r=r|0,o=o|0,a=+a,ij[r&1](o|0,+a)|0}function bW(r,o,a){return r=r|0,o=o|0,a=a|0,DL[r&15](o|0,a|0)|0}function CW(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=+h,g=+g,y=y|0,oj[r&1](o|0,a|0,+h,+g,y|0)}function LW(r,o,a,h,g,y,M){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,M=M|0,sj[r&1](o|0,a|0,h|0,g|0,y|0,M|0)}function PW(r,o,a){return r=r|0,o=o|0,a=a|0,+nN[r&7](o|0,a|0)}function RW(r){return r=r|0,LM[r&7]()|0}function DW(r,o,a,h,g,y){return r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,rN[r&1](o|0,a|0,h|0,g|0,y|0)|0}function FW(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=+g,aj[r&1](o|0,a|0,h|0,+g)}function BW(r,o,a,h,g,y,M){r=r|0,o=o|0,a=a|0,h=P(h),g=g|0,y=P(y),M=M|0,iN[r&1](o|0,a|0,P(h),g|0,P(y),M|0)}function NW(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,gE[r&15](o|0,a|0,h|0)}function IW(r){r=r|0,oN[r&0]()}function OW(r,o,a,h){r=r|0,o=o|0,a=a|0,h=+h,sN[r&15](o|0,a|0,+h)}function UW(r,o,a){return r=r|0,o=+o,a=+a,lj[r&1](+o,+a)|0}function kW(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,FL[r&15](o|0,a|0,h|0,g|0)}function GW(r,o,a,h,g){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,_e(0)}function XW(r,o){r=r|0,o=P(o),_e(1)}function yu(r,o){r=r|0,o=+o,_e(2)}function HW(r,o,a){return r=r|0,o=P(o),a=P(a),_e(3),jt}function Hn(r){r=r|0,_e(4)}function mE(r,o){r=r|0,o=o|0,_e(5)}function cc(r){return r=r|0,_e(6),0}function zW(r,o,a,h){r=r|0,o=+o,a=+a,h=h|0,_e(7)}function YW(r,o,a){r=r|0,o=+o,a=+a,_e(8)}function VW(r,o,a){return r=r|0,o=o|0,a=a|0,_e(9),0}function WW(r,o,a){return r=r|0,o=o|0,a=a|0,_e(10),0}function tv(r){return r=r|0,_e(11),0}function jW(r,o){return r=r|0,o=+o,_e(12),0}function vE(r,o){return r=r|0,o=o|0,_e(13),0}function QW(r,o,a,h,g){r=r|0,o=o|0,a=+a,h=+h,g=g|0,_e(14)}function qW(r,o,a,h,g,y){r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,y=y|0,_e(15)}function RL(r,o){return r=r|0,o=o|0,_e(16),0}function JW(){return _e(17),0}function ZW(r,o,a,h,g){return r=r|0,o=o|0,a=a|0,h=h|0,g=g|0,_e(18),0}function KW(r,o,a,h){r=r|0,o=o|0,a=a|0,h=+h,_e(19)}function $W(r,o,a,h,g,y){r=r|0,o=o|0,a=P(a),h=h|0,g=P(g),y=y|0,_e(20)}function bM(r,o,a){r=r|0,o=o|0,a=a|0,_e(21)}function ej(){_e(22)}function Bg(r,o,a){r=r|0,o=o|0,a=+a,_e(23)}function tj(r,o){return r=+r,o=+o,_e(24),0}function Ng(r,o,a,h){r=r|0,o=o|0,a=a|0,h=h|0,_e(25)}var JB=[GW,ZX],ZB=[XW,w0],KB=[yu,Qu,Fl,$o,Jd,t1,n1,lo,ro,Bc,js,Qs,ya,Bl,Nc,Ja,qu,Zd,Kd,yu,yu,yu,yu,yu,yu,yu,yu,yu,yu,yu,yu,yu],$B=[HW],ed=[Hn,Dg,x5,E5,w5,w3,Yb,$2,TG,bG,CG,UX,kX,GX,sV,aV,lV,Nm,Pn,du,ln,Rs,_2,M2,u5,sp,D5,J5,c1,mb,JA,m1,U2,s3,bb,J2,g3,Hh,Wb,P3,zc,gu,z3,j3,$3,mC,AC,E0,DC,QC,x,ut,dr,kr,V0,q1,ei,Gr,gG,PG,FG,JG,pX,Yx,qH,Tz,Xz,nY,MY,kY,JY,$Y,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn,Hn],td=[mE,Rl,$m,_0,M0,Nn,Bo,Qi,wo,Tr,Fh,ju,i1,m2,Ih,Cx,Lx,v2,g2,Dx,Ic,fe,uC,k_,st,KH,AX,EB,mE,mE,mE,mE],nv=[cc,OV,Eo,Nh,ep,xa,f2,T0,r1,bx,d2,tp,y2,Fx,ip,_C,wi,$G,nz,ac,cc,cc,cc,cc,cc,cc,cc,cc,cc,cc,cc,cc],eN=[zW,Ux],nj=[YW,EG],CM=[VW,BB,UV,XV,jA,Vb,IC,sY],rj=[WW,Rb],tN=[tv,b0,p2,Ef,kx,S,b,I,J,ee,tv,tv,tv,tv,tv,tv],ij=[jW,sc],DL=[vE,lW,x2,d5,NA,B0,v1,Ep,A_,q_,Vu,Vz,vE,vE,vE,vE],oj=[QW,I5],sj=[qW,CY],nN=[RL,Px,Ge,it,Rt,l_,RL,RL],LM=[JW,nn,ys,Zm,Tt,ta,OG,rV],rN=[ZW,bh],aj=[KW,oc],iN=[$W,Bx],gE=[bM,qs,h2,Rx,Ju,qx,wa,hg,C_,cu,EH,Pz,zY,bM,bM,bM],oN=[ej],sN=[Bg,e1,A0,Dl,S0,Za,$d,Bh,__,lE,ui,Bg,Bg,Bg,Bg,Bg],lj=[tj,MG],FL=[Ng,l3,Cp,N,yn,vr,dM,YG,xX,lz,pV,Ng,Ng,Ng,Ng,Ng];return{_llvm_bswap_i32:qB,dynCall_idd:UW,dynCall_i:RW,_i64Subtract:SM,___udivdi3:LL,dynCall_vif:mW,setThrew:Mc,dynCall_viii:NW,_bitshift64Lshr:TM,_bitshift64Shl:WB,dynCall_vi:yW,dynCall_viiddi:CW,dynCall_diii:MW,dynCall_iii:bW,_memset:Fg,_sbrk:Np,_memcpy:rr,__GLOBAL__sub_I_Yoga_cpp:Jm,dynCall_vii:xW,___uremdi3:PL,dynCall_vid:vW,stackAlloc:_c,_nbind_init:SV,getTempRet0:Jv,dynCall_di:SW,dynCall_iid:TW,setTempRet0:qv,_i64Add:CL,dynCall_fiff:gW,dynCall_iiii:_W,_emscripten_get_global_libc:IV,dynCall_viid:OW,dynCall_viiid:FW,dynCall_viififi:BW,dynCall_ii:EW,__GLOBAL__sub_I_Binding_cc:XH,dynCall_viiii:kW,dynCall_iiiiii:DW,stackSave:Qv,dynCall_viiiii:pW,__GLOBAL__sub_I_nbind_cc:In,dynCall_vidd:AW,_free:_M,runPostSets:dW,dynCall_viiiiii:LW,establishStackSpace:bi,_memmove:pE,stackRestore:Eh,_malloc:AM,__GLOBAL__sub_I_common_cc:aX,dynCall_viddi:wW,dynCall_dii:PW,dynCall_v:IW}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,getTempRet0=Module.getTempRet0=asm.getTempRet0,___udivdi3=Module.___udivdi3=asm.___udivdi3,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,stackAlloc=Module.stackAlloc=asm.stackAlloc,___uremdi3=Module.___uremdi3=asm.___uremdi3,_nbind_init=Module._nbind_init=asm._nbind_init,_i64Subtract=Module._i64Subtract=asm._i64Subtract,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,__GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc,stackSave=Module.stackSave=asm.stackSave,__GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_memmove=Module._memmove=asm._memmove,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vif=Module.dynCall_vif=asm.dynCall_vif,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_fiff=Module.dynCall_fiff=asm.dynCall_fiff,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viddi=Module.dynCall_viddi=asm.dynCall_viddi,dynCall_vidd=Module.dynCall_vidd=asm.dynCall_vidd,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_iid=Module.dynCall_iid=asm.dynCall_iid,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiddi=Module.dynCall_viiddi=asm.dynCall_viiddi,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiid=Module.dynCall_viiid=asm.dynCall_viiid,dynCall_viififi=Module.dynCall_viififi=asm.dynCall_viififi,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_idd=Module.dynCall_idd=asm.dynCall_idd,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function t(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=t)},Module.callMain=Module.callMain=function(n){n=n||[],ensureInitRuntime();var i=n.length+1;function s(){for(var w=0;w<4-1;w++)l.push(0)}var l=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];s();for(var e=0;e<i-1;e=e+1)l.push(allocate(intArrayFromString(n[e]),"i8",ALLOC_NORMAL)),s();l.push(0),l=allocate(l,"i32",ALLOC_NORMAL);try{var p=Module._main(i,l,0);exit(p,!0)}catch(w){if(w instanceof ExitStatus)return;if(w=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var v=w;w&&typeof w=="object"&&w.stack&&(v=[w,w.stack]),Module.printErr("exception thrown: "+v),Module.quit(1,w)}}finally{calledMain=!0}};function run(t){if(t=t||Module.arguments,preloadStartTime===null&&(preloadStartTime=Date.now()),runDependencies>0)return;if(preRun(),runDependencies>0)return;if(Module.calledRun)return;function n(){if(Module.calledRun)return;if(Module.calledRun=!0,ABORT)return;ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(t),postRun()}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),n()},1)):n()}Module.run=Module.run=run;function exit(t,n){if(n&&Module.noExitRuntime)return;Module.noExitRuntime||(ABORT=!0,EXITSTATUS=t,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(t)),ENVIRONMENT_IS_NODE&&process.exit(t),Module.quit(t,new ExitStatus(t))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(t){Module.onAbort&&Module.onAbort(t),t!==void 0?(Module.print(t),Module.printErr(t),t=JSON.stringify(t)):t="",ABORT=!0,EXITSTATUS=1;var n=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,i="abort("+t+") at "+stackTrace()+n;throw abortDecorators&&abortDecorators.forEach(function(s){i=s(i,t)}),i}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})}),kU=cs((Pae,UU)=>{"use strict";var Fne=IU(),Bne=OU(),RD=!1,DD=null;Bne({},function(t,n){if(RD)return;if(RD=!0,t)throw t;DD=n});if(!RD)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");UU.exports=Fne(DD.bind,DD.lib)}),Gk=cs((zv,DT)=>{(function(){"use strict";var t=this,n=!0,i=t.THREE||n&&Ra();if(!i)throw new Error("MeshLine requires three.js");function s(){i.BufferGeometry.call(this),this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new i.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(v){this.setGeometry(v,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(v){this.setPoints(v,this.widthCallback)}}})}s.prototype=Object.create(i.BufferGeometry.prototype),s.prototype.constructor=s,s.prototype.isMeshLine=!0,s.prototype.setMatrixWorld=function(v){this.matrixWorld=v},s.prototype.setGeometry=function(v,w){this._geometry=v,v instanceof i.Geometry?this.setPoints(v.vertices,w):v instanceof i.BufferGeometry?this.setPoints(v.getAttribute("position").array,w):this.setPoints(v,w)},s.prototype.setPoints=function(v,w){if(!(v instanceof Float32Array)&&!(v instanceof Array)){console.error("ERROR: The BufferArray of points is not instancied correctly.");return}if(this._points=v,this.widthCallback=w,this.positions=[],this.counters=[],v.length&&v[0]instanceof i.Vector3)for(var E=0;E<v.length;E++){var T=v[E],C=E/v.length;this.positions.push(T.x,T.y,T.z),this.positions.push(T.x,T.y,T.z),this.counters.push(C),this.counters.push(C)}else for(var E=0;E<v.length;E+=3){var C=E/v.length;this.positions.push(v[E],v[E+1],v[E+2]),this.positions.push(v[E],v[E+1],v[E+2]),this.counters.push(C),this.counters.push(C)}this.process()};function l(v,w){var E=new i.Matrix4,T=new i.Ray,C=new i.Sphere,R=new i.Vector3,B=this.geometry;if(C.copy(B.boundingSphere),C.applyMatrix4(this.matrixWorld),v.ray.intersectSphere(C,R)===!1)return;E.getInverse(this.matrixWorld),T.copy(v.ray).applyMatrix4(E);var A=new i.Vector3,H=new i.Vector3,G=new i.Vector3,O=this instanceof i.LineSegments?2:1,U=B.index,$=B.attributes;if(U!==null)for(var ie=U.array,ue=$.position.array,K=$.width.array,ce=0,ve=ie.length-1;ce<ve;ce+=O){var Ve=ie[ce],Me=ie[ce+1];A.fromArray(ue,Ve*3),H.fromArray(ue,Me*3);var Ee=K[Math.floor(ce/3)]!=null?K[Math.floor(ce/3)]:1,Ne=v.params.Line.threshold+this.material.lineWidth*Ee/2,Oe=Ne*Ne,tt=T.distanceSqToSegment(A,H,R,G);if(tt>Oe)continue;R.applyMatrix4(this.matrixWorld);var Ze=v.ray.origin.distanceTo(R);if(Ze<v.near||Ze>v.far)continue;w.push({distance:Ze,point:G.clone().applyMatrix4(this.matrixWorld),index:ce,face:null,faceIndex:null,object:this}),ce=ve}}s.prototype.raycast=l,s.prototype.compareV3=function(v,w){var E=v*6,T=w*6;return this.positions[E]===this.positions[T]&&this.positions[E+1]===this.positions[T+1]&&this.positions[E+2]===this.positions[T+2]},s.prototype.copyV3=function(v){var w=v*6;return[this.positions[w],this.positions[w+1],this.positions[w+2]]},s.prototype.process=function(){var v=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];var w,E;this.compareV3(0,v-1)?E=this.copyV3(v-2):E=this.copyV3(0),this.previous.push(E[0],E[1],E[2]),this.previous.push(E[0],E[1],E[2]);for(var T=0;T<v;T++){if(this.side.push(1),this.side.push(-1),this.widthCallback?w=this.widthCallback(T/(v-1)):w=1,this.width.push(w),this.width.push(w),this.uvs.push(T/(v-1),0),this.uvs.push(T/(v-1),1),T<v-1){E=this.copyV3(T),this.previous.push(E[0],E[1],E[2]),this.previous.push(E[0],E[1],E[2]);var C=T*2;this.indices_array.push(C,C+1,C+2),this.indices_array.push(C+2,C+1,C+3)}T>0&&(E=this.copyV3(T),this.next.push(E[0],E[1],E[2]),this.next.push(E[0],E[1],E[2]))}this.compareV3(v-1,0)?E=this.copyV3(1):E=this.copyV3(v-1),this.next.push(E[0],E[1],E[2]),this.next.push(E[0],E[1],E[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new i.BufferAttribute(new Float32Array(this.positions),3),previous:new i.BufferAttribute(new Float32Array(this.previous),3),next:new i.BufferAttribute(new Float32Array(this.next),3),side:new i.BufferAttribute(new Float32Array(this.side),1),width:new i.BufferAttribute(new Float32Array(this.width),1),uv:new i.BufferAttribute(new Float32Array(this.uvs),2),index:new i.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new i.BufferAttribute(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()};function e(v,w,E,T,C){var R;if(v=v.subarray||v.slice?v:v.buffer,E=E.subarray||E.slice?E:E.buffer,v=w?v.subarray?v.subarray(w,C&&w+C):v.slice(w,C&&w+C):v,E.set)E.set(v,T);else for(R=0;R<v.length;R++)E[R+T]=v[R];return E}s.prototype.advance=function(v){var w=this._attributes.position.array,E=this._attributes.previous.array,T=this._attributes.next.array,C=w.length;e(w,0,E,0,C),e(w,6,w,0,C-6),w[C-6]=v.x,w[C-5]=v.y,w[C-4]=v.z,w[C-3]=v.x,w[C-2]=v.y,w[C-1]=v.z,e(w,6,T,0,C-6),T[C-6]=v.x,T[C-5]=v.y,T[C-4]=v.z,T[C-3]=v.x,T[C-2]=v.y,T[C-1]=v.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},i.ShaderChunk.meshline_vert=["",i.ShaderChunk.logdepthbuf_pars_vertex,i.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.fog_vertex,"}"].join(`
`),i.ShaderChunk.meshline_frag=["",i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",i.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",i.ShaderChunk.fog_fragment,"}"].join(`
`);function p(v){i.ShaderMaterial.call(this,{uniforms:Object.assign({},i.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new i.Color(16777215)},opacity:{value:1},resolution:{value:new i.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new i.Vector2(1,1)}}),vertexShader:i.ShaderChunk.meshline_vert,fragmentShader:i.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(w){this.uniforms.lineWidth.value=w}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(w){this.uniforms.map.value=w}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(w){this.uniforms.useMap.value=w}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(w){this.uniforms.alphaMap.value=w}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(w){this.uniforms.useAlphaMap.value=w}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(w){this.uniforms.color.value=w}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(w){this.uniforms.opacity.value=w}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(w){this.uniforms.resolution.value.copy(w)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(w){this.uniforms.sizeAttenuation.value=w}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(w){this.uniforms.dashArray.value=w,this.useDash=w!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(w){this.uniforms.dashOffset.value=w}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(w){this.uniforms.dashRatio.value=w}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(w){this.uniforms.useDash.value=w}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(w){this.uniforms.visibility.value=w}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(w){this.uniforms.alphaTest.value=w}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(w){this.uniforms.repeat.value.copy(w)}}}),this.setValues(v)}p.prototype=Object.create(i.ShaderMaterial.prototype),p.prototype.constructor=p,p.prototype.isMeshLineMaterial=!0,p.prototype.copy=function(v){return i.ShaderMaterial.prototype.copy.call(this,v),this.lineWidth=v.lineWidth,this.map=v.map,this.useMap=v.useMap,this.alphaMap=v.alphaMap,this.useAlphaMap=v.useAlphaMap,this.color.copy(v.color),this.opacity=v.opacity,this.resolution.copy(v.resolution),this.sizeAttenuation=v.sizeAttenuation,this.dashArray.copy(v.dashArray),this.dashOffset.copy(v.dashOffset),this.dashRatio.copy(v.dashRatio),this.useDash=v.useDash,this.visibility=v.visibility,this.alphaTest=v.alphaTest,this.repeat.copy(v.repeat),this},typeof zv!="undefined"?(typeof DT!="undefined"&&DT.exports&&(zv=DT.exports={MeshLine:s,MeshLineMaterial:p,MeshLineRaycast:l}),zv.MeshLine=s,zv.MeshLineMaterial=p,zv.MeshLineRaycast=l):(t.MeshLine=s,t.MeshLineMaterial=p,t.MeshLineRaycast=l)}).call(zv)}),vG=cs(()=>{var XT=ur(ho()),HT=ur(ZP()),ise=new URLSearchParams(window.location.search),ose=ise.get("mode");switch(ose){case"svg":return HT.render(XT.default.createElement(QF,null),document.getElementById("app"));case"canvas":return HT.render(XT.default.createElement(jF,null),document.getElementById("app"));case"webgl":default:return HT.render(XT.default.createElement(WF,null),document.getElementById("app"))}}),xi=ur(ho()),$ce=ur(ZP());function Jr(){return Jr=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Jr.apply(this,arguments)}var Lq=ur(Ra()),Ti=ur(Ra()),U8=ur(T8()),my=ur(GM()),Dn=ur(ho()),k8=ur(b8()),j4=ur(L8()),P8=ur(ho());function R8(t,n,i,s=0,l=!1){for(let p of n)if(j4.default(i,p.args)){if(l)return;if(p.error)throw p.error;if(p.response)return p.response;throw p.promise}let e={args:i,promise:t(...i).then(p=>e.response=p==null||p).catch(p=>e.error=p).then(()=>{s>0&&setTimeout(()=>{let p=n.indexOf(e);p!==-1&&n.splice(p,1)},s)})};if(n.push(e),!l)throw e.promise}function wq(t,...n){if(n===void 0)t.splice(0,t.length);else{let i=t.find(s=>j4.default(n,s.args));if(i){let s=t.indexOf(i);s!==-1&&t.splice(s,1)}}}var Q4=[];function Ed(t,n){return P8.useMemo(()=>t&&R8(t,Q4,n,Ed.lifespan),n)}Ed.lifespan=0,Ed.clear=(...t)=>wq(Q4,...t),Ed.preload=(t,...n)=>{R8(t,Q4,n,Ed.lifespan,!0)},Ed.peek=(...t)=>{var n;return(n=Q4.find(i=>j4.default(t,i.args)))==null?void 0:n.response};var G8=ur(I8());function Cq(t){return function(n){t.forEach(function(i){typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var O8=Cq,Pq="react-three-fiber",Rq="5.3.7",yv=new Map,nR={},sa={obj:t=>t===Object(t)&&!sa.arr(t),fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,n){if(typeof t!==typeof n||!!t!==!!n)return!1;if(sa.str(t)||sa.num(t)||sa.obj(t))return t===n;if(sa.arr(t)&&t==n)return!0;let i;for(i in t)if(!(i in n))return!1;for(i in n)if(t[i]!==n[i])return!1;return sa.und(i)?t===n:!0}};function X8(t,n){let i=n.length;return n.push(t),()=>void n.splice(i,1)}var yw=[],xw=[],H8=[],Ew=t=>X8(t,yw),z8=t=>X8(t,xw);function Y8(t,n,i=0,s=!1){let l;if(s)for(l=0;l<yw.length;l++)yw[l](n),i++;let e=t.current.clock.getDelta();for(l=0;l<t.current.subscribers.length;l++)t.current.subscribers[l].ref.current(t.current,e);if(t.current.frames=Math.max(0,t.current.frames-1),i+=t.current.invalidateFrameloop?t.current.frames:1,!t.current.manual&&t.current.gl.render&&t.current.gl.render(t.current.scene,t.current.camera),s)for(l=0;l<xw.length;l++)xw[l](n);return i}var J4=!1;function V8(t){J4=!0;let n=0,i;for(i=0;i<yw.length;i++)yw[i](t),n++;for(yv.forEach(s=>{let l=s.containerInfo.__state;l.current.active&&l.current.ready&&(!l.current.invalidateFrameloop||l.current.frames>0)&&(n=Y8(l,t,n))}),i=0;i<xw.length;i++)xw[i](t);if(n!==0)return requestAnimationFrame(V8);for(i=0;i<H8.length;i++)H8[i](t);J4=!1}function vy(t=!0,n=1){if(t===!0)yv.forEach(i=>{let s=i.containerInfo.__state;s.current.frames=s.current.ready?s.current.frames+n:n});else if(t&&t.current){if(t.current.vr)return;t.current.frames=t.current.ready?t.current.frames+n:n}J4||(J4=!0,requestAnimationFrame(V8))}var rR={},hm=t=>void(rR={...rR,...t});function yy(t,n,i={},s=!1){let l=t.__container,e=[],p=[],v,w=Object.keys(n);for(v=0;v<w.length;v++)sa.equ(n[w[v]],i[w[v]])&&e.push(w[v]),sa.fun(n[w[v]])&&w[v].startsWith("on")&&((w[v].includes("Pointer")||w[v].includes("Click")||w[v].includes("ContextMenu")||w[v].includes("Wheel"))&&p.push(w[v]));let E=[];if(w=Object.keys(i),s)for(v=0;v<w.length;v++)n[w[v]]===void 0&&E.push(w[v]);let T=[...e,"children","key","ref"];t.__instance&&T.push("object");let C={...n};for(w=Object.keys(C),v=0;v<w.length;v++)T.indexOf(w[v])>-1&&delete C[w[v]];for(w=Object.keys(E),v=0;v<w.length;v++)w[v]!=="children"&&(C[w[v]]=void 0);let R=Object.entries(C);if(R.length>0){if(R.forEach(([B,A])=>{if(!p.includes(B)){var H,G;let O=t,U=O[B];if(B.includes("-")){let ie=B.split("-");if(U=ie.reduce((ue,K)=>ue[K],t),!(U&&U.set)){let[ue,...K]=ie.reverse();O=K.reverse().reduce((ce,ve)=>ce[ve],t),B=ue}}let $=(H=t.__container)==null||(G=H.__state)==null?void 0:G.current.colorManagement;U&&U.set&&(U.copy||U instanceof Ti.Layers)?Array.isArray(A)?U.set(...A):U.copy&&A&&A.constructor&&U.constructor.name===A.constructor.name?U.copy(A):A!==void 0&&(U.set(A),$&&U instanceof Ti.Color&&U.convertSRGBToLinear()):(O[B]=A,$&&O[B]instanceof Ti.Texture&&(O[B].encoding=Ti.sRGBEncoding)),gy(t)}}),s&&l&&t.raycast&&t.__handlers){t.__handlers=void 0;let B=l.__interaction.indexOf(t);B>-1&&l.__interaction.splice(B,1)}p.length&&(s&&l&&t.raycast&&l.__interaction.push(t),t.__handlers=p.reduce((B,A)=>(B[A.charAt(2).toLowerCase()+A.substr(3)]=n[A],B),{})),t.parent&&iR(t)}}function gy(t){t.__container&&t.__container.__state&&vy(t.__container.__state)}function iR(t){t.onUpdate&&t.onUpdate(t)}function W8(t,{args:n=[],...i},s,l,e){let p=`${t[0].toUpperCase()}${t.slice(1)}`,v;if(t==="primitive")i={dispose:null,...i},v=i.object,v.__instance=!0,v.__dispose=v.dispose;else{let w=rR[p]||Lq[p];if(!w)throw`"${p}" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;v=sa.arr(n)?new w(...n):new w(n)}for(;s.__container;)s=s.__container;if(!yv.has(s)){let w=E=>E.return?w(E.return):E.stateNode&&E.stateNode.containerInfo;s=w(e)}return v.__objects=[],v.__container=s,p.endsWith("Geometry")?i={attach:"geometry",...i}:p.endsWith("Material")&&(i={attach:"material",...i}),yy(v,i,{}),v}function ww(t,n){n&&(n.isObject3D?t.add(n):(t.__objects.push(n),n.parent=t,n.attachArray?(sa.arr(t[n.attachArray])||(t[n.attachArray]=[]),t[n.attachArray].push(n)):n.attachObject?(sa.obj(t[n.attachObject[0]])||(t[n.attachObject[0]]={}),t[n.attachObject[0]][n.attachObject[1]]=n):n.attach&&(t[n.attach]=n)),iR(n),gy(n))}function j8(t,n,i){if(n){if(n.isObject3D){n.parent=t,n.dispatchEvent({type:"added"});let s=t.children.filter(e=>e!==n),l=s.indexOf(i);t.children=[...s.slice(0,l),n,...s.slice(l)],iR(n)}else ww(t,n);gy(n)}}function Q8(t,n,i=!1){if(t){let s=i?[...t]:t;s.forEach(l=>Z4(n,l))}}function Z4(t,n){n&&(n.isObject3D?t.remove(n):(n.parent=null,t.__objects&&(t.__objects=t.__objects.filter(i=>i!==n)),n.attachArray?t[n.attachArray]=t[n.attachArray].filter(i=>i!==n):n.attachObject?delete t[n.attachObject[0]][n.attachObject[1]]:n.attach&&(t[n.attach]=null)),n.__container&&(n.__container.__interaction=n.__container.__interaction.filter(i=>i!==n)),gy(n),n.dispose!==null&&my.unstable_runWithPriority(my.unstable_IdlePriority,()=>{Q8(n.__objects,n),Q8(n.children,n,!0),n.dispose&&n.type!=="Scene"?n.dispose():n.__dispose&&n.__dispose(),delete n.__container,delete n.__objects}))}function q8(t,n,i,s){let l=t.parent,e=W8(n,i,t.__container,null,s);Z4(l,t),ww(l,e),[s,s.alternate].forEach(p=>{p!==null&&(p.stateNode=e,p.ref&&(sa.fun(p.ref)?p.ref(e):p.ref.current=e))})}var Aw=U8.default({now:my.unstable_now,createInstance:W8,removeChild:Z4,appendChild:ww,insertBefore:j8,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:sa.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sa.fun(clearTimeout)?clearTimeout:void 0,setTimeout:sa.fun(setTimeout)?setTimeout:void 0,clearTimeout:sa.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:ww,appendChildToContainer:ww,removeChildFromContainer:Z4,insertInContainerBefore:j8,commitUpdate(t,n,i,s,l,e){if(t.__instance&&l.object&&l.object!==t)q8(t,i,l,e);else{let{args:p=[],...v}=l,{args:w=[],...E}=s,T=p.some((C,R)=>sa.obj(C)?Object.entries(C).some(([B,A])=>A!==w[R][B]):C!==w[R]);T?q8(t,i,l,e):yy(t,v,E,!0)}},hideInstance(t){t.isObject3D&&(t.visible=!1,gy(t))},unhideInstance(t,n){(t.isObject3D&&n.visible==null||n.visible)&&(t.visible=!0,gy(t))},hideTextInstance(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance(t){return t},getRootHostContext(){return nR},getChildHostContext(){return nR},createTextInstance(){},finalizeInitialChildren(t){return t.__handlers},commitMount(t){let n=t.__container;n&&t.raycast&&t.__handlers&&n.__interaction.push(t)},prepareUpdate(){return nR},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(){return null},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),Dq=sa.fun(Symbol)&&Symbol.for,bse=Dq?Symbol.for("react.portal"):60106;function Fq(t,n,i){let s=yv.get(n);if(!s){n.__state=i;let l=s=Aw.createContainer(n,i!==void 0&&i.current.concurrent?2:0,!1,null);yv.set(n,l)}return Aw.updateContainer(t,s,null,()=>{}),Aw.getPublicRootInstance(s)}function Bq(t,n){let i=yv.get(t);i&&Aw.updateContainer(null,i,null,()=>{yv.delete(t),n&&n(t)})}Aw.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:()=>null,version:Rq,rendererPackageName:Pq});function J8(t){return t.isOrthographicCamera}function oR(t){return(t.eventObject||t.object).uuid+"/"+t.index}var sR=Dn.createContext({}),Nq=t=>{let{children:n,gl:i,camera:s,orthographic:l,raycaster:e,size:p,pixelRatio:v,vr:w=!1,concurrent:E=!1,shadowMap:T=!1,colorManagement:C=!0,invalidateFrameloop:R=!1,updateDefaultCamera:B=!0,noEvents:A=!1,onCreated:H,onPointerMissed:G,forceResize:O}=t,[U,$]=Dn.useState(!1),[ie]=Dn.useState(()=>new Ti.Vector2),[ue]=Dn.useState(()=>{let Ye=new Ti.Raycaster;if(e){let{filter:Re,computeOffsets:re,...oe}=e;yy(Ye,oe,{})}return Ye}),[K]=Dn.useState(()=>{let Ye=new Ti.Scene;return Ye.__interaction=[],Ye.__objects=[],Ye}),[ce,ve]=Dn.useState(()=>{let Ye=l?new Ti.OrthographicCamera(0,0,0,0,.1,1e3):new Ti.PerspectiveCamera(75,0,.1,1e3);return Ye.position.z=5,s&&yy(Ye,s,{}),Ye.lookAt(0,0,0),Ye}),[Ve]=Dn.useState(()=>new Ti.Clock),Me=Dn.useRef({ready:!1,active:!0,manual:0,colorManagement:C,vr:w,concurrent:E,noEvents:A,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:ce,scene:K,raycaster:ue,mouse:ie,clock:Ve,gl:i,size:p,viewport:null,initialClick:[0,0],initialHits:[],pointer:new k8.TinyEmitter,captured:void 0,events:void 0,subscribe:(Ye,Re=0)=>(Re&&Me.current.manual++,Me.current.subscribers.push({ref:Ye,priority:Re}),Me.current.subscribers=Me.current.subscribers.sort((re,oe)=>re.priority-oe.priority),()=>{var re;(re=Me.current)!=null&&re.subscribers&&(Re&&Me.current.manual--,Me.current.subscribers=Me.current.subscribers.filter(oe=>oe.ref!==Ye))}),setDefaultCamera:Ye=>ve(Ye),invalidate:()=>vy(Me),intersect:(Ye={},Re=!0)=>et(Ye,Re),forceResize:O}),Ee=Dn.useCallback((Ye=Me.current.camera,Re=new Ti.Vector3(0,0,0))=>{let{width:re,height:oe}=Me.current.size,we=Ye.position.distanceTo(Re);if(J8(Ye))return{width:re/Ye.zoom,height:oe/Ye.zoom,factor:1,distance:we};{let ge=Ye.fov*Math.PI/180,be=2*Math.tan(ge/2)*we,Ce=be*(re/oe);return{width:Ce,height:be,factor:re/Ce,distance:we}}},[]);Dn.useMemo(()=>{Me.current.ready=U,Me.current.size=p,Me.current.camera=ce,Me.current.invalidateFrameloop=R,Me.current.vr=w,Me.current.gl=i,Me.current.concurrent=E,Me.current.noEvents=A,Me.current.viewport=Ee},[R,w,E,A,U,p,ce,i]),Dn.useMemo(()=>{Me.current.aspect=p.width/p.height,Object.assign(Me.current.viewport,Ee()),B&&(J8(ce)?(ce.left=p.width/-2,ce.right=p.width/2,ce.top=p.height/2,ce.bottom=p.height/-2):ce.aspect=Me.current.aspect,ce.updateProjectionMatrix(),ce.updateMatrixWorld()),i.setSize(p.width,p.height),U&&vy(Me)},[ce,i,p,B,U]);let Ne=Dn.useRef(null);Dn.useMemo(()=>{let{ready:Ye,manual:Re,vr:re,noEvents:oe,invalidateFrameloop:we,frames:ge,subscribers:be,captured:Ce,initialClick:P,initialHits:_e,...ke}=Me.current;Ne.current=ke},[p,ce]),Dn.useLayoutEffect(()=>{v&&(Array.isArray(v)?i.setPixelRatio(Math.max(Math.min(v[0],window.devicePixelRatio),v[1])):i.setPixelRatio(v))},[i,v]),Dn.useLayoutEffect(()=>{T&&(i.shadowMap.enabled=!0,typeof T=="object"?Object.assign(i.shadowMap,T):i.shadowMap.type=Ti.PCFSoftShadowMap),C&&(i.toneMapping=Ti.ACESFilmicToneMapping,i.outputEncoding=Ti.sRGBEncoding)},[T,C]);let Oe=Dn.useMemo(()=>new Map,[]),tt=new Ti.Vector3,Ze=Dn.useCallback(Ye=>{let Re=(e==null||e.computeOffsets==null?void 0:e.computeOffsets(Ye,Ne.current))||Ye.nativeEvent;if(Re){let{offsetX:re,offsetY:oe}=Re,{width:we,height:ge}=Me.current.size;ie.set(re/we*2-1,-(oe/ge)*2+1),ue.setFromCamera(ie,Me.current.camera)}},[]),Qe=Dn.useCallback((Ye,Re)=>{if(Me.current.noEvents)return[];let re=new Set,oe=[],we=Re?Re(Me.current.scene.__interaction):Me.current.scene.__interaction,ge=ue.intersectObjects(we,!0).filter(be=>{let Ce=oR(be);return re.has(Ce)?!1:(re.add(Ce),!0)});e&&e.filter&&Ne.current&&(ge=e.filter(ge,Ne.current));for(let be of ge){let Ce=be.object;for(;Ce;){let P=Ce.__handlers;P&&oe.push({...be,eventObject:Ce}),Ce=Ce.parent}}return oe},[]),at=Dn.useCallback(Ye=>{let Re=Ye.nativeEvent.offsetX-Me.current.initialClick[0],re=Ye.nativeEvent.offsetY-Me.current.initialClick[1];return Math.round(Math.sqrt(Re*Re+re*re))},[]),mt=Dn.useCallback((Ye,Re,re=!0)=>{Me.current.pointer.emit("pointerCancel",Ye),re&&Ze(Ye),Array.from(Oe.values()).forEach(oe=>{if(Re&&(!Re.length||!Re.find(we=>we.eventObject===oe.eventObject&&we.index===oe.index))){let we=oe.eventObject,ge=we.__handlers;Oe.delete(oR(oe)),ge&&(ge.pointerOut&&ge.pointerOut({...oe,type:"pointerout"}),ge.pointerLeave&&ge.pointerLeave({...oe,type:"pointerleave"}))}})},[]),Ht=Dn.useCallback((Ye,Re)=>{let re=Qe(Ye,Re);return Me.current.captured&&Ye.type!=="click"&&Ye.type!=="wheel"&&Me.current.captured.forEach(oe=>{re.find(we=>we.eventObject===oe.eventObject)||re.push(oe)}),re},[]),Wt=Dn.useCallback((Ye,Re,re)=>{if(Ye.length){let oe=tt.set(ie.x,ie.y,0).unproject(Me.current.camera),we=Re.type==="click"?at(Re):0,ge=Ce=>Re.target.releasePointerCapture(Ce),be={stopped:!1,captured:!1};for(let Ce of Ye){let P=ke=>{be.captured||(be.captured=!0,Me.current.captured=[]),Me.current.captured&&Me.current.captured.push(Ce),Re.target.setPointerCapture(ke)},_e={...Re,...Ce,intersections:Ye,stopped:be.stopped,delta:we,unprojectedPoint:oe,ray:ue.ray,camera:Me.current.camera,stopPropagation:()=>{let ke=Me.current.captured;if((!ke||ke.find(Se=>Se.eventObject.id===Ce.eventObject.id))&&(_e.stopped=be.stopped=!0,Oe.size&&Array.from(Oe.values()).find(Se=>Se.object===Ce.object))){let Se=Ye.slice(0,Ye.indexOf(Ce));mt(_e,[...Se,Ce])}},target:{...Re.target,setPointerCapture:P,releasePointerCapture:ge},currentTarget:{...Re.currentTarget,setPointerCapture:P,releasePointerCapture:ge},sourceEvent:Re};if(re(_e),be.stopped===!0)break}}return Ye},[]),et=Dn.useCallback((Ye,Re=!0)=>{Me.current.pointer.emit("pointerMove",Ye),Re&&Ze(Ye);let re=Ht(Ye,oe=>oe.filter(we=>["Move","Over","Enter","Out","Leave"].some(ge=>we.__handlers["pointer"+ge])));return mt(Ye,re),Wt(re,Ye,oe=>{let we=oe.eventObject,ge=we.__handlers;if(!ge)return;if(ge.pointerOver||ge.pointerEnter||ge.pointerOut||ge.pointerLeave){let be=oR(oe),Ce=Oe.get(be);Ce?Ce.stopped&&oe.stopPropagation():(Oe.set(be,oe),ge.pointerOver&&ge.pointerOver({...oe,type:"pointerover"}),ge.pointerEnter&&ge.pointerEnter({...oe,type:"pointerenter"}))}ge.pointerMove&&ge.pointerMove(oe)}),re},[]),De=Dn.useCallback(Ye=>(Re,re=!0)=>{Me.current.pointer.emit(Ye,Re),re&&Ze(Re);let oe=Ht(Re);Wt(oe,Re,we=>{let ge=we.eventObject,be=ge.__handlers;be&&be[Ye]&&((Ye!=="click"&&Ye!=="contextMenu"&&Ye!=="doubleClick"||Me.current.initialHits.includes(ge))&&(be[Ye](we),Z8(Re,K.__interaction,Ce=>Ce!==ge)))}),Ye==="pointerDown"&&(Me.current.initialClick=[Re.nativeEvent.offsetX,Re.nativeEvent.offsetY],Me.current.initialHits=oe.map(we=>we.eventObject)),(Ye==="click"||Ye==="contextMenu"||Ye==="doubleClick")&&!oe.length&&(at(Re)<=2&&(Z8(Re,K.__interaction),G&&G()))},[G,at,Ht,Wt,Ze]);Dn.useMemo(()=>{Me.current.events={onClick:De("click"),onContextMenu:De("contextMenu"),onDoubleClick:De("doubleClick"),onWheel:De("wheel"),onPointerDown:De("pointerDown"),onPointerUp:De("pointerUp"),onPointerLeave:Ye=>mt(Ye,[]),onPointerMove:et,onGotPointerCaptureLegacy:Ye=>Me.current.captured=Qe(Ye),onLostPointerCapture:Ye=>(Me.current.captured=void 0,mt(Ye))}},[De,Qe,mt,et]);let Le=Dn.useCallback(function(Re){let re=()=>$(!0);return Dn.useEffect(()=>{let oe=H&&H(Me.current);oe&&oe.then?oe.then(re):re()},[]),Re.children},[]);return Dn.useLayoutEffect(()=>{Fq(Dn.createElement(Le,null,Dn.createElement(sR.Provider,{value:Ne.current},typeof n=="function"?n(Me.current):n)),K,Me)},[U,n,Ne.current]),Dn.useLayoutEffect(()=>{U&&(Me.current.vr?(i.xr||i.vr)&&i.setAnimationLoop?((i.xr||i.vr).enabled=!0,i.setAnimationLoop(Ye=>Y8(Me,Ye,0,!0))):console.warn("the gl instance does not support VR!"):Me.current.frames===0&&vy(Me))},[i,U,R]),Dn.useEffect(()=>()=>{Me.current.gl&&(Me.current.gl.renderLists&&Me.current.gl.renderLists.dispose(),Me.current.gl.forceContextLoss&&Me.current.gl.forceContextLoss(),K4(Me.current.gl)),Bq(Me.current.scene,()=>{K4(Me.current.raycaster),K4(Me.current.camera),K4(Me.current)})},[]),Me.current.events};function Z8(t,n,i=s=>!0){n.filter(i).forEach(s=>{var l,e;return(l=(e=s.__handlers).pointerMissed)==null?void 0:l.call(e,t)})}function K4(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(let n in t)typeof n=="object"&&n.dispose&&n.dispose(),delete t[n]}function K8(t){let n=Dn.useContext(t);if(!("subscribe"in n))throw new Error("\u26A1\uFE0F react-three-fiber hooks can only be used within the Canvas component! https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#hooks");return n}function Xf(t,n=0){let{subscribe:i}=K8(sR),s=Dn.useRef(t);return Dn.useLayoutEffect(()=>void(s.current=t),[t]),Dn.useEffect(()=>{let l=i(s,n);return()=>l()},[n,i]),null}function Hf(){return K8(sR)}function Iq(t){let n={nodes:{},materials:{}};return t&&t.traverse(i=>{i.name&&(n.nodes[i.name]=i),i.material&&!n.materials[i.material.name]&&(n.materials[i.material.name]=i.material)}),n}function $8(t,n){return function(i,s){let l=new i;t&&t(l);let e=Array.isArray(s)?s:[s];return Promise.all(e.map(p=>new Promise((v,w)=>l.load(p,E=>{E.scene&&Object.assign(E,Iq(E.scene)),v(E)},n,E=>w(E.message)))))}}function xv(t,n,i,s){let l=Ed($8(i,s),[t,n]);return Array.isArray(n)?l:l[0]}xv.preload=function(t,n,i){return Ed.preload($8(i),t,n)};var eO={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function Oq({children:t,setEvents:n,container:i,renderer:s,effects:l,...e}){let[p]=Dn.useState(s);p||console.warn("No renderer created!"),Dn.useEffect(()=>{l&&l(p,i)},[i,l,p]);let v=Nq({...e,children:t,gl:p});return Dn.useEffect(()=>{n(v)},[v,n]),null}var Uq=Dn.default.memo(function(n){let{renderer:i,effects:s,children:l,vr:e,webgl1:p,concurrent:v,shadowMap:w,colorManagement:E,orthographic:T,invalidateFrameloop:C,updateDefaultCamera:R,noEvents:B,gl:A,camera:H,raycaster:G,pixelRatio:O,onCreated:U,onPointerMissed:$,preRender:ie,resize:ue,style:K,...ce}=n,ve=Dn.useRef(),[{onGotPointerCaptureLegacy:Ve,...Me},Ee]=Dn.useState({}),[Ne,Oe,tt]=G8.default({scroll:!0,debounce:{scroll:50,resize:0},...ue}),Ze=Dn.useRef(!1),Qe=Dn.useMemo(()=>Ze.current=Ze.current||!!Oe.width&&!!Oe.height,[Oe]),at=Dn.useMemo(()=>({size:Oe,forceResize:tt,setEvents:Ee,container:ve.current}),[tt,Oe]);return typeof window=="undefined"?Dn.default.createElement("div",Jr({style:{...eO,...K}},ce),ie):Dn.default.createElement("div",Jr({ref:O8([Ne,ve]),style:{...eO,...K}},Me,ce),ie,Qe&&Dn.default.createElement(Oq,Jr({},n,at)))}),tO=Dn.default.memo(function({children:n,...i}){let s=Dn.useRef(),l=i.webgl1?Ti.WebGL1Renderer:Ti.WebGLRenderer;return Dn.default.createElement(Uq,Jr({},i,{renderer:()=>{if(s.current){let e={antialias:!0,alpha:!0,...i.gl},p=new l({powerPreference:"high-performance",canvas:s.current,...e});return p}},preRender:Dn.default.createElement("canvas",{ref:s,style:{display:"block"}})}),n)});function ml(t,n){if(t==null)return{};var i={},s=Object.keys(t),l,e;for(e=0;e<s.length;e++){if(l=s[e],n.indexOf(l)>=0)continue;i[l]=t[l]}return i}var _w=ur(ho());function aa(t){let n=t+"BufferGeometry";return _w.forwardRef((i,s)=>{let{args:l,children:e}=i,p=ml(i,["args","children"]);return _w.default.createElement("mesh",Jr({ref:s},p),_w.default.createElement(n,{attach:"geometry",args:l}),e)})}var nO=aa("box"),Dse=aa("circle"),Fse=aa("cone"),Bse=aa("cylinder"),Nse=aa("sphere"),Ise=aa("plane"),Ose=aa("tube"),Use=aa("torus"),kse=aa("torusKnot"),Gse=aa("tetrahedron"),Xse=aa("ring"),Hse=aa("polyhedron"),zse=aa("icosahedron"),Yse=aa("octahedron"),Vse=aa("dodecahedron"),Wse=aa("extrude"),jse=aa("lathe"),Qse=aa("parametric"),kq="123",wd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ad={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Gq=0,rO=1,Xq=2,iO=1,Hq=2,Mw=3,xy=0,Da=1,Ey=2,oO=1,Sw=0,Tw=1,$4=2,sO=3,aO=4,zq=5,wy=100,Yq=101,Vq=102,lO=103,uO=104,Wq=200,jq=201,Qq=202,qq=203,cO=204,fO=205,Jq=206,Zq=207,Kq=208,$q=209,eJ=210,tJ=0,nJ=1,rJ=2,aR=3,iJ=4,oJ=5,sJ=6,aJ=7,eS=0,lJ=1,uJ=2,bw=0,cJ=1,fJ=2,hJ=3,dJ=4,pJ=5,hO=300,lR=301,uR=302,dO=303,pO=304,cR=306,fR=307,Ev=1e3,jl=1001,Cw=1002,As=1003,tS=1004,nS=1005,mo=1006,hR=1007,wv=1008,dR=1009,mJ=1010,vJ=1011,rS=1012,gJ=1013,iS=1014,dm=1015,oS=1016,yJ=1017,xJ=1018,EJ=1019,Lw=1020,wJ=1021,lf=1022,Ql=1023,AJ=1024,_J=1025,Ay=1026,Pw=1027,MJ=1028,SJ=1029,TJ=1030,bJ=1031,CJ=1032,LJ=1033,mO=33776,vO=33777,gO=33778,yO=33779,xO=35840,EO=35841,wO=35842,AO=35843,PJ=36196,_O=37492,MO=37496,RJ=37808,DJ=37809,FJ=37810,BJ=37811,NJ=37812,IJ=37813,OJ=37814,UJ=37815,kJ=37816,GJ=37817,XJ=37818,HJ=37819,zJ=37820,YJ=37821,VJ=36492,WJ=37840,jJ=37841,QJ=37842,qJ=37843,JJ=37844,ZJ=37845,KJ=37846,$J=37847,eZ=37848,tZ=37849,nZ=37850,rZ=37851,iZ=37852,oZ=37853,sZ=2200,aZ=2201,lZ=2202,_y=2300,Av=2301,pR=2302,My=2400,Sy=2401,sS=2402,mR=2500,SO=2501,uZ=0,TO=1,vR=2,Ty=3e3,by=3001,bO=3007,CO=3002,cZ=3003,LO=3004,PO=3005,RO=3006,fZ=3200,hZ=3201,pm=0,dZ=1,gR=7680,pZ=519,aS=35044,Rw=35048,DO="300 es";function uf(){}Object.assign(uf.prototype,{addEventListener:function(t,n){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(n)===-1&&i[t].push(n)},hasEventListener:function(t,n){if(this._listeners===void 0)return!1;let i=this._listeners;return i[t]!==void 0&&i[t].indexOf(n)!==-1},removeEventListener:function(t,n){if(this._listeners===void 0)return;let i=this._listeners,s=i[t];if(s!==void 0){let l=s.indexOf(n);l!==-1&&s.splice(l,1)}},dispatchEvent:function(t){if(this._listeners===void 0)return;let n=this._listeners,i=n[t.type];if(i!==void 0){t.target=this;let s=i.slice(0);for(let l=0,e=s.length;l<e;l++)s[l].call(this,t)}}});var Fa=[];for(let t=0;t<256;t++)Fa[t]=(t<16?"0":"")+t.toString(16);var lS=1234567,Lr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){let t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0,s=Math.random()*4294967295|0,l=Fa[t&255]+Fa[t>>8&255]+Fa[t>>16&255]+Fa[t>>24&255]+"-"+Fa[n&255]+Fa[n>>8&255]+"-"+Fa[n>>16&15|64]+Fa[n>>24&255]+"-"+Fa[i&63|128]+Fa[i>>8&255]+"-"+Fa[i>>16&255]+Fa[i>>24&255]+Fa[s&255]+Fa[s>>8&255]+Fa[s>>16&255]+Fa[s>>24&255];return l.toUpperCase()},clamp:function(t,n,i){return Math.max(n,Math.min(i,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,i,s,l){return s+(t-n)*(l-s)/(i-n)},lerp:function(t,n,i){return(1-i)*t+i*n},smoothstep:function(t,n,i){return t<=n?0:t>=i?1:(t=(t-n)/(i-n),t*t*(3-2*t))},smootherstep:function(t,n,i){return t<=n?0:t>=i?1:(t=(t-n)/(i-n),t*t*t*(t*(t*6-15)+10))},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return t!==void 0&&(lS=t%2147483647),lS=lS*16807%2147483647,(lS-1)/2147483646},degToRad:function(t){return t*Lr.DEG2RAD},radToDeg:function(t){return t*Lr.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)===0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,n,i,s,l){let e=Math.cos,p=Math.sin,v=e(i/2),w=p(i/2),E=e((n+s)/2),T=p((n+s)/2),C=e((n-s)/2),R=p((n-s)/2),B=e((s-n)/2),A=p((s-n)/2);switch(l){case"XYX":t.set(v*T,w*C,w*R,v*E);break;case"YZY":t.set(w*R,v*T,w*C,v*E);break;case"ZXZ":t.set(w*C,w*R,v*T,v*E);break;case"XZX":t.set(v*T,w*A,w*B,v*E);break;case"YXY":t.set(w*B,v*T,w*A,v*E);break;case"ZYZ":t.set(w*A,w*B,v*T,v*E);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}},St=class{constructor(n=0,i=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=n,this.y=i}get width(){return this.x}set width(n){this.x=n}get height(){return this.y}set height(n){this.y=n}set(n,i){return this.x=n,this.y=i,this}setScalar(n){return this.x=n,this.y=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y)}copy(n){return this.x=n.x,this.y=n.y,this}add(n,i){return i!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,i)):(this.x+=n.x,this.y+=n.y,this)}addScalar(n){return this.x+=n,this.y+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this}sub(n,i){return i!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,i)):(this.x-=n.x,this.y-=n.y,this)}subScalar(n){return this.x-=n,this.y-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this}multiply(n){return this.x*=n.x,this.y*=n.y,this}multiplyScalar(n){return this.x*=n,this.y*=n,this}divide(n){return this.x/=n.x,this.y/=n.y,this}divideScalar(n){return this.multiplyScalar(1/n)}applyMatrix3(n){let i=this.x,s=this.y,l=n.elements;return this.x=l[0]*i+l[3]*s+l[6],this.y=l[1]*i+l[4]*s+l[7],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this}clampLength(n,i){let s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(n){return this.x*n.x+this.y*n.y}cross(n){return this.x*n.y-this.y*n.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){let n=Math.atan2(-this.y,-this.x)+Math.PI;return n}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){let i=this.x-n.x,s=this.y-n.y;return i*i+s*s}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this}equals(n){return n.x===this.x&&n.y===this.y}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n}fromBufferAttribute(n,i,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(i),this.y=n.getY(i),this}rotateAround(n,i){let s=Math.cos(i),l=Math.sin(i),e=this.x-n.x,p=this.y-n.y;return this.x=e*s-p*l+n.x,this.y=e*l+p*s+n.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}},rs=class{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(n,i,s,l,e,p,v,w,E){let T=this.elements;return T[0]=n,T[1]=l,T[2]=v,T[3]=i,T[4]=e,T[5]=w,T[6]=s,T[7]=p,T[8]=E,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(n){let i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(n,i,s){return n.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(n){let i=n.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){let s=n.elements,l=i.elements,e=this.elements,p=s[0],v=s[3],w=s[6],E=s[1],T=s[4],C=s[7],R=s[2],B=s[5],A=s[8],H=l[0],G=l[3],O=l[6],U=l[1],$=l[4],ie=l[7],ue=l[2],K=l[5],ce=l[8];return e[0]=p*H+v*U+w*ue,e[3]=p*G+v*$+w*K,e[6]=p*O+v*ie+w*ce,e[1]=E*H+T*U+C*ue,e[4]=E*G+T*$+C*K,e[7]=E*O+T*ie+C*ce,e[2]=R*H+B*U+A*ue,e[5]=R*G+B*$+A*K,e[8]=R*O+B*ie+A*ce,this}multiplyScalar(n){let i=this.elements;return i[0]*=n,i[3]*=n,i[6]*=n,i[1]*=n,i[4]*=n,i[7]*=n,i[2]*=n,i[5]*=n,i[8]*=n,this}determinant(){let n=this.elements,i=n[0],s=n[1],l=n[2],e=n[3],p=n[4],v=n[5],w=n[6],E=n[7],T=n[8];return i*p*T-i*v*E-s*e*T+s*v*w+l*e*E-l*p*w}invert(){let n=this.elements,i=n[0],s=n[1],l=n[2],e=n[3],p=n[4],v=n[5],w=n[6],E=n[7],T=n[8],C=T*p-v*E,R=v*w-T*e,B=E*e-p*w,A=i*C+s*R+l*B;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);let H=1/A;return n[0]=C*H,n[1]=(l*E-T*s)*H,n[2]=(v*s-l*p)*H,n[3]=R*H,n[4]=(T*i-l*w)*H,n[5]=(l*e-v*i)*H,n[6]=B*H,n[7]=(s*w-E*i)*H,n[8]=(p*i-s*e)*H,this}transpose(){let n,i=this.elements;return n=i[1],i[1]=i[3],i[3]=n,n=i[2],i[2]=i[6],i[6]=n,n=i[5],i[5]=i[7],i[7]=n,this}getNormalMatrix(n){return this.setFromMatrix4(n).copy(this).invert().transpose()}transposeIntoArray(n){let i=this.elements;return n[0]=i[0],n[1]=i[3],n[2]=i[6],n[3]=i[1],n[4]=i[4],n[5]=i[7],n[6]=i[2],n[7]=i[5],n[8]=i[8],this}setUvTransform(n,i,s,l,e,p,v){let w=Math.cos(e),E=Math.sin(e);this.set(s*w,s*E,-s*(w*p+E*v)+p+n,-l*E,l*w,-l*(-E*p+w*v)+v+i,0,0,1)}scale(n,i){let s=this.elements;return s[0]*=n,s[3]*=n,s[6]*=n,s[1]*=i,s[4]*=i,s[7]*=i,this}rotate(n){let i=Math.cos(n),s=Math.sin(n),l=this.elements,e=l[0],p=l[3],v=l[6],w=l[1],E=l[4],T=l[7];return l[0]=i*e+s*w,l[3]=i*p+s*E,l[6]=i*v+s*T,l[1]=-s*e+i*w,l[4]=-s*p+i*E,l[7]=-s*v+i*T,this}translate(n,i){let s=this.elements;return s[0]+=n*s[2],s[3]+=n*s[5],s[6]+=n*s[8],s[1]+=i*s[2],s[4]+=i*s[5],s[7]+=i*s[8],this}equals(n){let i=this.elements,s=n.elements;for(let l=0;l<9;l++)if(i[l]!==s[l])return!1;return!0}fromArray(n,i=0){for(let s=0;s<9;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){let s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n}},Cy,Ly={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if(typeof HTMLCanvasElement=="undefined")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{Cy===void 0&&(Cy=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Cy.width=t.width,Cy.height=t.height;let i=Cy.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),n=Cy}return n.width>2048||n.height>2048?n.toDataURL("image/jpeg",.6):n.toDataURL("image/png")}},mZ=0;function Yi(t=Yi.DEFAULT_IMAGE,n=Yi.DEFAULT_MAPPING,i=jl,s=jl,l=mo,e=wv,p=Ql,v=dR,w=1,E=Ty){Object.defineProperty(this,"id",{value:mZ++}),this.uuid=Lr.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=s,this.magFilter=l,this.minFilter=e,this.anisotropy=w,this.format=p,this.internalFormat=null,this.type=v,this.offset=new St(0,0),this.repeat=new St(1,1),this.center=new St(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=E,this.version=0,this.onUpdate=null}Yi.DEFAULT_IMAGE=void 0;Yi.DEFAULT_MAPPING=hO;Yi.prototype=Object.assign(Object.create(uf.prototype),{constructor:Yi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){let n=t===void 0||typeof t=="string";if(!n&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];let i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let s=this.image;if(s.uuid===void 0&&(s.uuid=Lr.generateUUID()),!n&&t.images[s.uuid]===void 0){let l;if(Array.isArray(s)){l=[];for(let e=0,p=s.length;e<p;e++)s[e].isDataTexture?l.push(yR(s[e].image)):l.push(yR(s[e]))}else l=yR(s);t.images[s.uuid]={uuid:s.uuid,url:l}}i.image=s.uuid}return n||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==hO)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Ev:t.x=t.x-Math.floor(t.x);break;case jl:t.x=t.x<0?0:1;break;case Cw:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Ev:t.y=t.y-Math.floor(t.y);break;case jl:t.y=t.y<0?0:1;break;case Cw:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}});Object.defineProperty(Yi.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});function yR(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?Ly.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Ki=class{constructor(n=0,i=0,s=0,l=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=n,this.y=i,this.z=s,this.w=l}get width(){return this.z}set width(n){this.z=n}get height(){return this.w}set height(n){this.w=n}set(n,i,s,l){return this.x=n,this.y=i,this.z=s,this.w=l,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this.w=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setW(n){return this.w=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this}add(n,i){return i!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,i)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this.w=n.w+i.w,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this.w+=n.w*i,this}sub(n,i){return i!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,i)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this.w=n.w-i.w,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this}applyMatrix4(n){let i=this.x,s=this.y,l=this.z,e=this.w,p=n.elements;return this.x=p[0]*i+p[4]*s+p[8]*l+p[12]*e,this.y=p[1]*i+p[5]*s+p[9]*l+p[13]*e,this.z=p[2]*i+p[6]*s+p[10]*l+p[14]*e,this.w=p[3]*i+p[7]*s+p[11]*l+p[15]*e,this}divideScalar(n){return this.multiplyScalar(1/n)}setAxisAngleFromQuaternion(n){this.w=2*Math.acos(n.w);let i=Math.sqrt(1-n.w*n.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/i,this.y=n.y/i,this.z=n.z/i),this}setAxisAngleFromRotationMatrix(n){let i,s,l,e,p=.01,v=.1,w=n.elements,E=w[0],T=w[4],C=w[8],R=w[1],B=w[5],A=w[9],H=w[2],G=w[6],O=w[10];if(Math.abs(T-R)<p&&Math.abs(C-H)<p&&Math.abs(A-G)<p){if(Math.abs(T+R)<v&&Math.abs(C+H)<v&&Math.abs(A+G)<v&&Math.abs(E+B+O-3)<v)return this.set(1,0,0,0),this;i=Math.PI;let $=(E+1)/2,ie=(B+1)/2,ue=(O+1)/2,K=(T+R)/4,ce=(C+H)/4,ve=(A+G)/4;return $>ie&&$>ue?$<p?(s=0,l=.707106781,e=.707106781):(s=Math.sqrt($),l=K/s,e=ce/s):ie>ue?ie<p?(s=.707106781,l=0,e=.707106781):(l=Math.sqrt(ie),s=K/l,e=ve/l):ue<p?(s=.707106781,l=.707106781,e=0):(e=Math.sqrt(ue),s=ce/e,l=ve/e),this.set(s,l,e,i),this}let U=Math.sqrt((G-A)*(G-A)+(C-H)*(C-H)+(R-T)*(R-T));return Math.abs(U)<.001&&(U=1),this.x=(G-A)/U,this.y=(C-H)/U,this.z=(R-T)/U,this.w=Math.acos((E+B+O-1)/2),this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this.w=Math.max(n.w,Math.min(i.w,this.w)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this.w=Math.max(n,Math.min(i,this.w)),this}clampLength(n,i){let s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this.w+=(n.w-this.w)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this.w=n.w+(i.w-n.w)*s,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this.w=n[i+3],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n[i+3]=this.w,n}fromBufferAttribute(n,i,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this.w=n.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}};function la(t,n,i){this.width=t,this.height=n,this.scissor=new Ki(0,0,t,n),this.scissorTest=!1,this.viewport=new Ki(0,0,t,n),i=i||{},this.texture=new Yi(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=n,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:mo,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}la.prototype=Object.assign(Object.create(uf.prototype),{constructor:la,isWebGLRenderTarget:!0,setSize:function(t,n){(this.width!==t||this.height!==n)&&(this.width=t,this.height=n,this.texture.image.width=t,this.texture.image.height=n,this.dispose()),this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function FO(t,n,i){la.call(this,t,n,i),this.samples=4}FO.prototype=Object.assign(Object.create(la.prototype),{constructor:FO,isWebGLMultisampleRenderTarget:!0,copy:function(t){return la.prototype.copy.call(this,t),this.samples=t.samples,this}});var Ba=class{constructor(n=0,i=0,s=0,l=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=n,this._y=i,this._z=s,this._w=l}static slerp(n,i,s,l){return s.copy(n).slerp(i,l)}static slerpFlat(n,i,s,l,e,p,v){let w=s[l+0],E=s[l+1],T=s[l+2],C=s[l+3],R=e[p+0],B=e[p+1],A=e[p+2],H=e[p+3];if(C!==H||w!==R||E!==B||T!==A){let G=1-v,O=w*R+E*B+T*A+C*H,U=O>=0?1:-1,$=1-O*O;if($>Number.EPSILON){let ue=Math.sqrt($),K=Math.atan2(ue,O*U);G=Math.sin(G*K)/ue,v=Math.sin(v*K)/ue}let ie=v*U;if(w=w*G+R*ie,E=E*G+B*ie,T=T*G+A*ie,C=C*G+H*ie,G===1-v){let ue=1/Math.sqrt(w*w+E*E+T*T+C*C);w*=ue,E*=ue,T*=ue,C*=ue}}n[i]=w,n[i+1]=E,n[i+2]=T,n[i+3]=C}static multiplyQuaternionsFlat(n,i,s,l,e,p){let v=s[l],w=s[l+1],E=s[l+2],T=s[l+3],C=e[p],R=e[p+1],B=e[p+2],A=e[p+3];return n[i]=v*A+T*C+w*B-E*R,n[i+1]=w*A+T*R+E*C-v*B,n[i+2]=E*A+T*B+v*R-w*C,n[i+3]=T*A-v*C-w*R-E*B,n}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get w(){return this._w}set w(n){this._w=n,this._onChangeCallback()}set(n,i,s,l){return this._x=n,this._y=i,this._z=s,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this}setFromEuler(n,i){if(!(n&&n.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let s=n._x,l=n._y,e=n._z,p=n._order,v=Math.cos,w=Math.sin,E=v(s/2),T=v(l/2),C=v(e/2),R=w(s/2),B=w(l/2),A=w(e/2);switch(p){case"XYZ":this._x=R*T*C+E*B*A,this._y=E*B*C-R*T*A,this._z=E*T*A+R*B*C,this._w=E*T*C-R*B*A;break;case"YXZ":this._x=R*T*C+E*B*A,this._y=E*B*C-R*T*A,this._z=E*T*A-R*B*C,this._w=E*T*C+R*B*A;break;case"ZXY":this._x=R*T*C-E*B*A,this._y=E*B*C+R*T*A,this._z=E*T*A+R*B*C,this._w=E*T*C-R*B*A;break;case"ZYX":this._x=R*T*C-E*B*A,this._y=E*B*C+R*T*A,this._z=E*T*A-R*B*C,this._w=E*T*C+R*B*A;break;case"YZX":this._x=R*T*C+E*B*A,this._y=E*B*C+R*T*A,this._z=E*T*A-R*B*C,this._w=E*T*C-R*B*A;break;case"XZY":this._x=R*T*C-E*B*A,this._y=E*B*C-R*T*A,this._z=E*T*A+R*B*C,this._w=E*T*C+R*B*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+p)}return i!==!1&&this._onChangeCallback(),this}setFromAxisAngle(n,i){let s=i/2,l=Math.sin(s);return this._x=n.x*l,this._y=n.y*l,this._z=n.z*l,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(n){let i=n.elements,s=i[0],l=i[4],e=i[8],p=i[1],v=i[5],w=i[9],E=i[2],T=i[6],C=i[10],R=s+v+C;if(R>0){let B=.5/Math.sqrt(R+1);this._w=.25/B,this._x=(T-w)*B,this._y=(e-E)*B,this._z=(p-l)*B}else if(s>v&&s>C){let B=2*Math.sqrt(1+s-v-C);this._w=(T-w)/B,this._x=.25*B,this._y=(l+p)/B,this._z=(e+E)/B}else if(v>C){let B=2*Math.sqrt(1+v-s-C);this._w=(e-E)/B,this._x=(l+p)/B,this._y=.25*B,this._z=(w+T)/B}else{let B=2*Math.sqrt(1+C-s-v);this._w=(p-l)/B,this._x=(e+E)/B,this._y=(w+T)/B,this._z=.25*B}return this._onChangeCallback(),this}setFromUnitVectors(n,i){let s=1e-6,l=n.dot(i)+1;return l<s?(l=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0,this._w=l):(this._x=0,this._y=-n.z,this._z=n.y,this._w=l)):(this._x=n.y*i.z-n.z*i.y,this._y=n.z*i.x-n.x*i.z,this._z=n.x*i.y-n.y*i.x,this._w=l),this.normalize()}angleTo(n){return 2*Math.acos(Math.abs(Lr.clamp(this.dot(n),-1,1)))}rotateTowards(n,i){let s=this.angleTo(n);if(s===0)return this;let l=Math.min(1,i/s);return this.slerp(n,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let n=this.length();return n===0?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this}multiply(n,i){return i!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,i)):this.multiplyQuaternions(this,n)}premultiply(n){return this.multiplyQuaternions(n,this)}multiplyQuaternions(n,i){let s=n._x,l=n._y,e=n._z,p=n._w,v=i._x,w=i._y,E=i._z,T=i._w;return this._x=s*T+p*v+l*E-e*w,this._y=l*T+p*w+e*v-s*E,this._z=e*T+p*E+s*w-l*v,this._w=p*T-s*v-l*w-e*E,this._onChangeCallback(),this}slerp(n,i){if(i===0)return this;if(i===1)return this.copy(n);let s=this._x,l=this._y,e=this._z,p=this._w,v=p*n._w+s*n._x+l*n._y+e*n._z;if(v<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,v=-v):this.copy(n),v>=1)return this._w=p,this._x=s,this._y=l,this._z=e,this;let w=1-v*v;if(w<=Number.EPSILON){let B=1-i;return this._w=B*p+i*this._w,this._x=B*s+i*this._x,this._y=B*l+i*this._y,this._z=B*e+i*this._z,this.normalize(),this._onChangeCallback(),this}let E=Math.sqrt(w),T=Math.atan2(E,v),C=Math.sin((1-i)*T)/E,R=Math.sin(i*T)/E;return this._w=p*C+this._w*R,this._x=s*C+this._x*R,this._y=l*C+this._y*R,this._z=e*C+this._z*R,this._onChangeCallback(),this}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w}fromArray(n,i=0){return this._x=n[i],this._y=n[i+1],this._z=n[i+2],this._w=n[i+3],this._onChangeCallback(),this}toArray(n=[],i=0){return n[i]=this._x,n[i+1]=this._y,n[i+2]=this._z,n[i+3]=this._w,n}fromBufferAttribute(n,i){return this._x=n.getX(i),this._y=n.getY(i),this._z=n.getZ(i),this._w=n.getW(i),this}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}},Ue=class{constructor(n=0,i=0,s=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=n,this.y=i,this.z=s}set(n,i,s){return s===void 0&&(s=this.z),this.x=n,this.y=i,this.z=s,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this}add(n,i){return i!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,i)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this}sub(n,i){return i!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,i)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this}multiply(n,i){return i!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,i)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this}multiplyVectors(n,i){return this.x=n.x*i.x,this.y=n.y*i.y,this.z=n.z*i.z,this}applyEuler(n){return n&&n.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(BO.setFromEuler(n))}applyAxisAngle(n,i){return this.applyQuaternion(BO.setFromAxisAngle(n,i))}applyMatrix3(n){let i=this.x,s=this.y,l=this.z,e=n.elements;return this.x=e[0]*i+e[3]*s+e[6]*l,this.y=e[1]*i+e[4]*s+e[7]*l,this.z=e[2]*i+e[5]*s+e[8]*l,this}applyNormalMatrix(n){return this.applyMatrix3(n).normalize()}applyMatrix4(n){let i=this.x,s=this.y,l=this.z,e=n.elements,p=1/(e[3]*i+e[7]*s+e[11]*l+e[15]);return this.x=(e[0]*i+e[4]*s+e[8]*l+e[12])*p,this.y=(e[1]*i+e[5]*s+e[9]*l+e[13])*p,this.z=(e[2]*i+e[6]*s+e[10]*l+e[14])*p,this}applyQuaternion(n){let i=this.x,s=this.y,l=this.z,e=n.x,p=n.y,v=n.z,w=n.w,E=w*i+p*l-v*s,T=w*s+v*i-e*l,C=w*l+e*s-p*i,R=-e*i-p*s-v*l;return this.x=E*w+R*-e+T*-v-C*-p,this.y=T*w+R*-p+C*-e-E*-v,this.z=C*w+R*-v+E*-p-T*-e,this}project(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)}unproject(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)}transformDirection(n){let i=this.x,s=this.y,l=this.z,e=n.elements;return this.x=e[0]*i+e[4]*s+e[8]*l,this.y=e[1]*i+e[5]*s+e[9]*l,this.z=e[2]*i+e[6]*s+e[10]*l,this.normalize()}divide(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this}divideScalar(n){return this.multiplyScalar(1/n)}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this}clampLength(n,i){let s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this}cross(n,i){return i!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,i)):this.crossVectors(this,n)}crossVectors(n,i){let s=n.x,l=n.y,e=n.z,p=i.x,v=i.y,w=i.z;return this.x=l*w-e*v,this.y=e*p-s*w,this.z=s*v-l*p,this}projectOnVector(n){let i=n.lengthSq();if(i===0)return this.set(0,0,0);let s=n.dot(this)/i;return this.copy(n).multiplyScalar(s)}projectOnPlane(n){return xR.copy(this).projectOnVector(n),this.sub(xR)}reflect(n){return this.sub(xR.copy(n).multiplyScalar(2*this.dot(n)))}angleTo(n){let i=Math.sqrt(this.lengthSq()*n.lengthSq());if(i===0)return Math.PI/2;let s=this.dot(n)/i;return Math.acos(Lr.clamp(s,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){let i=this.x-n.x,s=this.y-n.y,l=this.z-n.z;return i*i+s*s+l*l}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)}setFromSpherical(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)}setFromSphericalCoords(n,i,s){let l=Math.sin(i)*n;return this.x=l*Math.sin(s),this.y=Math.cos(i)*n,this.z=l*Math.cos(s),this}setFromCylindrical(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)}setFromCylindricalCoords(n,i,s){return this.x=n*Math.sin(i),this.y=s,this.z=n*Math.cos(i),this}setFromMatrixPosition(n){let i=n.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(n){let i=this.setFromMatrixColumn(n,0).length(),s=this.setFromMatrixColumn(n,1).length(),l=this.setFromMatrixColumn(n,2).length();return this.x=i,this.y=s,this.z=l,this}setFromMatrixColumn(n,i){return this.fromArray(n.elements,i*4)}setFromMatrix3Column(n,i){return this.fromArray(n.elements,i*3)}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n}fromBufferAttribute(n,i,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},xR=new Ue,BO=new Ba,zf=class{constructor(n,i){Object.defineProperty(this,"isBox3",{value:!0}),this.min=n!==void 0?n:new Ue(Infinity,Infinity,Infinity),this.max=i!==void 0?i:new Ue(-Infinity,-Infinity,-Infinity)}set(n,i){return this.min.copy(n),this.max.copy(i),this}setFromArray(n){let i=Infinity,s=Infinity,l=Infinity,e=-Infinity,p=-Infinity,v=-Infinity;for(let w=0,E=n.length;w<E;w+=3){let T=n[w],C=n[w+1],R=n[w+2];T<i&&(i=T),C<s&&(s=C),R<l&&(l=R),T>e&&(e=T),C>p&&(p=C),R>v&&(v=R)}return this.min.set(i,s,l),this.max.set(e,p,v),this}setFromBufferAttribute(n){let i=Infinity,s=Infinity,l=Infinity,e=-Infinity,p=-Infinity,v=-Infinity;for(let w=0,E=n.count;w<E;w++){let T=n.getX(w),C=n.getY(w),R=n.getZ(w);T<i&&(i=T),C<s&&(s=C),R<l&&(l=R),T>e&&(e=T),C>p&&(p=C),R>v&&(v=R)}return this.min.set(i,s,l),this.max.set(e,p,v),this}setFromPoints(n){this.makeEmpty();for(let i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this}setFromCenterAndSize(n,i){let s=Dw.copy(i).multiplyScalar(.5);return this.min.copy(n).sub(s),this.max.copy(n).add(s),this}setFromObject(n){return this.makeEmpty(),this.expandByObject(n)}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(n){return n===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),n=new Ue),this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return n===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),n=new Ue),this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}expandByObject(n){n.updateWorldMatrix(!1,!1);let i=n.geometry;i!==void 0&&(i.boundingBox===null&&i.computeBoundingBox(),wR.copy(i.boundingBox),wR.applyMatrix4(n.matrixWorld),this.union(wR));let s=n.children;for(let l=0,e=s.length;l<e;l++)this.expandByObject(s[l]);return this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z}getParameter(n,i){return i===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),i=new Ue),i.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)}intersectsSphere(n){return this.clampPoint(n.center,Dw),Dw.distanceToSquared(n.center)<=n.radius*n.radius}intersectsPlane(n){let i,s;return n.normal.x>0?(i=n.normal.x*this.min.x,s=n.normal.x*this.max.x):(i=n.normal.x*this.max.x,s=n.normal.x*this.min.x),n.normal.y>0?(i+=n.normal.y*this.min.y,s+=n.normal.y*this.max.y):(i+=n.normal.y*this.max.y,s+=n.normal.y*this.min.y),n.normal.z>0?(i+=n.normal.z*this.min.z,s+=n.normal.z*this.max.z):(i+=n.normal.z*this.max.z,s+=n.normal.z*this.min.z),i<=-n.constant&&s>=-n.constant}intersectsTriangle(n){if(this.isEmpty())return!1;this.getCenter(Fw),uS.subVectors(this.max,Fw),Py.subVectors(n.a,Fw),Ry.subVectors(n.b,Fw),Dy.subVectors(n.c,Fw),mm.subVectors(Ry,Py),vm.subVectors(Dy,Ry),_v.subVectors(Py,Dy);let i=[0,-mm.z,mm.y,0,-vm.z,vm.y,0,-_v.z,_v.y,mm.z,0,-mm.x,vm.z,0,-vm.x,_v.z,0,-_v.x,-mm.y,mm.x,0,-vm.y,vm.x,0,-_v.y,_v.x,0];return ER(i,Py,Ry,Dy,uS)?(i=[1,0,0,0,1,0,0,0,1],ER(i,Py,Ry,Dy,uS)?(cS.crossVectors(mm,vm),i=[cS.x,cS.y,cS.z],ER(i,Py,Ry,Dy,uS)):!1):!1}clampPoint(n,i){return i===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),i=new Ue),i.copy(n).clamp(this.min,this.max)}distanceToPoint(n){let i=Dw.copy(n).clamp(this.min,this.max);return i.sub(n).length()}getBoundingSphere(n){return n===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(n.center),n.radius=this.getSize(Dw).length()*.5,n}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}applyMatrix4(n){return this.isEmpty()?this:(_d[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),_d[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),_d[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),_d[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),_d[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),_d[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),_d[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),_d[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(_d),this)}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}};function ER(t,n,i,s,l){for(let e=0,p=t.length-3;e<=p;e+=3){Mv.fromArray(t,e);let v=l.x*Math.abs(Mv.x)+l.y*Math.abs(Mv.y)+l.z*Math.abs(Mv.z),w=n.dot(Mv),E=i.dot(Mv),T=s.dot(Mv);if(Math.max(-Math.max(w,E,T),Math.min(w,E,T))>v)return!1}return!0}var _d=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue],Dw=new Ue,wR=new zf,Py=new Ue,Ry=new Ue,Dy=new Ue,mm=new Ue,vm=new Ue,_v=new Ue,Fw=new Ue,uS=new Ue,cS=new Ue,Mv=new Ue,vZ=new zf,Yf=class{constructor(n,i){this.center=n!==void 0?n:new Ue,this.radius=i!==void 0?i:-1}set(n,i){return this.center.copy(n),this.radius=i,this}setFromPoints(n,i){let s=this.center;i!==void 0?s.copy(i):vZ.setFromPoints(n).getCenter(s);let l=0;for(let e=0,p=n.length;e<p;e++)l=Math.max(l,s.distanceToSquared(n[e]));return this.radius=Math.sqrt(l),this}clone(){return new this.constructor().copy(this)}copy(n){return this.center.copy(n.center),this.radius=n.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(n){return n.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(n){return n.distanceTo(this.center)-this.radius}intersectsSphere(n){let i=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=i*i}intersectsBox(n){return n.intersectsSphere(this)}intersectsPlane(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius}clampPoint(n,i){let s=this.center.distanceToSquared(n);return i===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),i=new Ue),i.copy(n),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(n){return n===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),n=new zf),this.isEmpty()?(n.makeEmpty(),n):(n.set(this.center,this.center),n.expandByScalar(this.radius),n)}applyMatrix4(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this}translate(n){return this.center.add(n),this}equals(n){return n.center.equals(this.center)&&n.radius===this.radius}},Md=new Ue,AR=new Ue,fS=new Ue,gm=new Ue,_R=new Ue,hS=new Ue,MR=new Ue,Fy=class{constructor(n,i){this.origin=n!==void 0?n:new Ue,this.direction=i!==void 0?i:new Ue(0,0,-1)}set(n,i){return this.origin.copy(n),this.direction.copy(i),this}clone(){return new this.constructor().copy(this)}copy(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this}at(n,i){return i===void 0&&(console.warn("THREE.Ray: .at() target is now required"),i=new Ue),i.copy(this.direction).multiplyScalar(n).add(this.origin)}lookAt(n){return this.direction.copy(n).sub(this.origin).normalize(),this}recast(n){return this.origin.copy(this.at(n,Md)),this}closestPointToPoint(n,i){i===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),i=new Ue),i.subVectors(n,this.origin);let s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(n){return Math.sqrt(this.distanceSqToPoint(n))}distanceSqToPoint(n){let i=Md.subVectors(n,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(n):(Md.copy(this.direction).multiplyScalar(i).add(this.origin),Md.distanceToSquared(n))}distanceSqToSegment(n,i,s,l){AR.copy(n).add(i).multiplyScalar(.5),fS.copy(i).sub(n).normalize(),gm.copy(this.origin).sub(AR);let e=n.distanceTo(i)*.5,p=-this.direction.dot(fS),v=gm.dot(this.direction),w=-gm.dot(fS),E=gm.lengthSq(),T=Math.abs(1-p*p),C,R,B,A;if(T>0)if(C=p*w-v,R=p*v-w,A=e*T,C>=0)if(R>=-A)if(R<=A){let H=1/T;C*=H,R*=H,B=C*(C+p*R+2*v)+R*(p*C+R+2*w)+E}else R=e,C=Math.max(0,-(p*R+v)),B=-C*C+R*(R+2*w)+E;else R=-e,C=Math.max(0,-(p*R+v)),B=-C*C+R*(R+2*w)+E;else R<=-A?(C=Math.max(0,-(-p*e+v)),R=C>0?-e:Math.min(Math.max(-e,-w),e),B=-C*C+R*(R+2*w)+E):R<=A?(C=0,R=Math.min(Math.max(-e,-w),e),B=R*(R+2*w)+E):(C=Math.max(0,-(p*e+v)),R=C>0?e:Math.min(Math.max(-e,-w),e),B=-C*C+R*(R+2*w)+E);else R=p>0?-e:e,C=Math.max(0,-(p*R+v)),B=-C*C+R*(R+2*w)+E;return s&&s.copy(this.direction).multiplyScalar(C).add(this.origin),l&&l.copy(fS).multiplyScalar(R).add(AR),B}intersectSphere(n,i){Md.subVectors(n.center,this.origin);let s=Md.dot(this.direction),l=Md.dot(Md)-s*s,e=n.radius*n.radius;if(l>e)return null;let p=Math.sqrt(e-l),v=s-p,w=s+p;return v<0&&w<0?null:v<0?this.at(w,i):this.at(v,i)}intersectsSphere(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius}distanceToPlane(n){let i=n.normal.dot(this.direction);if(i===0)return n.distanceToPoint(this.origin)===0?0:null;let s=-(this.origin.dot(n.normal)+n.constant)/i;return s>=0?s:null}intersectPlane(n,i){let s=this.distanceToPlane(n);return s===null?null:this.at(s,i)}intersectsPlane(n){let i=n.distanceToPoint(this.origin);if(i===0)return!0;let s=n.normal.dot(this.direction);return s*i<0}intersectBox(n,i){let s,l,e,p,v,w,E=1/this.direction.x,T=1/this.direction.y,C=1/this.direction.z,R=this.origin;return E>=0?(s=(n.min.x-R.x)*E,l=(n.max.x-R.x)*E):(s=(n.max.x-R.x)*E,l=(n.min.x-R.x)*E),T>=0?(e=(n.min.y-R.y)*T,p=(n.max.y-R.y)*T):(e=(n.max.y-R.y)*T,p=(n.min.y-R.y)*T),s>p||e>l?null:((e>s||s!==s)&&(s=e),(p<l||l!==l)&&(l=p),C>=0?(v=(n.min.z-R.z)*C,w=(n.max.z-R.z)*C):(v=(n.max.z-R.z)*C,w=(n.min.z-R.z)*C),s>w||v>l?null:((v>s||s!==s)&&(s=v),(w<l||l!==l)&&(l=w),l<0?null:this.at(s>=0?s:l,i)))}intersectsBox(n){return this.intersectBox(n,Md)!==null}intersectTriangle(n,i,s,l,e){_R.subVectors(i,n),hS.subVectors(s,n),MR.crossVectors(_R,hS);let p=this.direction.dot(MR),v;if(p>0){if(l)return null;v=1}else if(p<0)v=-1,p=-p;else return null;gm.subVectors(this.origin,n);let w=v*this.direction.dot(hS.crossVectors(gm,hS));if(w<0)return null;let E=v*this.direction.dot(_R.cross(gm));if(E<0)return null;if(w+E>p)return null;let T=-v*gm.dot(MR);return T<0?null:this.at(T/p,e)}applyMatrix4(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this}equals(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}},Dr=class{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(n,i,s,l,e,p,v,w,E,T,C,R,B,A,H,G){let O=this.elements;return O[0]=n,O[4]=i,O[8]=s,O[12]=l,O[1]=e,O[5]=p,O[9]=v,O[13]=w,O[2]=E,O[6]=T,O[10]=C,O[14]=R,O[3]=B,O[7]=A,O[11]=H,O[15]=G,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Dr().fromArray(this.elements)}copy(n){let i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(n){let i=this.elements,s=n.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}extractBasis(n,i,s){return n.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(n,i,s){return this.set(n.x,i.x,s.x,0,n.y,i.y,s.y,0,n.z,i.z,s.z,0,0,0,0,1),this}extractRotation(n){let i=this.elements,s=n.elements,l=1/By.setFromMatrixColumn(n,0).length(),e=1/By.setFromMatrixColumn(n,1).length(),p=1/By.setFromMatrixColumn(n,2).length();return i[0]=s[0]*l,i[1]=s[1]*l,i[2]=s[2]*l,i[3]=0,i[4]=s[4]*e,i[5]=s[5]*e,i[6]=s[6]*e,i[7]=0,i[8]=s[8]*p,i[9]=s[9]*p,i[10]=s[10]*p,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(n){n&&n.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let i=this.elements,s=n.x,l=n.y,e=n.z,p=Math.cos(s),v=Math.sin(s),w=Math.cos(l),E=Math.sin(l),T=Math.cos(e),C=Math.sin(e);if(n.order==="XYZ"){let R=p*T,B=p*C,A=v*T,H=v*C;i[0]=w*T,i[4]=-w*C,i[8]=E,i[1]=B+A*E,i[5]=R-H*E,i[9]=-v*w,i[2]=H-R*E,i[6]=A+B*E,i[10]=p*w}else if(n.order==="YXZ"){let R=w*T,B=w*C,A=E*T,H=E*C;i[0]=R+H*v,i[4]=A*v-B,i[8]=p*E,i[1]=p*C,i[5]=p*T,i[9]=-v,i[2]=B*v-A,i[6]=H+R*v,i[10]=p*w}else if(n.order==="ZXY"){let R=w*T,B=w*C,A=E*T,H=E*C;i[0]=R-H*v,i[4]=-p*C,i[8]=A+B*v,i[1]=B+A*v,i[5]=p*T,i[9]=H-R*v,i[2]=-p*E,i[6]=v,i[10]=p*w}else if(n.order==="ZYX"){let R=p*T,B=p*C,A=v*T,H=v*C;i[0]=w*T,i[4]=A*E-B,i[8]=R*E+H,i[1]=w*C,i[5]=H*E+R,i[9]=B*E-A,i[2]=-E,i[6]=v*w,i[10]=p*w}else if(n.order==="YZX"){let R=p*w,B=p*E,A=v*w,H=v*E;i[0]=w*T,i[4]=H-R*C,i[8]=A*C+B,i[1]=C,i[5]=p*T,i[9]=-v*T,i[2]=-E*T,i[6]=B*C+A,i[10]=R-H*C}else if(n.order==="XZY"){let R=p*w,B=p*E,A=v*w,H=v*E;i[0]=w*T,i[4]=-C,i[8]=E*T,i[1]=R*C+H,i[5]=p*T,i[9]=B*C-A,i[2]=A*C-B,i[6]=v*T,i[10]=H*C+R}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(n){return this.compose(gZ,n,yZ)}lookAt(n,i,s){let l=this.elements;return mc.subVectors(n,i),mc.lengthSq()===0&&(mc.z=1),mc.normalize(),ym.crossVectors(s,mc),ym.lengthSq()===0&&(Math.abs(s.z)===1?mc.x+=1e-4:mc.z+=1e-4,mc.normalize(),ym.crossVectors(s,mc)),ym.normalize(),dS.crossVectors(mc,ym),l[0]=ym.x,l[4]=dS.x,l[8]=mc.x,l[1]=ym.y,l[5]=dS.y,l[9]=mc.y,l[2]=ym.z,l[6]=dS.z,l[10]=mc.z,this}multiply(n,i){return i!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,i)):this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){let s=n.elements,l=i.elements,e=this.elements,p=s[0],v=s[4],w=s[8],E=s[12],T=s[1],C=s[5],R=s[9],B=s[13],A=s[2],H=s[6],G=s[10],O=s[14],U=s[3],$=s[7],ie=s[11],ue=s[15],K=l[0],ce=l[4],ve=l[8],Ve=l[12],Me=l[1],Ee=l[5],Ne=l[9],Oe=l[13],tt=l[2],Ze=l[6],Qe=l[10],at=l[14],mt=l[3],Ht=l[7],Wt=l[11],et=l[15];return e[0]=p*K+v*Me+w*tt+E*mt,e[4]=p*ce+v*Ee+w*Ze+E*Ht,e[8]=p*ve+v*Ne+w*Qe+E*Wt,e[12]=p*Ve+v*Oe+w*at+E*et,e[1]=T*K+C*Me+R*tt+B*mt,e[5]=T*ce+C*Ee+R*Ze+B*Ht,e[9]=T*ve+C*Ne+R*Qe+B*Wt,e[13]=T*Ve+C*Oe+R*at+B*et,e[2]=A*K+H*Me+G*tt+O*mt,e[6]=A*ce+H*Ee+G*Ze+O*Ht,e[10]=A*ve+H*Ne+G*Qe+O*Wt,e[14]=A*Ve+H*Oe+G*at+O*et,e[3]=U*K+$*Me+ie*tt+ue*mt,e[7]=U*ce+$*Ee+ie*Ze+ue*Ht,e[11]=U*ve+$*Ne+ie*Qe+ue*Wt,e[15]=U*Ve+$*Oe+ie*at+ue*et,this}multiplyScalar(n){let i=this.elements;return i[0]*=n,i[4]*=n,i[8]*=n,i[12]*=n,i[1]*=n,i[5]*=n,i[9]*=n,i[13]*=n,i[2]*=n,i[6]*=n,i[10]*=n,i[14]*=n,i[3]*=n,i[7]*=n,i[11]*=n,i[15]*=n,this}determinant(){let n=this.elements,i=n[0],s=n[4],l=n[8],e=n[12],p=n[1],v=n[5],w=n[9],E=n[13],T=n[2],C=n[6],R=n[10],B=n[14],A=n[3],H=n[7],G=n[11],O=n[15];return A*(+e*w*C-l*E*C-e*v*R+s*E*R+l*v*B-s*w*B)+H*(+i*w*B-i*E*R+e*p*R-l*p*B+l*E*T-e*w*T)+G*(+i*E*C-i*v*B-e*p*C+s*p*B+e*v*T-s*E*T)+O*(-l*v*T-i*w*C+i*v*R+l*p*C-s*p*R+s*w*T)}transpose(){let n=this.elements,i;return i=n[1],n[1]=n[4],n[4]=i,i=n[2],n[2]=n[8],n[8]=i,i=n[6],n[6]=n[9],n[9]=i,i=n[3],n[3]=n[12],n[12]=i,i=n[7],n[7]=n[13],n[13]=i,i=n[11],n[11]=n[14],n[14]=i,this}setPosition(n,i,s){let l=this.elements;return n.isVector3?(l[12]=n.x,l[13]=n.y,l[14]=n.z):(l[12]=n,l[13]=i,l[14]=s),this}invert(){let n=this.elements,i=n[0],s=n[1],l=n[2],e=n[3],p=n[4],v=n[5],w=n[6],E=n[7],T=n[8],C=n[9],R=n[10],B=n[11],A=n[12],H=n[13],G=n[14],O=n[15],U=C*G*E-H*R*E+H*w*B-v*G*B-C*w*O+v*R*O,$=A*R*E-T*G*E-A*w*B+p*G*B+T*w*O-p*R*O,ie=T*H*E-A*C*E+A*v*B-p*H*B-T*v*O+p*C*O,ue=A*C*w-T*H*w-A*v*R+p*H*R+T*v*G-p*C*G,K=i*U+s*$+l*ie+e*ue;if(K===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let ce=1/K;return n[0]=U*ce,n[1]=(H*R*e-C*G*e-H*l*B+s*G*B+C*l*O-s*R*O)*ce,n[2]=(v*G*e-H*w*e+H*l*E-s*G*E-v*l*O+s*w*O)*ce,n[3]=(C*w*e-v*R*e-C*l*E+s*R*E+v*l*B-s*w*B)*ce,n[4]=$*ce,n[5]=(T*G*e-A*R*e+A*l*B-i*G*B-T*l*O+i*R*O)*ce,n[6]=(A*w*e-p*G*e-A*l*E+i*G*E+p*l*O-i*w*O)*ce,n[7]=(p*R*e-T*w*e+T*l*E-i*R*E-p*l*B+i*w*B)*ce,n[8]=ie*ce,n[9]=(A*C*e-T*H*e-A*s*B+i*H*B+T*s*O-i*C*O)*ce,n[10]=(p*H*e-A*v*e+A*s*E-i*H*E-p*s*O+i*v*O)*ce,n[11]=(T*v*e-p*C*e-T*s*E+i*C*E+p*s*B-i*v*B)*ce,n[12]=ue*ce,n[13]=(T*H*l-A*C*l+A*s*R-i*H*R-T*s*G+i*C*G)*ce,n[14]=(A*v*l-p*H*l-A*s*w+i*H*w+p*s*G-i*v*G)*ce,n[15]=(p*C*l-T*v*l+T*s*w-i*C*w-p*s*R+i*v*R)*ce,this}scale(n){let i=this.elements,s=n.x,l=n.y,e=n.z;return i[0]*=s,i[4]*=l,i[8]*=e,i[1]*=s,i[5]*=l,i[9]*=e,i[2]*=s,i[6]*=l,i[10]*=e,i[3]*=s,i[7]*=l,i[11]*=e,this}getMaxScaleOnAxis(){let n=this.elements,i=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],s=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],l=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(i,s,l))}makeTranslation(n,i,s){return this.set(1,0,0,n,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(n){let i=Math.cos(n),s=Math.sin(n);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(n){let i=Math.cos(n),s=Math.sin(n);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(n){let i=Math.cos(n),s=Math.sin(n);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(n,i){let s=Math.cos(i),l=Math.sin(i),e=1-s,p=n.x,v=n.y,w=n.z,E=e*p,T=e*v;return this.set(E*p+s,E*v-l*w,E*w+l*v,0,E*v+l*w,T*v+s,T*w-l*p,0,E*w-l*v,T*w+l*p,e*w*w+s,0,0,0,0,1),this}makeScale(n,i,s){return this.set(n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(n,i,s){return this.set(1,i,s,0,n,1,s,0,n,i,1,0,0,0,0,1),this}compose(n,i,s){let l=this.elements,e=i._x,p=i._y,v=i._z,w=i._w,E=e+e,T=p+p,C=v+v,R=e*E,B=e*T,A=e*C,H=p*T,G=p*C,O=v*C,U=w*E,$=w*T,ie=w*C,ue=s.x,K=s.y,ce=s.z;return l[0]=(1-(H+O))*ue,l[1]=(B+ie)*ue,l[2]=(A-$)*ue,l[3]=0,l[4]=(B-ie)*K,l[5]=(1-(R+O))*K,l[6]=(G+U)*K,l[7]=0,l[8]=(A+$)*ce,l[9]=(G-U)*ce,l[10]=(1-(R+H))*ce,l[11]=0,l[12]=n.x,l[13]=n.y,l[14]=n.z,l[15]=1,this}decompose(n,i,s){let l=this.elements,e=By.set(l[0],l[1],l[2]).length(),p=By.set(l[4],l[5],l[6]).length(),v=By.set(l[8],l[9],l[10]).length(),w=this.determinant();w<0&&(e=-e),n.x=l[12],n.y=l[13],n.z=l[14],Vf.copy(this);let E=1/e,T=1/p,C=1/v;return Vf.elements[0]*=E,Vf.elements[1]*=E,Vf.elements[2]*=E,Vf.elements[4]*=T,Vf.elements[5]*=T,Vf.elements[6]*=T,Vf.elements[8]*=C,Vf.elements[9]*=C,Vf.elements[10]*=C,i.setFromRotationMatrix(Vf),s.x=e,s.y=p,s.z=v,this}makePerspective(n,i,s,l,e,p){p===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let v=this.elements,w=2*e/(i-n),E=2*e/(s-l),T=(i+n)/(i-n),C=(s+l)/(s-l),R=-(p+e)/(p-e),B=-2*p*e/(p-e);return v[0]=w,v[4]=0,v[8]=T,v[12]=0,v[1]=0,v[5]=E,v[9]=C,v[13]=0,v[2]=0,v[6]=0,v[10]=R,v[14]=B,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(n,i,s,l,e,p){let v=this.elements,w=1/(i-n),E=1/(s-l),T=1/(p-e),C=(i+n)*w,R=(s+l)*E,B=(p+e)*T;return v[0]=2*w,v[4]=0,v[8]=0,v[12]=-C,v[1]=0,v[5]=2*E,v[9]=0,v[13]=-R,v[2]=0,v[6]=0,v[10]=-2*T,v[14]=-B,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(n){let i=this.elements,s=n.elements;for(let l=0;l<16;l++)if(i[l]!==s[l])return!1;return!0}fromArray(n,i=0){for(let s=0;s<16;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){let s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n[i+9]=s[9],n[i+10]=s[10],n[i+11]=s[11],n[i+12]=s[12],n[i+13]=s[13],n[i+14]=s[14],n[i+15]=s[15],n}},By=new Ue,Vf=new Dr,gZ=new Ue(0,0,0),yZ=new Ue(1,1,1),ym=new Ue,dS=new Ue,mc=new Ue,Ny=class{constructor(n=0,i=0,s=0,l=Ny.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=n,this._y=i,this._z=s,this._order=l}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get order(){return this._order}set order(n){this._order=n,this._onChangeCallback()}set(n,i,s,l){return this._x=n,this._y=i,this._z=s,this._order=l||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this}setFromRotationMatrix(n,i,s){let l=Lr.clamp,e=n.elements,p=e[0],v=e[4],w=e[8],E=e[1],T=e[5],C=e[9],R=e[2],B=e[6],A=e[10];i=i||this._order;switch(i){case"XYZ":this._y=Math.asin(l(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(-C,A),this._z=Math.atan2(-v,p)):(this._x=Math.atan2(B,T),this._z=0);break;case"YXZ":this._x=Math.asin(-l(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(w,A),this._z=Math.atan2(E,T)):(this._y=Math.atan2(-R,p),this._z=0);break;case"ZXY":this._x=Math.asin(l(B,-1,1)),Math.abs(B)<.9999999?(this._y=Math.atan2(-R,A),this._z=Math.atan2(-v,T)):(this._y=0,this._z=Math.atan2(E,p));break;case"ZYX":this._y=Math.asin(-l(R,-1,1)),Math.abs(R)<.9999999?(this._x=Math.atan2(B,A),this._z=Math.atan2(E,p)):(this._x=0,this._z=Math.atan2(-v,T));break;case"YZX":this._z=Math.asin(l(E,-1,1)),Math.abs(E)<.9999999?(this._x=Math.atan2(-C,T),this._y=Math.atan2(-R,p)):(this._x=0,this._y=Math.atan2(w,A));break;case"XZY":this._z=Math.asin(-l(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(B,T),this._y=Math.atan2(w,p)):(this._x=Math.atan2(-C,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,s!==!1&&this._onChangeCallback(),this}setFromQuaternion(n,i,s){return NO.makeRotationFromQuaternion(n),this.setFromRotationMatrix(NO,i,s)}setFromVector3(n,i){return this.set(n.x,n.y,n.z,i||this._order)}reorder(n){return IO.setFromEuler(this),this.setFromQuaternion(IO,n)}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order}fromArray(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this._onChangeCallback(),this}toArray(n=[],i=0){return n[i]=this._x,n[i+1]=this._y,n[i+2]=this._z,n[i+3]=this._order,n}toVector3(n){return n?n.set(this._x,this._y,this._z):new Ue(this._x,this._y,this._z)}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}};Ny.DefaultOrder="XYZ";Ny.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var NO=new Dr,IO=new Ba,SR=class{constructor(){this.mask=1|0}set(n){this.mask=1<<n|0}enable(n){this.mask|=1<<n|0}enableAll(){this.mask=4294967295|0}toggle(n){this.mask^=1<<n|0}disable(n){this.mask&=~(1<<n|0)}disableAll(){this.mask=0}test(n){return(this.mask&n.mask)!==0}},xZ=0,OO=new Ue,Iy=new Ba,Sd=new Dr,pS=new Ue,Bw=new Ue,EZ=new Ue,wZ=new Ba,UO=new Ue(1,0,0),kO=new Ue(0,1,0),GO=new Ue(0,0,1),AZ={type:"added"},XO={type:"removed"};function Vn(){Object.defineProperty(this,"id",{value:xZ++}),this.uuid=Lr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vn.DefaultUp.clone();let t=new Ue,n=new Ny,i=new Ba,s=new Ue(1,1,1);function l(){i.setFromEuler(n,!1)}function e(){n.setFromQuaternion(i,void 0,!1)}n._onChange(l),i._onChange(e),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Dr},normalMatrix:{value:new rs}}),this.matrix=new Dr,this.matrixWorld=new Dr,this.matrixAutoUpdate=Vn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new SR,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Vn.DefaultUp=new Ue(0,1,0);Vn.DefaultMatrixAutoUpdate=!0;Vn.prototype=Object.assign(Object.create(uf.prototype),{constructor:Vn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,n){this.quaternion.setFromAxisAngle(t,n)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,n){return Iy.setFromAxisAngle(t,n),this.quaternion.multiply(Iy),this},rotateOnWorldAxis:function(t,n){return Iy.setFromAxisAngle(t,n),this.quaternion.premultiply(Iy),this},rotateX:function(t){return this.rotateOnAxis(UO,t)},rotateY:function(t){return this.rotateOnAxis(kO,t)},rotateZ:function(t){return this.rotateOnAxis(GO,t)},translateOnAxis:function(t,n){return OO.copy(t).applyQuaternion(this.quaternion),this.position.add(OO.multiplyScalar(n)),this},translateX:function(t){return this.translateOnAxis(UO,t)},translateY:function(t){return this.translateOnAxis(kO,t)},translateZ:function(t){return this.translateOnAxis(GO,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Sd.copy(this.matrixWorld).invert())},lookAt:function(t,n,i){t.isVector3?pS.copy(t):pS.set(t,n,i);let s=this.parent;this.updateWorldMatrix(!0,!1),Bw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sd.lookAt(Bw,pS,this.up):Sd.lookAt(pS,Bw,this.up),this.quaternion.setFromRotationMatrix(Sd),s&&(Sd.extractRotation(s.matrixWorld),Iy.setFromRotationMatrix(Sd),this.quaternion.premultiply(Iy.invert()))},add:function(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(AZ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}let n=this.children.indexOf(t);return n!==-1&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(XO)),this},clear:function(){for(let t=0;t<this.children.length;t++){let n=this.children[t];n.parent=null,n.dispatchEvent(XO)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Sd.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Sd.multiply(t.parent.matrixWorld)),t.applyMatrix4(Sd),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,n){if(this[t]===n)return this;for(let i=0,s=this.children.length;i<s;i++){let l=this.children[i],e=l.getObjectByProperty(t,n);if(e!==void 0)return e}return},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Ue),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Ba),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bw,t,EZ),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Ue),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bw,wZ,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Ue),this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()},raycast:function(){},traverse:function(t){t(this);let n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(t)},traverseVisible:function(t){if(this.visible===!1)return;t(this);let n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(t)},traverseAncestors:function(t){let n=this.parent;n!==null&&(t(n),n.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);let n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,n){let i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){let s=this.children;for(let l=0,e=s.length;l<e;l++)s[l].updateWorldMatrix(!1,!0)}},toJSON:function(t){let n=t===void 0||typeof t=="string",i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON());function l(p,v){return p[v.uuid]===void 0&&(p[v.uuid]=v.toJSON(t)),v.uuid}if(this.isMesh||this.isLine||this.isPoints){s.geometry=l(t.geometries,this.geometry);let p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){let v=p.shapes;if(Array.isArray(v))for(let w=0,E=v.length;w<E;w++){let T=v[w];l(t.shapes,T)}else l(t.shapes,v)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let p=[];for(let v=0,w=this.material.length;v<w;v++)p.push(l(t.materials,this.material[v]));s.material=p}else s.material=l(t.materials,this.material);if(this.children.length>0){s.children=[];for(let p=0;p<this.children.length;p++)s.children.push(this.children[p].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let p=0;p<this.animations.length;p++){let v=this.animations[p];s.animations.push(l(t.animations,v))}}if(n){let p=e(t.geometries),v=e(t.materials),w=e(t.textures),E=e(t.images),T=e(t.shapes),C=e(t.skeletons),R=e(t.animations);p.length>0&&(i.geometries=p),v.length>0&&(i.materials=v),w.length>0&&(i.textures=w),E.length>0&&(i.images=E),T.length>0&&(i.shapes=T),C.length>0&&(i.skeletons=C),R.length>0&&(i.animations=R)}return i.object=s,i;function e(p){let v=[];for(let w in p){let E=p[w];delete E.metadata,v.push(E)}return v}},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),n===!0)for(let i=0;i<t.children.length;i++){let s=t.children[i];this.add(s.clone())}return this}});var TR=new Ue,_Z=new Ue,MZ=new rs,ih=class{constructor(n,i){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=n!==void 0?n:new Ue(1,0,0),this.constant=i!==void 0?i:0}set(n,i){return this.normal.copy(n),this.constant=i,this}setComponents(n,i,s,l){return this.normal.set(n,i,s),this.constant=l,this}setFromNormalAndCoplanarPoint(n,i){return this.normal.copy(n),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(n,i,s){let l=TR.subVectors(s,i).cross(_Z.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(l,n),this}clone(){return new this.constructor().copy(this)}copy(n){return this.normal.copy(n.normal),this.constant=n.constant,this}normalize(){let n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(n){return this.normal.dot(n)+this.constant}distanceToSphere(n){return this.distanceToPoint(n.center)-n.radius}projectPoint(n,i){return i===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),i=new Ue),i.copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)}intersectLine(n,i){i===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new Ue);let s=n.delta(TR),l=this.normal.dot(s);if(l===0)return this.distanceToPoint(n.start)===0?i.copy(n.start):void 0;let e=-(n.start.dot(this.normal)+this.constant)/l;return e<0||e>1?void 0:i.copy(s).multiplyScalar(e).add(n.start)}intersectsLine(n){let i=this.distanceToPoint(n.start),s=this.distanceToPoint(n.end);return i<0&&s>0||s<0&&i>0}intersectsBox(n){return n.intersectsPlane(this)}intersectsSphere(n){return n.intersectsPlane(this)}coplanarPoint(n){return n===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),n=new Ue),n.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(n,i){let s=i||MZ.getNormalMatrix(n),l=this.coplanarPoint(TR).applyMatrix4(n),e=this.normal.applyMatrix3(s).normalize();return this.constant=-l.dot(e),this}translate(n){return this.constant-=n.dot(this.normal),this}equals(n){return n.normal.equals(this.normal)&&n.constant===this.constant}},Wf=new Ue,Td=new Ue,bR=new Ue,bd=new Ue,Oy=new Ue,Uy=new Ue,HO=new Ue,CR=new Ue,LR=new Ue,PR=new Ue,Na=class{constructor(n,i,s){this.a=n!==void 0?n:new Ue,this.b=i!==void 0?i:new Ue,this.c=s!==void 0?s:new Ue}static getNormal(n,i,s,l){l===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),l=new Ue),l.subVectors(s,i),Wf.subVectors(n,i),l.cross(Wf);let e=l.lengthSq();return e>0?l.multiplyScalar(1/Math.sqrt(e)):l.set(0,0,0)}static getBarycoord(n,i,s,l,e){Wf.subVectors(l,i),Td.subVectors(s,i),bR.subVectors(n,i);let p=Wf.dot(Wf),v=Wf.dot(Td),w=Wf.dot(bR),E=Td.dot(Td),T=Td.dot(bR),C=p*E-v*v;if(e===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),e=new Ue),C===0)return e.set(-2,-1,-1);let R=1/C,B=(E*w-v*T)*R,A=(p*T-v*w)*R;return e.set(1-B-A,A,B)}static containsPoint(n,i,s,l){return this.getBarycoord(n,i,s,l,bd),bd.x>=0&&bd.y>=0&&bd.x+bd.y<=1}static getUV(n,i,s,l,e,p,v,w){return this.getBarycoord(n,i,s,l,bd),w.set(0,0),w.addScaledVector(e,bd.x),w.addScaledVector(p,bd.y),w.addScaledVector(v,bd.z),w}static isFrontFacing(n,i,s,l){return Wf.subVectors(s,i),Td.subVectors(n,i),Wf.cross(Td).dot(l)<0}set(n,i,s){return this.a.copy(n),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(n,i,s,l){return this.a.copy(n[i]),this.b.copy(n[s]),this.c.copy(n[l]),this}clone(){return new this.constructor().copy(this)}copy(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this}getArea(){return Wf.subVectors(this.c,this.b),Td.subVectors(this.a,this.b),Wf.cross(Td).length()*.5}getMidpoint(n){return n===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),n=new Ue),n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(n){return Na.getNormal(this.a,this.b,this.c,n)}getPlane(n){return n===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),n=new ih),n.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(n,i){return Na.getBarycoord(n,this.a,this.b,this.c,i)}getUV(n,i,s,l,e){return Na.getUV(n,this.a,this.b,this.c,i,s,l,e)}containsPoint(n){return Na.containsPoint(n,this.a,this.b,this.c)}isFrontFacing(n){return Na.isFrontFacing(this.a,this.b,this.c,n)}intersectsBox(n){return n.intersectsTriangle(this)}closestPointToPoint(n,i){i===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),i=new Ue);let s=this.a,l=this.b,e=this.c,p,v;Oy.subVectors(l,s),Uy.subVectors(e,s),CR.subVectors(n,s);let w=Oy.dot(CR),E=Uy.dot(CR);if(w<=0&&E<=0)return i.copy(s);LR.subVectors(n,l);let T=Oy.dot(LR),C=Uy.dot(LR);if(T>=0&&C<=T)return i.copy(l);let R=w*C-T*E;if(R<=0&&w>=0&&T<=0)return p=w/(w-T),i.copy(s).addScaledVector(Oy,p);PR.subVectors(n,e);let B=Oy.dot(PR),A=Uy.dot(PR);if(A>=0&&B<=A)return i.copy(e);let H=B*E-w*A;if(H<=0&&E>=0&&A<=0)return v=E/(E-A),i.copy(s).addScaledVector(Uy,v);let G=T*A-B*C;if(G<=0&&C-T>=0&&B-A>=0)return HO.subVectors(e,l),v=(C-T)/(C-T+(B-A)),i.copy(l).addScaledVector(HO,v);let O=1/(G+H+R);return p=H*O,v=R*O,i.copy(s).addScaledVector(Oy,p).addScaledVector(Uy,v)}equals(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}},zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jf={h:0,s:0,l:0},mS={h:0,s:0,l:0};function RR(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(n-t)*6*i:i<1/2?n:i<2/3?t+(n-t)*6*(2/3-i):t}function DR(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function FR(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}var _n=class{constructor(n,i,s){return Object.defineProperty(this,"isColor",{value:!0}),i===void 0&&s===void 0?this.set(n):this.setRGB(n,i,s)}set(n){return n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n),this}setScalar(n){return this.r=n,this.g=n,this.b=n,this}setHex(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(n&255)/255,this}setRGB(n,i,s){return this.r=n,this.g=i,this.b=s,this}setHSL(n,i,s){if(n=Lr.euclideanModulo(n,1),i=Lr.clamp(i,0,1),s=Lr.clamp(s,0,1),i===0)this.r=this.g=this.b=s;else{let l=s<=.5?s*(1+i):s+i-s*i,e=2*s-l;this.r=RR(e,l,n+1/3),this.g=RR(e,l,n),this.b=RR(e,l,n-1/3)}return this}setStyle(n){function i(l){if(l===void 0)return;parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}let s;if(s=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){let l,e=s[1],p=s[2];switch(e){case"rgb":case"rgba":if(l=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(p))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,i(l[5]),this;if(l=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(p))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,i(l[5]),this;break;case"hsl":case"hsla":if(l=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(p)){let v=parseFloat(l[1])/360,w=parseInt(l[2],10)/100,E=parseInt(l[3],10)/100;return i(l[5]),this.setHSL(v,w,E)}break}}else if(s=/^\#([A-Fa-f0-9]+)$/.exec(n)){let l=s[1],e=l.length;if(e===3)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(e===6)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return n&&n.length>0?this.setColorName(n):this}setColorName(n){let i=zO[n];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+n),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(n){return this.r=n.r,this.g=n.g,this.b=n.b,this}copyGammaToLinear(n,i=2){return this.r=Math.pow(n.r,i),this.g=Math.pow(n.g,i),this.b=Math.pow(n.b,i),this}copyLinearToGamma(n,i=2){let s=i>0?1/i:1;return this.r=Math.pow(n.r,s),this.g=Math.pow(n.g,s),this.b=Math.pow(n.b,s),this}convertGammaToLinear(n){return this.copyGammaToLinear(this,n),this}convertLinearToGamma(n){return this.copyLinearToGamma(this,n),this}copySRGBToLinear(n){return this.r=DR(n.r),this.g=DR(n.g),this.b=DR(n.b),this}copyLinearToSRGB(n){return this.r=FR(n.r),this.g=FR(n.g),this.b=FR(n.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(n){n===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),n={h:0,s:0,l:0});let i=this.r,s=this.g,l=this.b,e=Math.max(i,s,l),p=Math.min(i,s,l),v,w,E=(p+e)/2;if(p===e)v=0,w=0;else{let T=e-p;w=E<=.5?T/(e+p):T/(2-e-p);switch(e){case i:v=(s-l)/T+(s<l?6:0);break;case s:v=(l-i)/T+2;break;case l:v=(i-s)/T+4;break}v/=6}return n.h=v,n.s=w,n.l=E,n}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(n,i,s){return this.getHSL(jf),jf.h+=n,jf.s+=i,jf.l+=s,this.setHSL(jf.h,jf.s,jf.l),this}add(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this}addColors(n,i){return this.r=n.r+i.r,this.g=n.g+i.g,this.b=n.b+i.b,this}addScalar(n){return this.r+=n,this.g+=n,this.b+=n,this}sub(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this}multiply(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this}multiplyScalar(n){return this.r*=n,this.g*=n,this.b*=n,this}lerp(n,i){return this.r+=(n.r-this.r)*i,this.g+=(n.g-this.g)*i,this.b+=(n.b-this.b)*i,this}lerpHSL(n,i){this.getHSL(jf),n.getHSL(mS);let s=Lr.lerp(jf.h,mS.h,i),l=Lr.lerp(jf.s,mS.s,i),e=Lr.lerp(jf.l,mS.l,i);return this.setHSL(s,l,e),this}equals(n){return n.r===this.r&&n.g===this.g&&n.b===this.b}fromArray(n,i=0){return this.r=n[i],this.g=n[i+1],this.b=n[i+2],this}toArray(n=[],i=0){return n[i]=this.r,n[i+1]=this.g,n[i+2]=this.b,n}fromBufferAttribute(n,i){return this.r=n.getX(i),this.g=n.getY(i),this.b=n.getZ(i),n.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};_n.NAMES=zO;_n.prototype.r=1;_n.prototype.g=1;_n.prototype.b=1;var vS=class{constructor(n,i,s,l,e,p=0){this.a=n,this.b=i,this.c=s,this.normal=l&&l.isVector3?l:new Ue,this.vertexNormals=Array.isArray(l)?l:[],this.color=e&&e.isColor?e:new _n,this.vertexColors=Array.isArray(e)?e:[],this.materialIndex=p}clone(){return new this.constructor().copy(this)}copy(n){this.a=n.a,this.b=n.b,this.c=n.c,this.normal.copy(n.normal),this.color.copy(n.color),this.materialIndex=n.materialIndex;for(let i=0,s=n.vertexNormals.length;i<s;i++)this.vertexNormals[i]=n.vertexNormals[i].clone();for(let i=0,s=n.vertexColors.length;i<s;i++)this.vertexColors[i]=n.vertexColors[i].clone();return this}},SZ=0;function or(){Object.defineProperty(this,"id",{value:SZ++}),this.uuid=Lr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Tw,this.side=xy,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=cO,this.blendDst=fO,this.blendEquation=wy,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=aR,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pZ,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gR,this.stencilZFail=gR,this.stencilZPass=gR,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}or.prototype=Object.assign(Object.create(uf.prototype),{constructor:or,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t===void 0)return;for(let n in t){let i=t[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===oO;continue}let s=this[n];if(s===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}},toJSON:function(t){let n=t===void 0||typeof t=="string";n&&(t={textures:{},images:{}});let i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,this.combine!==void 0&&(i.combine=this.combine),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(i.size=this.size),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Tw&&(i.blending=this.blending),this.flatShading===!0&&(i.flatShading=this.flatShading),this.side!==xy&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.morphNormals===!0&&(i.morphNormals=!0),this.skinning===!0&&(i.skinning=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function s(l){let e=[];for(let p in l){let v=l[p];delete v.metadata,e.push(v)}return e}if(n){let l=s(t.textures),e=s(t.images);l.length>0&&(i.textures=l),e.length>0&&(i.images=e)}return i},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;let n=t.clippingPlanes,i=null;if(n!==null){let s=n.length;i=new Array(s);for(let l=0;l!==s;++l)i[l]=n[l].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(or.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});function ql(t){or.call(this),this.type="MeshBasicMaterial",this.color=new _n(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}ql.prototype=Object.create(or.prototype);ql.prototype.constructor=ql;ql.prototype.isMeshBasicMaterial=!0;ql.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var vo=new Ue,gS=new St;function cr(t,n,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=t!==void 0?t.length/n:0,this.normalized=i===!0,this.usage=aS,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(cr.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(cr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,n,i){t*=this.itemSize,i*=n.itemSize;for(let s=0,l=this.itemSize;s<l;s++)this.array[t+s]=n.array[i+s];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){let n=this.array,i=0;for(let s=0,l=t.length;s<l;s++){let e=t[s];e===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),e=new _n),n[i++]=e.r,n[i++]=e.g,n[i++]=e.b}return this},copyVector2sArray:function(t){let n=this.array,i=0;for(let s=0,l=t.length;s<l;s++){let e=t[s];e===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),e=new St),n[i++]=e.x,n[i++]=e.y}return this},copyVector3sArray:function(t){let n=this.array,i=0;for(let s=0,l=t.length;s<l;s++){let e=t[s];e===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),e=new Ue),n[i++]=e.x,n[i++]=e.y,n[i++]=e.z}return this},copyVector4sArray:function(t){let n=this.array,i=0;for(let s=0,l=t.length;s<l;s++){let e=t[s];e===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),e=new Ki),n[i++]=e.x,n[i++]=e.y,n[i++]=e.z,n[i++]=e.w}return this},applyMatrix3:function(t){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)gS.fromBufferAttribute(this,n),gS.applyMatrix3(t),this.setXY(n,gS.x,gS.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)vo.fromBufferAttribute(this,n),vo.applyMatrix3(t),this.setXYZ(n,vo.x,vo.y,vo.z);return this},applyMatrix4:function(t){for(let n=0,i=this.count;n<i;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.applyMatrix4(t),this.setXYZ(n,vo.x,vo.y,vo.z);return this},applyNormalMatrix:function(t){for(let n=0,i=this.count;n<i;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.applyNormalMatrix(t),this.setXYZ(n,vo.x,vo.y,vo.z);return this},transformDirection:function(t){for(let n=0,i=this.count;n<i;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.transformDirection(t),this.setXYZ(n,vo.x,vo.y,vo.z);return this},set:function(t,n=0){return this.array.set(t,n),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,n){return this.array[t*this.itemSize]=n,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,n){return this.array[t*this.itemSize+1]=n,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,n){return this.array[t*this.itemSize+2]=n,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,n){return this.array[t*this.itemSize+3]=n,this},setXY:function(t,n,i){return t*=this.itemSize,this.array[t+0]=n,this.array[t+1]=i,this},setXYZ:function(t,n,i,s){return t*=this.itemSize,this.array[t+0]=n,this.array[t+1]=i,this.array[t+2]=s,this},setXYZW:function(t,n,i,s,l){return t*=this.itemSize,this.array[t+0]=n,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=l,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function BR(t,n,i){cr.call(this,new Int8Array(t),n,i)}BR.prototype=Object.create(cr.prototype);BR.prototype.constructor=BR;function NR(t,n,i){cr.call(this,new Uint8Array(t),n,i)}NR.prototype=Object.create(cr.prototype);NR.prototype.constructor=NR;function IR(t,n,i){cr.call(this,new Uint8ClampedArray(t),n,i)}IR.prototype=Object.create(cr.prototype);IR.prototype.constructor=IR;function OR(t,n,i){cr.call(this,new Int16Array(t),n,i)}OR.prototype=Object.create(cr.prototype);OR.prototype.constructor=OR;function Nw(t,n,i){cr.call(this,new Uint16Array(t),n,i)}Nw.prototype=Object.create(cr.prototype);Nw.prototype.constructor=Nw;function UR(t,n,i){cr.call(this,new Int32Array(t),n,i)}UR.prototype=Object.create(cr.prototype);UR.prototype.constructor=UR;function Iw(t,n,i){cr.call(this,new Uint32Array(t),n,i)}Iw.prototype=Object.create(cr.prototype);Iw.prototype.constructor=Iw;function yS(t,n,i){cr.call(this,new Uint16Array(t),n,i)}yS.prototype=Object.create(cr.prototype);yS.prototype.constructor=yS;yS.prototype.isFloat16BufferAttribute=!0;function gi(t,n,i){cr.call(this,new Float32Array(t),n,i)}gi.prototype=Object.create(cr.prototype);gi.prototype.constructor=gi;function kR(t,n,i){cr.call(this,new Float64Array(t),n,i)}kR.prototype=Object.create(cr.prototype);kR.prototype.constructor=kR;var YO=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(n){let i=[],s,l,e,p=n.faces;for(l=0;l<p.length;l++){let v=p[l];v.materialIndex!==e&&(e=v.materialIndex,s!==void 0&&(s.count=l*3-s.start,i.push(s)),s={start:l*3,materialIndex:e})}s!==void 0&&(s.count=l*3-s.start,i.push(s)),this.groups=i}fromGeometry(n){let i=n.faces,s=n.vertices,l=n.faceVertexUvs,e=l[0]&&l[0].length>0,p=l[1]&&l[1].length>0,v=n.morphTargets,w=v.length,E;if(w>0){E=[];for(let O=0;O<w;O++)E[O]={name:v[O].name,data:[]};this.morphTargets.position=E}let T=n.morphNormals,C=T.length,R;if(C>0){R=[];for(let O=0;O<C;O++)R[O]={name:T[O].name,data:[]};this.morphTargets.normal=R}let B=n.skinIndices,A=n.skinWeights,H=B.length===s.length,G=A.length===s.length;s.length>0&&i.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let O=0;O<i.length;O++){let U=i[O];this.vertices.push(s[U.a],s[U.b],s[U.c]);let $=U.vertexNormals;if($.length===3)this.normals.push($[0],$[1],$[2]);else{let ue=U.normal;this.normals.push(ue,ue,ue)}let ie=U.vertexColors;if(ie.length===3)this.colors.push(ie[0],ie[1],ie[2]);else{let ue=U.color;this.colors.push(ue,ue,ue)}if(e===!0){let ue=l[0][O];ue!==void 0?this.uvs.push(ue[0],ue[1],ue[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",O),this.uvs.push(new St,new St,new St))}if(p===!0){let ue=l[1][O];ue!==void 0?this.uvs2.push(ue[0],ue[1],ue[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",O),this.uvs2.push(new St,new St,new St))}for(let ue=0;ue<w;ue++){let K=v[ue].vertices;E[ue].data.push(K[U.a],K[U.b],K[U.c])}for(let ue=0;ue<C;ue++){let K=T[ue].vertexNormals[O];R[ue].data.push(K.a,K.b,K.c)}H&&this.skinIndices.push(B[U.a],B[U.b],B[U.c]),G&&this.skinWeights.push(A[U.a],A[U.b],A[U.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this}};function VO(t){if(t.length===0)return-Infinity;let n=t[0];for(let i=1,s=t.length;i<s;++i)t[i]>n&&(n=t[i]);return n}var TZ={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xS(t,n){return new TZ[t](n)}var bZ=1,oh=new Dr,GR=new Vn,ky=new Ue,vc=new zf,Ow=new zf,ua=new Ue;function Mi(){Object.defineProperty(this,"id",{value:bZ+=2}),this.uuid=Lr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}Mi.prototype=Object.assign(Object.create(uf.prototype),{constructor:Mi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(VO(t)>65535?Iw:Nw)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,n){return this.attributes[t]=n,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return this.attributes[t]!==void 0},addGroup:function(t,n,i=0){this.groups.push({start:t,count:n,materialIndex:i})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,n){this.drawRange.start=t,this.drawRange.count=n},applyMatrix4:function(t){let n=this.attributes.position;n!==void 0&&(n.applyMatrix4(t),n.needsUpdate=!0);let i=this.attributes.normal;if(i!==void 0){let l=new rs().getNormalMatrix(t);i.applyNormalMatrix(l),i.needsUpdate=!0}let s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return oh.makeRotationX(t),this.applyMatrix4(oh),this},rotateY:function(t){return oh.makeRotationY(t),this.applyMatrix4(oh),this},rotateZ:function(t){return oh.makeRotationZ(t),this.applyMatrix4(oh),this},translate:function(t,n,i){return oh.makeTranslation(t,n,i),this.applyMatrix4(oh),this},scale:function(t,n,i){return oh.makeScale(t,n,i),this.applyMatrix4(oh),this},lookAt:function(t){return GR.lookAt(t),GR.updateMatrix(),this.applyMatrix4(GR.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ky).negate(),this.translate(ky.x,ky.y,ky.z),this},setFromObject:function(t){let n=t.geometry;if(t.isPoints||t.isLine){let i=new gi(n.vertices.length*3,3),s=new gi(n.colors.length*3,3);if(this.setAttribute("position",i.copyVector3sArray(n.vertices)),this.setAttribute("color",s.copyColorsArray(n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let l=new gi(n.lineDistances.length,1);this.setAttribute("lineDistance",l.copyArray(n.lineDistances))}n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone())}else t.isMesh&&(n&&n.isGeometry&&this.fromGeometry(n));return this},setFromPoints:function(t){let n=[];for(let i=0,s=t.length;i<s;i++){let l=t[i];n.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new gi(n,3)),this},updateFromObject:function(t){let n=t.geometry;if(t.isMesh){let i=n.__directGeometry;if(n.elementsNeedUpdate===!0&&(i=void 0,n.elementsNeedUpdate=!1),i===void 0)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}if(n.verticesNeedUpdate===!0){let i=this.attributes.position;i!==void 0&&(i.copyVector3sArray(n.vertices),i.needsUpdate=!0),n.verticesNeedUpdate=!1}if(n.normalsNeedUpdate===!0){let i=this.attributes.normal;i!==void 0&&(i.copyVector3sArray(n.normals),i.needsUpdate=!0),n.normalsNeedUpdate=!1}if(n.colorsNeedUpdate===!0){let i=this.attributes.color;i!==void 0&&(i.copyColorsArray(n.colors),i.needsUpdate=!0),n.colorsNeedUpdate=!1}if(n.uvsNeedUpdate){let i=this.attributes.uv;i!==void 0&&(i.copyVector2sArray(n.uvs),i.needsUpdate=!0),n.uvsNeedUpdate=!1}if(n.lineDistancesNeedUpdate){let i=this.attributes.lineDistance;i!==void 0&&(i.copyArray(n.lineDistances),i.needsUpdate=!0),n.lineDistancesNeedUpdate=!1}return n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new YO().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){let n=new Float32Array(t.vertices.length*3);if(this.setAttribute("position",new cr(n,3).copyVector3sArray(t.vertices)),t.normals.length>0){let i=new Float32Array(t.normals.length*3);this.setAttribute("normal",new cr(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){let i=new Float32Array(t.colors.length*3);this.setAttribute("color",new cr(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){let i=new Float32Array(t.uvs.length*2);this.setAttribute("uv",new cr(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){let i=new Float32Array(t.uvs2.length*2);this.setAttribute("uv2",new cr(i,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(let i in t.morphTargets){let s=[],l=t.morphTargets[i];for(let e=0,p=l.length;e<p;e++){let v=l[e],w=new gi(v.data.length*3,3);w.name=v.name,s.push(w.copyVector3sArray(v.data))}this.morphAttributes[i]=s}if(t.skinIndices.length>0){let i=new gi(t.skinIndices.length*4,4);this.setAttribute("skinIndex",i.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){let i=new gi(t.skinWeights.length*4,4);this.setAttribute("skinWeight",i.copyVector4sArray(t.skinWeights))}return t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new zf);let t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ue(-Infinity,-Infinity,-Infinity),new Ue(Infinity,Infinity,Infinity));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),n)for(let i=0,s=n.length;i<s;i++){let l=n[i];vc.setFromBufferAttribute(l),this.morphTargetsRelative?(ua.addVectors(this.boundingBox.min,vc.min),this.boundingBox.expandByPoint(ua),ua.addVectors(this.boundingBox.max,vc.max),this.boundingBox.expandByPoint(ua)):(this.boundingBox.expandByPoint(vc.min),this.boundingBox.expandByPoint(vc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Yf);let t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ue,Infinity);return}if(t){let i=this.boundingSphere.center;if(vc.setFromBufferAttribute(t),n)for(let l=0,e=n.length;l<e;l++){let p=n[l];Ow.setFromBufferAttribute(p),this.morphTargetsRelative?(ua.addVectors(vc.min,Ow.min),vc.expandByPoint(ua),ua.addVectors(vc.max,Ow.max),vc.expandByPoint(ua)):(vc.expandByPoint(Ow.min),vc.expandByPoint(Ow.max))}vc.getCenter(i);let s=0;for(let l=0,e=t.count;l<e;l++)ua.fromBufferAttribute(t,l),s=Math.max(s,i.distanceToSquared(ua));if(n)for(let l=0,e=n.length;l<e;l++){let p=n[l],v=this.morphTargetsRelative;for(let w=0,E=p.count;w<E;w++)ua.fromBufferAttribute(p,w),v&&(ky.fromBufferAttribute(t,w),ua.add(ky)),s=Math.max(s,i.distanceToSquared(ua))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){let t=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new cr(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let C=0,R=i.count;C<R;C++)i.setXYZ(C,0,0,0);let s=new Ue,l=new Ue,e=new Ue,p=new Ue,v=new Ue,w=new Ue,E=new Ue,T=new Ue;if(t)for(let C=0,R=t.count;C<R;C+=3){let B=t.getX(C+0),A=t.getX(C+1),H=t.getX(C+2);s.fromBufferAttribute(n,B),l.fromBufferAttribute(n,A),e.fromBufferAttribute(n,H),E.subVectors(e,l),T.subVectors(s,l),E.cross(T),p.fromBufferAttribute(i,B),v.fromBufferAttribute(i,A),w.fromBufferAttribute(i,H),p.add(E),v.add(E),w.add(E),i.setXYZ(B,p.x,p.y,p.z),i.setXYZ(A,v.x,v.y,v.z),i.setXYZ(H,w.x,w.y,w.z)}else for(let C=0,R=n.count;C<R;C+=3)s.fromBufferAttribute(n,C+0),l.fromBufferAttribute(n,C+1),e.fromBufferAttribute(n,C+2),E.subVectors(e,l),T.subVectors(s,l),E.cross(T),i.setXYZ(C+0,E.x,E.y,E.z),i.setXYZ(C+1,E.x,E.y,E.z),i.setXYZ(C+2,E.x,E.y,E.z);this.normalizeNormals(),i.needsUpdate=!0}},merge:function(t,n){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let i=this.attributes;for(let s in i){if(t.attributes[s]===void 0)continue;let l=i[s],e=l.array,p=t.attributes[s],v=p.array,w=p.itemSize*n,E=Math.min(v.length,e.length-w);for(let T=0,C=w;T<E;T++,C++)e[C]=v[T]}return this},normalizeNormals:function(){let t=this.attributes.normal;for(let n=0,i=t.count;n<i;n++)ua.fromBufferAttribute(t,n),ua.normalize(),t.setXYZ(n,ua.x,ua.y,ua.z)},toNonIndexed:function(){function t(p,v){let w=p.array,E=p.itemSize,T=p.normalized,C=new w.constructor(v.length*E),R=0,B=0;for(let A=0,H=v.length;A<H;A++){R=v[A]*E;for(let G=0;G<E;G++)C[B++]=w[R++]}return new cr(C,E,T)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;let n=new Mi,i=this.index.array,s=this.attributes;for(let p in s){let v=s[p],w=t(v,i);n.setAttribute(p,w)}let l=this.morphAttributes;for(let p in l){let v=[],w=l[p];for(let E=0,T=w.length;E<T;E++){let C=w[E],R=t(C,i);v.push(R)}n.morphAttributes[p]=v}n.morphTargetsRelative=this.morphTargetsRelative;let e=this.groups;for(let p=0,v=e.length;p<v;p++){let w=e[p];n.addGroup(w.start,w.count,w.materialIndex)}return n},toJSON:function(){let t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){let v=this.parameters;for(let w in v)v[w]!==void 0&&(t[w]=v[w]);return t}t.data={attributes:{}};let n=this.index;n!==null&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});let i=this.attributes;for(let v in i){let w=i[v],E=w.toJSON(t.data);w.name!==""&&(E.name=w.name),t.data.attributes[v]=E}let s={},l=!1;for(let v in this.morphAttributes){let w=this.morphAttributes[v],E=[];for(let T=0,C=w.length;T<C;T++){let R=w[T],B=R.toJSON(t.data);R.name!==""&&(B.name=R.name),E.push(B)}E.length>0&&(s[v]=E,l=!0)}l&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);let e=this.groups;e.length>0&&(t.data.groups=JSON.parse(JSON.stringify(e)));let p=this.boundingSphere;return p!==null&&(t.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),t},clone:function(){return new Mi().copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let n={};this.name=t.name;let i=t.index;i!==null&&this.setIndex(i.clone(n));let s=t.attributes;for(let w in s){let E=s[w];this.setAttribute(w,E.clone(n))}let l=t.morphAttributes;for(let w in l){let E=[],T=l[w];for(let C=0,R=T.length;C<R;C++)E.push(T[C].clone(n));this.morphAttributes[w]=E}this.morphTargetsRelative=t.morphTargetsRelative;let e=t.groups;for(let w=0,E=e.length;w<E;w++){let T=e[w];this.addGroup(T.start,T.count,T.materialIndex)}let p=t.boundingBox;p!==null&&(this.boundingBox=p.clone());let v=t.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var WO=new Dr,Sv=new Fy,XR=new Yf,xm=new Ue,Em=new Ue,wm=new Ue,HR=new Ue,zR=new Ue,YR=new Ue,ES=new Ue,wS=new Ue,AS=new Ue,Gy=new St,Xy=new St,Hy=new St,Uw=new Ue,_S=new Ue;function _s(t,n){Vn.call(this),this.type="Mesh",this.geometry=t!==void 0?t:new Mi,this.material=n!==void 0?n:new ql,this.updateMorphTargets()}_s.prototype=Object.assign(Object.create(Vn.prototype),{constructor:_s,isMesh:!0,copy:function(t){return Vn.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){let t=this.geometry;if(t.isBufferGeometry){let n=t.morphAttributes,i=Object.keys(n);if(i.length>0){let s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,e=s.length;l<e;l++){let p=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{let n=t.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,n){let i=this.geometry,s=this.material,l=this.matrixWorld;if(s===void 0)return;if(i.boundingSphere===null&&i.computeBoundingSphere(),XR.copy(i.boundingSphere),XR.applyMatrix4(l),t.ray.intersectsSphere(XR)===!1)return;if(WO.copy(l).invert(),Sv.copy(t.ray).applyMatrix4(WO),i.boundingBox!==null&&Sv.intersectsBox(i.boundingBox)===!1)return;let e;if(i.isBufferGeometry){let p=i.index,v=i.attributes.position,w=i.morphAttributes.position,E=i.morphTargetsRelative,T=i.attributes.uv,C=i.attributes.uv2,R=i.groups,B=i.drawRange;if(p!==null)if(Array.isArray(s))for(let A=0,H=R.length;A<H;A++){let G=R[A],O=s[G.materialIndex],U=Math.max(G.start,B.start),$=Math.min(G.start+G.count,B.start+B.count);for(let ie=U,ue=$;ie<ue;ie+=3){let K=p.getX(ie),ce=p.getX(ie+1),ve=p.getX(ie+2);e=MS(this,O,t,Sv,v,w,E,T,C,K,ce,ve),e&&(e.faceIndex=Math.floor(ie/3),e.face.materialIndex=G.materialIndex,n.push(e))}}else{let A=Math.max(0,B.start),H=Math.min(p.count,B.start+B.count);for(let G=A,O=H;G<O;G+=3){let U=p.getX(G),$=p.getX(G+1),ie=p.getX(G+2);e=MS(this,s,t,Sv,v,w,E,T,C,U,$,ie),e&&(e.faceIndex=Math.floor(G/3),n.push(e))}}else if(v!==void 0)if(Array.isArray(s))for(let A=0,H=R.length;A<H;A++){let G=R[A],O=s[G.materialIndex],U=Math.max(G.start,B.start),$=Math.min(G.start+G.count,B.start+B.count);for(let ie=U,ue=$;ie<ue;ie+=3){let K=ie,ce=ie+1,ve=ie+2;e=MS(this,O,t,Sv,v,w,E,T,C,K,ce,ve),e&&(e.faceIndex=Math.floor(ie/3),e.face.materialIndex=G.materialIndex,n.push(e))}}else{let A=Math.max(0,B.start),H=Math.min(v.count,B.start+B.count);for(let G=A,O=H;G<O;G+=3){let U=G,$=G+1,ie=G+2;e=MS(this,s,t,Sv,v,w,E,T,C,U,$,ie),e&&(e.faceIndex=Math.floor(G/3),n.push(e))}}}else if(i.isGeometry){let p=Array.isArray(s),v=i.vertices,w=i.faces,E,T=i.faceVertexUvs[0];T.length>0&&(E=T);for(let C=0,R=w.length;C<R;C++){let B=w[C],A=p?s[B.materialIndex]:s;if(A===void 0)continue;let H=v[B.a],G=v[B.b],O=v[B.c];if(e=jO(this,A,t,Sv,H,G,O,Uw),e){if(E&&E[C]){let U=E[C];Gy.copy(U[0]),Xy.copy(U[1]),Hy.copy(U[2]),e.uv=Na.getUV(Uw,H,G,O,Gy,Xy,Hy,new St)}e.face=B,e.faceIndex=C,n.push(e)}}}}});function jO(t,n,i,s,l,e,p,v){let w;if(n.side===Da?w=s.intersectTriangle(p,e,l,!0,v):w=s.intersectTriangle(l,e,p,n.side!==Ey,v),w===null)return null;_S.copy(v),_S.applyMatrix4(t.matrixWorld);let E=i.ray.origin.distanceTo(_S);return E<i.near||E>i.far?null:{distance:E,point:_S.clone(),object:t}}function MS(t,n,i,s,l,e,p,v,w,E,T,C){xm.fromBufferAttribute(l,E),Em.fromBufferAttribute(l,T),wm.fromBufferAttribute(l,C);let R=t.morphTargetInfluences;if(n.morphTargets&&e&&R){ES.set(0,0,0),wS.set(0,0,0),AS.set(0,0,0);for(let A=0,H=e.length;A<H;A++){let G=R[A],O=e[A];if(G===0)continue;HR.fromBufferAttribute(O,E),zR.fromBufferAttribute(O,T),YR.fromBufferAttribute(O,C),p?(ES.addScaledVector(HR,G),wS.addScaledVector(zR,G),AS.addScaledVector(YR,G)):(ES.addScaledVector(HR.sub(xm),G),wS.addScaledVector(zR.sub(Em),G),AS.addScaledVector(YR.sub(wm),G))}xm.add(ES),Em.add(wS),wm.add(AS)}t.isSkinnedMesh&&(t.boneTransform(E,xm),t.boneTransform(T,Em),t.boneTransform(C,wm));let B=jO(t,n,i,s,xm,Em,wm,Uw);if(B){v&&(Gy.fromBufferAttribute(v,E),Xy.fromBufferAttribute(v,T),Hy.fromBufferAttribute(v,C),B.uv=Na.getUV(Uw,xm,Em,wm,Gy,Xy,Hy,new St)),w&&(Gy.fromBufferAttribute(w,E),Xy.fromBufferAttribute(w,T),Hy.fromBufferAttribute(w,C),B.uv2=Na.getUV(Uw,xm,Em,wm,Gy,Xy,Hy,new St));let A=new vS(E,T,C);Na.getNormal(xm,Em,wm,A.normal),B.face=A}return B}var VR=class extends Mi{constructor(n=1,i=1,s=1,l=1,e=1,p=1){super();this.type="BoxBufferGeometry",this.parameters={width:n,height:i,depth:s,widthSegments:l,heightSegments:e,depthSegments:p};let v=this;l=Math.floor(l),e=Math.floor(e),p=Math.floor(p);let w=[],E=[],T=[],C=[],R=0,B=0;A("z","y","x",-1,-1,s,i,n,p,e,0),A("z","y","x",1,-1,s,i,-n,p,e,1),A("x","z","y",1,1,n,s,i,l,p,2),A("x","z","y",1,-1,n,s,-i,l,p,3),A("x","y","z",1,-1,n,i,s,l,e,4),A("x","y","z",-1,-1,n,i,-s,l,e,5),this.setIndex(w),this.setAttribute("position",new gi(E,3)),this.setAttribute("normal",new gi(T,3)),this.setAttribute("uv",new gi(C,2));function A(H,G,O,U,$,ie,ue,K,ce,ve,Ve){let Me=ie/ce,Ee=ue/ve,Ne=ie/2,Oe=ue/2,tt=K/2,Ze=ce+1,Qe=ve+1,at=0,mt=0,Ht=new Ue;for(let Wt=0;Wt<Qe;Wt++){let et=Wt*Ee-Oe;for(let De=0;De<Ze;De++){let Le=De*Me-Ne;Ht[H]=Le*U,Ht[G]=et*$,Ht[O]=tt,E.push(Ht.x,Ht.y,Ht.z),Ht[H]=0,Ht[G]=0,Ht[O]=K>0?1:-1,T.push(Ht.x,Ht.y,Ht.z),C.push(De/ce),C.push(1-Wt/ve),at+=1}}for(let Wt=0;Wt<ve;Wt++)for(let et=0;et<ce;et++){let De=R+et+Ze*Wt,Le=R+et+Ze*(Wt+1),Ye=R+(et+1)+Ze*(Wt+1),Re=R+(et+1)+Ze*Wt;w.push(De,Le,Re),w.push(Le,Ye,Re),mt+=6}v.addGroup(B,mt,Ve),B+=mt,R+=at}}};function zy(t){let n={};for(let i in t){n[i]={};for(let s in t[i]){let l=t[i][s];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture)?n[i][s]=l.clone():Array.isArray(l)?n[i][s]=l.slice():n[i][s]=l}}return n}function vl(t){let n={};for(let i=0;i<t.length;i++){let s=zy(t[i]);for(let l in s)n[l]=s[l]}return n}var cf={clone:zy,merge:vl},CZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function $i(t){or.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=CZ,this.fragmentShader=LZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}$i.prototype=Object.create(or.prototype);$i.prototype.constructor=$i;$i.prototype.isShaderMaterial=!0;$i.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=zy(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this};$i.prototype.toJSON=function(t){let n=or.prototype.toJSON.call(this,t);n.glslVersion=this.glslVersion,n.uniforms={};for(let s in this.uniforms){let l=this.uniforms[s],e=l.value;e&&e.isTexture?n.uniforms[s]={type:"t",value:e.toJSON(t).uuid}:e&&e.isColor?n.uniforms[s]={type:"c",value:e.getHex()}:e&&e.isVector2?n.uniforms[s]={type:"v2",value:e.toArray()}:e&&e.isVector3?n.uniforms[s]={type:"v3",value:e.toArray()}:e&&e.isVector4?n.uniforms[s]={type:"v4",value:e.toArray()}:e&&e.isMatrix3?n.uniforms[s]={type:"m3",value:e.toArray()}:e&&e.isMatrix4?n.uniforms[s]={type:"m4",value:e.toArray()}:n.uniforms[s]={value:e}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;let i={};for(let s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n};function Am(){Vn.call(this),this.type="Camera",this.matrixWorldInverse=new Dr,this.projectionMatrix=new Dr,this.projectionMatrixInverse=new Dr}Am.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Am,isCamera:!0,copy:function(t,n){return Vn.prototype.copy.call(this,t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Ue),this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return t.set(-n[8],-n[9],-n[10]).normalize()},updateMatrixWorld:function(t){Vn.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,n){Vn.prototype.updateWorldMatrix.call(this,t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function Os(t=50,n=1,i=.1,s=2e3){Am.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Os.prototype=Object.assign(Object.create(Am.prototype),{constructor:Os,isPerspectiveCamera:!0,copy:function(t,n){return Am.prototype.copy.call(this,t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){let n=.5*this.getFilmHeight()/t;this.fov=Lr.RAD2DEG*2*Math.atan(n),this.updateProjectionMatrix()},getFocalLength:function(){let t=Math.tan(Lr.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return Lr.RAD2DEG*2*Math.atan(Math.tan(Lr.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,n,i,s,l,e){this.aspect=t/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=l,this.view.height=e,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let t=this.near,n=t*Math.tan(Lr.DEG2RAD*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,l=-.5*s,e=this.view;if(this.view!==null&&this.view.enabled){let v=e.fullWidth,w=e.fullHeight;l+=e.offsetX*s/v,n-=e.offsetY*i/w,s*=e.width/v,i*=e.height/w}let p=this.filmOffset;p!==0&&(l+=t*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+s,n,n-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){let n=Vn.prototype.toJSON.call(this,t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}});var Yy=90,Vy=1;function Wy(t,n,i){if(Vn.call(this),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;let s=new Os(Yy,Vy,t,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Ue(1,0,0)),this.add(s);let l=new Os(Yy,Vy,t,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ue(-1,0,0)),this.add(l);let e=new Os(Yy,Vy,t,n);e.layers=this.layers,e.up.set(0,0,1),e.lookAt(new Ue(0,1,0)),this.add(e);let p=new Os(Yy,Vy,t,n);p.layers=this.layers,p.up.set(0,0,-1),p.lookAt(new Ue(0,-1,0)),this.add(p);let v=new Os(Yy,Vy,t,n);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new Ue(0,0,1)),this.add(v);let w=new Os(Yy,Vy,t,n);w.layers=this.layers,w.up.set(0,-1,0),w.lookAt(new Ue(0,0,-1)),this.add(w),this.update=function(E,T){this.parent===null&&this.updateMatrixWorld();let C=E.xr.enabled,R=E.getRenderTarget();E.xr.enabled=!1;let B=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,E.setRenderTarget(i,0),E.render(T,s),E.setRenderTarget(i,1),E.render(T,l),E.setRenderTarget(i,2),E.render(T,e),E.setRenderTarget(i,3),E.render(T,p),E.setRenderTarget(i,4),E.render(T,v),i.texture.generateMipmaps=B,E.setRenderTarget(i,5),E.render(T,w),E.setRenderTarget(R),E.xr.enabled=C}}Wy.prototype=Object.create(Vn.prototype);Wy.prototype.constructor=Wy;function _m(t,n,i,s,l,e,p,v,w,E){t=t!==void 0?t:[],n=n!==void 0?n:lR,p=p!==void 0?p:lf,Yi.call(this,t,n,i,s,l,e,p,v,w,E),this.flipY=!1,this._needsFlipEnvMap=!0}_m.prototype=Object.create(Yi.prototype);_m.prototype.constructor=_m;_m.prototype.isCubeTexture=!0;Object.defineProperty(_m.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});function Tv(t,n,i){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=i),la.call(this,t,t,n),n=n||{},this.texture=new _m(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture._needsFlipEnvMap=!1}Tv.prototype=Object.create(la.prototype);Tv.prototype.constructor=Tv;Tv.prototype.isWebGLCubeRenderTarget=!0;Tv.prototype.fromEquirectangularTexture=function(t,n){this.texture.type=n.type,this.texture.format=Ql,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},s=new VR(5,5,5),l=new $i({name:"CubemapFromEquirect",uniforms:zy(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Da,blending:Sw});l.uniforms.tEquirect.value=n;let e=new _s(s,l),p=n.minFilter;n.minFilter===wv&&(n.minFilter=mo);let v=new Wy(1,10,this);return v.update(t,e),n.minFilter=p,e.geometry.dispose(),e.material.dispose(),this};Tv.prototype.clear=function(t,n,i,s){let l=t.getRenderTarget();for(let e=0;e<6;e++)t.setRenderTarget(this,e),t.clear(n,i,s);t.setRenderTarget(l)};function jy(t,n,i,s,l,e,p,v,w,E,T,C){Yi.call(this,null,e,p,v,w,E,s,l,T,C),this.image={data:t||null,width:n||1,height:i||1},this.magFilter=w!==void 0?w:As,this.minFilter=E!==void 0?E:As,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}jy.prototype=Object.create(Yi.prototype);jy.prototype.constructor=jy;jy.prototype.isDataTexture=!0;var Qy=new Yf,SS=new Ue,kw=class{constructor(n,i,s,l,e,p){this.planes=[n!==void 0?n:new ih,i!==void 0?i:new ih,s!==void 0?s:new ih,l!==void 0?l:new ih,e!==void 0?e:new ih,p!==void 0?p:new ih]}set(n,i,s,l,e,p){let v=this.planes;return v[0].copy(n),v[1].copy(i),v[2].copy(s),v[3].copy(l),v[4].copy(e),v[5].copy(p),this}clone(){return new this.constructor().copy(this)}copy(n){let i=this.planes;for(let s=0;s<6;s++)i[s].copy(n.planes[s]);return this}setFromProjectionMatrix(n){let i=this.planes,s=n.elements,l=s[0],e=s[1],p=s[2],v=s[3],w=s[4],E=s[5],T=s[6],C=s[7],R=s[8],B=s[9],A=s[10],H=s[11],G=s[12],O=s[13],U=s[14],$=s[15];return i[0].setComponents(v-l,C-w,H-R,$-G).normalize(),i[1].setComponents(v+l,C+w,H+R,$+G).normalize(),i[2].setComponents(v+e,C+E,H+B,$+O).normalize(),i[3].setComponents(v-e,C-E,H-B,$-O).normalize(),i[4].setComponents(v-p,C-T,H-A,$-U).normalize(),i[5].setComponents(v+p,C+T,H+A,$+U).normalize(),this}intersectsObject(n){let i=n.geometry;return i.boundingSphere===null&&i.computeBoundingSphere(),Qy.copy(i.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(Qy)}intersectsSprite(n){return Qy.center.set(0,0,0),Qy.radius=.7071067811865476,Qy.applyMatrix4(n.matrixWorld),this.intersectsSphere(Qy)}intersectsSphere(n){let i=this.planes,s=n.center,l=-n.radius;for(let e=0;e<6;e++){let p=i[e].distanceToPoint(s);if(p<l)return!1}return!0}intersectsBox(n){let i=this.planes;for(let s=0;s<6;s++){let l=i[s];if(SS.x=l.normal.x>0?n.max.x:n.min.x,SS.y=l.normal.y>0?n.max.y:n.min.y,SS.z=l.normal.z>0?n.max.z:n.min.z,l.distanceToPoint(SS)<0)return!1}return!0}containsPoint(n){let i=this.planes;for(let s=0;s<6;s++)if(i[s].distanceToPoint(n)<0)return!1;return!0}};function QO(){let t=null,n=!1,i=null,s=null;function l(e,p){i(e,p),s=t.requestAnimationFrame(l)}return{start:function(){if(n===!0)return;if(i===null)return;s=t.requestAnimationFrame(l),n=!0},stop:function(){t.cancelAnimationFrame(s),n=!1},setAnimationLoop:function(e){i=e},setContext:function(e){t=e}}}function PZ(t,n){let i=n.isWebGL2,s=new WeakMap;function l(E,T){let C=E.array,R=E.usage,B=t.createBuffer();t.bindBuffer(T,B),t.bufferData(T,C,R),E.onUploadCallback();let A=5126;return C instanceof Float32Array?A=5126:C instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):C instanceof Uint16Array?E.isFloat16BufferAttribute?i?A=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):A=5123:C instanceof Int16Array?A=5122:C instanceof Uint32Array?A=5125:C instanceof Int32Array?A=5124:C instanceof Int8Array?A=5120:C instanceof Uint8Array&&(A=5121),{buffer:B,type:A,bytesPerElement:C.BYTES_PER_ELEMENT,version:E.version}}function e(E,T,C){let R=T.array,B=T.updateRange;t.bindBuffer(C,E),B.count===-1?t.bufferSubData(C,0,R):(i?t.bufferSubData(C,B.offset*R.BYTES_PER_ELEMENT,R,B.offset,B.count):t.bufferSubData(C,B.offset*R.BYTES_PER_ELEMENT,R.subarray(B.offset,B.offset+B.count)),B.count=-1)}function p(E){return E.isInterleavedBufferAttribute&&(E=E.data),s.get(E)}function v(E){E.isInterleavedBufferAttribute&&(E=E.data);let T=s.get(E);T&&(t.deleteBuffer(T.buffer),s.delete(E))}function w(E,T){if(E.isGLBufferAttribute){let R=s.get(E);(!R||R.version<E.version)&&s.set(E,{buffer:E.buffer,type:E.type,bytesPerElement:E.elementSize,version:E.version});return}E.isInterleavedBufferAttribute&&(E=E.data);let C=s.get(E);C===void 0?s.set(E,l(E,T)):C.version<E.version&&(e(C.buffer,E,T),C.version=E.version)}return{get:p,remove:v,update:w}}var TS=class extends Mi{constructor(n=1,i=1,s=1,l=1){super();this.type="PlaneBufferGeometry",this.parameters={width:n,height:i,widthSegments:s,heightSegments:l};let e=n/2,p=i/2,v=Math.floor(s),w=Math.floor(l),E=v+1,T=w+1,C=n/v,R=i/w,B=[],A=[],H=[],G=[];for(let O=0;O<T;O++){let U=O*R-p;for(let $=0;$<E;$++){let ie=$*C-e;A.push(ie,-U,0),H.push(0,0,1),G.push($/v),G.push(1-O/w)}}for(let O=0;O<w;O++)for(let U=0;U<v;U++){let $=U+E*O,ie=U+E*(O+1),ue=U+1+E*(O+1),K=U+1+E*O;B.push($,ie,K),B.push(ie,ue,K)}this.setIndex(B),this.setAttribute("position",new gi(A,3)),this.setAttribute("normal",new gi(H,3)),this.setAttribute("uv",new gi(G,2))}},RZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,DZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FZ=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,BZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,NZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IZ="vec3 transformed = vec3( position );",OZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,UZ=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,kZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,GZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,XZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YZ=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,VZ=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,WZ=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,jZ=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,QZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,qZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,JZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$Z=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,eK=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tK="gl_FragColor = linearToOutputTexel( gl_FragColor );",nK=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,rK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,iK=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oK=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sK=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,aK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lK=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,uK=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,cK=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fK=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hK=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,dK=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,pK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mK=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,vK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,gK=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,yK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xK=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,EK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,wK=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,AK=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,_K=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,MK=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,SK=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,TK=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,bK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,PK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,RK=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,DK=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,FK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,BK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,IK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,UK=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,kK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,GK=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,XK=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,HK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,zK=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,YK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,VK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,WK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,jK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,QK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,KK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$K=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,e$=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,t$=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,n$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,r$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,i$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,o$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,s$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,a$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,l$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,u$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,c$=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,f$=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,h$=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,d$=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,p$=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,m$=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,v$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,g$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,y$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,x$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,E$=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,w$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A$=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,M$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,S$=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,T$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,b$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,C$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,L$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,P$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,R$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,D$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F$=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,B$=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N$=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,I$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,O$=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,U$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k$=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,G$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X$=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H$=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z$=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Y$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,V$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,W$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,j$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Q$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,q$=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,J$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Z$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ti={alphamap_fragment:RZ,alphamap_pars_fragment:DZ,alphatest_fragment:FZ,aomap_fragment:BZ,aomap_pars_fragment:NZ,begin_vertex:IZ,beginnormal_vertex:OZ,bsdfs:UZ,bumpmap_pars_fragment:kZ,clipping_planes_fragment:GZ,clipping_planes_pars_fragment:XZ,clipping_planes_pars_vertex:HZ,clipping_planes_vertex:zZ,color_fragment:YZ,color_pars_fragment:VZ,color_pars_vertex:WZ,color_vertex:jZ,common:QZ,cube_uv_reflection_fragment:qZ,defaultnormal_vertex:JZ,displacementmap_pars_vertex:ZZ,displacementmap_vertex:KZ,emissivemap_fragment:$Z,emissivemap_pars_fragment:eK,encodings_fragment:tK,encodings_pars_fragment:nK,envmap_fragment:rK,envmap_common_pars_fragment:iK,envmap_pars_fragment:oK,envmap_pars_vertex:sK,envmap_physical_pars_fragment:gK,envmap_vertex:aK,fog_vertex:lK,fog_pars_vertex:uK,fog_fragment:cK,fog_pars_fragment:fK,gradientmap_pars_fragment:hK,lightmap_fragment:dK,lightmap_pars_fragment:pK,lights_lambert_vertex:mK,lights_pars_begin:vK,lights_toon_fragment:yK,lights_toon_pars_fragment:xK,lights_phong_fragment:EK,lights_phong_pars_fragment:wK,lights_physical_fragment:AK,lights_physical_pars_fragment:_K,lights_fragment_begin:MK,lights_fragment_maps:SK,lights_fragment_end:TK,logdepthbuf_fragment:bK,logdepthbuf_pars_fragment:CK,logdepthbuf_pars_vertex:LK,logdepthbuf_vertex:PK,map_fragment:RK,map_pars_fragment:DK,map_particle_fragment:FK,map_particle_pars_fragment:BK,metalnessmap_fragment:NK,metalnessmap_pars_fragment:IK,morphnormal_vertex:OK,morphtarget_pars_vertex:UK,morphtarget_vertex:kK,normal_fragment_begin:GK,normal_fragment_maps:XK,normalmap_pars_fragment:HK,clearcoat_normal_fragment_begin:zK,clearcoat_normal_fragment_maps:YK,clearcoat_pars_fragment:VK,packing:WK,premultiplied_alpha_fragment:jK,project_vertex:QK,dithering_fragment:qK,dithering_pars_fragment:JK,roughnessmap_fragment:ZK,roughnessmap_pars_fragment:KK,shadowmap_pars_fragment:$K,shadowmap_pars_vertex:e$,shadowmap_vertex:t$,shadowmask_pars_fragment:n$,skinbase_vertex:r$,skinning_pars_vertex:i$,skinning_vertex:o$,skinnormal_vertex:s$,specularmap_fragment:a$,specularmap_pars_fragment:l$,tonemapping_fragment:u$,tonemapping_pars_fragment:c$,transmissionmap_fragment:f$,transmissionmap_pars_fragment:h$,uv_pars_fragment:d$,uv_pars_vertex:p$,uv_vertex:m$,uv2_pars_fragment:v$,uv2_pars_vertex:g$,uv2_vertex:y$,worldpos_vertex:x$,background_frag:E$,background_vert:w$,cube_frag:A$,cube_vert:_$,depth_frag:M$,depth_vert:S$,distanceRGBA_frag:T$,distanceRGBA_vert:b$,equirect_frag:C$,equirect_vert:L$,linedashed_frag:P$,linedashed_vert:R$,meshbasic_frag:D$,meshbasic_vert:F$,meshlambert_frag:B$,meshlambert_vert:N$,meshmatcap_frag:I$,meshmatcap_vert:O$,meshtoon_frag:U$,meshtoon_vert:k$,meshphong_frag:G$,meshphong_vert:X$,meshphysical_frag:H$,meshphysical_vert:z$,normal_frag:Y$,normal_vert:V$,points_frag:W$,points_vert:j$,shadow_frag:Q$,shadow_vert:q$,sprite_frag:J$,sprite_vert:Z$},pn={common:{diffuse:{value:new _n(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new rs},uv2Transform:{value:new rs},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new St(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _n(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _n(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rs}},sprite:{diffuse:{value:new _n(15658734)},opacity:{value:1},center:{value:new St(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rs}}},sh={basic:{uniforms:vl([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.fog]),vertexShader:ti.meshbasic_vert,fragmentShader:ti.meshbasic_frag},lambert:{uniforms:vl([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.fog,pn.lights,{emissive:{value:new _n(0)}}]),vertexShader:ti.meshlambert_vert,fragmentShader:ti.meshlambert_frag},phong:{uniforms:vl([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.fog,pn.lights,{emissive:{value:new _n(0)},specular:{value:new _n(1118481)},shininess:{value:30}}]),vertexShader:ti.meshphong_vert,fragmentShader:ti.meshphong_frag},standard:{uniforms:vl([pn.common,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.roughnessmap,pn.metalnessmap,pn.fog,pn.lights,{emissive:{value:new _n(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag},toon:{uniforms:vl([pn.common,pn.aomap,pn.lightmap,pn.emissivemap,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.gradientmap,pn.fog,pn.lights,{emissive:{value:new _n(0)}}]),vertexShader:ti.meshtoon_vert,fragmentShader:ti.meshtoon_frag},matcap:{uniforms:vl([pn.common,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.fog,{matcap:{value:null}}]),vertexShader:ti.meshmatcap_vert,fragmentShader:ti.meshmatcap_frag},points:{uniforms:vl([pn.points,pn.fog]),vertexShader:ti.points_vert,fragmentShader:ti.points_frag},dashed:{uniforms:vl([pn.common,pn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ti.linedashed_vert,fragmentShader:ti.linedashed_frag},depth:{uniforms:vl([pn.common,pn.displacementmap]),vertexShader:ti.depth_vert,fragmentShader:ti.depth_frag},normal:{uniforms:vl([pn.common,pn.bumpmap,pn.normalmap,pn.displacementmap,{opacity:{value:1}}]),vertexShader:ti.normal_vert,fragmentShader:ti.normal_frag},sprite:{uniforms:vl([pn.sprite,pn.fog]),vertexShader:ti.sprite_vert,fragmentShader:ti.sprite_frag},background:{uniforms:{uvTransform:{value:new rs},t2D:{value:null}},vertexShader:ti.background_vert,fragmentShader:ti.background_frag},cube:{uniforms:vl([pn.envmap,{opacity:{value:1}}]),vertexShader:ti.cube_vert,fragmentShader:ti.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ti.equirect_vert,fragmentShader:ti.equirect_frag},distanceRGBA:{uniforms:vl([pn.common,pn.displacementmap,{referencePosition:{value:new Ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ti.distanceRGBA_vert,fragmentShader:ti.distanceRGBA_frag},shadow:{uniforms:vl([pn.lights,pn.fog,{color:{value:new _n(0)},opacity:{value:1}}]),vertexShader:ti.shadow_vert,fragmentShader:ti.shadow_frag}};sh.physical={uniforms:vl([sh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new St(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new _n(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag};function K$(t,n,i,s,l){let e=new _n(0),p=0,v,w,E=null,T=0,C=null;function R(A,H,G,O){let U=H.isScene===!0?H.background:null;U&&U.isTexture&&(U=n.get(U));let $=t.xr,ie=$.getSession&&$.getSession();ie&&ie.environmentBlendMode==="additive"&&(U=null),U===null?B(e,p):U&&U.isColor&&(B(U,1),O=!0),(t.autoClear||O)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),U&&(U.isCubeTexture||U.isWebGLCubeRenderTarget||U.mapping===cR)?(w===void 0&&(w=new _s(new VR(1,1,1),new $i({name:"BackgroundCubeMaterial",uniforms:zy(sh.cube.uniforms),vertexShader:sh.cube.vertexShader,fragmentShader:sh.cube.fragmentShader,side:Da,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),w.geometry.deleteAttribute("uv"),w.onBeforeRender=function(ue,K,ce){this.matrixWorld.copyPosition(ce.matrixWorld)},Object.defineProperty(w.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(w)),U.isWebGLCubeRenderTarget&&(U=U.texture),w.material.uniforms.envMap.value=U,w.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U._needsFlipEnvMap?-1:1,(E!==U||T!==U.version||C!==t.toneMapping)&&(w.material.needsUpdate=!0,E=U,T=U.version,C=t.toneMapping),A.unshift(w,w.geometry,w.material,0,0,null)):U&&U.isTexture&&(v===void 0&&(v=new _s(new TS(2,2),new $i({name:"BackgroundMaterial",uniforms:zy(sh.background.uniforms),vertexShader:sh.background.vertexShader,fragmentShader:sh.background.fragmentShader,side:xy,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(v)),v.material.uniforms.t2D.value=U,U.matrixAutoUpdate===!0&&U.updateMatrix(),v.material.uniforms.uvTransform.value.copy(U.matrix),(E!==U||T!==U.version||C!==t.toneMapping)&&(v.material.needsUpdate=!0,E=U,T=U.version,C=t.toneMapping),A.unshift(v,v.geometry,v.material,0,0,null))}function B(A,H){i.buffers.color.setClear(A.r,A.g,A.b,H,l)}return{getClearColor:function(){return e},setClearColor:function(A,H=1){e.set(A),p=H,B(e,p)},getClearAlpha:function(){return p},setClearAlpha:function(A){p=A,B(e,p)},render:R}}function $$(t,n,i,s){let l=t.getParameter(34921),e=s.isWebGL2?null:n.get("OES_vertex_array_object"),p=s.isWebGL2||e!==null,v={},w=H(null),E=w;function T(Oe,tt,Ze,Qe,at){let mt=!1;if(p){let Ht=A(Qe,Ze,tt);E!==Ht&&(E=Ht,R(E.object)),mt=G(Qe,at),mt&&O(Qe,at)}else{let Ht=tt.wireframe===!0;(E.geometry!==Qe.id||E.program!==Ze.id||E.wireframe!==Ht)&&(E.geometry=Qe.id,E.program=Ze.id,E.wireframe=Ht,mt=!0)}Oe.isInstancedMesh===!0&&(mt=!0),at!==null&&i.update(at,34963),mt&&(ce(Oe,tt,Ze,Qe),at!==null&&t.bindBuffer(34963,i.get(at).buffer))}function C(){return s.isWebGL2?t.createVertexArray():e.createVertexArrayOES()}function R(Oe){return s.isWebGL2?t.bindVertexArray(Oe):e.bindVertexArrayOES(Oe)}function B(Oe){return s.isWebGL2?t.deleteVertexArray(Oe):e.deleteVertexArrayOES(Oe)}function A(Oe,tt,Ze){let Qe=Ze.wireframe===!0,at=v[Oe.id];at===void 0&&(at={},v[Oe.id]=at);let mt=at[tt.id];mt===void 0&&(mt={},at[tt.id]=mt);let Ht=mt[Qe];return Ht===void 0&&(Ht=H(C()),mt[Qe]=Ht),Ht}function H(Oe){let tt=[],Ze=[],Qe=[];for(let at=0;at<l;at++)tt[at]=0,Ze[at]=0,Qe[at]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:tt,enabledAttributes:Ze,attributeDivisors:Qe,object:Oe,attributes:{},index:null}}function G(Oe,tt){let Ze=E.attributes,Qe=Oe.attributes,at=0;for(let mt in Qe){let Ht=Ze[mt],Wt=Qe[mt];if(Ht===void 0)return!0;if(Ht.attribute!==Wt)return!0;if(Ht.data!==Wt.data)return!0;at++}return E.attributesNum!==at?!0:E.index!==tt}function O(Oe,tt){let Ze={},Qe=Oe.attributes,at=0;for(let mt in Qe){let Ht=Qe[mt],Wt={};Wt.attribute=Ht,Ht.data&&(Wt.data=Ht.data),Ze[mt]=Wt,at++}E.attributes=Ze,E.attributesNum=at,E.index=tt}function U(){let Oe=E.newAttributes;for(let tt=0,Ze=Oe.length;tt<Ze;tt++)Oe[tt]=0}function $(Oe){ie(Oe,0)}function ie(Oe,tt){let Ze=E.newAttributes,Qe=E.enabledAttributes,at=E.attributeDivisors;if(Ze[Oe]=1,Qe[Oe]===0&&(t.enableVertexAttribArray(Oe),Qe[Oe]=1),at[Oe]!==tt){let mt=s.isWebGL2?t:n.get("ANGLE_instanced_arrays");mt[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Oe,tt),at[Oe]=tt}}function ue(){let Oe=E.newAttributes,tt=E.enabledAttributes;for(let Ze=0,Qe=tt.length;Ze<Qe;Ze++)tt[Ze]!==Oe[Ze]&&(t.disableVertexAttribArray(Ze),tt[Ze]=0)}function K(Oe,tt,Ze,Qe,at,mt){s.isWebGL2===!0&&(Ze===5124||Ze===5125)?t.vertexAttribIPointer(Oe,tt,Ze,at,mt):t.vertexAttribPointer(Oe,tt,Ze,Qe,at,mt)}function ce(Oe,tt,Ze,Qe){if(s.isWebGL2===!1&&(Oe.isInstancedMesh||Qe.isInstancedBufferGeometry)&&n.get("ANGLE_instanced_arrays")===null)return;U();let at=Qe.attributes,mt=Ze.getAttributes(),Ht=tt.defaultAttributeValues;for(let Wt in mt){let et=mt[Wt];if(et>=0){let De=at[Wt];if(De!==void 0){let Le=De.normalized,Ye=De.itemSize,Re=i.get(De);if(Re===void 0)continue;let re=Re.buffer,oe=Re.type,we=Re.bytesPerElement;if(De.isInterleavedBufferAttribute){let ge=De.data,be=ge.stride,Ce=De.offset;ge&&ge.isInstancedInterleavedBuffer?(ie(et,ge.meshPerAttribute),Qe._maxInstanceCount===void 0&&(Qe._maxInstanceCount=ge.meshPerAttribute*ge.count)):$(et),t.bindBuffer(34962,re),K(et,Ye,oe,Le,be*we,Ce*we)}else De.isInstancedBufferAttribute?(ie(et,De.meshPerAttribute),Qe._maxInstanceCount===void 0&&(Qe._maxInstanceCount=De.meshPerAttribute*De.count)):$(et),t.bindBuffer(34962,re),K(et,Ye,oe,Le,0,0)}else if(Wt==="instanceMatrix"){let Le=i.get(Oe.instanceMatrix);if(Le===void 0)continue;let Ye=Le.buffer,Re=Le.type;ie(et+0,1),ie(et+1,1),ie(et+2,1),ie(et+3,1),t.bindBuffer(34962,Ye),t.vertexAttribPointer(et+0,4,Re,!1,64,0),t.vertexAttribPointer(et+1,4,Re,!1,64,16),t.vertexAttribPointer(et+2,4,Re,!1,64,32),t.vertexAttribPointer(et+3,4,Re,!1,64,48)}else if(Wt==="instanceColor"){let Le=i.get(Oe.instanceColor);if(Le===void 0)continue;let Ye=Le.buffer,Re=Le.type;ie(et,1),t.bindBuffer(34962,Ye),t.vertexAttribPointer(et,3,Re,!1,12,0)}else if(Ht!==void 0){let Le=Ht[Wt];if(Le!==void 0)switch(Le.length){case 2:t.vertexAttrib2fv(et,Le);break;case 3:t.vertexAttrib3fv(et,Le);break;case 4:t.vertexAttrib4fv(et,Le);break;default:t.vertexAttrib1fv(et,Le)}}}}ue()}function ve(){Ee();for(let Oe in v){let tt=v[Oe];for(let Ze in tt){let Qe=tt[Ze];for(let at in Qe)B(Qe[at].object),delete Qe[at];delete tt[Ze]}delete v[Oe]}}function Ve(Oe){if(v[Oe.id]===void 0)return;let tt=v[Oe.id];for(let Ze in tt){let Qe=tt[Ze];for(let at in Qe)B(Qe[at].object),delete Qe[at];delete tt[Ze]}delete v[Oe.id]}function Me(Oe){for(let tt in v){let Ze=v[tt];if(Ze[Oe.id]===void 0)continue;let Qe=Ze[Oe.id];for(let at in Qe)B(Qe[at].object),delete Qe[at];delete Ze[Oe.id]}}function Ee(){if(Ne(),E===w)return;E=w,R(E.object)}function Ne(){w.geometry=null,w.program=null,w.wireframe=!1}return{setup:T,reset:Ee,resetDefaultState:Ne,dispose:ve,releaseStatesOfGeometry:Ve,releaseStatesOfProgram:Me,initAttributes:U,enableAttribute:$,disableUnusedAttributes:ue}}function eee(t,n,i,s){let l=s.isWebGL2,e;function p(E){e=E}function v(E,T){t.drawArrays(e,E,T),i.update(T,e,1)}function w(E,T,C){if(C===0)return;let R,B;if(l)R=t,B="drawArraysInstanced";else if(R=n.get("ANGLE_instanced_arrays"),B="drawArraysInstancedANGLE",R===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}R[B](e,E,T,C),i.update(T,e,C)}this.setMode=p,this.render=v,this.renderInstances=w}function tee(t,n,i){let s;function l(){if(s!==void 0)return s;let K=n.get("EXT_texture_filter_anisotropic");return K!==null?s=t.getParameter(K.MAX_TEXTURE_MAX_ANISOTROPY_EXT):s=0,s}function e(K){if(K==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";K="mediump"}return K==="mediump"&&(t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0)?"mediump":"lowp"}let p=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext,v=i.precision!==void 0?i.precision:"highp",w=e(v);w!==v&&(console.warn("THREE.WebGLRenderer:",v,"not supported, using",w,"instead."),v=w);let E=i.logarithmicDepthBuffer===!0,T=t.getParameter(34930),C=t.getParameter(35660),R=t.getParameter(3379),B=t.getParameter(34076),A=t.getParameter(34921),H=t.getParameter(36347),G=t.getParameter(36348),O=t.getParameter(36349),U=C>0,$=p||!!n.get("OES_texture_float"),ie=U&&$,ue=p?t.getParameter(36183):0;return{isWebGL2:p,getMaxAnisotropy:l,getMaxPrecision:e,precision:v,logarithmicDepthBuffer:E,maxTextures:T,maxVertexTextures:C,maxTextureSize:R,maxCubemapSize:B,maxAttributes:A,maxVertexUniforms:H,maxVaryings:G,maxFragmentUniforms:O,vertexTextures:U,floatFragmentTextures:$,floatVertexTextures:ie,maxSamples:ue}}function nee(t){let n=this,i=null,s=0,l=!1,e=!1,p=new ih,v=new rs,w={value:null,needsUpdate:!1};this.uniform=w,this.numPlanes=0,this.numIntersection=0,this.init=function(C,R,B){let A=C.length!==0||R||s!==0||l;return l=R,i=T(C,B,0),s=C.length,A},this.beginShadows=function(){e=!0,T(null)},this.endShadows=function(){e=!1,E()},this.setState=function(C,R,B){let A=C.clippingPlanes,H=C.clipIntersection,G=C.clipShadows,O=t.get(C);if(!l||A===null||A.length===0||e&&!G)e?T(null):E();else{let U=e?0:s,$=U*4,ie=O.clippingState||null;w.value=ie,ie=T(A,R,$,B);for(let ue=0;ue!==$;++ue)ie[ue]=i[ue];O.clippingState=ie,this.numIntersection=H?this.numPlanes:0,this.numPlanes+=U}};function E(){w.value!==i&&(w.value=i,w.needsUpdate=s>0),n.numPlanes=s,n.numIntersection=0}function T(C,R,B,A){let H=C!==null?C.length:0,G=null;if(H!==0){if(G=w.value,A!==!0||G===null){let O=B+H*4,U=R.matrixWorldInverse;v.getNormalMatrix(U),(G===null||G.length<O)&&(G=new Float32Array(O));for(let $=0,ie=B;$!==H;++$,ie+=4)p.copy(C[$]).applyMatrix4(U,v),p.normal.toArray(G,ie),G[ie+3]=p.constant}w.value=G,w.needsUpdate=!0}return n.numPlanes=H,n.numIntersection=0,G}}function ree(t){let n=new WeakMap;function i(p,v){return v===dO?p.mapping=lR:v===pO&&(p.mapping=uR),p}function s(p){if(p&&p.isTexture){let v=p.mapping;if(v===dO||v===pO)if(n.has(p)){let w=n.get(p).texture;return i(w,p.mapping)}else{let w=p.image;if(w&&w.height>0){let E=t.getRenderList(),T=t.getRenderTarget(),C=t.getRenderState(),R=new Tv(w.height/2);return R.fromEquirectangularTexture(t,p),n.set(p,R),t.setRenderTarget(T),t.setRenderList(E),t.setRenderState(C),p.addEventListener("dispose",l),i(R.texture,p.mapping)}else return null}}return p}function l(p){let v=p.target;v.removeEventListener("dispose",l);let w=n.get(v);w!==void 0&&(n.delete(v),w.dispose())}function e(){n=new WeakMap}return{get:s,dispose:e}}function iee(t){let n={};return{has:function(i){if(n[i]!==void 0)return n[i]!==null;let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return n[i]=s,s!==null},get:function(i){return this.has(i)||console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n[i]}}}function oee(t,n,i,s){let l=new WeakMap,e=new WeakMap;function p(C){let R=C.target,B=l.get(R);B.index!==null&&n.remove(B.index);for(let H in B.attributes)n.remove(B.attributes[H]);R.removeEventListener("dispose",p),l.delete(R);let A=e.get(B);A&&(n.remove(A),e.delete(B)),s.releaseStatesOfGeometry(B),R.isInstancedBufferGeometry===!0&&delete R._maxInstanceCount,i.memory.geometries--}function v(C,R){let B=l.get(R);return B||(R.addEventListener("dispose",p),R.isBufferGeometry?B=R:R.isGeometry&&(R._bufferGeometry===void 0&&(R._bufferGeometry=new Mi().setFromObject(C)),B=R._bufferGeometry),l.set(R,B),i.memory.geometries++,B)}function w(C){let R=C.attributes;for(let A in R)n.update(R[A],34962);let B=C.morphAttributes;for(let A in B){let H=B[A];for(let G=0,O=H.length;G<O;G++)n.update(H[G],34962)}}function E(C){let R=[],B=C.index,A=C.attributes.position,H=0;if(B!==null){let U=B.array;H=B.version;for(let $=0,ie=U.length;$<ie;$+=3){let ue=U[$+0],K=U[$+1],ce=U[$+2];R.push(ue,K,K,ce,ce,ue)}}else{let U=A.array;H=A.version;for(let $=0,ie=U.length/3-1;$<ie;$+=3){let ue=$+0,K=$+1,ce=$+2;R.push(ue,K,K,ce,ce,ue)}}let G=new(VO(R)>65535?Iw:Nw)(R,1);G.version=H;let O=e.get(C);O&&n.remove(O),e.set(C,G)}function T(C){let R=e.get(C);if(R){let B=C.index;B!==null&&(R.version<B.version&&E(C))}else E(C);return e.get(C)}return{get:v,update:w,getWireframeAttribute:T}}function see(t,n,i,s){let l=s.isWebGL2,e;function p(R){e=R}let v,w;function E(R){v=R.type,w=R.bytesPerElement}function T(R,B){t.drawElements(e,B,v,R*w),i.update(B,e,1)}function C(R,B,A){if(A===0)return;let H,G;if(l)H=t,G="drawElementsInstanced";else if(H=n.get("ANGLE_instanced_arrays"),G="drawElementsInstancedANGLE",H===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}H[G](e,B,v,R*w,A),i.update(B,e,A)}this.setMode=p,this.setIndex=E,this.render=T,this.renderInstances=C}function aee(t){let n={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function s(e,p,v){i.calls++;switch(p){case 4:i.triangles+=v*(e/3);break;case 1:i.lines+=v*(e/2);break;case 3:i.lines+=v*(e-1);break;case 2:i.lines+=v*e;break;case 0:i.points+=v*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",p);break}}function l(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:n,render:i,programs:null,autoReset:!0,reset:l,update:s}}function lee(t,n){return t[0]-n[0]}function uee(t,n){return Math.abs(n[1])-Math.abs(t[1])}function cee(t){let n={},i=new Float32Array(8),s=[];for(let e=0;e<8;e++)s[e]=[e,0];function l(e,p,v,w){let E=e.morphTargetInfluences,T=E===void 0?0:E.length,C=n[p.id];if(C===void 0){C=[];for(let G=0;G<T;G++)C[G]=[G,0];n[p.id]=C}for(let G=0;G<T;G++){let O=C[G];O[0]=G,O[1]=E[G]}C.sort(uee);for(let G=0;G<8;G++)G<T&&C[G][1]?(s[G][0]=C[G][0],s[G][1]=C[G][1]):(s[G][0]=Number.MAX_SAFE_INTEGER,s[G][1]=0);s.sort(lee);let R=v.morphTargets&&p.morphAttributes.position,B=v.morphNormals&&p.morphAttributes.normal,A=0;for(let G=0;G<8;G++){let O=s[G],U=O[0],$=O[1];U!==Number.MAX_SAFE_INTEGER&&$?(R&&p.getAttribute("morphTarget"+G)!==R[U]&&p.setAttribute("morphTarget"+G,R[U]),B&&p.getAttribute("morphNormal"+G)!==B[U]&&p.setAttribute("morphNormal"+G,B[U]),i[G]=$,A+=$):(R&&p.hasAttribute("morphTarget"+G)===!0&&p.deleteAttribute("morphTarget"+G),B&&p.hasAttribute("morphNormal"+G)===!0&&p.deleteAttribute("morphNormal"+G),i[G]=0)}let H=p.morphTargetsRelative?1:1-A;w.getUniforms().setValue(t,"morphTargetBaseInfluence",H),w.getUniforms().setValue(t,"morphTargetInfluences",i)}return{update:l}}function fee(t,n,i,s){let l=new WeakMap;function e(v){let w=s.render.frame,E=v.geometry,T=n.get(v,E);return l.get(T)!==w&&(E.isGeometry&&T.updateFromObject(v),n.update(T),l.set(T,w)),v.isInstancedMesh&&(i.update(v.instanceMatrix,34962),v.instanceColor!==null&&i.update(v.instanceColor,34962)),T}function p(){l=new WeakMap}return{update:e,dispose:p}}function Gw(t=null,n=1,i=1,s=1){Yi.call(this,null),this.image={data:t,width:n,height:i,depth:s},this.magFilter=As,this.minFilter=As,this.wrapR=jl,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Gw.prototype=Object.create(Yi.prototype);Gw.prototype.constructor=Gw;Gw.prototype.isDataTexture2DArray=!0;function Xw(t=null,n=1,i=1,s=1){Yi.call(this,null),this.image={data:t,width:n,height:i,depth:s},this.magFilter=As,this.minFilter=As,this.wrapR=jl,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Xw.prototype=Object.create(Yi.prototype);Xw.prototype.constructor=Xw;Xw.prototype.isDataTexture3D=!0;var qO=new Yi,hee=new Gw,dee=new Xw,JO=new _m,ZO=[],KO=[],$O=new Float32Array(16),e9=new Float32Array(9),t9=new Float32Array(4);function qy(t,n,i){let s=t[0];if(s<=0||s>0)return t;let l=n*i,e=ZO[l];if(e===void 0&&(e=new Float32Array(l),ZO[l]=e),n!==0){s.toArray(e,0);for(let p=1,v=0;p!==n;++p)v+=i,t[p].toArray(e,v)}return e}function ff(t,n){if(t.length!==n.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==n[i])return!1;return!0}function gc(t,n){for(let i=0,s=n.length;i<s;i++)t[i]=n[i]}function n9(t,n){let i=KO[n];i===void 0&&(i=new Int32Array(n),KO[n]=i);for(let s=0;s!==n;++s)i[s]=t.allocateTextureUnit();return i}function pee(t,n){let i=this.cache;if(i[0]===n)return;t.uniform1f(this.addr,n),i[0]=n}function mee(t,n){let i=this.cache;if(n.x!==void 0)(i[0]!==n.x||i[1]!==n.y)&&(t.uniform2f(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(ff(i,n))return;t.uniform2fv(this.addr,n),gc(i,n)}}function vee(t,n){let i=this.cache;if(n.x!==void 0)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(t.uniform3f(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else if(n.r!==void 0)(i[0]!==n.r||i[1]!==n.g||i[2]!==n.b)&&(t.uniform3f(this.addr,n.r,n.g,n.b),i[0]=n.r,i[1]=n.g,i[2]=n.b);else{if(ff(i,n))return;t.uniform3fv(this.addr,n),gc(i,n)}}function gee(t,n){let i=this.cache;if(n.x!==void 0)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(t.uniform4f(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(ff(i,n))return;t.uniform4fv(this.addr,n),gc(i,n)}}function yee(t,n){let i=this.cache,s=n.elements;if(s===void 0){if(ff(i,n))return;t.uniformMatrix2fv(this.addr,!1,n),gc(i,n)}else{if(ff(i,s))return;t9.set(s),t.uniformMatrix2fv(this.addr,!1,t9),gc(i,s)}}function xee(t,n){let i=this.cache,s=n.elements;if(s===void 0){if(ff(i,n))return;t.uniformMatrix3fv(this.addr,!1,n),gc(i,n)}else{if(ff(i,s))return;e9.set(s),t.uniformMatrix3fv(this.addr,!1,e9),gc(i,s)}}function Eee(t,n){let i=this.cache,s=n.elements;if(s===void 0){if(ff(i,n))return;t.uniformMatrix4fv(this.addr,!1,n),gc(i,n)}else{if(ff(i,s))return;$O.set(s),t.uniformMatrix4fv(this.addr,!1,$O),gc(i,s)}}function wee(t,n,i){let s=this.cache,l=i.allocateTextureUnit();s[0]!==l&&(t.uniform1i(this.addr,l),s[0]=l),i.safeSetTexture2D(n||qO,l)}function Aee(t,n,i){let s=this.cache,l=i.allocateTextureUnit();s[0]!==l&&(t.uniform1i(this.addr,l),s[0]=l),i.setTexture2DArray(n||hee,l)}function _ee(t,n,i){let s=this.cache,l=i.allocateTextureUnit();s[0]!==l&&(t.uniform1i(this.addr,l),s[0]=l),i.setTexture3D(n||dee,l)}function Mee(t,n,i){let s=this.cache,l=i.allocateTextureUnit();s[0]!==l&&(t.uniform1i(this.addr,l),s[0]=l),i.safeSetTextureCube(n||JO,l)}function See(t,n){let i=this.cache;if(i[0]===n)return;t.uniform1i(this.addr,n),i[0]=n}function Tee(t,n){let i=this.cache;if(ff(i,n))return;t.uniform2iv(this.addr,n),gc(i,n)}function bee(t,n){let i=this.cache;if(ff(i,n))return;t.uniform3iv(this.addr,n),gc(i,n)}function Cee(t,n){let i=this.cache;if(ff(i,n))return;t.uniform4iv(this.addr,n),gc(i,n)}function Lee(t,n){let i=this.cache;if(i[0]===n)return;t.uniform1ui(this.addr,n),i[0]=n}function Pee(t){switch(t){case 5126:return pee;case 35664:return mee;case 35665:return vee;case 35666:return gee;case 35674:return yee;case 35675:return xee;case 35676:return Eee;case 5124:case 35670:return See;case 35667:case 35671:return Tee;case 35668:case 35672:return bee;case 35669:case 35673:return Cee;case 5125:return Lee;case 35678:case 36198:case 36298:case 36306:case 35682:return wee;case 35679:case 36299:case 36307:return _ee;case 35680:case 36300:case 36308:case 36293:return Mee;case 36289:case 36303:case 36311:case 36292:return Aee}}function Ree(t,n){t.uniform1fv(this.addr,n)}function Dee(t,n){t.uniform1iv(this.addr,n)}function Fee(t,n){t.uniform2iv(this.addr,n)}function Bee(t,n){t.uniform3iv(this.addr,n)}function Nee(t,n){t.uniform4iv(this.addr,n)}function Iee(t,n){let i=qy(n,this.size,2);t.uniform2fv(this.addr,i)}function Oee(t,n){let i=qy(n,this.size,3);t.uniform3fv(this.addr,i)}function Uee(t,n){let i=qy(n,this.size,4);t.uniform4fv(this.addr,i)}function kee(t,n){let i=qy(n,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Gee(t,n){let i=qy(n,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Xee(t,n){let i=qy(n,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Hee(t,n,i){let s=n.length,l=n9(i,s);t.uniform1iv(this.addr,l);for(let e=0;e!==s;++e)i.safeSetTexture2D(n[e]||qO,l[e])}function zee(t,n,i){let s=n.length,l=n9(i,s);t.uniform1iv(this.addr,l);for(let e=0;e!==s;++e)i.safeSetTextureCube(n[e]||JO,l[e])}function Yee(t){switch(t){case 5126:return Ree;case 35664:return Iee;case 35665:return Oee;case 35666:return Uee;case 35674:return kee;case 35675:return Gee;case 35676:return Xee;case 5124:case 35670:return Dee;case 35667:case 35671:return Fee;case 35668:case 35672:return Bee;case 35669:case 35673:return Nee;case 35678:case 36198:case 36298:case 36306:case 35682:return Hee;case 35680:case 36300:case 36308:case 36293:return zee}}function Vee(t,n,i){this.id=t,this.addr=i,this.cache=[],this.setValue=Pee(n.type)}function r9(t,n,i){this.id=t,this.addr=i,this.cache=[],this.size=n.size,this.setValue=Yee(n.type)}r9.prototype.updateCache=function(t){let n=this.cache;t instanceof Float32Array&&n.length!==t.length&&(this.cache=new Float32Array(t.length)),gc(n,t)};function i9(t){this.id=t,this.seq=[],this.map={}}i9.prototype.setValue=function(t,n,i){let s=this.seq;for(let l=0,e=s.length;l!==e;++l){let p=s[l];p.setValue(t,n[p.id],i)}};var WR=/([\w\d_]+)(\])?(\[|\.)?/g;function o9(t,n){t.seq.push(n),t.map[n.id]=n}function Wee(t,n,i){let s=t.name,l=s.length;for(WR.lastIndex=0;;){let e=WR.exec(s),p=WR.lastIndex,v=e[1],w=e[2]==="]",E=e[3];if(w&&(v=v|0),E===void 0||E==="["&&p+2===l){o9(i,E===void 0?new Vee(v,t,n):new r9(v,t,n));break}else{let T=i.map,C=T[v];C===void 0&&(C=new i9(v),o9(i,C)),i=C}}}function Mm(t,n){this.seq=[],this.map={};let i=t.getProgramParameter(n,35718);for(let s=0;s<i;++s){let l=t.getActiveUniform(n,s),e=t.getUniformLocation(n,l.name);Wee(l,e,this)}}Mm.prototype.setValue=function(t,n,i,s){let l=this.map[n];l!==void 0&&l.setValue(t,i,s)};Mm.prototype.setOptional=function(t,n,i){let s=n[i];s!==void 0&&this.setValue(t,i,s)};Mm.upload=function(t,n,i,s){for(let l=0,e=n.length;l!==e;++l){let p=n[l],v=i[p.id];v.needsUpdate!==!1&&p.setValue(t,v.value,s)}};Mm.seqWithValue=function(t,n){let i=[];for(let s=0,l=t.length;s!==l;++s){let e=t[s];e.id in n&&i.push(e)}return i};function s9(t,n,i){let s=t.createShader(n);return t.shaderSource(s,i),t.compileShader(s),s}var jee=0;function Qee(t){let n=t.split(`
`);for(let i=0;i<n.length;i++)n[i]=i+1+": "+n[i];return n.join(`
`)}function a9(t){switch(t){case Ty:return["Linear","( value )"];case by:return["sRGB","( value )"];case CO:return["RGBE","( value )"];case LO:return["RGBM","( value, 7.0 )"];case PO:return["RGBM","( value, 16.0 )"];case RO:return["RGBD","( value, 256.0 )"];case bO:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case cZ:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function l9(t,n,i){let s=t.getShaderParameter(n,35713),l=t.getShaderInfoLog(n).trim();if(s&&l==="")return"";let e=t.getShaderSource(n);return"THREE.WebGLShader: gl.getShaderInfoLog() "+i+`
`+l+Qee(e)}function Hw(t,n){let i=a9(n);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function qee(t,n){let i=a9(n);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Jee(t,n){let i;switch(n){case cJ:i="Linear";break;case fJ:i="Reinhard";break;case hJ:i="OptimizedCineon";break;case dJ:i="ACESFilmic";break;case pJ:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Zee(t){let n=[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return n.filter(zw).join(`
`)}function Kee(t){let n=[];for(let i in t){let s=t[i];if(s===!1)continue;n.push("#define "+i+" "+s)}return n.join(`
`)}function $ee(t,n){let i={},s=t.getProgramParameter(n,35721);for(let l=0;l<s;l++){let e=t.getActiveAttrib(n,l),p=e.name;i[p]=t.getAttribLocation(n,p)}return i}function zw(t){return t!==""}function u9(t,n){return t.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function c9(t,n){return t.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}var ete=/^[ \t]*#include +<([\w\d./]+)>/gm;function jR(t){return t.replace(ete,tte)}function tte(t,n){let i=ti[n];if(i===void 0)throw new Error("Can not resolve #include <"+n+">");return jR(i)}var nte=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,rte=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function h9(t){return t.replace(rte,f9).replace(nte,ite)}function ite(t,n,i,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),f9(t,n,i,s)}function f9(t,n,i,s){let l="";for(let e=parseInt(n);e<parseInt(i);e++)l+=s.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return l}function d9(t){let n="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?n+=`
#define HIGH_PRECISION`:t.precision==="mediump"?n+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(n+=`
#define LOW_PRECISION`),n}function ote(t){let n="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===iO?n="SHADOWMAP_TYPE_PCF":t.shadowMapType===Hq?n="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Mw&&(n="SHADOWMAP_TYPE_VSM"),n}function ste(t){let n="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case lR:case uR:n="ENVMAP_TYPE_CUBE";break;case cR:case fR:n="ENVMAP_TYPE_CUBE_UV";break}return n}function ate(t){let n="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case uR:case fR:n="ENVMAP_MODE_REFRACTION";break}return n}function lte(t){let n="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case eS:n="ENVMAP_BLENDING_MULTIPLY";break;case lJ:n="ENVMAP_BLENDING_MIX";break;case uJ:n="ENVMAP_BLENDING_ADD";break}return n}function ute(t,n,i,s){let l=t.getContext(),e=i.defines,p=i.vertexShader,v=i.fragmentShader,w=ote(i),E=ste(i),T=ate(i),C=lte(i),R=t.gammaFactor>0?t.gammaFactor:1,B=i.isWebGL2?"":Zee(i),A=Kee(e),H=l.createProgram(),G,O,U=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(G=[A].filter(zw).join(`
`),G.length>0&&(G+=`
`),O=[B,A].filter(zw).join(`
`),O.length>0&&(O+=`
`)):(G=[d9(i),"#define SHADER_NAME "+i.shaderName,A,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+R,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+T:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zw).join(`
`),O=[B,d9(i),"#define SHADER_NAME "+i.shaderName,A,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+R,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+E:"",i.envMap?"#define "+T:"",i.envMap?"#define "+C:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+w:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==bw?"#define TONE_MAPPING":"",i.toneMapping!==bw?ti.tonemapping_pars_fragment:"",i.toneMapping!==bw?Jee("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",ti.encodings_pars_fragment,i.map?Hw("mapTexelToLinear",i.mapEncoding):"",i.matcap?Hw("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?Hw("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?Hw("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?Hw("lightMapTexelToLinear",i.lightMapEncoding):"",qee("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(zw).join(`
`)),p=jR(p),p=u9(p,i),p=c9(p,i),v=jR(v),v=u9(v,i),v=c9(v,i),p=h9(p),v=h9(v),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(U=`#version 300 es
`,G=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+G,O=["#define varying in",i.glslVersion===DO?"":"out highp vec4 pc_fragColor;",i.glslVersion===DO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+O);let $=U+G+p,ie=U+O+v,ue=s9(l,35633,$),K=s9(l,35632,ie);if(l.attachShader(H,ue),l.attachShader(H,K),i.index0AttributeName!==void 0?l.bindAttribLocation(H,0,i.index0AttributeName):i.morphTargets===!0&&l.bindAttribLocation(H,0,"position"),l.linkProgram(H),t.debug.checkShaderErrors){let Ve=l.getProgramInfoLog(H).trim(),Me=l.getShaderInfoLog(ue).trim(),Ee=l.getShaderInfoLog(K).trim(),Ne=!0,Oe=!0;if(l.getProgramParameter(H,35714)===!1){Ne=!1;let tt=l9(l,ue,"vertex"),Ze=l9(l,K,"fragment");console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(H,35715),"gl.getProgramInfoLog",Ve,tt,Ze)}else Ve!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",Ve):(Me===""||Ee==="")&&(Oe=!1);Oe&&(this.diagnostics={runnable:Ne,programLog:Ve,vertexShader:{log:Me,prefix:G},fragmentShader:{log:Ee,prefix:O}})}l.deleteShader(ue),l.deleteShader(K);let ce;this.getUniforms=function(){return ce===void 0&&(ce=new Mm(l,H)),ce};let ve;return this.getAttributes=function(){return ve===void 0&&(ve=$ee(l,H)),ve},this.destroy=function(){s.releaseStatesOfProgram(this),l.deleteProgram(H),this.program=void 0},this.name=i.shaderName,this.id=jee++,this.cacheKey=n,this.usedTimes=1,this.program=H,this.vertexShader=ue,this.fragmentShader=K,this}function cte(t,n,i,s,l,e){let p=[],v=s.isWebGL2,w=s.logarithmicDepthBuffer,E=s.floatVertexTextures,T=s.maxVertexUniforms,C=s.vertexTextures,R=s.precision,B={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},A=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function H(K){let ce=K.skeleton,ve=ce.bones;if(E)return 1024;{let Ve=T,Me=Math.floor((Ve-20)/4),Ee=Math.min(Me,ve.length);return Ee<ve.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+ve.length+" bones. This GPU supports "+Ee+"."),0):Ee}}function G(K){let ce;return K?K.isTexture?ce=K.encoding:K.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ce=K.texture.encoding):ce=Ty,ce}function O(K,ce,ve,Ve,Me){let Ee=Ve.fog,Ne=K.isMeshStandardMaterial?Ve.environment:null,Oe=n.get(K.envMap||Ne),tt=B[K.type],Ze=Me.isSkinnedMesh?H(Me):0;K.precision!==null&&(R=s.getMaxPrecision(K.precision),R!==K.precision&&console.warn("THREE.WebGLProgram.getParameters:",K.precision,"not supported, using",R,"instead."));let Qe,at;if(tt){let Wt=sh[tt];Qe=Wt.vertexShader,at=Wt.fragmentShader}else Qe=K.vertexShader,at=K.fragmentShader;let mt=t.getRenderTarget(),Ht={isWebGL2:v,shaderID:tt,shaderName:K.type,vertexShader:Qe,fragmentShader:at,defines:K.defines,isRawShaderMaterial:K.isRawShaderMaterial===!0,glslVersion:K.glslVersion,precision:R,instancing:Me.isInstancedMesh===!0,instancingColor:Me.isInstancedMesh===!0&&Me.instanceColor!==null,supportsVertexTextures:C,outputEncoding:mt!==null?G(mt.texture):t.outputEncoding,map:!!K.map,mapEncoding:G(K.map),matcap:!!K.matcap,matcapEncoding:G(K.matcap),envMap:!!Oe,envMapMode:Oe&&Oe.mapping,envMapEncoding:G(Oe),envMapCubeUV:!!Oe&&(Oe.mapping===cR||Oe.mapping===fR),lightMap:!!K.lightMap,lightMapEncoding:G(K.lightMap),aoMap:!!K.aoMap,emissiveMap:!!K.emissiveMap,emissiveMapEncoding:G(K.emissiveMap),bumpMap:!!K.bumpMap,normalMap:!!K.normalMap,objectSpaceNormalMap:K.normalMapType===dZ,tangentSpaceNormalMap:K.normalMapType===pm,clearcoatMap:!!K.clearcoatMap,clearcoatRoughnessMap:!!K.clearcoatRoughnessMap,clearcoatNormalMap:!!K.clearcoatNormalMap,displacementMap:!!K.displacementMap,roughnessMap:!!K.roughnessMap,metalnessMap:!!K.metalnessMap,specularMap:!!K.specularMap,alphaMap:!!K.alphaMap,gradientMap:!!K.gradientMap,sheen:!!K.sheen,transmissionMap:!!K.transmissionMap,combine:K.combine,vertexTangents:K.normalMap&&K.vertexTangents,vertexColors:K.vertexColors,vertexUvs:!!K.map||!!K.bumpMap||!!K.normalMap||!!K.specularMap||!!K.alphaMap||!!K.emissiveMap||!!K.roughnessMap||!!K.metalnessMap||!!K.clearcoatMap||!!K.clearcoatRoughnessMap||!!K.clearcoatNormalMap||!!K.displacementMap||!!K.transmissionMap,uvsVertexOnly:!(!!K.map||!!K.bumpMap||!!K.normalMap||!!K.specularMap||!!K.alphaMap||!!K.emissiveMap||!!K.roughnessMap||!!K.metalnessMap||!!K.clearcoatNormalMap||!!K.transmissionMap)&&!!K.displacementMap,fog:!!Ee,useFog:K.fog,fogExp2:Ee&&Ee.isFogExp2,flatShading:K.flatShading,sizeAttenuation:K.sizeAttenuation,logarithmicDepthBuffer:w,skinning:K.skinning&&Ze>0,maxBones:Ze,useVertexTexture:E,morphTargets:K.morphTargets,morphNormals:K.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:ce.directional.length,numPointLights:ce.point.length,numSpotLights:ce.spot.length,numRectAreaLights:ce.rectArea.length,numHemiLights:ce.hemi.length,numDirLightShadows:ce.directionalShadowMap.length,numPointLightShadows:ce.pointShadowMap.length,numSpotLightShadows:ce.spotShadowMap.length,numClippingPlanes:e.numPlanes,numClipIntersection:e.numIntersection,dithering:K.dithering,shadowMapEnabled:t.shadowMap.enabled&&ve.length>0,shadowMapType:t.shadowMap.type,toneMapping:K.toneMapped?t.toneMapping:bw,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:K.premultipliedAlpha,alphaTest:K.alphaTest,doubleSided:K.side===Ey,flipSided:K.side===Da,depthPacking:K.depthPacking!==void 0?K.depthPacking:!1,index0AttributeName:K.index0AttributeName,extensionDerivatives:K.extensions&&K.extensions.derivatives,extensionFragDepth:K.extensions&&K.extensions.fragDepth,extensionDrawBuffers:K.extensions&&K.extensions.drawBuffers,extensionShaderTextureLOD:K.extensions&&K.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||i.has("EXT_shader_texture_lod"),customProgramCacheKey:K.customProgramCacheKey()};return Ht}function U(K){let ce=[];if(K.shaderID?ce.push(K.shaderID):(ce.push(K.fragmentShader),ce.push(K.vertexShader)),K.defines!==void 0)for(let ve in K.defines)ce.push(ve),ce.push(K.defines[ve]);if(K.isRawShaderMaterial===!1){for(let ve=0;ve<A.length;ve++)ce.push(K[A[ve]]);ce.push(t.outputEncoding),ce.push(t.gammaFactor)}return ce.push(K.customProgramCacheKey),ce.join()}function $(K){let ce=B[K.type],ve;if(ce){let Ve=sh[ce];ve=cf.clone(Ve.uniforms)}else ve=K.uniforms;return ve}function ie(K,ce){let ve;for(let Ve=0,Me=p.length;Ve<Me;Ve++){let Ee=p[Ve];if(Ee.cacheKey===ce){ve=Ee,++ve.usedTimes;break}}return ve===void 0&&(ve=new ute(t,ce,K,l),p.push(ve)),ve}function ue(K){if(--K.usedTimes===0){let ce=p.indexOf(K);p[ce]=p[p.length-1],p.pop(),K.destroy()}}return{getParameters:O,getProgramCacheKey:U,getUniforms:$,acquireProgram:ie,releaseProgram:ue,programs:p}}function fte(){let t=new WeakMap;function n(e){let p=t.get(e);return p===void 0&&(p={},t.set(e,p)),p}function i(e){t.delete(e)}function s(e,p,v){t.get(e)[p]=v}function l(){t=new WeakMap}return{get:n,remove:i,update:s,dispose:l}}function hte(t,n){return t.groupOrder!==n.groupOrder?t.groupOrder-n.groupOrder:t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program!==n.program?t.program.id-n.program.id:t.material.id!==n.material.id?t.material.id-n.material.id:t.z!==n.z?t.z-n.z:t.id-n.id}function dte(t,n){return t.groupOrder!==n.groupOrder?t.groupOrder-n.groupOrder:t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.z!==n.z?n.z-t.z:t.id-n.id}function p9(t){let n=[],i=0,s=[],l=[],e={id:-1};function p(){i=0,s.length=0,l.length=0}function v(R,B,A,H,G,O){let U=n[i],$=t.get(A);return U===void 0?(U={id:R.id,object:R,geometry:B,material:A,program:$.program||e,groupOrder:H,renderOrder:R.renderOrder,z:G,group:O},n[i]=U):(U.id=R.id,U.object=R,U.geometry=B,U.material=A,U.program=$.program||e,U.groupOrder=H,U.renderOrder=R.renderOrder,U.z=G,U.group=O),i++,U}function w(R,B,A,H,G,O){let U=v(R,B,A,H,G,O);(A.transparent===!0?l:s).push(U)}function E(R,B,A,H,G,O){let U=v(R,B,A,H,G,O);(A.transparent===!0?l:s).unshift(U)}function T(R,B){s.length>1&&s.sort(R||hte),l.length>1&&l.sort(B||dte)}function C(){for(let R=i,B=n.length;R<B;R++){let A=n[R];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.program=null,A.group=null}}return{opaque:s,transparent:l,init:p,push:w,unshift:E,finish:C,sort:T}}function pte(t){let n=new WeakMap;function i(l,e){let p=n.get(l),v;return p===void 0?(v=new p9(t),n.set(l,new WeakMap),n.get(l).set(e,v)):(v=p.get(e),v===void 0&&(v=new p9(t),p.set(e,v))),v}function s(){n=new WeakMap}return{get:i,dispose:s}}function mte(){let t={};return{get:function(n){if(t[n.id]!==void 0)return t[n.id];let i;switch(n.type){case"DirectionalLight":i={direction:new Ue,color:new _n};break;case"SpotLight":i={position:new Ue,direction:new Ue,color:new _n,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new Ue,color:new _n,distance:0,decay:0};break;case"HemisphereLight":i={direction:new Ue,skyColor:new _n,groundColor:new _n};break;case"RectAreaLight":i={color:new _n,position:new Ue,halfWidth:new Ue,halfHeight:new Ue};break}return t[n.id]=i,i}}}function vte(){let t={};return{get:function(n){if(t[n.id]!==void 0)return t[n.id];let i;switch(n.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[n.id]=i,i}}}var gte=0;function yte(t,n){return(n.castShadow?1:0)-(t.castShadow?1:0)}function xte(t,n){let i=new mte,s=vte(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let E=0;E<9;E++)l.probe.push(new Ue);let e=new Ue,p=new Dr,v=new Dr;function w(E,T,C){let R=0,B=0,A=0;for(let Ve=0;Ve<9;Ve++)l.probe[Ve].set(0,0,0);let H=0,G=0,O=0,U=0,$=0,ie=0,ue=0,K=0,ce=C.matrixWorldInverse;E.sort(yte);for(let Ve=0,Me=E.length;Ve<Me;Ve++){let Ee=E[Ve],Ne=Ee.color,Oe=Ee.intensity,tt=Ee.distance,Ze=Ee.shadow&&Ee.shadow.map?Ee.shadow.map.texture:null;if(Ee.isAmbientLight)R+=Ne.r*Oe,B+=Ne.g*Oe,A+=Ne.b*Oe;else if(Ee.isLightProbe)for(let Qe=0;Qe<9;Qe++)l.probe[Qe].addScaledVector(Ee.sh.coefficients[Qe],Oe);else if(Ee.isDirectionalLight){let Qe=i.get(Ee);if(Qe.color.copy(Ee.color).multiplyScalar(Ee.intensity),Qe.direction.setFromMatrixPosition(Ee.matrixWorld),e.setFromMatrixPosition(Ee.target.matrixWorld),Qe.direction.sub(e),Qe.direction.transformDirection(ce),Ee.castShadow){let at=Ee.shadow,mt=s.get(Ee);mt.shadowBias=at.bias,mt.shadowNormalBias=at.normalBias,mt.shadowRadius=at.radius,mt.shadowMapSize=at.mapSize,l.directionalShadow[H]=mt,l.directionalShadowMap[H]=Ze,l.directionalShadowMatrix[H]=Ee.shadow.matrix,ie++}l.directional[H]=Qe,H++}else if(Ee.isSpotLight){let Qe=i.get(Ee);if(Qe.position.setFromMatrixPosition(Ee.matrixWorld),Qe.position.applyMatrix4(ce),Qe.color.copy(Ne).multiplyScalar(Oe),Qe.distance=tt,Qe.direction.setFromMatrixPosition(Ee.matrixWorld),e.setFromMatrixPosition(Ee.target.matrixWorld),Qe.direction.sub(e),Qe.direction.transformDirection(ce),Qe.coneCos=Math.cos(Ee.angle),Qe.penumbraCos=Math.cos(Ee.angle*(1-Ee.penumbra)),Qe.decay=Ee.decay,Ee.castShadow){let at=Ee.shadow,mt=s.get(Ee);mt.shadowBias=at.bias,mt.shadowNormalBias=at.normalBias,mt.shadowRadius=at.radius,mt.shadowMapSize=at.mapSize,l.spotShadow[O]=mt,l.spotShadowMap[O]=Ze,l.spotShadowMatrix[O]=Ee.shadow.matrix,K++}l.spot[O]=Qe,O++}else if(Ee.isRectAreaLight){let Qe=i.get(Ee);Qe.color.copy(Ne).multiplyScalar(Oe),Qe.position.setFromMatrixPosition(Ee.matrixWorld),Qe.position.applyMatrix4(ce),v.identity(),p.copy(Ee.matrixWorld),p.premultiply(ce),v.extractRotation(p),Qe.halfWidth.set(Ee.width*.5,0,0),Qe.halfHeight.set(0,Ee.height*.5,0),Qe.halfWidth.applyMatrix4(v),Qe.halfHeight.applyMatrix4(v),l.rectArea[U]=Qe,U++}else if(Ee.isPointLight){let Qe=i.get(Ee);if(Qe.position.setFromMatrixPosition(Ee.matrixWorld),Qe.position.applyMatrix4(ce),Qe.color.copy(Ee.color).multiplyScalar(Ee.intensity),Qe.distance=Ee.distance,Qe.decay=Ee.decay,Ee.castShadow){let at=Ee.shadow,mt=s.get(Ee);mt.shadowBias=at.bias,mt.shadowNormalBias=at.normalBias,mt.shadowRadius=at.radius,mt.shadowMapSize=at.mapSize,mt.shadowCameraNear=at.camera.near,mt.shadowCameraFar=at.camera.far,l.pointShadow[G]=mt,l.pointShadowMap[G]=Ze,l.pointShadowMatrix[G]=Ee.shadow.matrix,ue++}l.point[G]=Qe,G++}else if(Ee.isHemisphereLight){let Qe=i.get(Ee);Qe.direction.setFromMatrixPosition(Ee.matrixWorld),Qe.direction.transformDirection(ce),Qe.direction.normalize(),Qe.skyColor.copy(Ee.color).multiplyScalar(Oe),Qe.groundColor.copy(Ee.groundColor).multiplyScalar(Oe),l.hemi[$]=Qe,$++}}U>0&&(n.isWebGL2||t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=pn.LTC_FLOAT_1,l.rectAreaLTC2=pn.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=pn.LTC_HALF_1,l.rectAreaLTC2=pn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=R,l.ambient[1]=B,l.ambient[2]=A;let ve=l.hash;(ve.directionalLength!==H||ve.pointLength!==G||ve.spotLength!==O||ve.rectAreaLength!==U||ve.hemiLength!==$||ve.numDirectionalShadows!==ie||ve.numPointShadows!==ue||ve.numSpotShadows!==K)&&(l.directional.length=H,l.spot.length=O,l.rectArea.length=U,l.point.length=G,l.hemi.length=$,l.directionalShadow.length=ie,l.directionalShadowMap.length=ie,l.pointShadow.length=ue,l.pointShadowMap.length=ue,l.spotShadow.length=K,l.spotShadowMap.length=K,l.directionalShadowMatrix.length=ie,l.pointShadowMatrix.length=ue,l.spotShadowMatrix.length=K,ve.directionalLength=H,ve.pointLength=G,ve.spotLength=O,ve.rectAreaLength=U,ve.hemiLength=$,ve.numDirectionalShadows=ie,ve.numPointShadows=ue,ve.numSpotShadows=K,l.version=gte++)}return{setup:w,state:l}}function m9(t,n){let i=new xte(t,n),s=[],l=[];function e(){s.length=0,l.length=0}function p(T){s.push(T)}function v(T){l.push(T)}function w(T){i.setup(s,l,T)}let E={lightsArray:s,shadowsArray:l,lights:i};return{init:e,state:E,setupLights:w,pushLight:p,pushShadow:v}}function Ete(t,n){let i=new WeakMap;function s(e,p){let v;return i.has(e)===!1?(v=new m9(t,n),i.set(e,new WeakMap),i.get(e).set(p,v)):i.get(e).has(p)===!1?(v=new m9(t,n),i.get(e).set(p,v)):v=i.get(e).get(p),v}function l(){i=new WeakMap}return{get:s,dispose:l}}function bv(t){or.call(this),this.type="MeshDepthMaterial",this.depthPacking=fZ,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}bv.prototype=Object.create(or.prototype);bv.prototype.constructor=bv;bv.prototype.isMeshDepthMaterial=!0;bv.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this};function Cv(t){or.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ue,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}Cv.prototype=Object.create(or.prototype);Cv.prototype.constructor=Cv;Cv.prototype.isMeshDistanceMaterial=!0;Cv.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};var wte=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Ate=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function v9(t,n,i){let s=new kw,l=new St,e=new St,p=new Ki,v=[],w=[],E={},T={0:Da,1:xy,2:Ey},C=new $i({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new St},radius:{value:4}},vertexShader:Ate,fragmentShader:wte}),R=C.clone();R.defines.HORIZONAL_PASS=1;let B=new Mi;B.setAttribute("position",new cr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let A=new _s(B,C),H=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=iO,this.render=function(ue,K,ce){if(H.enabled===!1)return;if(H.autoUpdate===!1&&H.needsUpdate===!1)return;if(ue.length===0)return;let ve=t.getRenderTarget(),Ve=t.getActiveCubeFace(),Me=t.getActiveMipmapLevel(),Ee=t.state;Ee.setBlending(Sw),Ee.buffers.color.setClear(1,1,1,1),Ee.buffers.depth.setTest(!0),Ee.setScissorTest(!1);for(let Ne=0,Oe=ue.length;Ne<Oe;Ne++){let tt=ue[Ne],Ze=tt.shadow;if(Ze===void 0){console.warn("THREE.WebGLShadowMap:",tt,"has no shadow.");continue}if(Ze.autoUpdate===!1&&Ze.needsUpdate===!1)continue;l.copy(Ze.mapSize);let Qe=Ze.getFrameExtents();if(l.multiply(Qe),e.copy(Ze.mapSize),(l.x>i||l.y>i)&&(l.x>i&&(e.x=Math.floor(i/Qe.x),l.x=e.x*Qe.x,Ze.mapSize.x=e.x),l.y>i&&(e.y=Math.floor(i/Qe.y),l.y=e.y*Qe.y,Ze.mapSize.y=e.y)),Ze.map===null&&!Ze.isPointLightShadow&&this.type===Mw){let mt={minFilter:mo,magFilter:mo,format:Ql};Ze.map=new la(l.x,l.y,mt),Ze.map.texture.name=tt.name+".shadowMap",Ze.mapPass=new la(l.x,l.y,mt),Ze.camera.updateProjectionMatrix()}if(Ze.map===null){let mt={minFilter:As,magFilter:As,format:Ql};Ze.map=new la(l.x,l.y,mt),Ze.map.texture.name=tt.name+".shadowMap",Ze.camera.updateProjectionMatrix()}t.setRenderTarget(Ze.map),t.clear();let at=Ze.getViewportCount();for(let mt=0;mt<at;mt++){let Ht=Ze.getViewport(mt);p.set(e.x*Ht.x,e.y*Ht.y,e.x*Ht.z,e.y*Ht.w),Ee.viewport(p),Ze.updateMatrices(tt,mt),s=Ze.getFrustum(),ie(K,ce,Ze.camera,tt,this.type)}!Ze.isPointLightShadow&&this.type===Mw&&G(Ze,ce),Ze.needsUpdate=!1}H.needsUpdate=!1,t.setRenderTarget(ve,Ve,Me)};function G(ue,K){let ce=n.update(A);C.uniforms.shadow_pass.value=ue.map.texture,C.uniforms.resolution.value=ue.mapSize,C.uniforms.radius.value=ue.radius,t.setRenderTarget(ue.mapPass),t.clear(),t.renderBufferDirect(K,null,ce,C,A,null),R.uniforms.shadow_pass.value=ue.mapPass.texture,R.uniforms.resolution.value=ue.mapSize,R.uniforms.radius.value=ue.radius,t.setRenderTarget(ue.map),t.clear(),t.renderBufferDirect(K,null,ce,R,A,null)}function O(ue,K,ce){let ve=ue<<0|K<<1|ce<<2,Ve=v[ve];return Ve===void 0&&(Ve=new bv({depthPacking:hZ,morphTargets:ue,skinning:K}),v[ve]=Ve),Ve}function U(ue,K,ce){let ve=ue<<0|K<<1|ce<<2,Ve=w[ve];return Ve===void 0&&(Ve=new Cv({morphTargets:ue,skinning:K}),w[ve]=Ve),Ve}function $(ue,K,ce,ve,Ve,Me,Ee){let Ne=null,Oe=O,tt=ue.customDepthMaterial;if(ve.isPointLight===!0&&(Oe=U,tt=ue.customDistanceMaterial),tt===void 0){let Ze=!1;ce.morphTargets===!0&&(Ze=K.morphAttributes&&K.morphAttributes.position&&K.morphAttributes.position.length>0);let Qe=!1;ue.isSkinnedMesh===!0&&(ce.skinning===!0?Qe=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",ue));let at=ue.isInstancedMesh===!0;Ne=Oe(Ze,Qe,at)}else Ne=tt;if(t.localClippingEnabled&&ce.clipShadows===!0&&ce.clippingPlanes.length!==0){let Ze=Ne.uuid,Qe=ce.uuid,at=E[Ze];at===void 0&&(at={},E[Ze]=at);let mt=at[Qe];mt===void 0&&(mt=Ne.clone(),at[Qe]=mt),Ne=mt}return Ne.visible=ce.visible,Ne.wireframe=ce.wireframe,Ee===Mw?Ne.side=ce.shadowSide!==null?ce.shadowSide:ce.side:Ne.side=ce.shadowSide!==null?ce.shadowSide:T[ce.side],Ne.clipShadows=ce.clipShadows,Ne.clippingPlanes=ce.clippingPlanes,Ne.clipIntersection=ce.clipIntersection,Ne.wireframeLinewidth=ce.wireframeLinewidth,Ne.linewidth=ce.linewidth,ve.isPointLight===!0&&Ne.isMeshDistanceMaterial===!0&&(Ne.referencePosition.setFromMatrixPosition(ve.matrixWorld),Ne.nearDistance=Ve,Ne.farDistance=Me),Ne}function ie(ue,K,ce,ve,Ve){if(ue.visible===!1)return;let Me=ue.layers.test(K.layers);if(Me&&(ue.isMesh||ue.isLine||ue.isPoints)&&((ue.castShadow||ue.receiveShadow&&Ve===Mw)&&(!ue.frustumCulled||s.intersectsObject(ue)))){ue.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,ue.matrixWorld);let Ne=n.update(ue),Oe=ue.material;if(Array.isArray(Oe)){let tt=Ne.groups;for(let Ze=0,Qe=tt.length;Ze<Qe;Ze++){let at=tt[Ze],mt=Oe[at.materialIndex];if(mt&&mt.visible){let Ht=$(ue,Ne,mt,ve,ce.near,ce.far,Ve);t.renderBufferDirect(ce,null,Ne,Ht,ue,at)}}}else if(Oe.visible){let tt=$(ue,Ne,Oe,ve,ce.near,ce.far,Ve);t.renderBufferDirect(ce,null,Ne,tt,ue,null)}}let Ee=ue.children;for(let Ne=0,Oe=Ee.length;Ne<Oe;Ne++)ie(Ee[Ne],K,ce,ve,Ve)}}function _te(t,n,i){let s=i.isWebGL2;function l(){let ze=!1,At=new Ki,gt=null,Ft=new Ki(0,0,0,0);return{setMask:function(Et){gt!==Et&&!ze&&(t.colorMask(Et,Et,Et,Et),gt=Et)},setLocked:function(Et){ze=Et},setClear:function(Et,Pt,qt,Xe,Ct){Ct===!0&&(Et*=Xe,Pt*=Xe,qt*=Xe),At.set(Et,Pt,qt,Xe),Ft.equals(At)===!1&&(t.clearColor(Et,Pt,qt,Xe),Ft.copy(At))},reset:function(){ze=!1,gt=null,Ft.set(-1,0,0,0)}}}function e(){let ze=!1,At=null,gt=null,Ft=null;return{setTest:function(Et){Et?Wt(2929):et(2929)},setMask:function(Et){At!==Et&&!ze&&(t.depthMask(Et),At=Et)},setFunc:function(Et){if(gt!==Et){if(Et)switch(Et){case tJ:t.depthFunc(512);break;case nJ:t.depthFunc(519);break;case rJ:t.depthFunc(513);break;case aR:t.depthFunc(515);break;case iJ:t.depthFunc(514);break;case oJ:t.depthFunc(518);break;case sJ:t.depthFunc(516);break;case aJ:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);gt=Et}},setLocked:function(Et){ze=Et},setClear:function(Et){Ft!==Et&&(t.clearDepth(Et),Ft=Et)},reset:function(){ze=!1,At=null,gt=null,Ft=null}}}function p(){let ze=!1,At=null,gt=null,Ft=null,Et=null,Pt=null,qt=null,Xe=null,Ct=null;return{setTest:function(zt){ze||(zt?Wt(2960):et(2960))},setMask:function(zt){At!==zt&&!ze&&(t.stencilMask(zt),At=zt)},setFunc:function(zt,sn,lr){(gt!==zt||Ft!==sn||Et!==lr)&&(t.stencilFunc(zt,sn,lr),gt=zt,Ft=sn,Et=lr)},setOp:function(zt,sn,lr){(Pt!==zt||qt!==sn||Xe!==lr)&&(t.stencilOp(zt,sn,lr),Pt=zt,qt=sn,Xe=lr)},setLocked:function(zt){ze=zt},setClear:function(zt){Ct!==zt&&(t.clearStencil(zt),Ct=zt)},reset:function(){ze=!1,At=null,gt=null,Ft=null,Et=null,Pt=null,qt=null,Xe=null,Ct=null}}}let v=new l,w=new e,E=new p,T={},C=null,R=null,B=null,A=null,H=null,G=null,O=null,U=null,$=null,ie=!1,ue=null,K=null,ce=null,ve=null,Ve=null,Me=t.getParameter(35661),Ee=!1,Ne=0,Oe=t.getParameter(7938);Oe.indexOf("WebGL")!==-1?(Ne=parseFloat(/^WebGL\ ([0-9])/.exec(Oe)[1]),Ee=Ne>=1):Oe.indexOf("OpenGL ES")!==-1&&(Ne=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Oe)[1]),Ee=Ne>=2);let tt=null,Ze={},Qe=new Ki,at=new Ki;function mt(ze,At,gt){let Ft=new Uint8Array(4),Et=t.createTexture();t.bindTexture(ze,Et),t.texParameteri(ze,10241,9728),t.texParameteri(ze,10240,9728);for(let Pt=0;Pt<gt;Pt++)t.texImage2D(At+Pt,0,6408,1,1,0,6408,5121,Ft);return Et}let Ht={};Ht[3553]=mt(3553,3553,1),Ht[34067]=mt(34067,34069,6),v.setClear(0,0,0,1),w.setClear(1),E.setClear(0),Wt(2929),w.setFunc(aR),oe(!1),we(rO),Wt(2884),Re(Sw);function Wt(ze){T[ze]!==!0&&(t.enable(ze),T[ze]=!0)}function et(ze){T[ze]!==!1&&(t.disable(ze),T[ze]=!1)}function De(ze){return C!==ze?(t.useProgram(ze),C=ze,!0):!1}let Le={[wy]:32774,[Yq]:32778,[Vq]:32779};if(s)Le[lO]=32775,Le[uO]=32776;else{let ze=n.get("EXT_blend_minmax");ze!==null&&(Le[lO]=ze.MIN_EXT,Le[uO]=ze.MAX_EXT)}let Ye={[Wq]:0,[jq]:1,[Qq]:768,[cO]:770,[eJ]:776,[Kq]:774,[Jq]:772,[qq]:769,[fO]:771,[$q]:775,[Zq]:773};function Re(ze,At,gt,Ft,Et,Pt,qt,Xe){if(ze===Sw){R&&(et(3042),R=!1);return}if(R||(Wt(3042),R=!0),ze!==zq){if(ze!==B||Xe!==ie){if((A!==wy||O!==wy)&&(t.blendEquation(32774),A=wy,O=wy),Xe)switch(ze){case Tw:t.blendFuncSeparate(1,771,1,771);break;case $4:t.blendFunc(1,1);break;case sO:t.blendFuncSeparate(0,0,769,771);break;case aO:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ze);break}else switch(ze){case Tw:t.blendFuncSeparate(770,771,1,771);break;case $4:t.blendFunc(770,1);break;case sO:t.blendFunc(0,769);break;case aO:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ze);break}H=null,G=null,U=null,$=null,B=ze,ie=Xe}return}Et=Et||At,Pt=Pt||gt,qt=qt||Ft,(At!==A||Et!==O)&&(t.blendEquationSeparate(Le[At],Le[Et]),A=At,O=Et),(gt!==H||Ft!==G||Pt!==U||qt!==$)&&(t.blendFuncSeparate(Ye[gt],Ye[Ft],Ye[Pt],Ye[qt]),H=gt,G=Ft,U=Pt,$=qt),B=ze,ie=null}function re(ze,At){ze.side===Ey?et(2884):Wt(2884);let gt=ze.side===Da;At&&(gt=!gt),oe(gt),ze.blending===Tw&&ze.transparent===!1?Re(Sw):Re(ze.blending,ze.blendEquation,ze.blendSrc,ze.blendDst,ze.blendEquationAlpha,ze.blendSrcAlpha,ze.blendDstAlpha,ze.premultipliedAlpha),w.setFunc(ze.depthFunc),w.setTest(ze.depthTest),w.setMask(ze.depthWrite),v.setMask(ze.colorWrite);let Ft=ze.stencilWrite;E.setTest(Ft),Ft&&(E.setMask(ze.stencilWriteMask),E.setFunc(ze.stencilFunc,ze.stencilRef,ze.stencilFuncMask),E.setOp(ze.stencilFail,ze.stencilZFail,ze.stencilZPass)),be(ze.polygonOffset,ze.polygonOffsetFactor,ze.polygonOffsetUnits)}function oe(ze){ue!==ze&&(ze?t.frontFace(2304):t.frontFace(2305),ue=ze)}function we(ze){ze!==Gq?(Wt(2884),ze!==K&&(ze===rO?t.cullFace(1029):ze===Xq?t.cullFace(1028):t.cullFace(1032))):et(2884),K=ze}function ge(ze){ze!==ce&&(Ee&&t.lineWidth(ze),ce=ze)}function be(ze,At,gt){ze?(Wt(32823),(ve!==At||Ve!==gt)&&(t.polygonOffset(At,gt),ve=At,Ve=gt)):et(32823)}function Ce(ze){ze?Wt(3089):et(3089)}function P(ze){ze===void 0&&(ze=33984+Me-1),tt!==ze&&(t.activeTexture(ze),tt=ze)}function _e(ze,At){tt===null&&P();let gt=Ze[tt];gt===void 0&&(gt={type:void 0,texture:void 0},Ze[tt]=gt),(gt.type!==ze||gt.texture!==At)&&(t.bindTexture(ze,At||Ht[ze]),gt.type=ze,gt.texture=At)}function ke(){let ze=Ze[tt];ze!==void 0&&ze.type!==void 0&&(t.bindTexture(ze.type,null),ze.type=void 0,ze.texture=void 0)}function Se(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ze){console.error("THREE.WebGLState:",ze)}}function se(){try{t.texImage2D.apply(t,arguments)}catch(ze){console.error("THREE.WebGLState:",ze)}}function he(){try{t.texImage3D.apply(t,arguments)}catch(ze){console.error("THREE.WebGLState:",ze)}}function me(ze){Qe.equals(ze)===!1&&(t.scissor(ze.x,ze.y,ze.z,ze.w),Qe.copy(ze))}function xt(ze){at.equals(ze)===!1&&(t.viewport(ze.x,ze.y,ze.z,ze.w),at.copy(ze))}function pt(){T={},tt=null,Ze={},C=null,R=null,B=null,A=null,H=null,G=null,O=null,U=null,$=null,ie=!1,ue=null,K=null,ce=null,ve=null,Ve=null,v.reset(),w.reset(),E.reset()}return{buffers:{color:v,depth:w,stencil:E},enable:Wt,disable:et,useProgram:De,setBlending:Re,setMaterial:re,setFlipSided:oe,setCullFace:we,setLineWidth:ge,setPolygonOffset:be,setScissorTest:Ce,activeTexture:P,bindTexture:_e,unbindTexture:ke,compressedTexImage2D:Se,texImage2D:se,texImage3D:he,scissor:me,viewport:xt,reset:pt}}function Mte(t,n,i,s,l,e,p){let v=l.isWebGL2,w=l.maxTextures,E=l.maxCubemapSize,T=l.maxTextureSize,C=l.maxSamples,R=new WeakMap,B,A=!1;try{A=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(he){}function H(he,me){return A?new OffscreenCanvas(he,me):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function G(he,me,xt,pt){let ze=1;if((he.width>pt||he.height>pt)&&(ze=pt/Math.max(he.width,he.height)),ze<1||me===!0)if(typeof HTMLImageElement!="undefined"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&he instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&he instanceof ImageBitmap){let At=me?Lr.floorPowerOfTwo:Math.floor,gt=At(ze*he.width),Ft=At(ze*he.height);B===void 0&&(B=H(gt,Ft));let Et=xt?H(gt,Ft):B;Et.width=gt,Et.height=Ft;let Pt=Et.getContext("2d");return Pt.drawImage(he,0,0,gt,Ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+he.width+"x"+he.height+") to ("+gt+"x"+Ft+")."),Et}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+he.width+"x"+he.height+")."),he;return he}function O(he){return Lr.isPowerOfTwo(he.width)&&Lr.isPowerOfTwo(he.height)}function U(he){return v?!1:he.wrapS!==jl||he.wrapT!==jl||he.minFilter!==As&&he.minFilter!==mo}function $(he,me){return he.generateMipmaps&&me&&he.minFilter!==As&&he.minFilter!==mo}function ie(he,me,xt,pt){t.generateMipmap(he);let ze=s.get(me);ze.__maxMipLevel=Math.log(Math.max(xt,pt))*Math.LOG2E}function ue(he,me,xt){if(v===!1)return me;if(he!==null){if(t[he]!==void 0)return t[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let pt=me;return me===6403&&(xt===5126&&(pt=33326),xt===5131&&(pt=33325),xt===5121&&(pt=33321)),me===6407&&(xt===5126&&(pt=34837),xt===5131&&(pt=34843),xt===5121&&(pt=32849)),me===6408&&(xt===5126&&(pt=34836),xt===5131&&(pt=34842),xt===5121&&(pt=32856)),(pt===33325||pt===33326||pt===34842||pt===34836)&&n.get("EXT_color_buffer_float"),pt}function K(he){return he===As||he===tS||he===nS?9728:9729}function ce(he){let me=he.target;me.removeEventListener("dispose",ce),Ve(me),me.isVideoTexture&&R.delete(me),p.memory.textures--}function ve(he){let me=he.target;me.removeEventListener("dispose",ve),Me(me),p.memory.textures--}function Ve(he){let me=s.get(he);if(me.__webglInit===void 0)return;t.deleteTexture(me.__webglTexture),s.remove(he)}function Me(he){let me=s.get(he),xt=s.get(he.texture);if(!he)return;if(xt.__webglTexture!==void 0&&t.deleteTexture(xt.__webglTexture),he.depthTexture&&he.depthTexture.dispose(),he.isWebGLCubeRenderTarget)for(let pt=0;pt<6;pt++)t.deleteFramebuffer(me.__webglFramebuffer[pt]),me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer[pt]);else t.deleteFramebuffer(me.__webglFramebuffer),me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&t.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer&&t.deleteRenderbuffer(me.__webglColorRenderbuffer),me.__webglDepthRenderbuffer&&t.deleteRenderbuffer(me.__webglDepthRenderbuffer);s.remove(he.texture),s.remove(he)}let Ee=0;function Ne(){Ee=0}function Oe(){let he=Ee;return he>=w&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+w),Ee+=1,he}function tt(he,me){let xt=s.get(he);if(he.isVideoTexture&&P(he),he.version>0&&xt.__version!==he.version){let pt=he.image;if(pt===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(pt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{De(xt,he,me);return}}i.activeTexture(33984+me),i.bindTexture(3553,xt.__webglTexture)}function Ze(he,me){let xt=s.get(he);if(he.version>0&&xt.__version!==he.version){De(xt,he,me);return}i.activeTexture(33984+me),i.bindTexture(35866,xt.__webglTexture)}function Qe(he,me){let xt=s.get(he);if(he.version>0&&xt.__version!==he.version){De(xt,he,me);return}i.activeTexture(33984+me),i.bindTexture(32879,xt.__webglTexture)}function at(he,me){let xt=s.get(he);if(he.version>0&&xt.__version!==he.version){Le(xt,he,me);return}i.activeTexture(33984+me),i.bindTexture(34067,xt.__webglTexture)}let mt={[Ev]:10497,[jl]:33071,[Cw]:33648},Ht={[As]:9728,[tS]:9984,[nS]:9986,[mo]:9729,[hR]:9985,[wv]:9987};function Wt(he,me,xt){xt?(t.texParameteri(he,10242,mt[me.wrapS]),t.texParameteri(he,10243,mt[me.wrapT]),(he===32879||he===35866)&&t.texParameteri(he,32882,mt[me.wrapR]),t.texParameteri(he,10240,Ht[me.magFilter]),t.texParameteri(he,10241,Ht[me.minFilter])):(t.texParameteri(he,10242,33071),t.texParameteri(he,10243,33071),(he===32879||he===35866)&&t.texParameteri(he,32882,33071),(me.wrapS!==jl||me.wrapT!==jl)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(he,10240,K(me.magFilter)),t.texParameteri(he,10241,K(me.minFilter)),me.minFilter!==As&&me.minFilter!==mo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));let pt=n.get("EXT_texture_filter_anisotropic");if(pt){if(me.type===dm&&n.get("OES_texture_float_linear")===null)return;if(me.type===oS&&(v||n.get("OES_texture_half_float_linear"))===null)return;(me.anisotropy>1||s.get(me).__currentAnisotropy)&&(t.texParameterf(he,pt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(me.anisotropy,l.getMaxAnisotropy())),s.get(me).__currentAnisotropy=me.anisotropy)}}function et(he,me){he.__webglInit===void 0&&(he.__webglInit=!0,me.addEventListener("dispose",ce),he.__webglTexture=t.createTexture(),p.memory.textures++)}function De(he,me,xt){let pt=3553;me.isDataTexture2DArray&&(pt=35866),me.isDataTexture3D&&(pt=32879),et(he,me),i.activeTexture(33984+xt),i.bindTexture(pt,he.__webglTexture),t.pixelStorei(37440,me.flipY),t.pixelStorei(37441,me.premultiplyAlpha),t.pixelStorei(3317,me.unpackAlignment);let ze=U(me)&&O(me.image)===!1,At=G(me.image,ze,!1,T),gt=O(At)||v,Ft=e.convert(me.format),Et=e.convert(me.type),Pt=ue(me.internalFormat,Ft,Et);Wt(pt,me,gt);let qt,Xe=me.mipmaps;if(me.isDepthTexture)Pt=6402,v?me.type===dm?Pt=36012:me.type===iS?Pt=33190:me.type===Lw?Pt=35056:Pt=33189:me.type===dm&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),me.format===Ay&&Pt===6402&&(me.type!==rS&&me.type!==iS&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),me.type=rS,Et=e.convert(me.type))),me.format===Pw&&Pt===6402&&(Pt=34041,me.type!==Lw&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),me.type=Lw,Et=e.convert(me.type))),i.texImage2D(3553,0,Pt,At.width,At.height,0,Ft,Et,null);else if(me.isDataTexture)if(Xe.length>0&&gt){for(let Ct=0,zt=Xe.length;Ct<zt;Ct++)qt=Xe[Ct],i.texImage2D(3553,Ct,Pt,qt.width,qt.height,0,Ft,Et,qt.data);me.generateMipmaps=!1,he.__maxMipLevel=Xe.length-1}else i.texImage2D(3553,0,Pt,At.width,At.height,0,Ft,Et,At.data),he.__maxMipLevel=0;else if(me.isCompressedTexture){for(let Ct=0,zt=Xe.length;Ct<zt;Ct++)qt=Xe[Ct],me.format!==Ql&&me.format!==lf?Ft!==null?i.compressedTexImage2D(3553,Ct,Pt,qt.width,qt.height,0,qt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,Ct,Pt,qt.width,qt.height,0,Ft,Et,qt.data);he.__maxMipLevel=Xe.length-1}else if(me.isDataTexture2DArray)i.texImage3D(35866,0,Pt,At.width,At.height,At.depth,0,Ft,Et,At.data),he.__maxMipLevel=0;else if(me.isDataTexture3D)i.texImage3D(32879,0,Pt,At.width,At.height,At.depth,0,Ft,Et,At.data),he.__maxMipLevel=0;else if(Xe.length>0&&gt){for(let Ct=0,zt=Xe.length;Ct<zt;Ct++)qt=Xe[Ct],i.texImage2D(3553,Ct,Pt,Ft,Et,qt);me.generateMipmaps=!1,he.__maxMipLevel=Xe.length-1}else i.texImage2D(3553,0,Pt,Ft,Et,At),he.__maxMipLevel=0;$(me,gt)&&ie(pt,me,At.width,At.height),he.__version=me.version,me.onUpdate&&me.onUpdate(me)}function Le(he,me,xt){if(me.image.length!==6)return;et(he,me),i.activeTexture(33984+xt),i.bindTexture(34067,he.__webglTexture),t.pixelStorei(37440,me.flipY);let pt=me&&(me.isCompressedTexture||me.image[0].isCompressedTexture),ze=me.image[0]&&me.image[0].isDataTexture,At=[];for(let Ct=0;Ct<6;Ct++)!pt&&!ze?At[Ct]=G(me.image[Ct],!1,!0,E):At[Ct]=ze?me.image[Ct].image:me.image[Ct];let gt=At[0],Ft=O(gt)||v,Et=e.convert(me.format),Pt=e.convert(me.type),qt=ue(me.internalFormat,Et,Pt);Wt(34067,me,Ft);let Xe;if(pt){for(let Ct=0;Ct<6;Ct++){Xe=At[Ct].mipmaps;for(let zt=0;zt<Xe.length;zt++){let sn=Xe[zt];me.format!==Ql&&me.format!==lf?Et!==null?i.compressedTexImage2D(34069+Ct,zt,qt,sn.width,sn.height,0,sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+Ct,zt,qt,sn.width,sn.height,0,Et,Pt,sn.data)}}he.__maxMipLevel=Xe.length-1}else{Xe=me.mipmaps;for(let Ct=0;Ct<6;Ct++)if(ze){i.texImage2D(34069+Ct,0,qt,At[Ct].width,At[Ct].height,0,Et,Pt,At[Ct].data);for(let zt=0;zt<Xe.length;zt++){let sn=Xe[zt],lr=sn.image[Ct].image;i.texImage2D(34069+Ct,zt+1,qt,lr.width,lr.height,0,Et,Pt,lr.data)}}else{i.texImage2D(34069+Ct,0,qt,Et,Pt,At[Ct]);for(let zt=0;zt<Xe.length;zt++){let sn=Xe[zt];i.texImage2D(34069+Ct,zt+1,qt,Et,Pt,sn.image[Ct])}}he.__maxMipLevel=Xe.length}$(me,Ft)&&ie(34067,me,gt.width,gt.height),he.__version=me.version,me.onUpdate&&me.onUpdate(me)}function Ye(he,me,xt,pt){let ze=e.convert(me.texture.format),At=e.convert(me.texture.type),gt=ue(me.texture.internalFormat,ze,At);i.texImage2D(pt,0,gt,me.width,me.height,0,ze,At,null),t.bindFramebuffer(36160,he),t.framebufferTexture2D(36160,xt,pt,s.get(me.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function Re(he,me,xt){if(t.bindRenderbuffer(36161,he),me.depthBuffer&&!me.stencilBuffer){let pt=33189;if(xt){let ze=me.depthTexture;ze&&ze.isDepthTexture&&(ze.type===dm?pt=36012:ze.type===iS&&(pt=33190));let At=Ce(me);t.renderbufferStorageMultisample(36161,At,pt,me.width,me.height)}else t.renderbufferStorage(36161,pt,me.width,me.height);t.framebufferRenderbuffer(36160,36096,36161,he)}else if(me.depthBuffer&&me.stencilBuffer){if(xt){let pt=Ce(me);t.renderbufferStorageMultisample(36161,pt,35056,me.width,me.height)}else t.renderbufferStorage(36161,34041,me.width,me.height);t.framebufferRenderbuffer(36160,33306,36161,he)}else{let pt=e.convert(me.texture.format),ze=e.convert(me.texture.type),At=ue(me.texture.internalFormat,pt,ze);if(xt){let gt=Ce(me);t.renderbufferStorageMultisample(36161,gt,At,me.width,me.height)}else t.renderbufferStorage(36161,At,me.width,me.height)}t.bindRenderbuffer(36161,null)}function re(he,me){let xt=me&&me.isWebGLCubeRenderTarget;if(xt)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,he),!(me.depthTexture&&me.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(me.depthTexture).__webglTexture||me.depthTexture.image.width!==me.width||me.depthTexture.image.height!==me.height)&&(me.depthTexture.image.width=me.width,me.depthTexture.image.height=me.height,me.depthTexture.needsUpdate=!0),tt(me.depthTexture,0);let pt=s.get(me.depthTexture).__webglTexture;if(me.depthTexture.format===Ay)t.framebufferTexture2D(36160,36096,3553,pt,0);else if(me.depthTexture.format===Pw)t.framebufferTexture2D(36160,33306,3553,pt,0);else throw new Error("Unknown depthTexture format")}function oe(he){let me=s.get(he),xt=he.isWebGLCubeRenderTarget===!0;if(he.depthTexture){if(xt)throw new Error("target.depthTexture not supported in Cube render targets");re(me.__webglFramebuffer,he)}else if(xt){me.__webglDepthbuffer=[];for(let pt=0;pt<6;pt++)t.bindFramebuffer(36160,me.__webglFramebuffer[pt]),me.__webglDepthbuffer[pt]=t.createRenderbuffer(),Re(me.__webglDepthbuffer[pt],he,!1)}else t.bindFramebuffer(36160,me.__webglFramebuffer),me.__webglDepthbuffer=t.createRenderbuffer(),Re(me.__webglDepthbuffer,he,!1);t.bindFramebuffer(36160,null)}function we(he){let me=s.get(he),xt=s.get(he.texture);he.addEventListener("dispose",ve),xt.__webglTexture=t.createTexture(),p.memory.textures++;let pt=he.isWebGLCubeRenderTarget===!0,ze=he.isWebGLMultisampleRenderTarget===!0,At=O(he)||v;if(v&&he.texture.format===lf&&(he.texture.type===dm||he.texture.type===oS)&&(he.texture.format=Ql,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),pt){me.__webglFramebuffer=[];for(let gt=0;gt<6;gt++)me.__webglFramebuffer[gt]=t.createFramebuffer()}else if(me.__webglFramebuffer=t.createFramebuffer(),ze)if(v){me.__webglMultisampledFramebuffer=t.createFramebuffer(),me.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,me.__webglColorRenderbuffer);let gt=e.convert(he.texture.format),Ft=e.convert(he.texture.type),Et=ue(he.texture.internalFormat,gt,Ft),Pt=Ce(he);t.renderbufferStorageMultisample(36161,Pt,Et,he.width,he.height),t.bindFramebuffer(36160,me.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,me.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),he.depthBuffer&&(me.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(me.__webglDepthRenderbuffer,he,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(pt){i.bindTexture(34067,xt.__webglTexture),Wt(34067,he.texture,At);for(let gt=0;gt<6;gt++)Ye(me.__webglFramebuffer[gt],he,36064,34069+gt);$(he.texture,At)&&ie(34067,he.texture,he.width,he.height),i.bindTexture(34067,null)}else i.bindTexture(3553,xt.__webglTexture),Wt(3553,he.texture,At),Ye(me.__webglFramebuffer,he,36064,3553),$(he.texture,At)&&ie(3553,he.texture,he.width,he.height),i.bindTexture(3553,null);he.depthBuffer&&oe(he)}function ge(he){let me=he.texture,xt=O(he)||v;if($(me,xt)){let pt=he.isWebGLCubeRenderTarget?34067:3553,ze=s.get(me).__webglTexture;i.bindTexture(pt,ze),ie(pt,me,he.width,he.height),i.bindTexture(pt,null)}}function be(he){if(he.isWebGLMultisampleRenderTarget)if(v){let me=s.get(he);t.bindFramebuffer(36008,me.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,me.__webglFramebuffer);let xt=he.width,pt=he.height,ze=16384;he.depthBuffer&&(ze|=256),he.stencilBuffer&&(ze|=1024),t.blitFramebuffer(0,0,xt,pt,0,0,xt,pt,ze,9728),t.bindFramebuffer(36160,me.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Ce(he){return v&&he.isWebGLMultisampleRenderTarget?Math.min(C,he.samples):0}function P(he){let me=p.render.frame;R.get(he)!==me&&(R.set(he,me),he.update())}let _e=!1,ke=!1;function Se(he,me){he&&he.isWebGLRenderTarget&&(_e===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),_e=!0),he=he.texture),tt(he,me)}function se(he,me){he&&he.isWebGLCubeRenderTarget&&(ke===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ke=!0),he=he.texture),at(he,me)}this.allocateTextureUnit=Oe,this.resetTextureUnits=Ne,this.setTexture2D=tt,this.setTexture2DArray=Ze,this.setTexture3D=Qe,this.setTextureCube=at,this.setupRenderTarget=we,this.updateRenderTargetMipmap=ge,this.updateMultisampleRenderTarget=be,this.safeSetTexture2D=Se,this.safeSetTextureCube=se}function Ste(t,n,i){let s=i.isWebGL2;function l(e){let p;if(e===dR)return 5121;if(e===yJ)return 32819;if(e===xJ)return 32820;if(e===EJ)return 33635;if(e===mJ)return 5120;if(e===vJ)return 5122;if(e===rS)return 5123;if(e===gJ)return 5124;if(e===iS)return 5125;if(e===dm)return 5126;if(e===oS)return s?5131:(p=n.get("OES_texture_half_float"),p!==null?p.HALF_FLOAT_OES:null);if(e===wJ)return 6406;if(e===lf)return 6407;if(e===Ql)return 6408;if(e===AJ)return 6409;if(e===_J)return 6410;if(e===Ay)return 6402;if(e===Pw)return 34041;if(e===MJ)return 6403;if(e===SJ)return 36244;if(e===TJ)return 33319;if(e===bJ)return 33320;if(e===CJ)return 36248;if(e===LJ)return 36249;if(e===mO||e===vO||e===gO||e===yO)if(p=n.get("WEBGL_compressed_texture_s3tc"),p!==null){if(e===mO)return p.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===vO)return p.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===gO)return p.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===yO)return p.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===xO||e===EO||e===wO||e===AO)if(p=n.get("WEBGL_compressed_texture_pvrtc"),p!==null){if(e===xO)return p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===EO)return p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===wO)return p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===AO)return p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===PJ)return p=n.get("WEBGL_compressed_texture_etc1"),p!==null?p.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===_O||e===MO)&&(p=n.get("WEBGL_compressed_texture_etc"),p!==null)){if(e===_O)return p.COMPRESSED_RGB8_ETC2;if(e===MO)return p.COMPRESSED_RGBA8_ETC2_EAC}if(e===RJ||e===DJ||e===FJ||e===BJ||e===NJ||e===IJ||e===OJ||e===UJ||e===kJ||e===GJ||e===XJ||e===HJ||e===zJ||e===YJ||e===WJ||e===jJ||e===QJ||e===qJ||e===JJ||e===ZJ||e===KJ||e===$J||e===eZ||e===tZ||e===nZ||e===rZ||e===iZ||e===oZ)return p=n.get("WEBGL_compressed_texture_astc"),p!==null?e:null;if(e===VJ)return p=n.get("EXT_texture_compression_bptc"),p!==null?e:null;if(e===Lw)return s?34042:(p=n.get("WEBGL_depth_texture"),p!==null?p.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:l}}function QR(t=[]){Os.call(this),this.cameras=t}QR.prototype=Object.assign(Object.create(Os.prototype),{constructor:QR,isArrayCamera:!0});function ah(){Vn.call(this),this.type="Group"}ah.prototype=Object.assign(Object.create(Vn.prototype),{constructor:ah,isGroup:!0});function Yw(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(Yw.prototype,{constructor:Yw,getHandSpace:function(){if(this._hand===null&&(this._hand=new ah,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){let n=new ah;n.matrixAutoUpdate=!1,n.visible=!1,this._hand.joints.push(n),this._hand.add(n)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new ah,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new ah,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(t,n,i){let s=null,l=null,e=null,p=this._targetRay,v=this._grip,w=this._hand;if(t&&n.session.visibilityState!=="visible-blurred")if(w&&t.hand){e=!0;for(let E=0;E<=window.XRHand.LITTLE_PHALANX_TIP;E++)if(t.hand[E]){let T=n.getJointPose(t.hand[E],i),C=w.joints[E];T!==null&&(C.matrix.fromArray(T.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.jointRadius=T.radius),C.visible=T!==null;let R=w.joints[window.XRHand.INDEX_PHALANX_TIP],B=w.joints[window.XRHand.THUMB_PHALANX_TIP],A=R.position.distanceTo(B.position),H=.02,G=.005;w.inputState.pinching&&A>H+G?(w.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!w.inputState.pinching&&A<=H-G&&(w.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else p!==null&&(s=n.getPose(t.targetRaySpace,i),s!==null&&(p.matrix.fromArray(s.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale))),v!==null&&t.gripSpace&&(l=n.getPose(t.gripSpace,i),l!==null&&(v.matrix.fromArray(l.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale)));return p!==null&&(p.visible=s!==null),v!==null&&(v.visible=l!==null),w!==null&&(w.visible=e!==null),this}});function g9(t,n){let i=this,s=null,l=1,e=null,p="local-floor",v=null,w=[],E=new Map,T=new Os;T.layers.enable(1),T.viewport=new Ki;let C=new Os;C.layers.enable(2),C.viewport=new Ki;let R=[T,C],B=new QR;B.layers.enable(1),B.layers.enable(2);let A=null,H=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(Ee){let Ne=w[Ee];return Ne===void 0&&(Ne=new Yw,w[Ee]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(Ee){let Ne=w[Ee];return Ne===void 0&&(Ne=new Yw,w[Ee]=Ne),Ne.getGripSpace()},this.getHand=function(Ee){let Ne=w[Ee];return Ne===void 0&&(Ne=new Yw,w[Ee]=Ne),Ne.getHandSpace()};function G(Ee){let Ne=E.get(Ee.inputSource);Ne&&Ne.dispatchEvent({type:Ee.type,data:Ee.inputSource})}function O(){E.forEach(function(Ee,Ne){Ee.disconnect(Ne)}),E.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),Me.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function U(Ee){e=Ee,Me.setContext(s),Me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(Ee){l=Ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ee){p=Ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return e},this.getSession=function(){return s},this.setSession=function(Ee){if(s=Ee,s!==null){s.addEventListener("select",G),s.addEventListener("selectstart",G),s.addEventListener("selectend",G),s.addEventListener("squeeze",G),s.addEventListener("squeezestart",G),s.addEventListener("squeezeend",G),s.addEventListener("end",O);let Ne=n.getContextAttributes();Ne.xrCompatible!==!0&&n.makeXRCompatible();let Oe={antialias:Ne.antialias,alpha:Ne.alpha,depth:Ne.depth,stencil:Ne.stencil,framebufferScaleFactor:l},tt=new XRWebGLLayer(s,n,Oe);s.updateRenderState({baseLayer:tt}),s.requestReferenceSpace(p).then(U),s.addEventListener("inputsourceschange",$)}};function $(Ee){let Ne=s.inputSources;for(let Oe=0;Oe<w.length;Oe++)E.set(Ne[Oe],w[Oe]);for(let Oe=0;Oe<Ee.removed.length;Oe++){let tt=Ee.removed[Oe],Ze=E.get(tt);Ze&&(Ze.dispatchEvent({type:"disconnected",data:tt}),E.delete(tt))}for(let Oe=0;Oe<Ee.added.length;Oe++){let tt=Ee.added[Oe],Ze=E.get(tt);Ze&&Ze.dispatchEvent({type:"connected",data:tt})}}let ie=new Ue,ue=new Ue;function K(Ee,Ne,Oe){ie.setFromMatrixPosition(Ne.matrixWorld),ue.setFromMatrixPosition(Oe.matrixWorld);let tt=ie.distanceTo(ue),Ze=Ne.projectionMatrix.elements,Qe=Oe.projectionMatrix.elements,at=Ze[14]/(Ze[10]-1),mt=Ze[14]/(Ze[10]+1),Ht=(Ze[9]+1)/Ze[5],Wt=(Ze[9]-1)/Ze[5],et=(Ze[8]-1)/Ze[0],De=(Qe[8]+1)/Qe[0],Le=at*et,Ye=at*De,Re=tt/(-et+De),re=Re*-et;Ne.matrixWorld.decompose(Ee.position,Ee.quaternion,Ee.scale),Ee.translateX(re),Ee.translateZ(Re),Ee.matrixWorld.compose(Ee.position,Ee.quaternion,Ee.scale),Ee.matrixWorldInverse.copy(Ee.matrixWorld).invert();let oe=at+Re,we=mt+Re,ge=Le-re,be=Ye+(tt-re),Ce=Ht*mt/we*oe,P=Wt*mt/we*oe;Ee.projectionMatrix.makePerspective(ge,be,Ce,P,oe,we)}function ce(Ee,Ne){Ne===null?Ee.matrixWorld.copy(Ee.matrix):Ee.matrixWorld.multiplyMatrices(Ne.matrixWorld,Ee.matrix),Ee.matrixWorldInverse.copy(Ee.matrixWorld).invert()}this.getCamera=function(Ee){B.near=C.near=T.near=Ee.near,B.far=C.far=T.far=Ee.far,(A!==B.near||H!==B.far)&&(s.updateRenderState({depthNear:B.near,depthFar:B.far}),A=B.near,H=B.far);let Ne=Ee.parent,Oe=B.cameras;ce(B,Ne);for(let Ze=0;Ze<Oe.length;Ze++)ce(Oe[Ze],Ne);Ee.matrixWorld.copy(B.matrixWorld);let tt=Ee.children;for(let Ze=0,Qe=tt.length;Ze<Qe;Ze++)tt[Ze].updateMatrixWorld(!0);return Oe.length===2?K(B,T,C):B.projectionMatrix.copy(T.projectionMatrix),B};let ve=null;function Ve(Ee,Ne){if(v=Ne.getViewerPose(e),v!==null){let tt=v.views,Ze=s.renderState.baseLayer;t.setFramebuffer(Ze.framebuffer);let Qe=!1;tt.length!==B.cameras.length&&(B.cameras.length=0,Qe=!0);for(let at=0;at<tt.length;at++){let mt=tt[at],Ht=Ze.getViewport(mt),Wt=R[at];Wt.matrix.fromArray(mt.transform.matrix),Wt.projectionMatrix.fromArray(mt.projectionMatrix),Wt.viewport.set(Ht.x,Ht.y,Ht.width,Ht.height),at===0&&B.matrix.copy(Wt.matrix),Qe===!0&&B.cameras.push(Wt)}}let Oe=s.inputSources;for(let tt=0;tt<w.length;tt++){let Ze=w[tt],Qe=Oe[tt];Ze.update(Qe,Ne,e)}ve&&ve(Ee,Ne)}let Me=new QO;Me.setAnimationLoop(Ve),this.setAnimationLoop=function(Ee){ve=Ee},this.dispose=function(){}}Object.assign(g9.prototype,uf.prototype);function Tte(t){function n(O,U){O.fogColor.value.copy(U.color),U.isFog?(O.fogNear.value=U.near,O.fogFar.value=U.far):U.isFogExp2&&(O.fogDensity.value=U.density)}function i(O,U,$,ie){U.isMeshBasicMaterial?s(O,U):U.isMeshLambertMaterial?(s(O,U),w(O,U)):U.isMeshToonMaterial?(s(O,U),T(O,U)):U.isMeshPhongMaterial?(s(O,U),E(O,U)):U.isMeshStandardMaterial?(s(O,U),U.isMeshPhysicalMaterial?R(O,U):C(O,U)):U.isMeshMatcapMaterial?(s(O,U),B(O,U)):U.isMeshDepthMaterial?(s(O,U),A(O,U)):U.isMeshDistanceMaterial?(s(O,U),H(O,U)):U.isMeshNormalMaterial?(s(O,U),G(O,U)):U.isLineBasicMaterial?(l(O,U),U.isLineDashedMaterial&&e(O,U)):U.isPointsMaterial?p(O,U,$,ie):U.isSpriteMaterial?v(O,U):U.isShadowMaterial?(O.color.value.copy(U.color),O.opacity.value=U.opacity):U.isShaderMaterial&&(U.uniformsNeedUpdate=!1)}function s(O,U){O.opacity.value=U.opacity,U.color&&O.diffuse.value.copy(U.color),U.emissive&&O.emissive.value.copy(U.emissive).multiplyScalar(U.emissiveIntensity),U.map&&(O.map.value=U.map),U.alphaMap&&(O.alphaMap.value=U.alphaMap),U.specularMap&&(O.specularMap.value=U.specularMap);let $=t.get(U).envMap;if($){O.envMap.value=$,O.flipEnvMap.value=$.isCubeTexture&&$._needsFlipEnvMap?-1:1,O.reflectivity.value=U.reflectivity,O.refractionRatio.value=U.refractionRatio;let K=t.get($).__maxMipLevel;K!==void 0&&(O.maxMipLevel.value=K)}U.lightMap&&(O.lightMap.value=U.lightMap,O.lightMapIntensity.value=U.lightMapIntensity),U.aoMap&&(O.aoMap.value=U.aoMap,O.aoMapIntensity.value=U.aoMapIntensity);let ie;U.map?ie=U.map:U.specularMap?ie=U.specularMap:U.displacementMap?ie=U.displacementMap:U.normalMap?ie=U.normalMap:U.bumpMap?ie=U.bumpMap:U.roughnessMap?ie=U.roughnessMap:U.metalnessMap?ie=U.metalnessMap:U.alphaMap?ie=U.alphaMap:U.emissiveMap?ie=U.emissiveMap:U.clearcoatMap?ie=U.clearcoatMap:U.clearcoatNormalMap?ie=U.clearcoatNormalMap:U.clearcoatRoughnessMap&&(ie=U.clearcoatRoughnessMap),ie!==void 0&&(ie.isWebGLRenderTarget&&(ie=ie.texture),ie.matrixAutoUpdate===!0&&ie.updateMatrix(),O.uvTransform.value.copy(ie.matrix));let ue;U.aoMap?ue=U.aoMap:U.lightMap&&(ue=U.lightMap),ue!==void 0&&(ue.isWebGLRenderTarget&&(ue=ue.texture),ue.matrixAutoUpdate===!0&&ue.updateMatrix(),O.uv2Transform.value.copy(ue.matrix))}function l(O,U){O.diffuse.value.copy(U.color),O.opacity.value=U.opacity}function e(O,U){O.dashSize.value=U.dashSize,O.totalSize.value=U.dashSize+U.gapSize,O.scale.value=U.scale}function p(O,U,$,ie){O.diffuse.value.copy(U.color),O.opacity.value=U.opacity,O.size.value=U.size*$,O.scale.value=ie*.5,U.map&&(O.map.value=U.map),U.alphaMap&&(O.alphaMap.value=U.alphaMap);let ue;U.map?ue=U.map:U.alphaMap&&(ue=U.alphaMap),ue!==void 0&&(ue.matrixAutoUpdate===!0&&ue.updateMatrix(),O.uvTransform.value.copy(ue.matrix))}function v(O,U){O.diffuse.value.copy(U.color),O.opacity.value=U.opacity,O.rotation.value=U.rotation,U.map&&(O.map.value=U.map),U.alphaMap&&(O.alphaMap.value=U.alphaMap);let $;U.map?$=U.map:U.alphaMap&&($=U.alphaMap),$!==void 0&&($.matrixAutoUpdate===!0&&$.updateMatrix(),O.uvTransform.value.copy($.matrix))}function w(O,U){U.emissiveMap&&(O.emissiveMap.value=U.emissiveMap)}function E(O,U){O.specular.value.copy(U.specular),O.shininess.value=Math.max(U.shininess,1e-4),U.emissiveMap&&(O.emissiveMap.value=U.emissiveMap),U.bumpMap&&(O.bumpMap.value=U.bumpMap,O.bumpScale.value=U.bumpScale,U.side===Da&&(O.bumpScale.value*=-1)),U.normalMap&&(O.normalMap.value=U.normalMap,O.normalScale.value.copy(U.normalScale),U.side===Da&&O.normalScale.value.negate()),U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias)}function T(O,U){U.gradientMap&&(O.gradientMap.value=U.gradientMap),U.emissiveMap&&(O.emissiveMap.value=U.emissiveMap),U.bumpMap&&(O.bumpMap.value=U.bumpMap,O.bumpScale.value=U.bumpScale,U.side===Da&&(O.bumpScale.value*=-1)),U.normalMap&&(O.normalMap.value=U.normalMap,O.normalScale.value.copy(U.normalScale),U.side===Da&&O.normalScale.value.negate()),U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias)}function C(O,U){O.roughness.value=U.roughness,O.metalness.value=U.metalness,U.roughnessMap&&(O.roughnessMap.value=U.roughnessMap),U.metalnessMap&&(O.metalnessMap.value=U.metalnessMap),U.emissiveMap&&(O.emissiveMap.value=U.emissiveMap),U.bumpMap&&(O.bumpMap.value=U.bumpMap,O.bumpScale.value=U.bumpScale,U.side===Da&&(O.bumpScale.value*=-1)),U.normalMap&&(O.normalMap.value=U.normalMap,O.normalScale.value.copy(U.normalScale),U.side===Da&&O.normalScale.value.negate()),U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias);let $=t.get(U).envMap;$&&(O.envMapIntensity.value=U.envMapIntensity)}function R(O,U){C(O,U),O.reflectivity.value=U.reflectivity,O.clearcoat.value=U.clearcoat,O.clearcoatRoughness.value=U.clearcoatRoughness,U.sheen&&O.sheen.value.copy(U.sheen),U.clearcoatMap&&(O.clearcoatMap.value=U.clearcoatMap),U.clearcoatRoughnessMap&&(O.clearcoatRoughnessMap.value=U.clearcoatRoughnessMap),U.clearcoatNormalMap&&(O.clearcoatNormalScale.value.copy(U.clearcoatNormalScale),O.clearcoatNormalMap.value=U.clearcoatNormalMap,U.side===Da&&O.clearcoatNormalScale.value.negate()),O.transmission.value=U.transmission,U.transmissionMap&&(O.transmissionMap.value=U.transmissionMap)}function B(O,U){U.matcap&&(O.matcap.value=U.matcap),U.bumpMap&&(O.bumpMap.value=U.bumpMap,O.bumpScale.value=U.bumpScale,U.side===Da&&(O.bumpScale.value*=-1)),U.normalMap&&(O.normalMap.value=U.normalMap,O.normalScale.value.copy(U.normalScale),U.side===Da&&O.normalScale.value.negate()),U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias)}function A(O,U){U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias)}function H(O,U){U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias),O.referencePosition.value.copy(U.referencePosition),O.nearDistance.value=U.nearDistance,O.farDistance.value=U.farDistance}function G(O,U){U.bumpMap&&(O.bumpMap.value=U.bumpMap,O.bumpScale.value=U.bumpScale,U.side===Da&&(O.bumpScale.value*=-1)),U.normalMap&&(O.normalMap.value=U.normalMap,O.normalScale.value.copy(U.normalScale),U.side===Da&&O.normalScale.value.negate()),U.displacementMap&&(O.displacementMap.value=U.displacementMap,O.displacementScale.value=U.displacementScale,O.displacementBias.value=U.displacementBias)}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function bte(){let t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}function bS(t){t=t||{};let n=t.canvas!==void 0?t.canvas:bte(),i=t.context!==void 0?t.context:null,s=t.alpha!==void 0?t.alpha:!1,l=t.depth!==void 0?t.depth:!0,e=t.stencil!==void 0?t.stencil:!0,p=t.antialias!==void 0?t.antialias:!1,v=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,w=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,E=t.powerPreference!==void 0?t.powerPreference:"default",T=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1,C=null,R=null;this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ty,this.physicallyCorrectLights=!1,this.toneMapping=bw,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;let B=this,A=!1,H=null,G=0,O=0,U=null,$=null,ie=-1,ue=null,K=null,ce=new Ki,ve=new Ki,Ve=null,Me=n.width,Ee=n.height,Ne=1,Oe=null,tt=null,Ze=new Ki(0,0,Me,Ee),Qe=new Ki(0,0,Me,Ee),at=!1,mt=new kw,Ht=!1,Wt=!1,et=new Dr,De=new Ue,Le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ye(){return U===null?Ne:1}let Re=i;function re(Fe,bt){for(let Mt=0;Mt<Fe.length;Mt++){let It=Fe[Mt],Kt=n.getContext(It,bt);if(Kt!==null)return Kt}return null}try{let Fe={alpha:s,depth:l,stencil:e,antialias:p,premultipliedAlpha:v,preserveDrawingBuffer:w,powerPreference:E,failIfMajorPerformanceCaveat:T};if(n.addEventListener("webglcontextlost",sn,!1),n.addEventListener("webglcontextrestored",lr,!1),Re===null){let bt=["webgl2","webgl","experimental-webgl"];if(B.isWebGL1Renderer===!0&&bt.shift(),Re=re(bt,Fe),Re===null)throw re(bt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Re.getShaderPrecisionFormat===void 0&&(Re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Fe){throw console.error("THREE.WebGLRenderer: "+Fe.message),Fe}let oe,we,ge,be,Ce,P,_e,ke,Se,se,he,me,xt,pt,ze,At,gt,Ft,Et,Pt,qt;function Xe(){oe=new iee(Re),we=new tee(Re,oe,t),we.isWebGL2===!1&&(oe.get("WEBGL_depth_texture"),oe.get("OES_texture_float"),oe.get("OES_texture_half_float"),oe.get("OES_texture_half_float_linear"),oe.get("OES_standard_derivatives"),oe.get("OES_element_index_uint"),oe.get("OES_vertex_array_object"),oe.get("ANGLE_instanced_arrays")),oe.get("OES_texture_float_linear"),Pt=new Ste(Re,oe,we),ge=new _te(Re,oe,we),ge.scissor(ve.copy(Qe).multiplyScalar(Ne).floor()),ge.viewport(ce.copy(Ze).multiplyScalar(Ne).floor()),be=new aee(Re),Ce=new fte,P=new Mte(Re,oe,ge,Ce,we,Pt,be),_e=new ree(B),ke=new PZ(Re,we),qt=new $$(Re,oe,ke,we),Se=new oee(Re,ke,be,qt),se=new fee(Re,Se,ke,be),gt=new cee(Re),ze=new nee(Ce),he=new cte(B,_e,oe,we,qt,ze),me=new Tte(Ce),xt=new pte(Ce),pt=new Ete(oe,we),At=new K$(B,_e,ge,se,v),Ft=new eee(Re,oe,be,we),Et=new see(Re,oe,be,we),be.programs=he.programs,B.capabilities=we,B.extensions=oe,B.properties=Ce,B.renderLists=xt,B.state=ge,B.info=be}Xe();let Ct=new g9(B,Re);this.xr=Ct;let zt=new v9(B,se,we.maxTextureSize);this.shadowMap=zt,this.getContext=function(){return Re},this.getContextAttributes=function(){return Re.getContextAttributes()},this.forceContextLoss=function(){let Fe=oe.get("WEBGL_lose_context");Fe&&Fe.loseContext()},this.forceContextRestore=function(){let Fe=oe.get("WEBGL_lose_context");Fe&&Fe.restoreContext()},this.getPixelRatio=function(){return Ne},this.setPixelRatio=function(Fe){if(Fe===void 0)return;Ne=Fe,this.setSize(Me,Ee,!1)},this.getSize=function(Fe){return Fe===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Fe=new St),Fe.set(Me,Ee)},this.setSize=function(Fe,bt,Mt){if(Ct.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Me=Fe,Ee=bt,n.width=Math.floor(Fe*Ne),n.height=Math.floor(bt*Ne),Mt!==!1&&(n.style.width=Fe+"px",n.style.height=bt+"px"),this.setViewport(0,0,Fe,bt)},this.getDrawingBufferSize=function(Fe){return Fe===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Fe=new St),Fe.set(Me*Ne,Ee*Ne).floor()},this.setDrawingBufferSize=function(Fe,bt,Mt){Me=Fe,Ee=bt,Ne=Mt,n.width=Math.floor(Fe*Mt),n.height=Math.floor(bt*Mt),this.setViewport(0,0,Fe,bt)},this.getCurrentViewport=function(Fe){return Fe===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Fe=new Ki),Fe.copy(ce)},this.getViewport=function(Fe){return Fe.copy(Ze)},this.setViewport=function(Fe,bt,Mt,It){Fe.isVector4?Ze.set(Fe.x,Fe.y,Fe.z,Fe.w):Ze.set(Fe,bt,Mt,It),ge.viewport(ce.copy(Ze).multiplyScalar(Ne).floor())},this.getScissor=function(Fe){return Fe.copy(Qe)},this.setScissor=function(Fe,bt,Mt,It){Fe.isVector4?Qe.set(Fe.x,Fe.y,Fe.z,Fe.w):Qe.set(Fe,bt,Mt,It),ge.scissor(ve.copy(Qe).multiplyScalar(Ne).floor())},this.getScissorTest=function(){return at},this.setScissorTest=function(Fe){ge.setScissorTest(at=Fe)},this.setOpaqueSort=function(Fe){Oe=Fe},this.setTransparentSort=function(Fe){tt=Fe},this.getClearColor=function(){return At.getClearColor()},this.setClearColor=function(){At.setClearColor.apply(At,arguments)},this.getClearAlpha=function(){return At.getClearAlpha()},this.setClearAlpha=function(){At.setClearAlpha.apply(At,arguments)},this.clear=function(Fe,bt,Mt){let It=0;(Fe===void 0||Fe)&&(It|=16384),(bt===void 0||bt)&&(It|=256),(Mt===void 0||Mt)&&(It|=1024),Re.clear(It)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",sn,!1),n.removeEventListener("webglcontextrestored",lr,!1),xt.dispose(),pt.dispose(),Ce.dispose(),_e.dispose(),se.dispose(),qt.dispose(),Ct.dispose(),Wr.stop()};function sn(Fe){Fe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function lr(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1,Xe()}function zn(Fe){let bt=Fe.target;bt.removeEventListener("dispose",zn),oi(bt)}function oi(Fe){fr(Fe),Ce.remove(Fe)}function fr(Fe){let bt=Ce.get(Fe).program;bt!==void 0&&he.releaseProgram(bt)}function Zr(Fe,bt){Fe.render(function(Mt){B.renderBufferImmediate(Mt,bt)})}this.renderBufferImmediate=function(Fe,bt){qt.initAttributes();let Mt=Ce.get(Fe);Fe.hasPositions&&!Mt.position&&(Mt.position=Re.createBuffer()),Fe.hasNormals&&!Mt.normal&&(Mt.normal=Re.createBuffer()),Fe.hasUvs&&!Mt.uv&&(Mt.uv=Re.createBuffer()),Fe.hasColors&&!Mt.color&&(Mt.color=Re.createBuffer());let It=bt.getAttributes();Fe.hasPositions&&(Re.bindBuffer(34962,Mt.position),Re.bufferData(34962,Fe.positionArray,35048),qt.enableAttribute(It.position),Re.vertexAttribPointer(It.position,3,5126,!1,0,0)),Fe.hasNormals&&(Re.bindBuffer(34962,Mt.normal),Re.bufferData(34962,Fe.normalArray,35048),qt.enableAttribute(It.normal),Re.vertexAttribPointer(It.normal,3,5126,!1,0,0)),Fe.hasUvs&&(Re.bindBuffer(34962,Mt.uv),Re.bufferData(34962,Fe.uvArray,35048),qt.enableAttribute(It.uv),Re.vertexAttribPointer(It.uv,2,5126,!1,0,0)),Fe.hasColors&&(Re.bindBuffer(34962,Mt.color),Re.bufferData(34962,Fe.colorArray,35048),qt.enableAttribute(It.color),Re.vertexAttribPointer(It.color,3,5126,!1,0,0)),qt.disableUnusedAttributes(),Re.drawArrays(4,0,Fe.count),Fe.count=0},this.renderBufferDirect=function(Fe,bt,Mt,It,Kt,yr){bt===null&&(bt=Le);let Zn=Kt.isMesh&&Kt.matrixWorld.determinant()<0,Qt=Lo(Fe,bt,It,Kt);ge.setMaterial(It,Zn);let Sr=Mt.index,Fi=Mt.attributes.position;if(Sr===null){if(Fi===void 0||Fi.count===0)return}else if(Sr.count===0)return;let ki=1;It.wireframe===!0&&(Sr=Se.getWireframeAttribute(Mt),ki=2),(It.morphTargets||It.morphNormals)&&gt.update(Kt,Mt,It,Qt),qt.setup(Kt,It,Qt,Mt,Sr);let Kn,Kr=Ft;Sr!==null&&(Kn=ke.get(Sr),Kr=Et,Kr.setIndex(Kn));let ca=Sr!==null?Sr.count:Fi.count,fi=Mt.drawRange.start*ki,fa=Mt.drawRange.count*ki,Wi=yr!==null?yr.start*ki:0,tu=yr!==null?yr.count*ki:Infinity,Uo=Math.max(fi,Wi),kn=Math.min(ca,fi+fa,Wi+tu)-1,wl=Math.max(0,kn-Uo+1);if(wl===0)return;if(Kt.isMesh)It.wireframe===!0?(ge.setLineWidth(It.wireframeLinewidth*Ye()),Kr.setMode(1)):Kr.setMode(4);else if(Kt.isLine){let ks=It.linewidth;ks===void 0&&(ks=1),ge.setLineWidth(ks*Ye()),Kt.isLineSegments?Kr.setMode(1):Kt.isLineLoop?Kr.setMode(2):Kr.setMode(3)}else Kt.isPoints?Kr.setMode(0):Kt.isSprite&&Kr.setMode(4);if(Kt.isInstancedMesh)Kr.renderInstances(Uo,wl,Kt.count);else if(Mt.isInstancedBufferGeometry){let ks=Math.min(Mt.instanceCount,Mt._maxInstanceCount);Kr.renderInstances(Uo,wl,ks)}else Kr.render(Uo,wl)},this.compile=function(Fe,bt){R=pt.get(Fe,bt),R.init(),Fe.traverseVisible(function(It){It.isLight&&It.layers.test(bt.layers)&&(R.pushLight(It),It.castShadow&&R.pushShadow(It))}),R.setupLights(bt);let Mt=new WeakMap;Fe.traverse(function(It){let Kt=It.material;if(Kt)if(Array.isArray(Kt))for(let yr=0;yr<Kt.length;yr++){let Zn=Kt[yr];Mt.has(Zn)===!1&&(si(Zn,Fe,It),Mt.set(Zn))}else Mt.has(Kt)===!1&&(si(Kt,Fe,It),Mt.set(Kt))})};let ci=null;function Xr(Fe){if(Ct.isPresenting)return;ci&&ci(Fe)}let Wr=new QO;Wr.setAnimationLoop(Xr),typeof window!="undefined"&&Wr.setContext(window),this.setAnimationLoop=function(Fe){ci=Fe,Ct.setAnimationLoop(Fe),Fe===null?Wr.stop():Wr.start()},this.render=function(Fe,bt){let Mt,It;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Mt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),It=arguments[3]),bt!==void 0&&bt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;qt.resetDefaultState(),ie=-1,ue=null,Fe.autoUpdate===!0&&Fe.updateMatrixWorld(),bt.parent===null&&bt.updateMatrixWorld(),Ct.enabled===!0&&Ct.isPresenting===!0&&(bt=Ct.getCamera(bt)),Fe.isScene===!0&&Fe.onBeforeRender(B,Fe,bt,Mt||U),R=pt.get(Fe,bt),R.init(),et.multiplyMatrices(bt.projectionMatrix,bt.matrixWorldInverse),mt.setFromProjectionMatrix(et),Wt=this.localClippingEnabled,Ht=ze.init(this.clippingPlanes,Wt,bt),C=xt.get(Fe,bt),C.init(),Mr(Fe,bt,0,B.sortObjects),C.finish(),B.sortObjects===!0&&C.sort(Oe,tt),Ht===!0&&ze.beginShadows();let Kt=R.state.shadowsArray;zt.render(Kt,Fe,bt),R.setupLights(bt),Ht===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),Mt!==void 0&&this.setRenderTarget(Mt),At.render(C,Fe,bt,It);let yr=C.opaque,Zn=C.transparent;yr.length>0&&eo(yr,Fe,bt),Zn.length>0&&eo(Zn,Fe,bt),Fe.isScene===!0&&Fe.onAfterRender(B,Fe,bt),U!==null&&(P.updateRenderTargetMipmap(U),P.updateMultisampleRenderTarget(U)),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1),C=null,R=null};function Mr(Fe,bt,Mt,It){if(Fe.visible===!1)return;let Kt=Fe.layers.test(bt.layers);if(Kt){if(Fe.isGroup)Mt=Fe.renderOrder;else if(Fe.isLOD)Fe.autoUpdate===!0&&Fe.update(bt);else if(Fe.isLight)R.pushLight(Fe),Fe.castShadow&&R.pushShadow(Fe);else if(Fe.isSprite){if(!Fe.frustumCulled||mt.intersectsSprite(Fe)){It&&De.setFromMatrixPosition(Fe.matrixWorld).applyMatrix4(et);let Zn=se.update(Fe),Qt=Fe.material;Qt.visible&&C.push(Fe,Zn,Qt,Mt,De.z,null)}}else if(Fe.isImmediateRenderObject)It&&De.setFromMatrixPosition(Fe.matrixWorld).applyMatrix4(et),C.push(Fe,null,Fe.material,Mt,De.z,null);else if((Fe.isMesh||Fe.isLine||Fe.isPoints)&&(Fe.isSkinnedMesh&&(Fe.skeleton.frame!==be.render.frame&&(Fe.skeleton.update(),Fe.skeleton.frame=be.render.frame)),!Fe.frustumCulled||mt.intersectsObject(Fe))){It&&De.setFromMatrixPosition(Fe.matrixWorld).applyMatrix4(et);let Zn=se.update(Fe),Qt=Fe.material;if(Array.isArray(Qt)){let Sr=Zn.groups;for(let Fi=0,ki=Sr.length;Fi<ki;Fi++){let Kn=Sr[Fi],Kr=Qt[Kn.materialIndex];Kr&&Kr.visible&&C.push(Fe,Zn,Kr,Mt,De.z,Kn)}}else Qt.visible&&C.push(Fe,Zn,Qt,Mt,De.z,null)}}let yr=Fe.children;for(let Zn=0,Qt=yr.length;Zn<Qt;Zn++)Mr(yr[Zn],bt,Mt,It)}function eo(Fe,bt,Mt){let It=bt.isScene===!0?bt.overrideMaterial:null;for(let Kt=0,yr=Fe.length;Kt<yr;Kt++){let Zn=Fe[Kt],Qt=Zn.object,Sr=Zn.geometry,Fi=It===null?Zn.material:It,ki=Zn.group;if(Mt.isArrayCamera){K=Mt;let Kn=Mt.cameras;for(let Kr=0,ca=Kn.length;Kr<ca;Kr++){let fi=Kn[Kr];Qt.layers.test(fi.layers)&&(ge.viewport(ce.copy(fi.viewport)),R.setupLights(fi),Ms(Qt,bt,fi,Sr,Fi,ki))}}else K=null,Ms(Qt,bt,Mt,Sr,Fi,ki)}}function Ms(Fe,bt,Mt,It,Kt,yr){if(Fe.onBeforeRender(B,bt,Mt,It,Kt,yr),R=pt.get(bt,K||Mt),Fe.modelViewMatrix.multiplyMatrices(Mt.matrixWorldInverse,Fe.matrixWorld),Fe.normalMatrix.getNormalMatrix(Fe.modelViewMatrix),Fe.isImmediateRenderObject){let Zn=Lo(Mt,bt,Kt,Fe);ge.setMaterial(Kt),qt.reset(),Zr(Fe,Zn)}else B.renderBufferDirect(Mt,bt,It,Kt,Fe,yr);Fe.onAfterRender(B,bt,Mt,It,Kt,yr),R=pt.get(bt,K||Mt)}function si(Fe,bt,Mt){bt.isScene!==!0&&(bt=Le);let It=Ce.get(Fe),Kt=R.state.lights,yr=R.state.shadowsArray,Zn=Kt.state.version,Qt=he.getParameters(Fe,Kt.state,yr,bt,Mt),Sr=he.getProgramCacheKey(Qt),Fi=It.program,ki=!0;if(Fi===void 0)Fe.addEventListener("dispose",zn);else if(Fi.cacheKey!==Sr)fr(Fe);else if(It.lightsStateVersion!==Zn)ki=!1;else if(Qt.shaderID!==void 0){let fi=Fe.isMeshStandardMaterial?bt.environment:null;It.envMap=_e.get(Fe.envMap||fi);return}else ki=!1;ki&&(Qt.uniforms=he.getUniforms(Fe),Fe.onBeforeCompile(Qt,B),Fi=he.acquireProgram(Qt,Sr),It.program=Fi,It.uniforms=Qt.uniforms,It.outputEncoding=Qt.outputEncoding);let Kn=It.uniforms;(!Fe.isShaderMaterial&&!Fe.isRawShaderMaterial||Fe.clipping===!0)&&(It.numClippingPlanes=ze.numPlanes,It.numIntersection=ze.numIntersection,Kn.clippingPlanes=ze.uniform),It.environment=Fe.isMeshStandardMaterial?bt.environment:null,It.fog=bt.fog,It.envMap=_e.get(Fe.envMap||It.environment),It.needsLights=yo(Fe),It.lightsStateVersion=Zn,It.needsLights&&(Kn.ambientLightColor.value=Kt.state.ambient,Kn.lightProbe.value=Kt.state.probe,Kn.directionalLights.value=Kt.state.directional,Kn.directionalLightShadows.value=Kt.state.directionalShadow,Kn.spotLights.value=Kt.state.spot,Kn.spotLightShadows.value=Kt.state.spotShadow,Kn.rectAreaLights.value=Kt.state.rectArea,Kn.ltc_1.value=Kt.state.rectAreaLTC1,Kn.ltc_2.value=Kt.state.rectAreaLTC2,Kn.pointLights.value=Kt.state.point,Kn.pointLightShadows.value=Kt.state.pointShadow,Kn.hemisphereLights.value=Kt.state.hemi,Kn.directionalShadowMap.value=Kt.state.directionalShadowMap,Kn.directionalShadowMatrix.value=Kt.state.directionalShadowMatrix,Kn.spotShadowMap.value=Kt.state.spotShadowMap,Kn.spotShadowMatrix.value=Kt.state.spotShadowMatrix,Kn.pointShadowMap.value=Kt.state.pointShadowMap,Kn.pointShadowMatrix.value=Kt.state.pointShadowMatrix);let Kr=It.program.getUniforms(),ca=Mm.seqWithValue(Kr.seq,Kn);It.uniformsList=ca}function Lo(Fe,bt,Mt,It){bt.isScene!==!0&&(bt=Le),P.resetTextureUnits();let Kt=bt.fog,yr=Mt.isMeshStandardMaterial?bt.environment:null,Zn=U===null?B.outputEncoding:U.texture.encoding,Qt=_e.get(Mt.envMap||yr),Sr=Ce.get(Mt),Fi=R.state.lights;if(Ht===!0&&(Wt===!0||Fe!==ue)){let Wi=Fe===ue&&Mt.id===ie;ze.setState(Mt,Fe,Wi)}Mt.version===Sr.__version?(Mt.fog&&Sr.fog!==Kt||(Sr.environment!==yr||(Sr.needsLights&&Sr.lightsStateVersion!==Fi.state.version||(Sr.numClippingPlanes!==void 0&&(Sr.numClippingPlanes!==ze.numPlanes||Sr.numIntersection!==ze.numIntersection)||(Sr.outputEncoding!==Zn||Sr.envMap!==Qt)))))&&si(Mt,bt,It):(si(Mt,bt,It),Sr.__version=Mt.version);let ki=!1,Kn=!1,Kr=!1,ca=Sr.program,fi=ca.getUniforms(),fa=Sr.uniforms;if(ge.useProgram(ca.program)&&(ki=!0,Kn=!0,Kr=!0),Mt.id!==ie&&(ie=Mt.id,Kn=!0),ki||ue!==Fe){if(fi.setValue(Re,"projectionMatrix",Fe.projectionMatrix),we.logarithmicDepthBuffer&&fi.setValue(Re,"logDepthBufFC",2/(Math.log(Fe.far+1)/Math.LN2)),ue!==Fe&&(ue=Fe,Kn=!0,Kr=!0),Mt.isShaderMaterial||Mt.isMeshPhongMaterial||Mt.isMeshToonMaterial||Mt.isMeshStandardMaterial||Mt.envMap){let Wi=fi.map.cameraPosition;Wi!==void 0&&Wi.setValue(Re,De.setFromMatrixPosition(Fe.matrixWorld))}(Mt.isMeshPhongMaterial||Mt.isMeshToonMaterial||Mt.isMeshLambertMaterial||Mt.isMeshBasicMaterial||Mt.isMeshStandardMaterial||Mt.isShaderMaterial)&&fi.setValue(Re,"isOrthographic",Fe.isOrthographicCamera===!0),(Mt.isMeshPhongMaterial||Mt.isMeshToonMaterial||Mt.isMeshLambertMaterial||Mt.isMeshBasicMaterial||Mt.isMeshStandardMaterial||Mt.isShaderMaterial||Mt.isShadowMaterial||Mt.skinning)&&fi.setValue(Re,"viewMatrix",Fe.matrixWorldInverse)}if(Mt.skinning){fi.setOptional(Re,It,"bindMatrix"),fi.setOptional(Re,It,"bindMatrixInverse");let Wi=It.skeleton;if(Wi){let tu=Wi.bones;if(we.floatVertexTextures){if(Wi.boneTexture===null){let Uo=Math.sqrt(tu.length*4);Uo=Lr.ceilPowerOfTwo(Uo),Uo=Math.max(Uo,4);let kn=new Float32Array(Uo*Uo*4);kn.set(Wi.boneMatrices);let wl=new jy(kn,Uo,Uo,Ql,dm);Wi.boneMatrices=kn,Wi.boneTexture=wl,Wi.boneTextureSize=Uo}fi.setValue(Re,"boneTexture",Wi.boneTexture,P),fi.setValue(Re,"boneTextureSize",Wi.boneTextureSize)}else fi.setOptional(Re,Wi,"boneMatrices")}}return(Kn||Sr.receiveShadow!==It.receiveShadow)&&(Sr.receiveShadow=It.receiveShadow,fi.setValue(Re,"receiveShadow",It.receiveShadow)),Kn&&(fi.setValue(Re,"toneMappingExposure",B.toneMappingExposure),Sr.needsLights&&Jo(fa,Kr),Kt&&Mt.fog&&me.refreshFogUniforms(fa,Kt),me.refreshMaterialUniforms(fa,Mt,Ne,Ee),Mm.upload(Re,Sr.uniformsList,fa,P)),Mt.isShaderMaterial&&Mt.uniformsNeedUpdate===!0&&(Mm.upload(Re,Sr.uniformsList,fa,P),Mt.uniformsNeedUpdate=!1),Mt.isSpriteMaterial&&fi.setValue(Re,"center",It.center),fi.setValue(Re,"modelViewMatrix",It.modelViewMatrix),fi.setValue(Re,"normalMatrix",It.normalMatrix),fi.setValue(Re,"modelMatrix",It.matrixWorld),ca}function Jo(Fe,bt){Fe.ambientLightColor.needsUpdate=bt,Fe.lightProbe.needsUpdate=bt,Fe.directionalLights.needsUpdate=bt,Fe.directionalLightShadows.needsUpdate=bt,Fe.pointLights.needsUpdate=bt,Fe.pointLightShadows.needsUpdate=bt,Fe.spotLights.needsUpdate=bt,Fe.spotLightShadows.needsUpdate=bt,Fe.rectAreaLights.needsUpdate=bt,Fe.hemisphereLights.needsUpdate=bt}function yo(Fe){return Fe.isMeshLambertMaterial||Fe.isMeshToonMaterial||Fe.isMeshPhongMaterial||Fe.isMeshStandardMaterial||Fe.isShadowMaterial||Fe.isShaderMaterial&&Fe.lights===!0}this.setFramebuffer=function(Fe){H!==Fe&&U===null&&Re.bindFramebuffer(36160,Fe),H=Fe},this.getActiveCubeFace=function(){return G},this.getActiveMipmapLevel=function(){return O},this.getRenderList=function(){return C},this.setRenderList=function(Fe){C=Fe},this.getRenderState=function(){return R},this.setRenderState=function(Fe){R=Fe},this.getRenderTarget=function(){return U},this.setRenderTarget=function(Fe,bt=0,Mt=0){U=Fe,G=bt,O=Mt,Fe&&Ce.get(Fe).__webglFramebuffer===void 0&&P.setupRenderTarget(Fe);let It=H,Kt=!1;if(Fe){let yr=Ce.get(Fe).__webglFramebuffer;Fe.isWebGLCubeRenderTarget?(It=yr[bt],Kt=!0):Fe.isWebGLMultisampleRenderTarget?It=Ce.get(Fe).__webglMultisampledFramebuffer:It=yr,ce.copy(Fe.viewport),ve.copy(Fe.scissor),Ve=Fe.scissorTest}else ce.copy(Ze).multiplyScalar(Ne).floor(),ve.copy(Qe).multiplyScalar(Ne).floor(),Ve=at;if($!==It&&(Re.bindFramebuffer(36160,It),$=It),ge.viewport(ce),ge.scissor(ve),ge.setScissorTest(Ve),Kt){let yr=Ce.get(Fe.texture);Re.framebufferTexture2D(36160,36064,34069+bt,yr.__webglTexture,Mt)}},this.readRenderTargetPixels=function(Fe,bt,Mt,It,Kt,yr,Zn){if(!(Fe&&Fe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qt=Ce.get(Fe).__webglFramebuffer;if(Fe.isWebGLCubeRenderTarget&&Zn!==void 0&&(Qt=Qt[Zn]),Qt){let Sr=!1;Qt!==$&&(Re.bindFramebuffer(36160,Qt),Sr=!0);try{let Fi=Fe.texture,ki=Fi.format,Kn=Fi.type;if(ki!==Ql&&Pt.convert(ki)!==Re.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Kn!==dR&&Pt.convert(Kn)!==Re.getParameter(35738)&&!(Kn===dm&&(we.isWebGL2||oe.get("OES_texture_float")||oe.get("WEBGL_color_buffer_float")))&&!(Kn===oS&&(we.isWebGL2?oe.get("EXT_color_buffer_float"):oe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Re.checkFramebufferStatus(36160)===36053?bt>=0&&bt<=Fe.width-It&&Mt>=0&&Mt<=Fe.height-Kt&&Re.readPixels(bt,Mt,It,Kt,Pt.convert(ki),Pt.convert(Kn),yr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Sr&&Re.bindFramebuffer(36160,$)}}},this.copyFramebufferToTexture=function(Fe,bt,Mt=0){let It=Math.pow(2,-Mt),Kt=Math.floor(bt.image.width*It),yr=Math.floor(bt.image.height*It),Zn=Pt.convert(bt.format);P.setTexture2D(bt,0),Re.copyTexImage2D(3553,Mt,Zn,Fe.x,Fe.y,Kt,yr,0),ge.unbindTexture()},this.copyTextureToTexture=function(Fe,bt,Mt,It=0){let Kt=bt.image.width,yr=bt.image.height,Zn=Pt.convert(Mt.format),Qt=Pt.convert(Mt.type);P.setTexture2D(Mt,0),Re.pixelStorei(37440,Mt.flipY),Re.pixelStorei(37441,Mt.premultiplyAlpha),Re.pixelStorei(3317,Mt.unpackAlignment),bt.isDataTexture?Re.texSubImage2D(3553,It,Fe.x,Fe.y,Kt,yr,Zn,Qt,bt.image.data):bt.isCompressedTexture?Re.compressedTexSubImage2D(3553,It,Fe.x,Fe.y,bt.mipmaps[0].width,bt.mipmaps[0].height,Zn,bt.mipmaps[0].data):Re.texSubImage2D(3553,It,Fe.x,Fe.y,Zn,Qt,bt.image),It===0&&Mt.generateMipmaps&&Re.generateMipmap(3553),ge.unbindTexture()},this.initTexture=function(Fe){P.setTexture2D(Fe,0),ge.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function y9(t){bS.call(this,t)}y9.prototype=Object.assign(Object.create(bS.prototype),{constructor:y9,isWebGL1Renderer:!0});var x9=class extends Vn{constructor(){super();Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(n,i){return super.copy(n,i),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this}toJSON(n){let i=super.toJSON(n);return this.background!==null&&(i.object.background=this.background.toJSON(n)),this.environment!==null&&(i.object.environment=this.environment.toJSON(n)),this.fog!==null&&(i.object.fog=this.fog.toJSON()),i}};function Mu(t,n){this.array=t,this.stride=n,this.count=t!==void 0?t.length/n:0,this.usage=aS,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Lr.generateUUID()}Object.defineProperty(Mu.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(Mu.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,n,i){t*=this.stride,i*=n.stride;for(let s=0,l=this.stride;s<l;s++)this.array[t+s]=n.array[i+s];return this},set:function(t,n=0){return this.array.set(t,n),this},clone:function(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Lr.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let n=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new Mu(n,this.stride);return i.setUsage(this.usage),i},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Lr.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Lv=new Ue;function Cd(t,n,i,s){this.name="",this.data=t,this.itemSize=n,this.offset=i,this.normalized=s===!0}Object.defineProperties(Cd.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}});Object.assign(Cd.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let n=0,i=this.data.count;n<i;n++)Lv.x=this.getX(n),Lv.y=this.getY(n),Lv.z=this.getZ(n),Lv.applyMatrix4(t),this.setXYZ(n,Lv.x,Lv.y,Lv.z);return this},setX:function(t,n){return this.data.array[t*this.data.stride+this.offset]=n,this},setY:function(t,n){return this.data.array[t*this.data.stride+this.offset+1]=n,this},setZ:function(t,n){return this.data.array[t*this.data.stride+this.offset+2]=n,this},setW:function(t,n){return this.data.array[t*this.data.stride+this.offset+3]=n,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=n,this.data.array[t+1]=i,this},setXYZ:function(t,n,i,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=n,this.data.array[t+1]=i,this.data.array[t+2]=s,this},setXYZW:function(t,n,i,s,l){return t=t*this.data.stride+this.offset,this.data.array[t+0]=n,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=l,this},clone:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let n=[];for(let i=0;i<this.count;i++){let s=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[s+l])}return new cr(new this.array.constructor(n),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Cd(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let n=[];for(let i=0;i<this.count;i++){let s=i*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[s+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Pv(t){or.call(this),this.type="SpriteMaterial",this.color=new _n(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Pv.prototype=Object.create(or.prototype);Pv.prototype.constructor=Pv;Pv.prototype.isSpriteMaterial=!0;Pv.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var Jy,Vw=new Ue,Zy=new Ue,Ky=new Ue,$y=new St,Ww=new St,E9=new Dr,CS=new Ue,jw=new Ue,LS=new Ue,w9=new St,qR=new St,A9=new St;function _9(t){if(Vn.call(this),this.type="Sprite",Jy===void 0){Jy=new Mi;let n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Mu(n,5);Jy.setIndex([0,1,2,0,2,3]),Jy.setAttribute("position",new Cd(i,3,0,!1)),Jy.setAttribute("uv",new Cd(i,2,3,!1))}this.geometry=Jy,this.material=t!==void 0?t:new Pv,this.center=new St(.5,.5)}_9.prototype=Object.assign(Object.create(Vn.prototype),{constructor:_9,isSprite:!0,raycast:function(t,n){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zy.setFromMatrixScale(this.matrixWorld),E9.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ky.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zy.multiplyScalar(-Ky.z);let i=this.material.rotation,s,l;i!==0&&(l=Math.cos(i),s=Math.sin(i));let e=this.center;PS(CS.set(-.5,-.5,0),Ky,e,Zy,s,l),PS(jw.set(.5,-.5,0),Ky,e,Zy,s,l),PS(LS.set(.5,.5,0),Ky,e,Zy,s,l),w9.set(0,0),qR.set(1,0),A9.set(1,1);let p=t.ray.intersectTriangle(CS,jw,LS,!1,Vw);if(p===null&&(PS(jw.set(-.5,.5,0),Ky,e,Zy,s,l),qR.set(0,1),p=t.ray.intersectTriangle(CS,LS,jw,!1,Vw),p===null))return;let v=t.ray.origin.distanceTo(Vw);if(v<t.near||v>t.far)return;n.push({distance:v,point:Vw.clone(),uv:Na.getUV(Vw,CS,jw,LS,w9,qR,A9,new St),face:null,object:this})},copy:function(t){return Vn.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}});function PS(t,n,i,s,l,e){$y.subVectors(t,i).addScalar(.5).multiply(s),l!==void 0?(Ww.x=e*$y.x-l*$y.y,Ww.y=l*$y.x+e*$y.y):Ww.copy($y),t.copy(n),t.x+=Ww.x,t.y+=Ww.y,t.applyMatrix4(E9)}var RS=new Ue,M9=new Ue;function JR(){Vn.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}JR.prototype=Object.assign(Object.create(Vn.prototype),{constructor:JR,isLOD:!0,copy:function(t){Vn.prototype.copy.call(this,t,!1);let n=t.levels;for(let i=0,s=n.length;i<s;i++){let l=n[i];this.addLevel(l.object.clone(),l.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,n=0){n=Math.abs(n);let i=this.levels,s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){let n=this.levels;if(n.length>0){let i,s;for(i=1,s=n.length;i<s&&!(t<n[i].distance);i++);return n[i-1].object}return null},raycast:function(t,n){let i=this.levels;if(i.length>0){RS.setFromMatrixPosition(this.matrixWorld);let s=t.ray.origin.distanceTo(RS);this.getObjectForDistance(s).raycast(t,n)}},update:function(t){let n=this.levels;if(n.length>1){RS.setFromMatrixPosition(t.matrixWorld),M9.setFromMatrixPosition(this.matrixWorld);let i=RS.distanceTo(M9)/t.zoom;n[0].object.visible=!0;let s,l;for(s=1,l=n.length;s<l&&i>=n[s].distance;s++)n[s-1].object.visible=!1,n[s].object.visible=!0;for(this._currentLevel=s-1;s<l;s++)n[s].object.visible=!1}},toJSON:function(t){let n=Vn.prototype.toJSON.call(this,t);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];let i=this.levels;for(let s=0,l=i.length;s<l;s++){let e=i[s];n.object.levels.push({object:e.object.uuid,distance:e.distance})}return n}});function Qw(t,n){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),_s.call(this,t,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Dr,this.bindMatrixInverse=new Dr}Qw.prototype=Object.assign(Object.create(_s.prototype),{constructor:Qw,isSkinnedMesh:!0,copy:function(t){return _s.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,n){this.skeleton=t,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){let t=new Ki,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){t.x=n.getX(i),t.y=n.getY(i),t.z=n.getZ(i),t.w=n.getW(i);let l=1/t.manhattanLength();l!==Infinity?t.multiplyScalar(l):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){_s.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){let t=new Ue,n=new Ki,i=new Ki,s=new Ue,l=new Dr;return function(e,p){let v=this.skeleton,w=this.geometry;n.fromBufferAttribute(w.attributes.skinIndex,e),i.fromBufferAttribute(w.attributes.skinWeight,e),t.fromBufferAttribute(w.attributes.position,e).applyMatrix4(this.bindMatrix),p.set(0,0,0);for(let E=0;E<4;E++){let T=i.getComponent(E);if(T!==0){let C=n.getComponent(E);l.multiplyMatrices(v.bones[C].matrixWorld,v.boneInverses[C]),p.addScaledVector(s.copy(t).applyMatrix4(l),T)}}return p.applyMatrix4(this.bindMatrixInverse)}}()});function qw(){Vn.call(this),this.type="Bone"}qw.prototype=Object.assign(Object.create(Vn.prototype),{constructor:qw,isBone:!0});var S9=new Dr,Cte=new Dr;function Jw(t=[],n=[]){this.uuid=Lr.generateUUID(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Jw.prototype,{init:function(){let t=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),n.length===0)this.calculateInverses();else if(t.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Dr)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,n=this.bones.length;t<n;t++){let i=new Dr;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}},pose:function(){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}},update:function(){let t=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let l=0,e=t.length;l<e;l++){let p=t[l]?t[l].matrixWorld:Cte;S9.multiplyMatrices(p,n[l]),S9.toArray(i,l*16)}s!==null&&(s.needsUpdate=!0)},clone:function(){return new Jw(this.bones,this.boneInverses)},getBoneByName:function(t){for(let n=0,i=this.bones.length;n<i;n++){let s=this.bones[n];if(s.name===t)return s}return},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,n){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){let l=t.bones[i],e=n[l];e===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),e=new qw),this.bones.push(e),this.boneInverses.push(new Dr().fromArray(t.boneInverses[i]))}return this.init(),this},toJSON:function(){let t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;let n=this.bones,i=this.boneInverses;for(let s=0,l=n.length;s<l;s++){let e=n[s];t.bones.push(e.uuid);let p=i[s];t.boneInverses.push(p.toArray())}return t}});var T9=new Dr,b9=new Dr,DS=[],Zw=new _s;function C9(t,n,i){_s.call(this,t,n),this.instanceMatrix=new cr(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}C9.prototype=Object.assign(Object.create(_s.prototype),{constructor:C9,isInstancedMesh:!0,copy:function(t){return _s.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,n){n.fromArray(this.instanceColor.array,t*3)},getMatrixAt:function(t,n){n.fromArray(this.instanceMatrix.array,t*16)},raycast:function(t,n){let i=this.matrixWorld,s=this.count;if(Zw.geometry=this.geometry,Zw.material=this.material,Zw.material===void 0)return;for(let l=0;l<s;l++){this.getMatrixAt(l,T9),b9.multiplyMatrices(i,T9),Zw.matrixWorld=b9,Zw.raycast(t,DS);for(let e=0,p=DS.length;e<p;e++){let v=DS[e];v.instanceId=l,v.object=this,n.push(v)}DS.length=0}},setColorAt:function(t,n){this.instanceColor===null&&(this.instanceColor=new cr(new Float32Array(this.count*3),3)),n.toArray(this.instanceColor.array,t*3)},setMatrixAt:function(t,n){n.toArray(this.instanceMatrix.array,t*16)},updateMorphTargets:function(){}});function Su(t){or.call(this),this.type="LineBasicMaterial",this.color=new _n(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Su.prototype=Object.create(or.prototype);Su.prototype.constructor=Su;Su.prototype.isLineBasicMaterial=!0;Su.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};var L9=new Ue,P9=new Ue,R9=new Dr,BS=new Fy,NS=new Yf;function Sm(t,n,i){i===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Vn.call(this),this.type="Line",this.geometry=t!==void 0?t:new Mi,this.material=n!==void 0?n:new Su,this.updateMorphTargets()}Sm.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Sm,isLine:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){let t=this.geometry;if(t.isBufferGeometry)if(t.index===null){let n=t.attributes.position,i=[0];for(let s=1,l=n.count;s<l;s++)L9.fromBufferAttribute(n,s-1),P9.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=L9.distanceTo(P9);t.setAttribute("lineDistance",new gi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){let n=t.vertices,i=t.lineDistances;i[0]=0;for(let s=1,l=n.length;s<l;s++)i[s]=i[s-1],i[s]+=n[s-1].distanceTo(n[s])}return this},raycast:function(t,n){let i=this.geometry,s=this.matrixWorld,l=t.params.Line.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),NS.copy(i.boundingSphere),NS.applyMatrix4(s),NS.radius+=l,t.ray.intersectsSphere(NS)===!1)return;R9.copy(s).invert(),BS.copy(t.ray).applyMatrix4(R9);let e=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=e*e,v=new Ue,w=new Ue,E=new Ue,T=new Ue,C=this.isLineSegments?2:1;if(i.isBufferGeometry){let R=i.index,B=i.attributes,A=B.position;if(R!==null){let H=R.array;for(let G=0,O=H.length-1;G<O;G+=C){let U=H[G],$=H[G+1];v.fromBufferAttribute(A,U),w.fromBufferAttribute(A,$);let ie=BS.distanceSqToSegment(v,w,T,E);if(ie>p)continue;T.applyMatrix4(this.matrixWorld);let ue=t.ray.origin.distanceTo(T);if(ue<t.near||ue>t.far)continue;n.push({distance:ue,point:E.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}else for(let H=0,G=A.count-1;H<G;H+=C){v.fromBufferAttribute(A,H),w.fromBufferAttribute(A,H+1);let O=BS.distanceSqToSegment(v,w,T,E);if(O>p)continue;T.applyMatrix4(this.matrixWorld);let U=t.ray.origin.distanceTo(T);if(U<t.near||U>t.far)continue;n.push({distance:U,point:E.clone().applyMatrix4(this.matrixWorld),index:H,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){let R=i.vertices,B=R.length;for(let A=0;A<B-1;A+=C){let H=BS.distanceSqToSegment(R[A],R[A+1],T,E);if(H>p)continue;T.applyMatrix4(this.matrixWorld);let G=t.ray.origin.distanceTo(T);if(G<t.near||G>t.far)continue;n.push({distance:G,point:E.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){let t=this.geometry;if(t.isBufferGeometry){let n=t.morphAttributes,i=Object.keys(n);if(i.length>0){let s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,e=s.length;l<e;l++){let p=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{let n=t.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var IS=new Ue,OS=new Ue;function ex(t,n){Sm.call(this,t,n),this.type="LineSegments"}ex.prototype=Object.assign(Object.create(Sm.prototype),{constructor:ex,isLineSegments:!0,computeLineDistances:function(){let t=this.geometry;if(t.isBufferGeometry)if(t.index===null){let n=t.attributes.position,i=[];for(let s=0,l=n.count;s<l;s+=2)IS.fromBufferAttribute(n,s),OS.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+IS.distanceTo(OS);t.setAttribute("lineDistance",new gi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){let n=t.vertices,i=t.lineDistances;for(let s=0,l=n.length;s<l;s+=2)IS.copy(n[s]),OS.copy(n[s+1]),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+IS.distanceTo(OS)}return this}});function US(t,n){Sm.call(this,t,n),this.type="LineLoop"}US.prototype=Object.assign(Object.create(Sm.prototype),{constructor:US,isLineLoop:!0});function Ld(t){or.call(this),this.type="PointsMaterial",this.color=new _n(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}Ld.prototype=Object.create(or.prototype);Ld.prototype.constructor=Ld;Ld.prototype.isPointsMaterial=!0;Ld.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var D9=new Dr,ZR=new Fy,kS=new Yf,GS=new Ue;function XS(t,n){Vn.call(this),this.type="Points",this.geometry=t!==void 0?t:new Mi,this.material=n!==void 0?n:new Ld,this.updateMorphTargets()}XS.prototype=Object.assign(Object.create(Vn.prototype),{constructor:XS,isPoints:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,n){let i=this.geometry,s=this.matrixWorld,l=t.params.Points.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),kS.copy(i.boundingSphere),kS.applyMatrix4(s),kS.radius+=l,t.ray.intersectsSphere(kS)===!1)return;D9.copy(s).invert(),ZR.copy(t.ray).applyMatrix4(D9);let e=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=e*e;if(i.isBufferGeometry){let v=i.index,w=i.attributes,E=w.position;if(v!==null){let T=v.array;for(let C=0,R=T.length;C<R;C++){let B=T[C];GS.fromBufferAttribute(E,B),KR(GS,B,p,s,t,n,this)}}else for(let T=0,C=E.count;T<C;T++)GS.fromBufferAttribute(E,T),KR(GS,T,p,s,t,n,this)}else{let v=i.vertices;for(let w=0,E=v.length;w<E;w++)KR(v[w],w,p,s,t,n,this)}},updateMorphTargets:function(){let t=this.geometry;if(t.isBufferGeometry){let n=t.morphAttributes,i=Object.keys(n);if(i.length>0){let s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,e=s.length;l<e;l++){let p=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{let n=t.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function KR(t,n,i,s,l,e,p){let v=ZR.distanceSqToPoint(t);if(v<i){let w=new Ue;ZR.closestPointToPoint(t,w),w.applyMatrix4(s);let E=l.ray.origin.distanceTo(w);if(E<l.near||E>l.far)return;e.push({distance:E,distanceToRay:Math.sqrt(v),point:w,index:n,face:null,object:p})}}function F9(t,n,i,s,l,e,p,v,w){Yi.call(this,t,n,i,s,l,e,p,v,w),this.format=p!==void 0?p:lf,this.minFilter=e!==void 0?e:mo,this.magFilter=l!==void 0?l:mo,this.generateMipmaps=!1;let E=this;function T(){E.needsUpdate=!0,t.requestVideoFrameCallback(T)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(T)}F9.prototype=Object.assign(Object.create(Yi.prototype),{constructor:F9,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){let t=this.image,n="requestVideoFrameCallback"in t;n===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Kw(t,n,i,s,l,e,p,v,w,E,T,C){Yi.call(this,null,e,p,v,w,E,s,l,T,C),this.image={width:n,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}Kw.prototype=Object.create(Yi.prototype);Kw.prototype.constructor=Kw;Kw.prototype.isCompressedTexture=!0;function tx(t,n,i,s,l,e,p,v,w){Yi.call(this,t,n,i,s,l,e,p,v,w),this.needsUpdate=!0}tx.prototype=Object.create(Yi.prototype);tx.prototype.constructor=tx;tx.prototype.isCanvasTexture=!0;function HS(t,n,i,s,l,e,p,v,w,E){if(E=E!==void 0?E:Ay,E!==Ay&&E!==Pw)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&E===Ay&&(i=rS),i===void 0&&E===Pw&&(i=Lw),Yi.call(this,null,s,l,e,p,v,E,i,w),this.image={width:t,height:n},this.magFilter=p!==void 0?p:As,this.minFilter=v!==void 0?v:As,this.flipY=!1,this.generateMipmaps=!1}HS.prototype=Object.create(Yi.prototype);HS.prototype.constructor=HS;HS.prototype.isDepthTexture=!0;var Lte=0,lh=new Dr,$R=new Vn,zS=new Ue;function Qf(){Object.defineProperty(this,"id",{value:Lte+=2}),this.uuid=Lr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Qf.prototype=Object.assign(Object.create(uf.prototype),{constructor:Qf,isGeometry:!0,applyMatrix4:function(t){let n=new rs().getNormalMatrix(t);for(let i=0,s=this.vertices.length;i<s;i++){let l=this.vertices[i];l.applyMatrix4(t)}for(let i=0,s=this.faces.length;i<s;i++){let l=this.faces[i];l.normal.applyMatrix3(n).normalize();for(let e=0,p=l.vertexNormals.length;e<p;e++)l.vertexNormals[e].applyMatrix3(n).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return lh.makeRotationX(t),this.applyMatrix4(lh),this},rotateY:function(t){return lh.makeRotationY(t),this.applyMatrix4(lh),this},rotateZ:function(t){return lh.makeRotationZ(t),this.applyMatrix4(lh),this},translate:function(t,n,i){return lh.makeTranslation(t,n,i),this.applyMatrix4(lh),this},scale:function(t,n,i){return lh.makeScale(t,n,i),this.applyMatrix4(lh),this},lookAt:function(t){return $R.lookAt(t),$R.updateMatrix(),this.applyMatrix4($R.matrix),this},fromBufferGeometry:function(t){let n=this,i=t.index!==null?t.index:void 0,s=t.attributes;if(s.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let l=s.position,e=s.normal,p=s.color,v=s.uv,w=s.uv2;w!==void 0&&(this.faceVertexUvs[1]=[]);for(let C=0;C<l.count;C++)n.vertices.push(new Ue().fromBufferAttribute(l,C)),p!==void 0&&n.colors.push(new _n().fromBufferAttribute(p,C));function E(C,R,B,A){let H=p===void 0?[]:[n.colors[C].clone(),n.colors[R].clone(),n.colors[B].clone()],G=e===void 0?[]:[new Ue().fromBufferAttribute(e,C),new Ue().fromBufferAttribute(e,R),new Ue().fromBufferAttribute(e,B)],O=new vS(C,R,B,G,H,A);n.faces.push(O),v!==void 0&&n.faceVertexUvs[0].push([new St().fromBufferAttribute(v,C),new St().fromBufferAttribute(v,R),new St().fromBufferAttribute(v,B)]),w!==void 0&&n.faceVertexUvs[1].push([new St().fromBufferAttribute(w,C),new St().fromBufferAttribute(w,R),new St().fromBufferAttribute(w,B)])}let T=t.groups;if(T.length>0)for(let C=0;C<T.length;C++){let R=T[C],B=R.start,A=R.count;for(let H=B,G=B+A;H<G;H+=3)i!==void 0?E(i.getX(H),i.getX(H+1),i.getX(H+2),R.materialIndex):E(H,H+1,H+2,R.materialIndex)}else if(i!==void 0)for(let C=0;C<i.count;C+=3)E(i.getX(C),i.getX(C+1),i.getX(C+2));else for(let C=0;C<l.count;C+=3)E(C,C+1,C+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(zS).negate(),this.translate(zS.x,zS.y,zS.z),this},normalize:function(){this.computeBoundingSphere();let t=this.boundingSphere.center,n=this.boundingSphere.radius,i=n===0?1:1/n,s=new Dr;return s.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix4(s),this},computeFaceNormals:function(){let t=new Ue,n=new Ue;for(let i=0,s=this.faces.length;i<s;i++){let l=this.faces[i],e=this.vertices[l.a],p=this.vertices[l.b],v=this.vertices[l.c];t.subVectors(v,p),n.subVectors(e,p),t.cross(n),t.normalize(),l.normal.copy(t)}},computeVertexNormals:function(t=!0){let n=new Array(this.vertices.length);for(let i=0,s=this.vertices.length;i<s;i++)n[i]=new Ue;if(t){let i=new Ue,s=new Ue;for(let l=0,e=this.faces.length;l<e;l++){let p=this.faces[l],v=this.vertices[p.a],w=this.vertices[p.b],E=this.vertices[p.c];i.subVectors(E,w),s.subVectors(v,w),i.cross(s),n[p.a].add(i),n[p.b].add(i),n[p.c].add(i)}}else{this.computeFaceNormals();for(let i=0,s=this.faces.length;i<s;i++){let l=this.faces[i];n[l.a].add(l.normal),n[l.b].add(l.normal),n[l.c].add(l.normal)}}for(let i=0,s=this.vertices.length;i<s;i++)n[i].normalize();for(let i=0,s=this.faces.length;i<s;i++){let l=this.faces[i],e=l.vertexNormals;e.length===3?(e[0].copy(n[l.a]),e[1].copy(n[l.b]),e[2].copy(n[l.c])):(e[0]=n[l.a].clone(),e[1]=n[l.b].clone(),e[2]=n[l.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t],s=i.vertexNormals;s.length===3?(s[0].copy(i.normal),s[1].copy(i.normal),s[2].copy(i.normal)):(s[0]=i.normal.clone(),s[1]=i.normal.clone(),s[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let n=0,i=this.faces.length;n<i;n++){let s=this.faces[n];s.__originalFaceNormal?s.__originalFaceNormal.copy(s.normal):s.__originalFaceNormal=s.normal.clone(),s.__originalVertexNormals||(s.__originalVertexNormals=[]);for(let l=0,e=s.vertexNormals.length;l<e;l++)s.__originalVertexNormals[l]?s.__originalVertexNormals[l].copy(s.vertexNormals[l]):s.__originalVertexNormals[l]=s.vertexNormals[l].clone()}let t=new Qf;t.faces=this.faces;for(let n=0,i=this.morphTargets.length;n<i;n++){if(!this.morphNormals[n]){this.morphNormals[n]={},this.morphNormals[n].faceNormals=[],this.morphNormals[n].vertexNormals=[];let l=this.morphNormals[n].faceNormals,e=this.morphNormals[n].vertexNormals;for(let p=0,v=this.faces.length;p<v;p++){let w=new Ue,E={a:new Ue,b:new Ue,c:new Ue};l.push(w),e.push(E)}}let s=this.morphNormals[n];t.vertices=this.morphTargets[n].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let l=0,e=this.faces.length;l<e;l++){let p=this.faces[l],v=s.faceNormals[l],w=s.vertexNormals[l];v.copy(p.normal),w.a.copy(p.vertexNormals[0]),w.b.copy(p.vertexNormals[1]),w.c.copy(p.vertexNormals[2])}}for(let n=0,i=this.faces.length;n<i;n++){let s=this.faces[n];s.normal=s.__originalFaceNormal,s.vertexNormals=s.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new zf),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Yf),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,n,i=0){if(!(t&&t.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);return}let s,l=this.vertices.length,e=this.vertices,p=t.vertices,v=this.faces,w=t.faces,E=this.colors,T=t.colors;n!==void 0&&(s=new rs().getNormalMatrix(n));for(let C=0,R=p.length;C<R;C++){let B=p[C],A=B.clone();n!==void 0&&A.applyMatrix4(n),e.push(A)}for(let C=0,R=T.length;C<R;C++)E.push(T[C].clone());for(let C=0,R=w.length;C<R;C++){let B=w[C],A,H,G=B.vertexNormals,O=B.vertexColors,U=new vS(B.a+l,B.b+l,B.c+l);U.normal.copy(B.normal),s!==void 0&&U.normal.applyMatrix3(s).normalize();for(let $=0,ie=G.length;$<ie;$++)A=G[$].clone(),s!==void 0&&A.applyMatrix3(s).normalize(),U.vertexNormals.push(A);U.color.copy(B.color);for(let $=0,ie=O.length;$<ie;$++)H=O[$],U.vertexColors.push(H.clone());U.materialIndex=B.materialIndex+i,v.push(U)}for(let C=0,R=t.faceVertexUvs.length;C<R;C++){let B=t.faceVertexUvs[C];this.faceVertexUvs[C]===void 0&&(this.faceVertexUvs[C]=[]);for(let A=0,H=B.length;A<H;A++){let G=B[A],O=[];for(let U=0,$=G.length;U<$;U++)O.push(G[U].clone());this.faceVertexUvs[C].push(O)}}},mergeMesh:function(t){if(!(t&&t.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);return}t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(t=4){let n={},i=[],s=[],l=Math.pow(10,t);for(let v=0,w=this.vertices.length;v<w;v++){let E=this.vertices[v],T=Math.round(E.x*l)+"_"+Math.round(E.y*l)+"_"+Math.round(E.z*l);n[T]===void 0?(n[T]=v,i.push(this.vertices[v]),s[v]=i.length-1):s[v]=s[n[T]]}let e=[];for(let v=0,w=this.faces.length;v<w;v++){let E=this.faces[v];E.a=s[E.a],E.b=s[E.b],E.c=s[E.c];let T=[E.a,E.b,E.c];for(let C=0;C<3;C++)if(T[C]===T[(C+1)%3]){e.push(v);break}}for(let v=e.length-1;v>=0;v--){let w=e[v];this.faces.splice(w,1);for(let E=0,T=this.faceVertexUvs.length;E<T;E++)this.faceVertexUvs[E].splice(w,1)}let p=this.vertices.length-i.length;return this.vertices=i,p},setFromPoints:function(t){this.vertices=[];for(let n=0,i=t.length;n<i;n++){let s=t[n];this.vertices.push(new Ue(s.x,s.y,s.z||0))}return this},sortFacesByMaterialIndex:function(){let t=this.faces,n=t.length;for(let v=0;v<n;v++)t[v]._id=v;function i(v,w){return v.materialIndex-w.materialIndex}t.sort(i);let s=this.faceVertexUvs[0],l=this.faceVertexUvs[1],e,p;s&&s.length===n&&(e=[]),l&&l.length===n&&(p=[]);for(let v=0;v<n;v++){let w=t[v]._id;e&&e.push(s[w]),p&&p.push(l[w])}e&&(this.faceVertexUvs[0]=e),p&&(this.faceVertexUvs[1]=p)},toJSON:function(){let t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.parameters!==void 0){let B=this.parameters;for(let A in B)B[A]!==void 0&&(t[A]=B[A]);return t}let n=[];for(let B=0;B<this.vertices.length;B++){let A=this.vertices[B];n.push(A.x,A.y,A.z)}let i=[],s=[],l={},e=[],p={},v=[],w={};for(let B=0;B<this.faces.length;B++){let A=this.faces[B],H=!0,G=!1,O=this.faceVertexUvs[0][B]!==void 0,U=A.normal.length()>0,$=A.vertexNormals.length>0,ie=A.color.r!==1||A.color.g!==1||A.color.b!==1,ue=A.vertexColors.length>0,K=0;if(K=E(K,0,0),K=E(K,1,H),K=E(K,2,G),K=E(K,3,O),K=E(K,4,U),K=E(K,5,$),K=E(K,6,ie),K=E(K,7,ue),i.push(K),i.push(A.a,A.b,A.c),i.push(A.materialIndex),O){let ce=this.faceVertexUvs[0][B];i.push(R(ce[0]),R(ce[1]),R(ce[2]))}if(U&&i.push(T(A.normal)),$){let ce=A.vertexNormals;i.push(T(ce[0]),T(ce[1]),T(ce[2]))}if(ie&&i.push(C(A.color)),ue){let ce=A.vertexColors;i.push(C(ce[0]),C(ce[1]),C(ce[2]))}}function E(B,A,H){return H?B|1<<A:B&~(1<<A)}function T(B){let A=B.x.toString()+B.y.toString()+B.z.toString();return l[A]!==void 0||(l[A]=s.length/3,s.push(B.x,B.y,B.z)),l[A]}function C(B){let A=B.r.toString()+B.g.toString()+B.b.toString();return p[A]!==void 0||(p[A]=e.length,e.push(B.getHex())),p[A]}function R(B){let A=B.x.toString()+B.y.toString();return w[A]!==void 0||(w[A]=v.length/2,v.push(B.x,B.y)),w[A]}return t.data={},t.data.vertices=n,t.data.normals=s,e.length>0&&(t.data.colors=e),v.length>0&&(t.data.uvs=[v]),t.data.faces=i,t},clone:function(){return new Qf().copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;let n=t.vertices;for(let C=0,R=n.length;C<R;C++)this.vertices.push(n[C].clone());let i=t.colors;for(let C=0,R=i.length;C<R;C++)this.colors.push(i[C].clone());let s=t.faces;for(let C=0,R=s.length;C<R;C++)this.faces.push(s[C].clone());for(let C=0,R=t.faceVertexUvs.length;C<R;C++){let B=t.faceVertexUvs[C];this.faceVertexUvs[C]===void 0&&(this.faceVertexUvs[C]=[]);for(let A=0,H=B.length;A<H;A++){let G=B[A],O=[];for(let U=0,$=G.length;U<$;U++){let ie=G[U];O.push(ie.clone())}this.faceVertexUvs[C].push(O)}}let l=t.morphTargets;for(let C=0,R=l.length;C<R;C++){let B={};if(B.name=l[C].name,l[C].vertices!==void 0){B.vertices=[];for(let A=0,H=l[C].vertices.length;A<H;A++)B.vertices.push(l[C].vertices[A].clone())}if(l[C].normals!==void 0){B.normals=[];for(let A=0,H=l[C].normals.length;A<H;A++)B.normals.push(l[C].normals[A].clone())}this.morphTargets.push(B)}let e=t.morphNormals;for(let C=0,R=e.length;C<R;C++){let B={};if(e[C].vertexNormals!==void 0){B.vertexNormals=[];for(let A=0,H=e[C].vertexNormals.length;A<H;A++){let G=e[C].vertexNormals[A],O={};O.a=G.a.clone(),O.b=G.b.clone(),O.c=G.c.clone(),B.vertexNormals.push(O)}}if(e[C].faceNormals!==void 0){B.faceNormals=[];for(let A=0,H=e[C].faceNormals.length;A<H;A++)B.faceNormals.push(e[C].faceNormals[A].clone())}this.morphNormals.push(B)}let p=t.skinWeights;for(let C=0,R=p.length;C<R;C++)this.skinWeights.push(p[C].clone());let v=t.skinIndices;for(let C=0,R=v.length;C<R;C++)this.skinIndices.push(v[C].clone());let w=t.lineDistances;for(let C=0,R=w.length;C<R;C++)this.lineDistances.push(w[C]);let E=t.boundingBox;E!==null&&(this.boundingBox=E.clone());let T=t.boundingSphere;return T!==null&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Jse=new Ue,Zse=new Ue,Kse=new Ue,$se=new Na,Rte={triangulate:function(t,n,i){i=i||2;let s=n&&n.length,l=s?n[0]*i:t.length,e=B9(t,0,l,i,!0),p=[];if(!e||e.next===e.prev)return p;let v,w,E,T,C,R,B;if(s&&(e=Pte(t,n,e,i)),t.length>80*i){v=E=t[0],w=T=t[1];for(let A=i;A<l;A+=i)C=t[A],R=t[A+1],C<v&&(v=C),R<w&&(w=R),C>E&&(E=C),R>T&&(T=R);B=Math.max(E-v,T-w),B=B!==0?1/B:0}return $w(e,p,i,v,w,B),p}};function B9(t,n,i,s,l){let e,p;if(l===Dte(t,n,i,s)>0)for(e=n;e<i;e+=s)p=N9(e,t[e],t[e+1],p);else for(e=i-s;e>=n;e-=s)p=N9(e,t[e],t[e+1],p);return p&&YS(p,p.next)&&(eA(p),p=p.next),p}function Tm(t,n){if(!t)return t;n||(n=t);let i=t,s;do if(s=!1,!i.steiner&&(YS(i,i.next)||Qo(i.prev,i,i.next)===0)){if(eA(i),i=n=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==n);return n}function $w(t,n,i,s,l,e,p){if(!t)return;!p&&e&&Ote(t,s,l,e);let v=t,w,E;for(;t.prev!==t.next;){if(w=t.prev,E=t.next,e?Bte(t,s,l,e):Fte(t)){n.push(w.i/i),n.push(t.i/i),n.push(E.i/i),eA(t),t=E.next,v=E.next;continue}if(t=E,t===v){p?p===1?(t=Nte(Tm(t),n,i),$w(t,n,i,s,l,e,2)):p===2&&Ite(t,n,i,s,l,e):$w(Tm(t),n,i,s,l,e,1);break}}}function Fte(t){let n=t.prev,i=t,s=t.next;if(Qo(n,i,s)>=0)return!1;let l=t.next.next;for(;l!==t.prev;){if(nx(n.x,n.y,i.x,i.y,s.x,s.y,l.x,l.y)&&Qo(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function Bte(t,n,i,s){let l=t.prev,e=t,p=t.next;if(Qo(l,e,p)>=0)return!1;let v=l.x<e.x?l.x<p.x?l.x:p.x:e.x<p.x?e.x:p.x,w=l.y<e.y?l.y<p.y?l.y:p.y:e.y<p.y?e.y:p.y,E=l.x>e.x?l.x>p.x?l.x:p.x:e.x>p.x?e.x:p.x,T=l.y>e.y?l.y>p.y?l.y:p.y:e.y>p.y?e.y:p.y,C=eD(v,w,n,i,s),R=eD(E,T,n,i,s),B=t.prevZ,A=t.nextZ;for(;B&&B.z>=C&&A&&A.z<=R;){if(B!==t.prev&&B!==t.next&&nx(l.x,l.y,e.x,e.y,p.x,p.y,B.x,B.y)&&Qo(B.prev,B,B.next)>=0)return!1;if(B=B.prevZ,A!==t.prev&&A!==t.next&&nx(l.x,l.y,e.x,e.y,p.x,p.y,A.x,A.y)&&Qo(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;B&&B.z>=C;){if(B!==t.prev&&B!==t.next&&nx(l.x,l.y,e.x,e.y,p.x,p.y,B.x,B.y)&&Qo(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;A&&A.z<=R;){if(A!==t.prev&&A!==t.next&&nx(l.x,l.y,e.x,e.y,p.x,p.y,A.x,A.y)&&Qo(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Nte(t,n,i){let s=t;do{let l=s.prev,e=s.next.next;!YS(l,e)&&I9(l,s,s.next,e)&&tA(l,e)&&tA(e,l)&&(n.push(l.i/i),n.push(s.i/i),n.push(e.i/i),eA(s),eA(s.next),s=t=e),s=s.next}while(s!==t);return Tm(s)}function Ite(t,n,i,s,l,e){let p=t;do{let v=p.next.next;for(;v!==p.prev;){if(p.i!==v.i&&Ute(p,v)){let w=O9(p,v);p=Tm(p,p.next),w=Tm(w,w.next),$w(p,n,i,s,l,e),$w(w,n,i,s,l,e);return}v=v.next}p=p.next}while(p!==t)}function Pte(t,n,i,s){let l=[],e,p,v,w,E;for(e=0,p=n.length;e<p;e++)v=n[e]*s,w=e<p-1?n[e+1]*s:t.length,E=B9(t,v,w,s,!1),E===E.next&&(E.steiner=!0),l.push(Xte(E));for(l.sort(kte),e=0;e<l.length;e++)Gte(l[e],i),i=Tm(i,i.next);return i}function kte(t,n){return t.x-n.x}function Gte(t,n){if(n=Hte(t,n),n){let i=O9(n,t);Tm(n,n.next),Tm(i,i.next)}}function Hte(t,n){let i=n,s=t.x,l=t.y,e=-Infinity,p;do{if(l<=i.y&&l>=i.next.y&&i.next.y!==i.y){let R=i.x+(l-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(R<=s&&R>e){if(e=R,R===s){if(l===i.y)return i;if(l===i.next.y)return i.next}p=i.x<i.next.x?i:i.next}}i=i.next}while(i!==n);if(!p)return null;if(s===e)return p;let v=p,w=p.x,E=p.y,T=Infinity,C;i=p;do s>=i.x&&i.x>=w&&s!==i.x&&nx(l<E?s:e,l,w,E,l<E?e:s,l,i.x,i.y)&&(C=Math.abs(l-i.y)/(s-i.x),tA(i,t)&&(C<T||C===T&&(i.x>p.x||i.x===p.x&&zte(p,i)))&&(p=i,T=C)),i=i.next;while(i!==v);return p}function zte(t,n){return Qo(t.prev,t,n.prev)<0&&Qo(n.next,t,t.next)<0}function Ote(t,n,i,s){let l=t;do l.z===null&&(l.z=eD(l.x,l.y,n,i,s)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==t);l.prevZ.nextZ=null,l.prevZ=null,Yte(l)}function Yte(t){let n,i,s,l,e,p,v,w,E=1;do{for(i=t,t=null,e=null,p=0;i;){for(p++,s=i,v=0,n=0;n<E&&!(v++,s=s.nextZ,!s);n++);for(w=E;v>0||w>0&&s;)v!==0&&(w===0||!s||i.z<=s.z)?(l=i,i=i.nextZ,v--):(l=s,s=s.nextZ,w--),e?e.nextZ=l:t=l,l.prevZ=e,e=l;i=s}e.nextZ=null,E*=2}while(p>1);return t}function eD(t,n,i,s,l){return t=32767*(t-i)*l,n=32767*(n-s)*l,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t|n<<1}function Xte(t){let n=t,i=t;do(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next;while(n!==t);return i}function nx(t,n,i,s,l,e,p,v){return(l-p)*(n-v)-(t-p)*(e-v)>=0&&(t-p)*(s-v)-(i-p)*(n-v)>=0&&(i-p)*(e-v)-(l-p)*(s-v)>=0}function Ute(t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!Vte(t,n)&&(tA(t,n)&&tA(n,t)&&Wte(t,n)&&(Qo(t.prev,t,n.prev)||Qo(t,n.prev,n))||YS(t,n)&&Qo(t.prev,t,t.next)>0&&Qo(n.prev,n,n.next)>0)}function Qo(t,n,i){return(n.y-t.y)*(i.x-n.x)-(n.x-t.x)*(i.y-n.y)}function YS(t,n){return t.x===n.x&&t.y===n.y}function I9(t,n,i,s){let l=WS(Qo(t,n,i)),e=WS(Qo(t,n,s)),p=WS(Qo(i,s,t)),v=WS(Qo(i,s,n));return l!==e&&p!==v||(l===0&&VS(t,i,n)||(e===0&&VS(t,s,n)||p===0&&VS(i,t,s)))?!0:!!(v===0&&VS(i,n,s))}function VS(t,n,i){return n.x<=Math.max(t.x,i.x)&&n.x>=Math.min(t.x,i.x)&&n.y<=Math.max(t.y,i.y)&&n.y>=Math.min(t.y,i.y)}function WS(t){return t>0?1:t<0?-1:0}function Vte(t,n){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==n.i&&i.next.i!==n.i&&I9(i,i.next,t,n))return!0;i=i.next}while(i!==t);return!1}function tA(t,n){return Qo(t.prev,t,t.next)<0?Qo(t,n,t.next)>=0&&Qo(t,t.prev,n)>=0:Qo(t,n,t.prev)<0||Qo(t,t.next,n)<0}function Wte(t,n){let i=t,s=!1,l=(t.x+n.x)/2,e=(t.y+n.y)/2;do i.y>e!==i.next.y>e&&i.next.y!==i.y&&l<(i.next.x-i.x)*(e-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==t);return s}function O9(t,n){let i=new tD(t.i,t.x,t.y),s=new tD(n.i,n.x,n.y),l=t.next,e=n.prev;return t.next=n,n.prev=t,i.next=l,l.prev=i,s.next=i,i.prev=s,e.next=s,s.prev=e,s}function N9(t,n,i,s){let l=new tD(t,n,i);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function eA(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tD(t,n,i){this.i=t,this.x=n,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Dte(t,n,i,s){let l=0;for(let e=n,p=i-s;e<i;e+=s)l+=(t[p]-t[e])*(t[e+1]+t[p+1]),p=e;return l}var bm={area:function(t){let n=t.length,i=0;for(let s=n-1,l=0;l<n;s=l++)i+=t[s].x*t[l].y-t[l].x*t[s].y;return i*.5},isClockWise:function(t){return bm.area(t)<0},triangulateShape:function(t,n){let i=[],s=[],l=[];U9(t),k9(i,t);let e=t.length;n.forEach(U9);for(let v=0;v<n.length;v++)s.push(e),e+=n[v].length,k9(i,n[v]);let p=Rte.triangulate(i,s);for(let v=0;v<p.length;v+=3)l.push(p.slice(v,v+3));return l}};function U9(t){let n=t.length;n>2&&t[n-1].equals(t[0])&&t.pop()}function k9(t,n){for(let i=0;i<n.length;i++)t.push(n[i].x),t.push(n[i].y)}var nD=class extends Mi{constructor(n,i){super();this.type="ExtrudeBufferGeometry",this.parameters={shapes:n,options:i},n=Array.isArray(n)?n:[n];let s=this,l=[],e=[];for(let v=0,w=n.length;v<w;v++){let E=n[v];p(E)}this.setAttribute("position",new gi(l,3)),this.setAttribute("uv",new gi(e,2)),this.computeVertexNormals();function p(v){let w=[],E=i.curveSegments!==void 0?i.curveSegments:12,T=i.steps!==void 0?i.steps:1,C=i.depth!==void 0?i.depth:100,R=i.bevelEnabled!==void 0?i.bevelEnabled:!0,B=i.bevelThickness!==void 0?i.bevelThickness:6,A=i.bevelSize!==void 0?i.bevelSize:B-2,H=i.bevelOffset!==void 0?i.bevelOffset:0,G=i.bevelSegments!==void 0?i.bevelSegments:3,O=i.extrudePath,U=i.UVGenerator!==void 0?i.UVGenerator:jte;i.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),C=i.amount);let $,ie=!1,ue,K,ce,ve;O&&($=O.getSpacedPoints(T),ie=!0,R=!1,ue=O.computeFrenetFrames(T,!1),K=new Ue,ce=new Ue,ve=new Ue),R||(G=0,B=0,A=0,H=0);let Ve=v.extractPoints(E),Me=Ve.shape,Ee=Ve.holes,Ne=!bm.isClockWise(Me);if(Ne){Me=Me.reverse();for(let P=0,_e=Ee.length;P<_e;P++){let ke=Ee[P];bm.isClockWise(ke)&&(Ee[P]=ke.reverse())}}let Oe=bm.triangulateShape(Me,Ee),tt=Me;for(let P=0,_e=Ee.length;P<_e;P++){let ke=Ee[P];Me=Me.concat(ke)}function Ze(P,_e,ke){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),_e.clone().multiplyScalar(ke).add(P)}let Qe=Me.length,at=Oe.length;function mt(P,_e,ke){let Se,se,he,me=P.x-_e.x,xt=P.y-_e.y,pt=ke.x-P.x,ze=ke.y-P.y,At=me*me+xt*xt,gt=me*ze-xt*pt;if(Math.abs(gt)>Number.EPSILON){let Ft=Math.sqrt(At),Et=Math.sqrt(pt*pt+ze*ze),Pt=_e.x-xt/Ft,qt=_e.y+me/Ft,Xe=ke.x-ze/Et,Ct=ke.y+pt/Et,zt=((Xe-Pt)*ze-(Ct-qt)*pt)/(me*ze-xt*pt);Se=Pt+me*zt-P.x,se=qt+xt*zt-P.y;let sn=Se*Se+se*se;if(sn<=2)return new St(Se,se);he=Math.sqrt(sn/2)}else{let Ft=!1;me>Number.EPSILON?pt>Number.EPSILON&&(Ft=!0):me<-Number.EPSILON?pt<-Number.EPSILON&&(Ft=!0):Math.sign(xt)===Math.sign(ze)&&(Ft=!0),Ft?(Se=-xt,se=me,he=Math.sqrt(At)):(Se=me,se=xt,he=Math.sqrt(At/2))}return new St(Se/he,se/he)}let Ht=[];for(let P=0,_e=tt.length,ke=_e-1,Se=P+1;P<_e;P++,ke++,Se++)ke===_e&&(ke=0),Se===_e&&(Se=0),Ht[P]=mt(tt[P],tt[ke],tt[Se]);let Wt=[],et,De=Ht.concat();for(let P=0,_e=Ee.length;P<_e;P++){let ke=Ee[P];et=[];for(let Se=0,se=ke.length,he=se-1,me=Se+1;Se<se;Se++,he++,me++)he===se&&(he=0),me===se&&(me=0),et[Se]=mt(ke[Se],ke[he],ke[me]);Wt.push(et),De=De.concat(et)}for(let P=0;P<G;P++){let _e=P/G,ke=B*Math.cos(_e*Math.PI/2),Se=A*Math.sin(_e*Math.PI/2)+H;for(let se=0,he=tt.length;se<he;se++){let me=Ze(tt[se],Ht[se],Se);oe(me.x,me.y,-ke)}for(let se=0,he=Ee.length;se<he;se++){let me=Ee[se];et=Wt[se];for(let xt=0,pt=me.length;xt<pt;xt++){let ze=Ze(me[xt],et[xt],Se);oe(ze.x,ze.y,-ke)}}}let Le=A+H;for(let P=0;P<Qe;P++){let _e=R?Ze(Me[P],De[P],Le):Me[P];ie?(ce.copy(ue.normals[0]).multiplyScalar(_e.x),K.copy(ue.binormals[0]).multiplyScalar(_e.y),ve.copy($[0]).add(ce).add(K),oe(ve.x,ve.y,ve.z)):oe(_e.x,_e.y,0)}for(let P=1;P<=T;P++)for(let _e=0;_e<Qe;_e++){let ke=R?Ze(Me[_e],De[_e],Le):Me[_e];ie?(ce.copy(ue.normals[P]).multiplyScalar(ke.x),K.copy(ue.binormals[P]).multiplyScalar(ke.y),ve.copy($[P]).add(ce).add(K),oe(ve.x,ve.y,ve.z)):oe(ke.x,ke.y,C/T*P)}for(let P=G-1;P>=0;P--){let _e=P/G,ke=B*Math.cos(_e*Math.PI/2),Se=A*Math.sin(_e*Math.PI/2)+H;for(let se=0,he=tt.length;se<he;se++){let me=Ze(tt[se],Ht[se],Se);oe(me.x,me.y,C+ke)}for(let se=0,he=Ee.length;se<he;se++){let me=Ee[se];et=Wt[se];for(let xt=0,pt=me.length;xt<pt;xt++){let ze=Ze(me[xt],et[xt],Se);ie?oe(ze.x,ze.y+$[T-1].y,$[T-1].x+ke):oe(ze.x,ze.y,C+ke)}}}Ye(),Re();function Ye(){let P=l.length/3;if(R){let _e=0,ke=Qe*_e;for(let Se=0;Se<at;Se++){let se=Oe[Se];we(se[2]+ke,se[1]+ke,se[0]+ke)}_e=T+G*2,ke=Qe*_e;for(let Se=0;Se<at;Se++){let se=Oe[Se];we(se[0]+ke,se[1]+ke,se[2]+ke)}}else{for(let _e=0;_e<at;_e++){let ke=Oe[_e];we(ke[2],ke[1],ke[0])}for(let _e=0;_e<at;_e++){let ke=Oe[_e];we(ke[0]+Qe*T,ke[1]+Qe*T,ke[2]+Qe*T)}}s.addGroup(P,l.length/3-P,0)}function Re(){let P=l.length/3,_e=0;re(tt,_e),_e+=tt.length;for(let ke=0,Se=Ee.length;ke<Se;ke++){let se=Ee[ke];re(se,_e),_e+=se.length}s.addGroup(P,l.length/3-P,1)}function re(P,_e){let ke=P.length;for(;--ke>=0;){let Se=ke,se=ke-1;se<0&&(se=P.length-1);for(let he=0,me=T+G*2;he<me;he++){let xt=Qe*he,pt=Qe*(he+1),ze=_e+Se+xt,At=_e+se+xt,gt=_e+se+pt,Ft=_e+Se+pt;ge(ze,At,gt,Ft)}}}function oe(P,_e,ke){w.push(P),w.push(_e),w.push(ke)}function we(P,_e,ke){be(P),be(_e),be(ke);let Se=l.length/3,se=U.generateTopUV(s,l,Se-3,Se-2,Se-1);Ce(se[0]),Ce(se[1]),Ce(se[2])}function ge(P,_e,ke,Se){be(P),be(_e),be(Se),be(_e),be(ke),be(Se);let se=l.length/3,he=U.generateSideWallUV(s,l,se-6,se-3,se-2,se-1);Ce(he[0]),Ce(he[1]),Ce(he[3]),Ce(he[1]),Ce(he[2]),Ce(he[3])}function be(P){l.push(w[P*3+0]),l.push(w[P*3+1]),l.push(w[P*3+2])}function Ce(P){e.push(P.x),e.push(P.y)}}}toJSON(){let n=Mi.prototype.toJSON.call(this),i=this.parameters.shapes,s=this.parameters.options;return Qte(i,s,n)}},jte={generateTopUV:function(t,n,i,s,l){let e=n[i*3],p=n[i*3+1],v=n[s*3],w=n[s*3+1],E=n[l*3],T=n[l*3+1];return[new St(e,p),new St(v,w),new St(E,T)]},generateSideWallUV:function(t,n,i,s,l,e){let p=n[i*3],v=n[i*3+1],w=n[i*3+2],E=n[s*3],T=n[s*3+1],C=n[s*3+2],R=n[l*3],B=n[l*3+1],A=n[l*3+2],H=n[e*3],G=n[e*3+1],O=n[e*3+2];return Math.abs(v-T)<.01?[new St(p,1-w),new St(E,1-C),new St(R,1-A),new St(H,1-O)]:[new St(v,1-w),new St(T,1-C),new St(B,1-A),new St(G,1-O)]}};function Qte(t,n,i){if(i.shapes=[],Array.isArray(t))for(let s=0,l=t.length;s<l;s++){let e=t[s];i.shapes.push(e.uuid)}else i.shapes.push(t.uuid);return n.extrudePath!==void 0&&(i.options.extrudePath=n.extrudePath.toJSON()),i}var G9=class extends Qf{constructor(n,i){super();this.type="ExtrudeGeometry",this.parameters={shapes:n,options:i},this.fromBufferGeometry(new nD(n,i)),this.mergeVertices()}toJSON(){let n=super.toJSON(),i=this.parameters.shapes,s=this.parameters.options;return qte(i,s,n)}};function qte(t,n,i){if(i.shapes=[],Array.isArray(t))for(let s=0,l=t.length;s<l;s++){let e=t[s];i.shapes.push(e.uuid)}else i.shapes.push(t.uuid);return n.extrudePath!==void 0&&(i.options.extrudePath=n.extrudePath.toJSON()),i}function jS(t,n,i){Mi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:n,stacks:i};let s=[],l=[],e=[],p=[],v=1e-5,w=new Ue,E=new Ue,T=new Ue,C=new Ue,R=new Ue;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");let B=n+1;for(let A=0;A<=i;A++){let H=A/i;for(let G=0;G<=n;G++){let O=G/n;t(O,H,E),l.push(E.x,E.y,E.z),O-v>=0?(t(O-v,H,T),C.subVectors(E,T)):(t(O+v,H,T),C.subVectors(T,E)),H-v>=0?(t(O,H-v,T),R.subVectors(E,T)):(t(O,H+v,T),R.subVectors(T,E)),w.crossVectors(C,R).normalize(),e.push(w.x,w.y,w.z),p.push(O,H)}}for(let A=0;A<i;A++)for(let H=0;H<n;H++){let G=A*B+H,O=A*B+H+1,U=(A+1)*B+H+1,$=(A+1)*B+H;s.push(G,O,$),s.push(O,U,$)}this.setIndex(s),this.setAttribute("position",new gi(l,3)),this.setAttribute("normal",new gi(e,3)),this.setAttribute("uv",new gi(p,2))}jS.prototype=Object.create(Mi.prototype);jS.prototype.constructor=jS;function rD(t,n,i){Qf.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:n,stacks:i},this.fromBufferGeometry(new jS(t,n,i)),this.mergeVertices()}rD.prototype=Object.create(Qf.prototype);rD.prototype.constructor=rD;var X9=class extends Mi{constructor(n,i=12){super();this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:i};let s=[],l=[],e=[],p=[],v=0,w=0;if(Array.isArray(n)===!1)E(n);else for(let T=0;T<n.length;T++)E(n[T]),this.addGroup(v,w,T),v+=w,w=0;this.setIndex(s),this.setAttribute("position",new gi(l,3)),this.setAttribute("normal",new gi(e,3)),this.setAttribute("uv",new gi(p,2));function E(T){let C=l.length/3,R=T.extractPoints(i),B=R.shape,A=R.holes;bm.isClockWise(B)===!1&&(B=B.reverse());for(let G=0,O=A.length;G<O;G++){let U=A[G];bm.isClockWise(U)===!0&&(A[G]=U.reverse())}let H=bm.triangulateShape(B,A);for(let G=0,O=A.length;G<O;G++){let U=A[G];B=B.concat(U)}for(let G=0,O=B.length;G<O;G++){let U=B[G];l.push(U.x,U.y,0),e.push(0,0,1),p.push(U.x,U.y)}for(let G=0,O=H.length;G<O;G++){let U=H[G],$=U[0]+C,ie=U[1]+C,ue=U[2]+C;s.push($,ie,ue),w+=3}}}toJSON(){let n=Mi.prototype.toJSON.call(this),i=this.parameters.shapes;return Jte(i,n)}};function Jte(t,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){let l=t[i];n.shapes.push(l.uuid)}else n.shapes.push(t.uuid);return n}var H9=class extends Qf{constructor(n,i){super();this.type="ShapeGeometry",typeof i=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),i=i.curveSegments),this.parameters={shapes:n,curveSegments:i},this.fromBufferGeometry(new X9(n,i)),this.mergeVertices()}toJSON(){let n=Qf.prototype.toJSON.call(this),i=this.parameters.shapes;return Zte(i,n)}};function Zte(t,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){let l=t[i];n.shapes.push(l.uuid)}else n.shapes.push(t.uuid);return n}function rx(t){or.call(this),this.type="ShadowMaterial",this.color=new _n(0),this.transparent=!0,this.setValues(t)}rx.prototype=Object.create(or.prototype);rx.prototype.constructor=rx;rx.prototype.isShadowMaterial=!0;rx.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this};function nA(t){$i.call(this,t),this.type="RawShaderMaterial"}nA.prototype=Object.create($i.prototype);nA.prototype.constructor=nA;nA.prototype.isRawShaderMaterial=!0;function Jl(t){or.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _n(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _n(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pm,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}Jl.prototype=Object.create(or.prototype);Jl.prototype.constructor=Jl;Jl.prototype.isMeshStandardMaterial=!0;Jl.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this};function uh(t){Jl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new St(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(n){this.reflectivity=Lr.clamp(2.5*(n-1)/(n+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}uh.prototype=Object.create(Jl.prototype);uh.prototype.constructor=uh;uh.prototype.isMeshPhysicalMaterial=!0;uh.prototype.copy=function(t){return Jl.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new _n).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this};function Rv(t){or.call(this),this.type="MeshPhongMaterial",this.color=new _n(16777215),this.specular=new _n(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _n(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pm,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Rv.prototype=Object.create(or.prototype);Rv.prototype.constructor=Rv;Rv.prototype.isMeshPhongMaterial=!0;Rv.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function ix(t){or.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _n(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _n(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pm,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ix.prototype=Object.create(or.prototype);ix.prototype.constructor=ix;ix.prototype.isMeshToonMaterial=!0;ix.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function ox(t){or.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pm,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ox.prototype=Object.create(or.prototype);ox.prototype.constructor=ox;ox.prototype.isMeshNormalMaterial=!0;ox.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function sx(t){or.call(this),this.type="MeshLambertMaterial",this.color=new _n(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _n(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}sx.prototype=Object.create(or.prototype);sx.prototype.constructor=sx;sx.prototype.isMeshLambertMaterial=!0;sx.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function ax(t){or.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _n(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pm,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ax.prototype=Object.create(or.prototype);ax.prototype.constructor=ax;ax.prototype.isMeshMatcapMaterial=!0;ax.prototype.copy=function(t){return or.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function lx(t){Su.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}lx.prototype=Object.create(Su.prototype);lx.prototype.constructor=lx;lx.prototype.isLineDashedMaterial=!0;lx.prototype.copy=function(t){return Su.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Kte=Object.freeze({__proto__:null,ShadowMaterial:rx,SpriteMaterial:Pv,RawShaderMaterial:nA,ShaderMaterial:$i,PointsMaterial:Ld,MeshPhysicalMaterial:uh,MeshStandardMaterial:Jl,MeshPhongMaterial:Rv,MeshToonMaterial:ix,MeshNormalMaterial:ox,MeshLambertMaterial:sx,MeshDepthMaterial:bv,MeshDistanceMaterial:Cv,MeshBasicMaterial:ql,MeshMatcapMaterial:ax,LineDashedMaterial:lx,LineBasicMaterial:Su,Material:or}),Io={arraySlice:function(t,n,i){return Io.isTypedArray(t)?new t.constructor(t.subarray(n,i!==void 0?i:t.length)):t.slice(n,i)},convertArray:function(t,n,i){return!t||!i&&t.constructor===n?t:typeof n.BYTES_PER_ELEMENT=="number"?new n(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function n(l,e){return t[l]-t[e]}let i=t.length,s=new Array(i);for(let l=0;l!==i;++l)s[l]=l;return s.sort(n),s},sortedArray:function(t,n,i){let s=t.length,l=new t.constructor(s);for(let e=0,p=0;p!==s;++e){let v=i[e]*n;for(let w=0;w!==n;++w)l[p++]=t[v+w]}return l},flattenJSON:function(t,n,i,s){let l=1,e=t[0];for(;e!==void 0&&e[s]===void 0;)e=t[l++];if(e===void 0)return;let p=e[s];if(p===void 0)return;if(Array.isArray(p))do p=e[s],p!==void 0&&(n.push(e.time),i.push.apply(i,p)),e=t[l++];while(e!==void 0);else if(p.toArray!==void 0)do p=e[s],p!==void 0&&(n.push(e.time),p.toArray(i,i.length)),e=t[l++];while(e!==void 0);else do p=e[s],p!==void 0&&(n.push(e.time),i.push(p)),e=t[l++];while(e!==void 0)},subclip:function(t,n,i,s,l=30){let e=t.clone();e.name=n;let p=[];for(let w=0;w<e.tracks.length;++w){let E=e.tracks[w],T=E.getValueSize(),C=[],R=[];for(let B=0;B<E.times.length;++B){let A=E.times[B]*l;if(A<i||A>=s)continue;C.push(E.times[B]);for(let H=0;H<T;++H)R.push(E.values[B*T+H])}if(C.length===0)continue;E.times=Io.convertArray(C,E.times.constructor),E.values=Io.convertArray(R,E.values.constructor),p.push(E)}e.tracks=p;let v=Infinity;for(let w=0;w<e.tracks.length;++w)v>e.tracks[w].times[0]&&(v=e.tracks[w].times[0]);for(let w=0;w<e.tracks.length;++w)e.tracks[w].shift(-1*v);return e.resetDuration(),e},makeClipAdditive:function(t,n=0,i=t,s=30){s<=0&&(s=30);let l=i.tracks.length,e=n/s;for(let p=0;p<l;++p){let v=i.tracks[p],w=v.ValueTypeName;if(w==="bool"||w==="string")continue;let E=t.tracks.find(function(O){return O.name===v.name&&O.ValueTypeName===w});if(E===void 0)continue;let T=0,C=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(T=C/3);let R=0,B=E.getValueSize();E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(R=B/3);let A=v.times.length-1,H;if(e<=v.times[0]){let O=T,U=C-T;H=Io.arraySlice(v.values,O,U)}else if(e>=v.times[A]){let O=A*C+T,U=O+C-T;H=Io.arraySlice(v.values,O,U)}else{let O=v.createInterpolant(),U=T,$=C-T;O.evaluate(e),H=Io.arraySlice(O.resultBuffer,U,$)}if(w==="quaternion"){let O=new Ba().fromArray(H).normalize().conjugate();O.toArray(H)}let G=E.times.length;for(let O=0;O<G;++O){let U=O*B+R;if(w==="quaternion")Ba.multiplyQuaternionsFlat(E.values,U,H,0,E.values,U);else{let $=B-R*2;for(let ie=0;ie<$;++ie)E.values[U+ie]-=H[ie]}}}return t.blendMode=SO,t}};function Zl(t,n,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i}Object.assign(Zl.prototype,{evaluate:function(t){let n=this.parameterPositions,i=this._cachedIndex,s=n[i],l=n[i-1];e:{t:{let e;n:{r:if(!(t<s)){for(let p=i+2;;){if(s===void 0){if(t<l)break r;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,t,l)}if(i===p)break;if(l=s,s=n[++i],t<s)break t}e=n.length;break n}if(!(t>=l)){let p=n[1];t<p&&(i=2,l=p);for(let v=i-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(i===v)break;if(s=l,l=n[--i-1],t>=l)break t}e=i,i=0;break n}break e}for(;i<e;){let p=i+e>>>1;t<n[p]?e=p:i=p+1}if(s=n[i],l=n[i-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(s===void 0)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,l,t)}this._cachedIndex=i,this.intervalChanged_(i,l,s)}return this.interpolate_(i,l,t,s)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){let n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,l=t*s;for(let e=0;e!==s;++e)n[e]=i[l+e];return n},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Zl.prototype,{beforeStart_:Zl.prototype.copySampleValue_,afterEnd_:Zl.prototype.copySampleValue_});function iD(t,n,i,s){Zl.call(this,t,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}iD.prototype=Object.assign(Object.create(Zl.prototype),{constructor:iD,DefaultSettings_:{endingStart:My,endingEnd:My},intervalChanged_:function(t,n,i){let s=this.parameterPositions,l=t-2,e=t+1,p=s[l],v=s[e];if(p===void 0)switch(this.getSettings_().endingStart){case Sy:l=t,p=2*n-i;break;case sS:l=s.length-2,p=n+s[l]-s[l+1];break;default:l=t,p=i}if(v===void 0)switch(this.getSettings_().endingEnd){case Sy:e=t,v=2*i-n;break;case sS:e=1,v=i+s[1]-s[0];break;default:e=t-1,v=n}let w=(i-n)*.5,E=this.valueSize;this._weightPrev=w/(n-p),this._weightNext=w/(v-i),this._offsetPrev=l*E,this._offsetNext=e*E},interpolate_:function(t,n,i,s){let l=this.resultBuffer,e=this.sampleValues,p=this.valueSize,v=t*p,w=v-p,E=this._offsetPrev,T=this._offsetNext,C=this._weightPrev,R=this._weightNext,B=(i-n)/(s-n),A=B*B,H=A*B,G=-C*H+2*C*A-C*B,O=(1+C)*H+(-1.5-2*C)*A+(-.5+C)*B+1,U=(-1-R)*H+(1.5+R)*A+.5*B,$=R*H-R*A;for(let ie=0;ie!==p;++ie)l[ie]=G*e[E+ie]+O*e[w+ie]+U*e[v+ie]+$*e[T+ie];return l}});function QS(t,n,i,s){Zl.call(this,t,n,i,s)}QS.prototype=Object.assign(Object.create(Zl.prototype),{constructor:QS,interpolate_:function(t,n,i,s){let l=this.resultBuffer,e=this.sampleValues,p=this.valueSize,v=t*p,w=v-p,E=(i-n)/(s-n),T=1-E;for(let C=0;C!==p;++C)l[C]=e[w+C]*T+e[v+C]*E;return l}});function oD(t,n,i,s){Zl.call(this,t,n,i,s)}oD.prototype=Object.assign(Object.create(Zl.prototype),{constructor:oD,interpolate_:function(t){return this.copySampleValue_(t-1)}});function gl(t,n,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Io.convertArray(n,this.TimeBufferType),this.values=Io.convertArray(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}Object.assign(gl,{toJSON:function(t){let n=t.constructor,i;if(n.toJSON!==void 0)i=n.toJSON(t);else{i={name:t.name,times:Io.convertArray(t.times,Array),values:Io.convertArray(t.values,Array)};let s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}});Object.assign(gl.prototype,{constructor:gl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Av,InterpolantFactoryMethodDiscrete:function(t){return new oD(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new QS(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new iD(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let n;switch(t){case _y:n=this.InterpolantFactoryMethodDiscrete;break;case Av:n=this.InterpolantFactoryMethodLinear;break;case pR:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){let i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _y;case this.InterpolantFactoryMethodLinear:return Av;case this.InterpolantFactoryMethodSmooth:return pR}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0){let n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=t}return this},scale:function(t){if(t!==1){let n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=t}return this},trim:function(t,n){let i=this.times,s=i.length,l=0,e=s-1;for(;l!==s&&i[l]<t;)++l;for(;e!==-1&&i[e]>n;)--e;if(++e,l!==0||e!==s){l>=e&&(e=Math.max(e,1),l=e-1);let p=this.getValueSize();this.times=Io.arraySlice(i,l,e),this.values=Io.arraySlice(this.values,l*p,e*p)}return this},validate:function(){let t=!0,n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);let i=this.times,s=this.values,l=i.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let e=null;for(let p=0;p!==l;p++){let v=i[p];if(typeof v=="number"&&isNaN(v)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,p,v),t=!1;break}if(e!==null&&e>v){console.error("THREE.KeyframeTrack: Out of order keys.",this,p,v,e),t=!1;break}e=v}if(s!==void 0&&Io.isTypedArray(s))for(let p=0,v=s.length;p!==v;++p){let w=s[p];if(isNaN(w)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,w),t=!1;break}}return t},optimize:function(){let t=Io.arraySlice(this.times),n=Io.arraySlice(this.values),i=this.getValueSize(),s=this.getInterpolation()===pR,l=t.length-1,e=1;for(let p=1;p<l;++p){let v=!1,w=t[p],E=t[p+1];if(w!==E&&(p!==1||w!==w[0]))if(s)v=!0;else{let T=p*i,C=T-i,R=T+i;for(let B=0;B!==i;++B){let A=n[T+B];if(A!==n[C+B]||A!==n[R+B]){v=!0;break}}}if(v){if(p!==e){t[e]=t[p];let T=p*i,C=e*i;for(let R=0;R!==i;++R)n[C+R]=n[T+R]}++e}}if(l>0){t[e]=t[l];for(let p=l*i,v=e*i,w=0;w!==i;++w)n[v+w]=n[p+w];++e}return e!==t.length?(this.times=Io.arraySlice(t,0,e),this.values=Io.arraySlice(n,0,e*i)):(this.times=t,this.values=n),this},clone:function(){let t=Io.arraySlice(this.times,0),n=Io.arraySlice(this.values,0),i=this.constructor,s=new i(this.name,t,n);return s.createInterpolant=this.createInterpolant,s}});function sD(t,n,i){gl.call(this,t,n,i)}sD.prototype=Object.assign(Object.create(gl.prototype),{constructor:sD,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:_y,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function aD(t,n,i,s){gl.call(this,t,n,i,s)}aD.prototype=Object.assign(Object.create(gl.prototype),{constructor:aD,ValueTypeName:"color"});function Dv(t,n,i,s){gl.call(this,t,n,i,s)}Dv.prototype=Object.assign(Object.create(gl.prototype),{constructor:Dv,ValueTypeName:"number"});function lD(t,n,i,s){Zl.call(this,t,n,i,s)}lD.prototype=Object.assign(Object.create(Zl.prototype),{constructor:lD,interpolate_:function(t,n,i,s){let l=this.resultBuffer,e=this.sampleValues,p=this.valueSize,v=(i-n)/(s-n),w=t*p;for(let E=w+p;w!==E;w+=4)Ba.slerpFlat(l,0,e,w-p,e,w,v);return l}});function ux(t,n,i,s){gl.call(this,t,n,i,s)}ux.prototype=Object.assign(Object.create(gl.prototype),{constructor:ux,ValueTypeName:"quaternion",DefaultInterpolation:Av,InterpolantFactoryMethodLinear:function(t){return new lD(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0});function uD(t,n,i,s){gl.call(this,t,n,i,s)}uD.prototype=Object.assign(Object.create(gl.prototype),{constructor:uD,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:_y,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Fv(t,n,i,s){gl.call(this,t,n,i,s)}Fv.prototype=Object.assign(Object.create(gl.prototype),{constructor:Fv,ValueTypeName:"vector"});function yc(t,n,i,s){this.name=t,this.tracks=i,this.duration=n!==void 0?n:-1,this.blendMode=s!==void 0?s:mR,this.uuid=Lr.generateUUID(),this.duration<0&&this.resetDuration()}function $te(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dv;case"vector":case"vector2":case"vector3":case"vector4":return Fv;case"color":return aD;case"quaternion":return ux;case"bool":case"boolean":return sD;case"string":return uD}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ene(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let n=$te(t.type);if(t.times===void 0){let i=[],s=[];Io.flattenJSON(t.keys,i,s,"value"),t.times=i,t.values=s}return n.parse!==void 0?n.parse(t):new n(t.name,t.times,t.values,t.interpolation)}Object.assign(yc,{parse:function(t){let n=[],i=t.tracks,s=1/(t.fps||1);for(let e=0,p=i.length;e!==p;++e)n.push(ene(i[e]).scale(s));let l=new yc(t.name,t.duration,n,t.blendMode);return l.uuid=t.uuid,l},toJSON:function(t){let n=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:n,uuid:t.uuid,blendMode:t.blendMode};for(let l=0,e=i.length;l!==e;++l)n.push(gl.toJSON(i[l]));return s},CreateFromMorphTargetSequence:function(t,n,i,s){let l=n.length,e=[];for(let p=0;p<l;p++){let v=[],w=[];v.push((p+l-1)%l,p,(p+1)%l),w.push(0,1,0);let E=Io.getKeyframeOrder(v);v=Io.sortedArray(v,1,E),w=Io.sortedArray(w,1,E),!s&&v[0]===0&&(v.push(l),w.push(w[0])),e.push(new Dv(".morphTargetInfluences["+n[p].name+"]",v,w).scale(1/i))}return new yc(t,-1,e)},findByName:function(t,n){let i=t;if(!Array.isArray(t)){let s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null},CreateClipsFromMorphTargetSequences:function(t,n,i){let s={},l=/^([\w-]*?)([\d]+)$/;for(let p=0,v=t.length;p<v;p++){let w=t[p],E=w.name.match(l);if(E&&E.length>1){let T=E[1],C=s[T];C||(s[T]=C=[]),C.push(w)}}let e=[];for(let p in s)e.push(yc.CreateFromMorphTargetSequence(p,s[p],n,i));return e},parseAnimation:function(t,n){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(T,C,R,B,A){if(R.length!==0){let H=[],G=[];Io.flattenJSON(R,H,G,B),H.length!==0&&A.push(new T(C,H,G))}},s=[],l=t.name||"default",e=t.fps||30,p=t.blendMode,v=t.length||-1,w=t.hierarchy||[];for(let T=0;T<w.length;T++){let C=w[T].keys;if(!C||C.length===0)continue;if(C[0].morphTargets){let R={},B;for(B=0;B<C.length;B++)if(C[B].morphTargets)for(let A=0;A<C[B].morphTargets.length;A++)R[C[B].morphTargets[A]]=-1;for(let A in R){let H=[],G=[];for(let O=0;O!==C[B].morphTargets.length;++O){let U=C[B];H.push(U.time),G.push(U.morphTarget===A?1:0)}s.push(new Dv(".morphTargetInfluence["+A+"]",H,G))}v=R.length*(e||1)}else{let R=".bones["+n[T].name+"]";i(Fv,R+".position",C,"pos",s),i(ux,R+".quaternion",C,"rot",s),i(Fv,R+".scale",C,"scl",s)}}if(s.length===0)return null;let E=new yc(l,v,s,p);return E}});Object.assign(yc.prototype,{resetDuration:function(){let t=this.tracks,n=0;for(let i=0,s=t.length;i!==s;++i){let l=this.tracks[i];n=Math.max(n,l.times[l.times.length-1])}return this.duration=n,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let n=0;n<this.tracks.length;n++)t=t&&this.tracks[n].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){let t=[];for(let n=0;n<this.tracks.length;n++)t.push(this.tracks[n].clone());return new yc(this.name,this.duration,t,this.blendMode)},toJSON:function(){return yc.toJSON(this)}});var cx={enabled:!1,files:{},add:function(t,n){if(this.enabled===!1)return;this.files[t]=n},get:function(t){return this.enabled===!1?void 0:this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function tne(t,n,i){let s=this,l=!1,e=0,p=0,v,w=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(E){p++,l===!1&&(s.onStart!==void 0&&s.onStart(E,e,p)),l=!0},this.itemEnd=function(E){e++,s.onProgress!==void 0&&s.onProgress(E,e,p),e===p&&(l=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(E){s.onError!==void 0&&s.onError(E)},this.resolveURL=function(E){return v?v(E):E},this.setURLModifier=function(E){return v=E,this},this.addHandler=function(E,T){return w.push(E,T),this},this.removeHandler=function(E){let T=w.indexOf(E);return T!==-1&&w.splice(T,2),this},this.getHandler=function(E){for(let T=0,C=w.length;T<C;T+=2){let R=w[T],B=w[T+1];if(R.global&&(R.lastIndex=0),R.test(E))return B}return null}}var nne=new tne;function ii(t){this.manager=t!==void 0?t:nne,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(ii.prototype,{load:function(){},loadAsync:function(t,n){let i=this;return new Promise(function(s,l){i.load(t,s,n,l)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var qf={};function Ia(t){ii.call(this,t)}Ia.prototype=Object.assign(Object.create(ii.prototype),{constructor:Ia,load:function(t,n,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);let l=this,e=cx.get(t);if(e!==void 0)return l.manager.itemStart(t),setTimeout(function(){n&&n(e),l.manager.itemEnd(t)},0),e;if(qf[t]!==void 0){qf[t].push({onLoad:n,onProgress:i,onError:s});return}let p=/^data:(.*?)(;base64)?,(.*)$/,v=t.match(p),w;if(v){let E=v[1],T=!!v[2],C=v[3];C=decodeURIComponent(C),T&&(C=atob(C));try{let R,B=(this.responseType||"").toLowerCase();switch(B){case"arraybuffer":case"blob":let A=new Uint8Array(C.length);for(let G=0;G<C.length;G++)A[G]=C.charCodeAt(G);B==="blob"?R=new Blob([A.buffer],{type:E}):R=A.buffer;break;case"document":let H=new DOMParser;R=H.parseFromString(C,E);break;case"json":R=JSON.parse(C);break;default:R=C;break}setTimeout(function(){n&&n(R),l.manager.itemEnd(t)},0)}catch(R){setTimeout(function(){s&&s(R),l.manager.itemError(t),l.manager.itemEnd(t)},0)}}else{qf[t]=[],qf[t].push({onLoad:n,onProgress:i,onError:s}),w=new XMLHttpRequest,w.open("GET",t,!0),w.addEventListener("load",function(E){let T=this.response,C=qf[t];if(delete qf[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),cx.add(t,T);for(let R=0,B=C.length;R<B;R++){let A=C[R];A.onLoad&&A.onLoad(T)}l.manager.itemEnd(t)}else{for(let R=0,B=C.length;R<B;R++){let A=C[R];A.onError&&A.onError(E)}l.manager.itemError(t),l.manager.itemEnd(t)}},!1),w.addEventListener("progress",function(E){let T=qf[t];for(let C=0,R=T.length;C<R;C++){let B=T[C];B.onProgress&&B.onProgress(E)}},!1),w.addEventListener("error",function(E){let T=qf[t];delete qf[t];for(let C=0,R=T.length;C<R;C++){let B=T[C];B.onError&&B.onError(E)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),w.addEventListener("abort",function(E){let T=qf[t];delete qf[t];for(let C=0,R=T.length;C<R;C++){let B=T[C];B.onError&&B.onError(E)}l.manager.itemError(t),l.manager.itemEnd(t)},!1),this.responseType!==void 0&&(w.responseType=this.responseType),this.withCredentials!==void 0&&(w.withCredentials=this.withCredentials),w.overrideMimeType&&w.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(let E in this.requestHeader)w.setRequestHeader(E,this.requestHeader[E]);w.send(null)}return l.manager.itemStart(t),w},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}});function z9(t){ii.call(this,t)}z9.prototype=Object.assign(Object.create(ii.prototype),{constructor:z9,load:function(t,n,i,s){let l=this,e=new Ia(l.manager);e.setPath(l.path),e.setRequestHeader(l.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){try{n(l.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),l.manager.itemError(t)}},i,s)},parse:function(t){let n=[];for(let i=0;i<t.length;i++){let s=yc.parse(t[i]);n.push(s)}return n}});function Y9(t){ii.call(this,t)}Y9.prototype=Object.assign(Object.create(ii.prototype),{constructor:Y9,load:function(t,n,i,s){let l=this,e=[],p=new Kw;p.image=e;let v=new Ia(this.manager);v.setPath(this.path),v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setWithCredentials(l.withCredentials);let w=0;function E(T){v.load(t[T],function(C){let R=l.parse(C,!0);e[T]={width:R.width,height:R.height,format:R.format,mipmaps:R.mipmaps},w+=1,w===6&&(R.mipmapCount===1&&(p.minFilter=mo),p.format=R.format,p.needsUpdate=!0,n&&n(p))},i,s)}if(Array.isArray(t))for(let T=0,C=t.length;T<C;++T)E(T);else v.load(t,function(T){let C=l.parse(T,!0);if(C.isCubemap){let R=C.mipmaps.length/C.mipmapCount;for(let B=0;B<R;B++){e[B]={mipmaps:[]};for(let A=0;A<C.mipmapCount;A++)e[B].mipmaps.push(C.mipmaps[B*C.mipmapCount+A]),e[B].format=C.format,e[B].width=C.width,e[B].height=C.height}}else p.image.width=C.width,p.image.height=C.height,p.mipmaps=C.mipmaps;C.mipmapCount===1&&(p.minFilter=mo),p.format=C.format,p.needsUpdate=!0,n&&n(p)},i,s);return p}});function qS(t){ii.call(this,t)}qS.prototype=Object.assign(Object.create(ii.prototype),{constructor:qS,load:function(t,n,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);let l=this,e=cx.get(t);if(e!==void 0)return l.manager.itemStart(t),setTimeout(function(){n&&n(e),l.manager.itemEnd(t)},0),e;let p=document.createElementNS("http://www.w3.org/1999/xhtml","img");function v(){p.removeEventListener("load",v,!1),p.removeEventListener("error",w,!1),cx.add(t,this),n&&n(this),l.manager.itemEnd(t)}function w(E){p.removeEventListener("load",v,!1),p.removeEventListener("error",w,!1),s&&s(E),l.manager.itemError(t),l.manager.itemEnd(t)}return p.addEventListener("load",v,!1),p.addEventListener("error",w,!1),t.substr(0,5)!=="data:"&&(this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin)),l.manager.itemStart(t),p.src=t,p}});function cD(t){ii.call(this,t)}cD.prototype=Object.assign(Object.create(ii.prototype),{constructor:cD,load:function(t,n,i,s){let l=new _m,e=new qS(this.manager);e.setCrossOrigin(this.crossOrigin),e.setPath(this.path);let p=0;function v(w){e.load(t[w],function(E){l.images[w]=E,p++,p===6&&(l.needsUpdate=!0,n&&n(l))},void 0,s)}for(let w=0;w<t.length;++w)v(w);return l}});function V9(t){ii.call(this,t)}V9.prototype=Object.assign(Object.create(ii.prototype),{constructor:V9,load:function(t,n,i,s){let l=this,e=new jy,p=new Ia(this.manager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(l.withCredentials),p.load(t,function(v){let w=l.parse(v);if(!w)return;w.image!==void 0?e.image=w.image:w.data!==void 0&&(e.image.width=w.width,e.image.height=w.height,e.image.data=w.data),e.wrapS=w.wrapS!==void 0?w.wrapS:jl,e.wrapT=w.wrapT!==void 0?w.wrapT:jl,e.magFilter=w.magFilter!==void 0?w.magFilter:mo,e.minFilter=w.minFilter!==void 0?w.minFilter:mo,e.anisotropy=w.anisotropy!==void 0?w.anisotropy:1,w.format!==void 0&&(e.format=w.format),w.type!==void 0&&(e.type=w.type),w.mipmaps!==void 0&&(e.mipmaps=w.mipmaps,e.minFilter=wv),w.mipmapCount===1&&(e.minFilter=mo),e.needsUpdate=!0,n&&n(e,w)},i,s),e}});function rA(t){ii.call(this,t)}rA.prototype=Object.assign(Object.create(ii.prototype),{constructor:rA,load:function(t,n,i,s){let l=new Yi,e=new qS(this.manager);return e.setCrossOrigin(this.crossOrigin),e.setPath(this.path),e.load(t,function(p){l.image=p;let v=t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0;l.format=v?lf:Ql,l.needsUpdate=!0,n!==void 0&&n(l)},i,s),l}});function Wn(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Wn.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,n){let i=this.getUtoTmapping(t);return this.getPoint(i,n)},getPoints:function(t=5){let n=[];for(let i=0;i<=t;i++)n.push(this.getPoint(i/t));return n},getSpacedPoints:function(t=5){let n=[];for(let i=0;i<=t;i++)n.push(this.getPointAt(i/t));return n},getLength:function(){let t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n=[],i,s=this.getPoint(0),l=0;n.push(0);for(let e=1;e<=t;e++)i=this.getPoint(e/t),l+=i.distanceTo(s),n.push(l),s=i;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,n){let i=this.getLengths(),s=0,l=i.length,e;n?e=n:e=t*i[l-1];let p=0,v=l-1,w;for(;p<=v;)if(s=Math.floor(p+(v-p)/2),w=i[s]-e,w<0)p=s+1;else if(w>0)v=s-1;else{v=s;break}if(s=v,i[s]===e)return s/(l-1);let E=i[s],T=i[s+1],C=T-E,R=(e-E)/C,B=(s+R)/(l-1);return B},getTangent:function(t,n){let i=1e-4,s=t-i,l=t+i;s<0&&(s=0),l>1&&(l=1);let e=this.getPoint(s),p=this.getPoint(l),v=n||(e.isVector2?new St:new Ue);return v.copy(p).sub(e).normalize(),v},getTangentAt:function(t,n){let i=this.getUtoTmapping(t);return this.getTangent(i,n)},computeFrenetFrames:function(t,n){let i=new Ue,s=[],l=[],e=[],p=new Ue,v=new Dr;for(let R=0;R<=t;R++){let B=R/t;s[R]=this.getTangentAt(B,new Ue),s[R].normalize()}l[0]=new Ue,e[0]=new Ue;let w=Number.MAX_VALUE,E=Math.abs(s[0].x),T=Math.abs(s[0].y),C=Math.abs(s[0].z);E<=w&&(w=E,i.set(1,0,0)),T<=w&&(w=T,i.set(0,1,0)),C<=w&&i.set(0,0,1),p.crossVectors(s[0],i).normalize(),l[0].crossVectors(s[0],p),e[0].crossVectors(s[0],l[0]);for(let R=1;R<=t;R++){if(l[R]=l[R-1].clone(),e[R]=e[R-1].clone(),p.crossVectors(s[R-1],s[R]),p.length()>Number.EPSILON){p.normalize();let B=Math.acos(Lr.clamp(s[R-1].dot(s[R]),-1,1));l[R].applyMatrix4(v.makeRotationAxis(p,B))}e[R].crossVectors(s[R],l[R])}if(n===!0){let R=Math.acos(Lr.clamp(l[0].dot(l[t]),-1,1));R/=t,s[0].dot(p.crossVectors(l[0],l[t]))>0&&(R=-R);for(let B=1;B<=t;B++)l[B].applyMatrix4(v.makeRotationAxis(s[B],R*B)),e[B].crossVectors(s[B],l[B])}return{tangents:s,normals:l,binormals:e}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){let t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}});function hf(t,n,i,s,l,e,p,v){Wn.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=n||0,this.xRadius=i||1,this.yRadius=s||1,this.aStartAngle=l||0,this.aEndAngle=e||2*Math.PI,this.aClockwise=p||!1,this.aRotation=v||0}hf.prototype=Object.create(Wn.prototype);hf.prototype.constructor=hf;hf.prototype.isEllipseCurve=!0;hf.prototype.getPoint=function(t,n){let i=n||new St,s=Math.PI*2,l=this.aEndAngle-this.aStartAngle,e=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=s;for(;l>s;)l-=s;l<Number.EPSILON&&(e?l=0:l=s),this.aClockwise===!0&&!e&&(l===s?l=-s:l=l-s);let p=this.aStartAngle+t*l,v=this.aX+this.xRadius*Math.cos(p),w=this.aY+this.yRadius*Math.sin(p);if(this.aRotation!==0){let E=Math.cos(this.aRotation),T=Math.sin(this.aRotation),C=v-this.aX,R=w-this.aY;v=C*E-R*T+this.aX,w=C*T+R*E+this.aY}return i.set(v,w)};hf.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};hf.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t};hf.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};function iA(t,n,i,s,l,e){hf.call(this,t,n,i,i,s,l,e),this.type="ArcCurve"}iA.prototype=Object.create(hf.prototype);iA.prototype.constructor=iA;iA.prototype.isArcCurve=!0;function fD(){let t=0,n=0,i=0,s=0;function l(e,p,v,w){t=e,n=v,i=-3*e+3*p-2*v-w,s=2*e-2*p+v+w}return{initCatmullRom:function(e,p,v,w,E){l(p,v,E*(v-e),E*(w-p))},initNonuniformCatmullRom:function(e,p,v,w,E,T,C){let R=(p-e)/E-(v-e)/(E+T)+(v-p)/T,B=(v-p)/T-(w-p)/(T+C)+(w-v)/C;R*=T,B*=T,l(p,v,R,B)},calc:function(e){let p=e*e,v=p*e;return t+n*e+i*p+s*v}}}var JS=new Ue,hD=new fD,dD=new fD,pD=new fD;function Kl(t=[],n=!1,i="centripetal",s=.5){Wn.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=n,this.curveType=i,this.tension=s}Kl.prototype=Object.create(Wn.prototype);Kl.prototype.constructor=Kl;Kl.prototype.isCatmullRomCurve3=!0;Kl.prototype.getPoint=function(t,n=new Ue){let i=n,s=this.points,l=s.length,e=(l-(this.closed?0:1))*t,p=Math.floor(e),v=e-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/l)+1)*l:v===0&&p===l-1&&(p=l-2,v=1);let w,E;this.closed||p>0?w=s[(p-1)%l]:(JS.subVectors(s[0],s[1]).add(s[0]),w=JS);let T=s[p%l],C=s[(p+1)%l];if(this.closed||p+2<l?E=s[(p+2)%l]:(JS.subVectors(s[l-1],s[l-2]).add(s[l-1]),E=JS),this.curveType==="centripetal"||this.curveType==="chordal"){let R=this.curveType==="chordal"?.5:.25,B=Math.pow(w.distanceToSquared(T),R),A=Math.pow(T.distanceToSquared(C),R),H=Math.pow(C.distanceToSquared(E),R);A<1e-4&&(A=1),B<1e-4&&(B=A),H<1e-4&&(H=A),hD.initNonuniformCatmullRom(w.x,T.x,C.x,E.x,B,A,H),dD.initNonuniformCatmullRom(w.y,T.y,C.y,E.y,B,A,H),pD.initNonuniformCatmullRom(w.z,T.z,C.z,E.z,B,A,H)}else this.curveType==="catmullrom"&&(hD.initCatmullRom(w.x,T.x,C.x,E.x,this.tension),dD.initCatmullRom(w.y,T.y,C.y,E.y,this.tension),pD.initCatmullRom(w.z,T.z,C.z,E.z,this.tension));return i.set(hD.calc(v),dD.calc(v),pD.calc(v)),i};Kl.prototype.copy=function(t){Wn.prototype.copy.call(this,t),this.points=[];for(let n=0,i=t.points.length;n<i;n++){let s=t.points[n];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};Kl.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);t.points=[];for(let n=0,i=this.points.length;n<i;n++){let s=this.points[n];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t};Kl.prototype.fromJSON=function(t){Wn.prototype.fromJSON.call(this,t),this.points=[];for(let n=0,i=t.points.length;n<i;n++){let s=t.points[n];this.points.push(new Ue().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};function W9(t,n,i,s,l){let e=(s-n)*.5,p=(l-i)*.5,v=t*t,w=t*v;return(2*i-2*s+e+p)*w+(-3*i+3*s-2*e-p)*v+e*t+i}function rne(t,n){let i=1-t;return i*i*n}function ine(t,n){return 2*(1-t)*t*n}function one(t,n){return t*t*n}function oA(t,n,i,s){return rne(t,n)+ine(t,i)+one(t,s)}function sne(t,n){let i=1-t;return i*i*i*n}function ane(t,n){let i=1-t;return 3*i*i*t*n}function lne(t,n){return 3*(1-t)*t*t*n}function une(t,n){return t*t*t*n}function sA(t,n,i,s,l){return sne(t,n)+ane(t,i)+lne(t,s)+une(t,l)}function ch(t=new St,n=new St,i=new St,s=new St){Wn.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=n,this.v2=i,this.v3=s}ch.prototype=Object.create(Wn.prototype);ch.prototype.constructor=ch;ch.prototype.isCubicBezierCurve=!0;ch.prototype.getPoint=function(t,n=new St){let i=n,s=this.v0,l=this.v1,e=this.v2,p=this.v3;return i.set(sA(t,s.x,l.x,e.x,p.x),sA(t,s.y,l.y,e.y,p.y)),i};ch.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};ch.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};ch.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function Pd(t=new Ue,n=new Ue,i=new Ue,s=new Ue){Wn.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=n,this.v2=i,this.v3=s}Pd.prototype=Object.create(Wn.prototype);Pd.prototype.constructor=Pd;Pd.prototype.isCubicBezierCurve3=!0;Pd.prototype.getPoint=function(t,n=new Ue){let i=n,s=this.v0,l=this.v1,e=this.v2,p=this.v3;return i.set(sA(t,s.x,l.x,e.x,p.x),sA(t,s.y,l.y,e.y,p.y),sA(t,s.z,l.z,e.z,p.z)),i};Pd.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};Pd.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};Pd.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function xc(t=new St,n=new St){Wn.call(this),this.type="LineCurve",this.v1=t,this.v2=n}xc.prototype=Object.create(Wn.prototype);xc.prototype.constructor=xc;xc.prototype.isLineCurve=!0;xc.prototype.getPoint=function(t,n=new St){let i=n;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i};xc.prototype.getPointAt=function(t,n){return this.getPoint(t,n)};xc.prototype.getTangent=function(t,n){let i=n||new St;return i.copy(this.v2).sub(this.v1).normalize(),i};xc.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};xc.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};xc.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function fh(t=new Ue,n=new Ue){Wn.call(this),this.type="LineCurve3",this.v1=t,this.v2=n}fh.prototype=Object.create(Wn.prototype);fh.prototype.constructor=fh;fh.prototype.isLineCurve3=!0;fh.prototype.getPoint=function(t,n=new Ue){let i=n;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i};fh.prototype.getPointAt=function(t,n){return this.getPoint(t,n)};fh.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};fh.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};fh.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function hh(t=new St,n=new St,i=new St){Wn.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=n,this.v2=i}hh.prototype=Object.create(Wn.prototype);hh.prototype.constructor=hh;hh.prototype.isQuadraticBezierCurve=!0;hh.prototype.getPoint=function(t,n=new St){let i=n,s=this.v0,l=this.v1,e=this.v2;return i.set(oA(t,s.x,l.x,e.x),oA(t,s.y,l.y,e.y)),i};hh.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};hh.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};hh.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function Rd(t=new Ue,n=new Ue,i=new Ue){Wn.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=n,this.v2=i}Rd.prototype=Object.create(Wn.prototype);Rd.prototype.constructor=Rd;Rd.prototype.isQuadraticBezierCurve3=!0;Rd.prototype.getPoint=function(t,n=new Ue){let i=n,s=this.v0,l=this.v1,e=this.v2;return i.set(oA(t,s.x,l.x,e.x),oA(t,s.y,l.y,e.y),oA(t,s.z,l.z,e.z)),i};Rd.prototype.copy=function(t){return Wn.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};Rd.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};Rd.prototype.fromJSON=function(t){return Wn.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function dh(t=[]){Wn.call(this),this.type="SplineCurve",this.points=t}dh.prototype=Object.create(Wn.prototype);dh.prototype.constructor=dh;dh.prototype.isSplineCurve=!0;dh.prototype.getPoint=function(t,n=new St){let i=n,s=this.points,l=(s.length-1)*t,e=Math.floor(l),p=l-e,v=s[e===0?e:e-1],w=s[e],E=s[e>s.length-2?s.length-1:e+1],T=s[e>s.length-3?s.length-1:e+2];return i.set(W9(p,v.x,w.x,E.x,T.x),W9(p,v.y,w.y,E.y,T.y)),i};dh.prototype.copy=function(t){Wn.prototype.copy.call(this,t),this.points=[];for(let n=0,i=t.points.length;n<i;n++){let s=t.points[n];this.points.push(s.clone())}return this};dh.prototype.toJSON=function(){let t=Wn.prototype.toJSON.call(this);t.points=[];for(let n=0,i=this.points.length;n<i;n++){let s=this.points[n];t.points.push(s.toArray())}return t};dh.prototype.fromJSON=function(t){Wn.prototype.fromJSON.call(this,t),this.points=[];for(let n=0,i=t.points.length;n<i;n++){let s=t.points[n];this.points.push(new St().fromArray(s))}return this};var cne=Object.freeze({__proto__:null,ArcCurve:iA,CatmullRomCurve3:Kl,CubicBezierCurve:ch,CubicBezierCurve3:Pd,EllipseCurve:hf,LineCurve:xc,LineCurve3:fh,QuadraticBezierCurve:hh,QuadraticBezierCurve3:Rd,SplineCurve:dh});function Cm(){Wn.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Cm.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Cm,add:function(t){this.curves.push(t)},closePath:function(){let t=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);t.equals(n)||this.curves.push(new xc(n,t))},getPoint:function(t){let n=t*this.getLength(),i=this.getCurveLengths(),s=0;for(;s<i.length;){if(i[s]>=n){let l=i[s]-n,e=this.curves[s],p=e.getLength(),v=p===0?0:1-l/p;return e.getPointAt(v)}s++}return null},getLength:function(){let t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let t=[],n=0;for(let i=0,s=this.curves.length;i<s;i++)n+=this.curves[i].getLength(),t.push(n);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){let n=[];for(let i=0;i<=t;i++)n.push(this.getPoint(i/t));return this.autoClose&&n.push(n[0]),n},getPoints:function(t=12){let n=[],i;for(let s=0,l=this.curves;s<l.length;s++){let e=l[s],p=e&&e.isEllipseCurve?t*2:e&&(e.isLineCurve||e.isLineCurve3)?1:e&&e.isSplineCurve?t*e.points.length:t,v=e.getPoints(p);for(let w=0;w<v.length;w++){let E=v[w];if(i&&i.equals(E))continue;n.push(E),i=E}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Wn.prototype.copy.call(this,t),this.curves=[];for(let n=0,i=t.curves.length;n<i;n++){let s=t.curves[n];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){let t=Wn.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let n=0,i=this.curves.length;n<i;n++){let s=this.curves[n];t.curves.push(s.toJSON())}return t},fromJSON:function(t){Wn.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let n=0,i=t.curves.length;n<i;n++){let s=t.curves[n];this.curves.push(new cne[s.type]().fromJSON(s))}return this}});function Ec(t){Cm.call(this),this.type="Path",this.currentPoint=new St,t&&this.setFromPoints(t)}Ec.prototype=Object.assign(Object.create(Cm.prototype),{constructor:Ec,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let n=1,i=t.length;n<i;n++)this.lineTo(t[n].x,t[n].y);return this},moveTo:function(t,n){return this.currentPoint.set(t,n),this},lineTo:function(t,n){let i=new xc(this.currentPoint.clone(),new St(t,n));return this.curves.push(i),this.currentPoint.set(t,n),this},quadraticCurveTo:function(t,n,i,s){let l=new hh(this.currentPoint.clone(),new St(t,n),new St(i,s));return this.curves.push(l),this.currentPoint.set(i,s),this},bezierCurveTo:function(t,n,i,s,l,e){let p=new ch(this.currentPoint.clone(),new St(t,n),new St(i,s),new St(l,e));return this.curves.push(p),this.currentPoint.set(l,e),this},splineThru:function(t){let n=[this.currentPoint.clone()].concat(t),i=new dh(n);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,n,i,s,l,e){let p=this.currentPoint.x,v=this.currentPoint.y;return this.absarc(t+p,n+v,i,s,l,e),this},absarc:function(t,n,i,s,l,e){return this.absellipse(t,n,i,i,s,l,e),this},ellipse:function(t,n,i,s,l,e,p,v){let w=this.currentPoint.x,E=this.currentPoint.y;return this.absellipse(t+w,n+E,i,s,l,e,p,v),this},absellipse:function(t,n,i,s,l,e,p,v){let w=new hf(t,n,i,s,l,e,p,v);if(this.curves.length>0){let T=w.getPoint(0);T.equals(this.currentPoint)||this.lineTo(T.x,T.y)}this.curves.push(w);let E=w.getPoint(1);return this.currentPoint.copy(E),this},copy:function(t){return Cm.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){let t=Cm.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Cm.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}});function fx(t){Ec.call(this,t),this.uuid=Lr.generateUUID(),this.type="Shape",this.holes=[]}fx.prototype=Object.assign(Object.create(Ec.prototype),{constructor:fx,getPointsHoles:function(t){let n=[];for(let i=0,s=this.holes.length;i<s;i++)n[i]=this.holes[i].getPoints(t);return n},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Ec.prototype.copy.call(this,t),this.holes=[];for(let n=0,i=t.holes.length;n<i;n++){let s=t.holes[n];this.holes.push(s.clone())}return this},toJSON:function(){let t=Ec.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let n=0,i=this.holes.length;n<i;n++){let s=this.holes[n];t.holes.push(s.toJSON())}return t},fromJSON:function(t){Ec.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let n=0,i=t.holes.length;n<i;n++){let s=t.holes[n];this.holes.push(new Ec().fromJSON(s))}return this}});function bo(t,n=1){Vn.call(this),this.type="Light",this.color=new _n(t),this.intensity=n}bo.prototype=Object.assign(Object.create(Vn.prototype),{constructor:bo,isLight:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){let n=Vn.prototype.toJSON.call(this,t);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}});function j9(t,n,i){bo.call(this,t,i),this.type="HemisphereLight",this.position.copy(Vn.DefaultUp),this.updateMatrix(),this.groundColor=new _n(n)}j9.prototype=Object.assign(Object.create(bo.prototype),{constructor:j9,isHemisphereLight:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}});function Dd(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new St(512,512),this.map=null,this.mapPass=null,this.matrix=new Dr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kw,this._frameExtents=new St(1,1),this._viewportCount=1,this._viewports=[new Ki(0,0,1,1)]}Object.assign(Dd.prototype,{_projScreenMatrix:new Dr,_lightPositionWorld:new Ue,_lookTarget:new Ue,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){let n=this.camera,i=this.matrix,s=this._projScreenMatrix,l=this._lookTarget,e=this._lightPositionWorld;e.setFromMatrixPosition(t.matrixWorld),n.position.copy(e),l.setFromMatrixPosition(t.target.matrixWorld),n.lookAt(l),n.updateMatrixWorld(),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n.projectionMatrix),i.multiply(n.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){let t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}});function mD(){Dd.call(this,new Os(50,1,.5,500)),this.focus=1}mD.prototype=Object.assign(Object.create(Dd.prototype),{constructor:mD,isSpotLightShadow:!0,updateMatrices:function(t){let n=this.camera,i=Lr.RAD2DEG*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,l=t.distance||n.far;(i!==n.fov||s!==n.aspect||l!==n.far)&&(n.fov=i,n.aspect=s,n.far=l,n.updateProjectionMatrix()),Dd.prototype.updateMatrices.call(this,t)}});function ZS(t,n,i,s,l,e){bo.call(this,t,n),this.type="SpotLight",this.position.copy(Vn.DefaultUp),this.updateMatrix(),this.target=new Vn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(p){this.intensity=p/Math.PI}}),this.distance=i!==void 0?i:0,this.angle=s!==void 0?s:Math.PI/3,this.penumbra=l!==void 0?l:0,this.decay=e!==void 0?e:1,this.shadow=new mD}ZS.prototype=Object.assign(Object.create(bo.prototype),{constructor:ZS,isSpotLight:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function vD(){Dd.call(this,new Os(90,1,.5,500)),this._frameExtents=new St(4,2),this._viewportCount=6,this._viewports=[new Ki(2,1,1,1),new Ki(0,1,1,1),new Ki(3,1,1,1),new Ki(1,1,1,1),new Ki(3,0,1,1),new Ki(1,0,1,1)],this._cubeDirections=[new Ue(1,0,0),new Ue(-1,0,0),new Ue(0,0,1),new Ue(0,0,-1),new Ue(0,1,0),new Ue(0,-1,0)],this._cubeUps=[new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,0,1),new Ue(0,0,-1)]}vD.prototype=Object.assign(Object.create(Dd.prototype),{constructor:vD,isPointLightShadow:!0,updateMatrices:function(t,n=0){let i=this.camera,s=this.matrix,l=this._lightPositionWorld,e=this._lookTarget,p=this._projScreenMatrix;l.setFromMatrixPosition(t.matrixWorld),i.position.copy(l),e.copy(i.position),e.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(e),i.updateMatrixWorld(),s.makeTranslation(-l.x,-l.y,-l.z),p.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(p)}});function KS(t,n,i,s){bo.call(this,t,n),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(l){this.intensity=l/(4*Math.PI)}}),this.distance=i!==void 0?i:0,this.decay=s!==void 0?s:1,this.shadow=new vD}KS.prototype=Object.assign(Object.create(bo.prototype),{constructor:KS,isPointLight:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}});function Bv(t,n,i,s,l,e){Am.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t!==void 0?t:-1,this.right=n!==void 0?n:1,this.top=i!==void 0?i:1,this.bottom=s!==void 0?s:-1,this.near=l!==void 0?l:.1,this.far=e!==void 0?e:2e3,this.updateProjectionMatrix()}Bv.prototype=Object.assign(Object.create(Am.prototype),{constructor:Bv,isOrthographicCamera:!0,copy:function(t,n){return Am.prototype.copy.call(this,t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this},setViewOffset:function(t,n,i,s,l,e){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=l,this.view.height=e,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2,l=i-t,e=i+t,p=s+n,v=s-n;if(this.view!==null&&this.view.enabled){let w=(this.right-this.left)/this.view.fullWidth/this.zoom,E=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=w*this.view.offsetX,e=l+w*this.view.width,p-=E*this.view.offsetY,v=p-E*this.view.height}this.projectionMatrix.makeOrthographic(l,e,p,v,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){let n=Vn.prototype.toJSON.call(this,t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}});function gD(){Dd.call(this,new Bv(-5,5,5,-5,.5,500))}gD.prototype=Object.assign(Object.create(Dd.prototype),{constructor:gD,isDirectionalLightShadow:!0,updateMatrices:function(t){Dd.prototype.updateMatrices.call(this,t)}});function $S(t,n){bo.call(this,t,n),this.type="DirectionalLight",this.position.copy(Vn.DefaultUp),this.updateMatrix(),this.target=new Vn,this.shadow=new gD}$S.prototype=Object.assign(Object.create(bo.prototype),{constructor:$S,isDirectionalLight:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function Q9(t,n){bo.call(this,t,n),this.type="AmbientLight"}Q9.prototype=Object.assign(Object.create(bo.prototype),{constructor:Q9,isAmbientLight:!0});function q9(t,n,i,s){bo.call(this,t,n),this.type="RectAreaLight",this.width=i!==void 0?i:10,this.height=s!==void 0?s:10}q9.prototype=Object.assign(Object.create(bo.prototype),{constructor:q9,isRectAreaLight:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){let n=bo.prototype.toJSON.call(this,t);return n.object.width=this.width,n.object.height=this.height,n}});var J9=class{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let n=0;n<9;n++)this.coefficients.push(new Ue)}set(n){for(let i=0;i<9;i++)this.coefficients[i].copy(n[i]);return this}zero(){for(let n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this}getAt(n,i){let s=n.x,l=n.y,e=n.z,p=this.coefficients;return i.copy(p[0]).multiplyScalar(.282095),i.addScaledVector(p[1],.488603*l),i.addScaledVector(p[2],.488603*e),i.addScaledVector(p[3],.488603*s),i.addScaledVector(p[4],1.092548*(s*l)),i.addScaledVector(p[5],1.092548*(l*e)),i.addScaledVector(p[6],.315392*(3*e*e-1)),i.addScaledVector(p[7],1.092548*(s*e)),i.addScaledVector(p[8],.546274*(s*s-l*l)),i}getIrradianceAt(n,i){let s=n.x,l=n.y,e=n.z,p=this.coefficients;return i.copy(p[0]).multiplyScalar(.886227),i.addScaledVector(p[1],2*.511664*l),i.addScaledVector(p[2],2*.511664*e),i.addScaledVector(p[3],2*.511664*s),i.addScaledVector(p[4],2*.429043*s*l),i.addScaledVector(p[5],2*.429043*l*e),i.addScaledVector(p[6],.743125*e*e-.247708),i.addScaledVector(p[7],2*.429043*s*e),i.addScaledVector(p[8],.429043*(s*s-l*l)),i}add(n){for(let i=0;i<9;i++)this.coefficients[i].add(n.coefficients[i]);return this}addScaledSH(n,i){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(n.coefficients[s],i);return this}scale(n){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(n);return this}lerp(n,i){for(let s=0;s<9;s++)this.coefficients[s].lerp(n.coefficients[s],i);return this}equals(n){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(n.coefficients[i]))return!1;return!0}copy(n){return this.set(n.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(n,i=0){let s=this.coefficients;for(let l=0;l<9;l++)s[l].fromArray(n,i+l*3);return this}toArray(n=[],i=0){let s=this.coefficients;for(let l=0;l<9;l++)s[l].toArray(n,i+l*3);return n}static getBasisAt(n,i){let s=n.x,l=n.y,e=n.z;i[0]=.282095,i[1]=.488603*l,i[2]=.488603*e,i[3]=.488603*s,i[4]=1.092548*s*l,i[5]=1.092548*l*e,i[6]=.315392*(3*e*e-1),i[7]=1.092548*s*e,i[8]=.546274*(s*s-l*l)}};function ph(t,n){bo.call(this,void 0,n),this.type="LightProbe",this.sh=t!==void 0?t:new J9}ph.prototype=Object.assign(Object.create(bo.prototype),{constructor:ph,isLightProbe:!0,copy:function(t){return bo.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){let n=bo.prototype.toJSON.call(this,t);return n.object.sh=this.sh.toArray(),n}});function Z9(t){ii.call(this,t),this.textures={}}Z9.prototype=Object.assign(Object.create(ii.prototype),{constructor:Z9,load:function(t,n,i,s){let l=this,e=new Ia(l.manager);e.setPath(l.path),e.setRequestHeader(l.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){try{n(l.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),l.manager.itemError(t)}},i,s)},parse:function(t){let n=this.textures;function i(l){return n[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),n[l]}let s=new Kte[t.type];if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=new _n().setHex(t.sheen)),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==1&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(s.skinning=t.skinning),t.morphTargets!==void 0&&(s.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(s.morphNormals=t.morphNormals),t.dithering!==void 0&&(s.dithering=t.dithering),t.vertexTangents!==void 0&&(s.vertexTangents=t.vertexTangents),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(let l in t.uniforms){let e=t.uniforms[l];s.uniforms[l]={};switch(e.type){case"t":s.uniforms[l].value=i(e.value);break;case"c":s.uniforms[l].value=new _n().setHex(e.value);break;case"v2":s.uniforms[l].value=new St().fromArray(e.value);break;case"v3":s.uniforms[l].value=new Ue().fromArray(e.value);break;case"v4":s.uniforms[l].value=new Ki().fromArray(e.value);break;case"m3":s.uniforms[l].value=new rs().fromArray(e.value);break;case"m4":s.uniforms[l].value=new Dr().fromArray(e.value);break;default:s.uniforms[l].value=e.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(let l in t.extensions)s.extensions[l]=t.extensions[l];if(t.shading!==void 0&&(s.flatShading=t.shading===1),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let l=t.normalScale;Array.isArray(l)===!1&&(l=[l,l]),s.normalScale=new St().fromArray(l)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new St().fromArray(t.clearcoatNormalScale)),t.transmission!==void 0&&(s.transmission=t.transmission),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),s},setTextures:function(t){return this.textures=t,this}});var Nv={decodeText:function(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);let n="";for(let i=0,s=t.length;i<s;i++)n+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(n))}catch(i){return n}},extractUrlBase:function(t){let n=t.lastIndexOf("/");return n===-1?"./":t.substr(0,n+1)}};function eT(){Mi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}eT.prototype=Object.assign(Object.create(Mi.prototype),{constructor:eT,isInstancedBufferGeometry:!0,copy:function(t){return Mi.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){let t=Mi.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}});function yD(t,n,i,s){typeof i=="number"&&(s=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),cr.call(this,t,n,i),this.meshPerAttribute=s||1}yD.prototype=Object.assign(Object.create(cr.prototype),{constructor:yD,isInstancedBufferAttribute:!0,copy:function(t){return cr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){let t=cr.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}});function K9(t){ii.call(this,t)}K9.prototype=Object.assign(Object.create(ii.prototype),{constructor:K9,load:function(t,n,i,s){let l=this,e=new Ia(l.manager);e.setPath(l.path),e.setRequestHeader(l.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){try{n(l.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),l.manager.itemError(t)}},i,s)},parse:function(t){let n={},i={};function s(R,B){if(n[B]!==void 0)return n[B];let A=R.interleavedBuffers,H=A[B],G=l(R,H.buffer),O=xS(H.type,G),U=new Mu(O,H.stride);return U.uuid=H.uuid,n[B]=U,U}function l(R,B){if(i[B]!==void 0)return i[B];let A=R.arrayBuffers,H=A[B],G=new Uint32Array(H).buffer;return i[B]=G,G}let e=t.isInstancedBufferGeometry?new eT:new Mi,p=t.data.index;if(p!==void 0){let R=xS(p.type,p.array);e.setIndex(new cr(R,1))}let v=t.data.attributes;for(let R in v){let B=v[R],A;if(B.isInterleavedBufferAttribute){let H=s(t.data,B.data);A=new Cd(H,B.itemSize,B.offset,B.normalized)}else{let H=xS(B.type,B.array),G=B.isInstancedBufferAttribute?yD:cr;A=new G(H,B.itemSize,B.normalized)}B.name!==void 0&&(A.name=B.name),e.setAttribute(R,A)}let w=t.data.morphAttributes;if(w)for(let R in w){let B=w[R],A=[];for(let H=0,G=B.length;H<G;H++){let O=B[H],U;if(O.isInterleavedBufferAttribute){let $=s(t.data,O.data);U=new Cd($,O.itemSize,O.offset,O.normalized)}else{let $=xS(O.type,O.array);U=new cr($,O.itemSize,O.normalized)}O.name!==void 0&&(U.name=O.name),A.push(U)}e.morphAttributes[R]=A}let E=t.data.morphTargetsRelative;E&&(e.morphTargetsRelative=!0);let T=t.data.groups||t.data.drawcalls||t.data.offsets;if(T!==void 0)for(let R=0,B=T.length;R!==B;++R){let A=T[R];e.addGroup(A.start,A.count,A.materialIndex)}let C=t.data.boundingSphere;if(C!==void 0){let R=new Ue;C.center!==void 0&&R.fromArray(C.center),e.boundingSphere=new Yf(R,C.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e}});function tT(t){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ii.call(this,t),this.options={premultiplyAlpha:"none"}}tT.prototype=Object.assign(Object.create(ii.prototype),{constructor:tT,isImageBitmapLoader:!0,setOptions:function(n){return this.options=n,this},load:function(t,n,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);let l=this,e=cx.get(t);if(e!==void 0)return l.manager.itemStart(t),setTimeout(function(){n&&n(e),l.manager.itemEnd(t)},0),e;let p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(t,p).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,l.options)}).then(function(v){cx.add(t,v),n&&n(v),l.manager.itemEnd(t)}).catch(function(v){s&&s(v),l.manager.itemError(t),l.manager.itemEnd(t)}),l.manager.itemStart(t)}});function mh(){this.type="ShapePath",this.color=new _n,this.subPaths=[],this.currentPath=null}Object.assign(mh.prototype,{moveTo:function(t,n){return this.currentPath=new Ec,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,n),this},lineTo:function(t,n){return this.currentPath.lineTo(t,n),this},quadraticCurveTo:function(t,n,i,s){return this.currentPath.quadraticCurveTo(t,n,i,s),this},bezierCurveTo:function(t,n,i,s,l,e){return this.currentPath.bezierCurveTo(t,n,i,s,l,e),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,n){function i(O){let U=[];for(let $=0,ie=O.length;$<ie;$++){let ue=O[$],K=new fx;K.curves=ue.curves,U.push(K)}return U}function s(O,U){let $=U.length,ie=!1;for(let ue=$-1,K=0;K<$;ue=K++){let ce=U[ue],ve=U[K],Ve=ve.x-ce.x,Me=ve.y-ce.y;if(Math.abs(Me)>Number.EPSILON){if(Me<0&&(ce=U[K],Ve=-Ve,ve=U[ue],Me=-Me),O.y<ce.y||O.y>ve.y)continue;if(O.y===ce.y){if(O.x===ce.x)return!0}else{let Ee=Me*(O.x-ce.x)-Ve*(O.y-ce.y);if(Ee===0)return!0;if(Ee<0)continue;ie=!ie}}else{if(O.y!==ce.y)continue;if(ve.x<=O.x&&O.x<=ce.x||ce.x<=O.x&&O.x<=ve.x)return!0}}return ie}let l=bm.isClockWise,e=this.subPaths;if(e.length===0)return[];if(n===!0)return i(e);let p,v,w,E=[];if(e.length===1)return v=e[0],w=new fx,w.curves=v.curves,E.push(w),E;let T=!l(e[0].getPoints());T=t?!T:T;let C=[],R=[],B=[],A=0,H;R[A]=void 0,B[A]=[];for(let O=0,U=e.length;O<U;O++)v=e[O],H=v.getPoints(),p=l(H),p=t?!p:p,p?(!T&&R[A]&&A++,R[A]={s:new fx,p:H},R[A].s.curves=v.curves,T&&A++,B[A]=[]):B[A].push({h:v,p:H[0]});if(!R[0])return i(e);if(R.length>1){let O=!1,U=[];for(let $=0,ie=R.length;$<ie;$++)C[$]=[];for(let $=0,ie=R.length;$<ie;$++){let ue=B[$];for(let K=0;K<ue.length;K++){let ce=ue[K],ve=!0;for(let Ve=0;Ve<R.length;Ve++)s(ce.p,R[Ve].p)&&($!==Ve&&U.push({froms:$,tos:Ve,hole:K}),ve?(ve=!1,C[Ve].push(ce)):O=!0);ve&&C[$].push(ce)}}U.length>0&&(O||(B=C))}let G;for(let O=0,U=R.length;O<U;O++){w=R[O].s,E.push(w),G=B[O];for(let $=0,ie=G.length;$<ie;$++)w.holes.push(G[$].h)}return E}});function $9(t){this.type="Font",this.data=t}Object.assign($9.prototype,{isFont:!0,generateShapes:function(t,n=100){let i=[],s=fne(t,n,this.data);for(let l=0,e=s.length;l<e;l++)Array.prototype.push.apply(i,s[l].toShapes());return i}});function fne(t,n,i){let s=Array.from?Array.from(t):String(t).split(""),l=n/i.resolution,e=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*l,p=[],v=0,w=0;for(let E=0;E<s.length;E++){let T=s[E];if(T===`
`)v=0,w-=e;else{let C=hne(T,l,v,w,i);v+=C.offsetX,p.push(C.path)}}return p}function hne(t,n,i,s,l){let e=l.glyphs[t]||l.glyphs["?"];if(!e){console.error('THREE.Font: character "'+t+'" does not exists in font family '+l.familyName+".");return}let p=new mh,v,w,E,T,C,R,B,A;if(e.o){let H=e._cachedOutline||(e._cachedOutline=e.o.split(" "));for(let G=0,O=H.length;G<O;){let U=H[G++];switch(U){case"m":v=H[G++]*n+i,w=H[G++]*n+s,p.moveTo(v,w);break;case"l":v=H[G++]*n+i,w=H[G++]*n+s,p.lineTo(v,w);break;case"q":E=H[G++]*n+i,T=H[G++]*n+s,C=H[G++]*n+i,R=H[G++]*n+s,p.quadraticCurveTo(C,R,E,T);break;case"b":E=H[G++]*n+i,T=H[G++]*n+s,C=H[G++]*n+i,R=H[G++]*n+s,B=H[G++]*n+i,A=H[G++]*n+s,p.bezierCurveTo(C,R,B,A,E,T);break}}}return{offsetX:e.ha*n,path:p}}function eU(t){ii.call(this,t)}eU.prototype=Object.assign(Object.create(ii.prototype),{constructor:eU,load:function(t,n,i,s){let l=this,e=new Ia(this.manager);e.setPath(this.path),e.setRequestHeader(this.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){let v;try{v=JSON.parse(p)}catch(E){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),v=JSON.parse(p.substring(65,p.length-2))}let w=l.parse(v);n&&n(w)},i,s)},parse:function(t){return new $9(t)}});var nT,dne={getContext:function(){return nT===void 0&&(nT=new(window.AudioContext||window.webkitAudioContext)),nT},setContext:function(t){nT=t}};function xD(t){ii.call(this,t)}xD.prototype=Object.assign(Object.create(ii.prototype),{constructor:xD,load:function(t,n,i,s){let l=this,e=new Ia(l.manager);e.setResponseType("arraybuffer"),e.setPath(l.path),e.setRequestHeader(l.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){try{let v=p.slice(0),w=dne.getContext();w.decodeAudioData(v,function(E){n(E)})}catch(v){s?s(v):console.error(v),l.manager.itemError(t)}},i,s)}});function tU(t,n,i){ph.call(this,void 0,i);let s=new _n().set(t),l=new _n().set(n),e=new Ue(s.r,s.g,s.b),p=new Ue(l.r,l.g,l.b),v=Math.sqrt(Math.PI),w=v*Math.sqrt(.75);this.sh.coefficients[0].copy(e).add(p).multiplyScalar(v),this.sh.coefficients[1].copy(e).sub(p).multiplyScalar(w)}tU.prototype=Object.assign(Object.create(ph.prototype),{constructor:tU,isHemisphereLightProbe:!0,copy:function(t){return ph.prototype.copy.call(this,t),this},toJSON:function(t){let n=ph.prototype.toJSON.call(this,t);return n}});function nU(t,n){ph.call(this,void 0,n);let i=new _n().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}nU.prototype=Object.assign(Object.create(ph.prototype),{constructor:nU,isAmbientLightProbe:!0,copy:function(t){return ph.prototype.copy.call(this,t),this},toJSON:function(t){let n=ph.prototype.toJSON.call(this,t);return n}});var rU=new Dr,iU=new Dr;function pne(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Os,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Os,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(pne.prototype,{update:function(t){let n=this._cache,i=n.focus!==t.focus||n.fov!==t.fov||n.aspect!==t.aspect*this.aspect||n.near!==t.near||n.far!==t.far||n.zoom!==t.zoom||n.eyeSep!==this.eyeSep;if(i){n.focus=t.focus,n.fov=t.fov,n.aspect=t.aspect*this.aspect,n.near=t.near,n.far=t.far,n.zoom=t.zoom,n.eyeSep=this.eyeSep;let s=t.projectionMatrix.clone(),l=n.eyeSep/2,e=l*n.near/n.focus,p=n.near*Math.tan(Lr.DEG2RAD*n.fov*.5)/n.zoom,v,w;iU.elements[12]=-l,rU.elements[12]=l,v=-p*n.aspect+e,w=p*n.aspect+e,s.elements[0]=2*n.near/(w-v),s.elements[8]=(w+v)/(w-v),this.cameraL.projectionMatrix.copy(s),v=-p*n.aspect-e,w=p*n.aspect-e,s.elements[0]=2*n.near/(w-v),s.elements[8]=(w+v)/(w-v),this.cameraR.projectionMatrix.copy(s)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(iU),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(rU)}});var oU=class extends Vn{constructor(n){super();this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this}setMediaElementSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this}setMediaStreamSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this}setBuffer(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this}play(n=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+n;let i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let n=1,i=this.filters.length;n<i;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let n=1,i=this.filters.length;n<i;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(n){return n||(n=[]),this._connected===!0?(this.disconnect(),this.filters=n.slice(),this.connect()):this.filters=n.slice(),this}setDetune(n){return this.detune=n,this.source.detune===void 0?void 0:(this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this)}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(n){return this.setFilters(n?[n]:[])}setPlaybackRate(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(n){return this.loopStart=n,this}setLoopEnd(n){return this.loopEnd=n,this}getVolume(){return this.gain.gain.value}setVolume(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}},sU=class{constructor(n,i=2048){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let n=0,i=this.getFrequencyData();for(let s=0;s<i.length;s++)n+=i[s];return n/i.length}};function aU(t,n,i){this.binding=t,this.valueSize=i;let s,l,e;switch(n){case"quaternion":s=this._slerp,l=this._slerpAdditive,e=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,l=this._select,e=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,l=this._lerpAdditive,e=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=l,this._setIdentity=e,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(aU.prototype,{accumulate:function(t,n){let i=this.buffer,s=this.valueSize,l=t*s+s,e=this.cumulativeWeight;if(e===0){for(let p=0;p!==s;++p)i[l+p]=i[p];e=n}else{e+=n;let p=n/e;this._mixBufferRegion(i,l,0,p,s)}this.cumulativeWeight=e},accumulateAdditive:function(t){let n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,t,i),this.cumulativeWeightAdditive+=t},apply:function(t){let n=this.valueSize,i=this.buffer,s=t*n+n,l=this.cumulativeWeight,e=this.cumulativeWeightAdditive,p=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){let v=n*this._origIndex;this._mixBufferRegion(i,s,v,1-l,n)}e>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let v=n,w=n+n;v!==w;++v)if(i[v]!==i[v+n]){p.setValue(i,s);break}},saveOriginalState:function(){let t=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(n,s);for(let l=i,e=s;l!==e;++l)n[l]=n[s+l%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){let t=this.valueSize*3;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){let t=this._addIndex*this.valueSize,n=t+this.valueSize;for(let i=t;i<n;i++)this.buffer[i]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){let t=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[t+i]},_select:function(t,n,i,s,l){if(s>=.5)for(let e=0;e!==l;++e)t[n+e]=t[i+e]},_slerp:function(t,n,i,s){Ba.slerpFlat(t,n,t,n,t,i,s)},_slerpAdditive:function(t,n,i,s,l){let e=this._workIndex*l;Ba.multiplyQuaternionsFlat(t,e,t,n,t,i),Ba.slerpFlat(t,n,t,n,t,e,s)},_lerp:function(t,n,i,s,l){let e=1-s;for(let p=0;p!==l;++p){let v=n+p;t[v]=t[v]*e+t[i+p]*s}},_lerpAdditive:function(t,n,i,s,l){for(let e=0;e!==l;++e){let p=n+e;t[p]=t[p]+t[i+e]*s}}});var ED="\\[\\]\\.:\\/",mne=new RegExp("["+ED+"]","g"),wD="[^"+ED+"]",vne="[^"+ED.replace("\\.","")+"]",gne=/((?:WC+[\/:])*)/.source.replace("WC",wD),yne=/(WCOD+)?/.source.replace("WCOD",vne),xne=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wD),Ene=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wD),wne=new RegExp("^"+gne+yne+xne+Ene+"$"),Ane=["material","materials","bones"];function lU(t,n,i){let s=i||Oa.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,s)}Object.assign(lU.prototype,{getValue:function(t,n){this.bind();let i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,n)},setValue:function(t,n){let i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,l=i.length;s!==l;++s)i[s].setValue(t,n)},bind:function(){let t=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].bind()},unbind:function(){let t=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].unbind()}});function Oa(t,n,i){this.path=n,this.parsedPath=i||Oa.parseTrackName(n),this.node=Oa.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Oa,{Composite:lU,create:function(t,n,i){return t&&t.isAnimationObjectGroup?new Oa.Composite(t,n,i):new Oa(t,n,i)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(mne,"")},parseTrackName:function(t){let n=wne.exec(t);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);let i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){let l=i.nodeName.substring(s+1);Ane.indexOf(l)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=l)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,n){if(!n||n===""||n==="."||n===-1||n===t.name||n===t.uuid)return t;if(t.skeleton){let i=t.skeleton.getBoneByName(n);if(i!==void 0)return i}if(t.children){let i=function(l){for(let e=0;e<l.length;e++){let p=l[e];if(p.name===n||p.uuid===n)return p;let v=i(p.children);if(v)return v}return null},s=i(t.children);if(s)return s}return null}});Object.assign(Oa.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,i){n[i]=this.node[this.propertyName]},function(n,i){let s=this.resolvedProperty;for(let l=0,e=s.length;l!==e;++l)n[i++]=s[l]},function(n,i){n[i]=this.resolvedProperty[this.propertyIndex]},function(n,i){this.resolvedProperty.toArray(n,i)}],SetterByBindingTypeAndVersioning:[[function(n,i){this.targetObject[this.propertyName]=n[i]},function(n,i){this.targetObject[this.propertyName]=n[i],this.targetObject.needsUpdate=!0},function(n,i){this.targetObject[this.propertyName]=n[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,i){let s=this.resolvedProperty;for(let l=0,e=s.length;l!==e;++l)s[l]=n[i++]},function(n,i){let s=this.resolvedProperty;for(let l=0,e=s.length;l!==e;++l)s[l]=n[i++];this.targetObject.needsUpdate=!0},function(n,i){let s=this.resolvedProperty;for(let l=0,e=s.length;l!==e;++l)s[l]=n[i++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,i){this.resolvedProperty[this.propertyIndex]=n[i]},function(n,i){this.resolvedProperty[this.propertyIndex]=n[i],this.targetObject.needsUpdate=!0},function(n,i){this.resolvedProperty[this.propertyIndex]=n[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,i){this.resolvedProperty.fromArray(n,i)},function(n,i){this.resolvedProperty.fromArray(n,i),this.targetObject.needsUpdate=!0},function(n,i){this.resolvedProperty.fromArray(n,i),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(n,i){this.bind(),this.getValue(n,i)},setValue:function(n,i){this.bind(),this.setValue(n,i)},bind:function(){let t=this.node,n=this.parsedPath,i=n.objectName,s=n.propertyName,l=n.propertyIndex;if(t||(t=Oa.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let w=n.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let E=0;E<t.length;E++)if(t[E].name===w){w=E;break}break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(w!==void 0){if(t[w]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[w]}}let e=t[s];if(e===void 0){let w=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+w+"."+s+" but it wasn't found.",t);return}let p=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?p=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(l!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[l]!==void 0&&(l=t.morphTargetDictionary[l])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}v=this.BindingType.ArrayElement,this.resolvedProperty=e,this.propertyIndex=l}else e.fromArray!==void 0&&e.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=e):Array.isArray(e)?(v=this.BindingType.EntireArray,this.resolvedProperty=e):this.propertyName=s;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][p]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(Oa.prototype,{_getValue_unbound:Oa.prototype.getValue,_setValue_unbound:Oa.prototype.setValue});function _ne(){this.uuid=Lr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}Object.assign(_ne.prototype,{isAnimationObjectGroup:!0,add:function(){let t=this._objects,n=this._indicesByUUID,i=this._paths,s=this._parsedPaths,l=this._bindings,e=l.length,p,v=t.length,w=this.nCachedObjects_;for(let E=0,T=arguments.length;E!==T;++E){let C=arguments[E],R=C.uuid,B=n[R];if(B===void 0){B=v++,n[R]=B,t.push(C);for(let A=0,H=e;A!==H;++A)l[A].push(new Oa(C,i[A],s[A]))}else if(B<w){p=t[B];let A=--w,H=t[A];n[H.uuid]=B,t[B]=H,n[R]=A,t[A]=C;for(let G=0,O=e;G!==O;++G){let U=l[G],$=U[A],ie=U[B];U[B]=$,ie===void 0&&(ie=new Oa(C,i[G],s[G])),U[A]=ie}}else t[B]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=w},remove:function(){let t=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length,l=this.nCachedObjects_;for(let e=0,p=arguments.length;e!==p;++e){let v=arguments[e],w=v.uuid,E=n[w];if(E!==void 0&&E>=l){let T=l++,C=t[T];n[C.uuid]=E,t[E]=C,n[w]=T,t[T]=v;for(let R=0,B=s;R!==B;++R){let A=i[R],H=A[T],G=A[E];A[E]=H,A[T]=G}}}this.nCachedObjects_=l},uncache:function(){let t=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length,l=this.nCachedObjects_,e=t.length;for(let p=0,v=arguments.length;p!==v;++p){let w=arguments[p],E=w.uuid,T=n[E];if(T!==void 0)if(delete n[E],T<l){let C=--l,R=t[C],B=--e,A=t[B];n[R.uuid]=T,t[T]=R,n[A.uuid]=C,t[C]=A,t.pop();for(let H=0,G=s;H!==G;++H){let O=i[H],U=O[C],$=O[B];O[T]=U,O[C]=$,O.pop()}}else{let C=--e,R=t[C];C>0&&(n[R.uuid]=T),t[T]=R,t.pop();for(let B=0,A=s;B!==A;++B){let H=i[B];H[T]=H[C],H.pop()}}}this.nCachedObjects_=l},subscribe_:function(t,n){let i=this._bindingsIndicesByPath,s=i[t],l=this._bindings;if(s!==void 0)return l[s];let e=this._paths,p=this._parsedPaths,v=this._objects,w=v.length,E=this.nCachedObjects_,T=new Array(w);s=l.length,i[t]=s,e.push(t),p.push(n),l.push(T);for(let C=E,R=v.length;C!==R;++C){let B=v[C];T[C]=new Oa(B,t,n)}return T},unsubscribe_:function(t){let n=this._bindingsIndicesByPath,i=n[t];if(i!==void 0){let s=this._paths,l=this._parsedPaths,e=this._bindings,p=e.length-1,v=e[p],w=t[p];n[w]=i,e[i]=v,e.pop(),l[i]=l[p],l.pop(),s[i]=s[p],s.pop()}}});var uU=class{constructor(n,i,s=null,l=i.blendMode){this._mixer=n,this._clip=i,this._localRoot=s,this.blendMode=l;let e=i.tracks,p=e.length,v=new Array(p),w={endingStart:My,endingEnd:My};for(let E=0;E!==p;++E){let T=e[E].createInterpolant(null);v[E]=T,T.settings=w}this._interpolantSettings=w,this._interpolants=v,this._propertyBindings=new Array(p),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=aZ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(n){return this._startTime=n,this}setLoop(n,i){return this.loop=n,this.repetitions=i,this}setEffectiveWeight(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(n){return this._scheduleFading(n,0,1)}fadeOut(n){return this._scheduleFading(n,1,0)}crossFadeFrom(n,i,s){if(n.fadeOut(i),this.fadeIn(i),s){let l=this._clip.duration,e=n._clip.duration,p=e/l,v=l/e;n.warp(1,p,i),this.warp(v,1,i)}return this}crossFadeTo(n,i,s){return n.crossFadeFrom(this,i,s)}stopFading(){let n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}setEffectiveTimeScale(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(n){return this.timeScale=this._clip.duration/n,this.stopWarping()}syncWith(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()}halt(n){return this.warp(this._effectiveTimeScale,0,n)}warp(n,i,s){let l=this._mixer,e=l.time,p=this.timeScale,v=this._timeScaleInterpolant;v===null&&(v=l._lendControlInterpolant(),this._timeScaleInterpolant=v);let w=v.parameterPositions,E=v.sampleValues;return w[0]=e,w[1]=e+s,E[0]=n/p,E[1]=i/p,this}stopWarping(){let n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(n,i,s,l){if(!this.enabled){this._updateWeight(n);return}let e=this._startTime;if(e!==null){let w=(n-e)*s;if(w<0||s===0)return;this._startTime=null,i=s*w}i*=this._updateTimeScale(n);let p=this._updateTime(i),v=this._updateWeight(n);if(v>0){let w=this._interpolants,E=this._propertyBindings;switch(this.blendMode){case SO:for(let T=0,C=w.length;T!==C;++T)w[T].evaluate(p),E[T].accumulateAdditive(v);break;case mR:default:for(let T=0,C=w.length;T!==C;++T)w[T].evaluate(p),E[T].accumulate(l,v)}}}_updateWeight(n){let i=0;if(this.enabled){i=this.weight;let s=this._weightInterpolant;if(s!==null){let l=s.evaluate(n)[0];i*=l,n>s.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(n){let i=0;if(!this.paused){i=this.timeScale;let s=this._timeScaleInterpolant;if(s!==null){let l=s.evaluate(n)[0];i*=l,n>s.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i)}}return this._effectiveTimeScale=i,i}_updateTime(n){let i=this._clip.duration,s=this.loop,l=this.time+n,e=this._loopCount,p=s===lZ;if(n===0)return e===-1?l:p&&(e&1)===1?i-l:l;if(s===sZ){e===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=i)l=i;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(e===-1&&(n>=0?(e=0,this._setEndings(!0,this.repetitions===0,p)):this._setEndings(this.repetitions===0,!0,p)),l>=i||l<0){let v=Math.floor(l/i);l-=i*v,e+=Math.abs(v);let w=this.repetitions-e;if(w<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=n>0?i:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(w===1){let E=n<0;this._setEndings(E,!E,p)}else this._setEndings(!1,!1,p);this._loopCount=e,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:v})}}else this.time=l;if(p&&(e&1)===1)return i-l}return l}_setEndings(n,i,s){let l=this._interpolantSettings;s?(l.endingStart=Sy,l.endingEnd=Sy):(n?l.endingStart=this.zeroSlopeAtStart?Sy:My:l.endingStart=sS,i?l.endingEnd=this.zeroSlopeAtEnd?Sy:My:l.endingEnd=sS)}_scheduleFading(n,i,s){let l=this._mixer,e=l.time,p=this._weightInterpolant;p===null&&(p=l._lendControlInterpolant(),this._weightInterpolant=p);let v=p.parameterPositions,w=p.sampleValues;return v[0]=e,w[0]=i,v[1]=e+n,w[1]=s,this}};function cU(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}cU.prototype=Object.assign(Object.create(uf.prototype),{constructor:cU,_bindAction:function(t,n){let i=t._localRoot||this._root,s=t._clip.tracks,l=s.length,e=t._propertyBindings,p=t._interpolants,v=i.uuid,w=this._bindingsByRootAndName,E=w[v];E===void 0&&(E={},w[v]=E);for(let T=0;T!==l;++T){let C=s[T],R=C.name,B=E[R];if(B!==void 0)e[T]=B;else{if(B=e[T],B!==void 0){B._cacheIndex===null&&(++B.referenceCount,this._addInactiveBinding(B,v,R));continue}let A=n&&n._propertyBindings[T].binding.parsedPath;B=new aU(Oa.create(i,R,A),C.ValueTypeName,C.getValueSize()),++B.referenceCount,this._addInactiveBinding(B,v,R),e[T]=B}p[T].resultBuffer=B.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){let i=(t._localRoot||this._root).uuid,s=t._clip.uuid,l=this._actionsByClip[s];this._bindAction(t,l&&l.knownActions[0]),this._addInactiveAction(t,s,i)}let n=t._propertyBindings;for(let i=0,s=n.length;i!==s;++i){let l=n[i];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){let n=t._propertyBindings;for(let i=0,s=n.length;i!==s;++i){let l=n[i];--l.useCount===0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){let n=t._cacheIndex;return n!==null&&n<this._nActiveActions},_addInactiveAction:function(t,n,i){let s=this._actions,l=this._actionsByClip,e=l[n];if(e===void 0)e={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,l[n]=e;else{let p=e.knownActions;t._byClipCacheIndex=p.length,p.push(t)}t._cacheIndex=s.length,s.push(t),e.actionByRoot[i]=t},_removeInactiveAction:function(t){let n=this._actions,i=n[n.length-1],s=t._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),t._cacheIndex=null;let l=t._clip.uuid,e=this._actionsByClip,p=e[l],v=p.knownActions,w=v[v.length-1],E=t._byClipCacheIndex;w._byClipCacheIndex=E,v[E]=w,v.pop(),t._byClipCacheIndex=null;let T=p.actionByRoot,C=(t._localRoot||this._root).uuid;delete T[C],v.length===0&&delete e[l],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){let n=t._propertyBindings;for(let i=0,s=n.length;i!==s;++i){let l=n[i];--l.referenceCount===0&&this._removeInactiveBinding(l)}},_lendAction:function(t){let n=this._actions,i=t._cacheIndex,s=this._nActiveActions++,l=n[s];t._cacheIndex=s,n[s]=t,l._cacheIndex=i,n[i]=l},_takeBackAction:function(t){let n=this._actions,i=t._cacheIndex,s=--this._nActiveActions,l=n[s];t._cacheIndex=s,n[s]=t,l._cacheIndex=i,n[i]=l},_addInactiveBinding:function(t,n,i){let s=this._bindingsByRootAndName,l=this._bindings,e=s[n];e===void 0&&(e={},s[n]=e),e[i]=t,t._cacheIndex=l.length,l.push(t)},_removeInactiveBinding:function(t){let n=this._bindings,i=t.binding,s=i.rootNode.uuid,l=i.path,e=this._bindingsByRootAndName,p=e[s],v=n[n.length-1],w=t._cacheIndex;v._cacheIndex=w,n[w]=v,n.pop(),delete p[l],Object.keys(p).length===0&&delete e[s]},_lendBinding:function(t){let n=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,l=n[s];t._cacheIndex=s,n[s]=t,l._cacheIndex=i,n[i]=l},_takeBackBinding:function(t){let n=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,l=n[s];t._cacheIndex=s,n[s]=t,l._cacheIndex=i,n[i]=l},_lendControlInterpolant:function(){let t=this._controlInterpolants,n=this._nActiveControlInterpolants++,i=t[n];return i===void 0&&(i=new QS(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=n,t[n]=i),i},_takeBackControlInterpolant:function(t){let n=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,l=n[s];t.__cacheIndex=s,n[s]=t,l.__cacheIndex=i,n[i]=l},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,n,i){let s=n||this._root,l=s.uuid,e=typeof t=="string"?yc.findByName(s,t):t,p=e!==null?e.uuid:t,v=this._actionsByClip[p],w=null;if(i===void 0&&(e!==null?i=e.blendMode:i=mR),v!==void 0){let T=v.actionByRoot[l];if(T!==void 0&&T.blendMode===i)return T;w=v.knownActions[0],e===null&&(e=w._clip)}if(e===null)return null;let E=new uU(this,e,n,i);return this._bindAction(E,w),this._addInactiveAction(E,p,l),E},existingAction:function(t,n){let i=n||this._root,s=i.uuid,l=typeof t=="string"?yc.findByName(i,t):t,e=l?l.uuid:t,p=this._actionsByClip[e];return p!==void 0&&p.actionByRoot[s]||null},stopAllAction:function(){let t=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)t[i].stop();return this},update:function(t){t*=this.timeScale;let n=this._actions,i=this._nActiveActions,s=this.time+=t,l=Math.sign(t),e=this._accuIndex^=1;for(let w=0;w!==i;++w){let E=n[w];E._update(s,t,l,e)}let p=this._bindings,v=this._nActiveBindings;for(let w=0;w!==v;++w)p[w].apply(e);return this},setTime:function(t){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){let n=this._actions,i=t.uuid,s=this._actionsByClip,l=s[i];if(l!==void 0){let e=l.knownActions;for(let p=0,v=e.length;p!==v;++p){let w=e[p];this._deactivateAction(w);let E=w._cacheIndex,T=n[n.length-1];w._cacheIndex=null,w._byClipCacheIndex=null,T._cacheIndex=E,n[E]=T,n.pop(),this._removeInactiveBindingsForAction(w)}delete s[i]}},uncacheRoot:function(t){let n=t.uuid,i=this._actionsByClip;for(let e in i){let p=i[e].actionByRoot,v=p[n];v!==void 0&&(this._deactivateAction(v),this._removeInactiveAction(v))}let s=this._bindingsByRootAndName,l=s[n];if(l!==void 0)for(let e in l){let p=l[e];p.restoreOriginalState(),this._removeInactiveBinding(p)}},uncacheAction:function(t,n){let i=this.existingAction(t,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}});var rT=class{constructor(n){typeof n=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=arguments[1]),this.value=n}clone(){return new rT(this.value.clone===void 0?this.value:this.value.clone())}};function fU(t,n,i){Mu.call(this,t,n),this.meshPerAttribute=i||1}fU.prototype=Object.assign(Object.create(Mu.prototype),{constructor:fU,isInstancedInterleavedBuffer:!0,copy:function(t){return Mu.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){let n=Mu.prototype.clone.call(this,t);return n.meshPerAttribute=this.meshPerAttribute,n},toJSON:function(t){let n=Mu.prototype.toJSON.call(this,t);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}});function hU(t,n,i,s,l){this.buffer=t,this.type=n,this.itemSize=i,this.elementSize=s,this.count=l,this.version=0}Object.defineProperty(hU.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(hU.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,n){return this.type=t,this.elementSize=n,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}});function dU(t,n,i,s){this.ray=new Fy(t,n),this.near=i||0,this.far=s||Infinity,this.camera=null,this.layers=new SR,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function pU(t,n){return t.distance-n.distance}function AD(t,n,i,s){if(t.layers.test(n.layers)&&t.raycast(n,i),s===!0){let l=t.children;for(let e=0,p=l.length;e<p;e++)AD(l[e],n,i,!0)}}Object.assign(dU.prototype,{set:function(t,n){this.ray.set(t,n)},setFromCamera:function(t,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,n,i){let s=i||[];return AD(t,this,s,n),s.sort(pU),s},intersectObjects:function(t,n,i){let s=i||[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),s;for(let l=0,e=t.length;l<e;l++)AD(t[l],this,s,n);return s.sort(pU),s}});var iT=class{constructor(n=1,i=0,s=0){return this.radius=n,this.phi=i,this.theta=s,this}set(n,i,s){return this.radius=n,this.phi=i,this.theta=s,this}clone(){return new this.constructor().copy(this)}copy(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this}makeSafe(){let n=1e-6;return this.phi=Math.max(n,Math.min(Math.PI-n,this.phi)),this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,i,s){return this.radius=Math.sqrt(n*n+i*i+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,s),this.phi=Math.acos(Lr.clamp(i/this.radius,-1,1))),this}},mU=new St,vU=class{constructor(n,i){Object.defineProperty(this,"isBox2",{value:!0}),this.min=n!==void 0?n:new St(Infinity,Infinity),this.max=i!==void 0?i:new St(-Infinity,-Infinity)}set(n,i){return this.min.copy(n),this.max.copy(i),this}setFromPoints(n){this.makeEmpty();for(let i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this}setFromCenterAndSize(n,i){let s=mU.copy(i).multiplyScalar(.5);return this.min.copy(n).sub(s),this.max.copy(n).add(s),this}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(n){return n===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),n=new St),this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return n===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),n=new St),this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y}getParameter(n,i){return i===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),i=new St),i.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)}clampPoint(n,i){return i===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),i=new St),i.copy(n).clamp(this.min,this.max)}distanceToPoint(n){let i=mU.copy(n).clamp(this.min,this.max);return i.sub(n).length()}intersect(n){return this.min.max(n.min),this.max.min(n.max),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}},gU=new Ue,oT=new Ue,yU=class{constructor(n,i){this.start=n!==void 0?n:new Ue,this.end=i!==void 0?i:new Ue}set(n,i){return this.start.copy(n),this.end.copy(i),this}clone(){return new this.constructor().copy(this)}copy(n){return this.start.copy(n.start),this.end.copy(n.end),this}getCenter(n){return n===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),n=new Ue),n.addVectors(this.start,this.end).multiplyScalar(.5)}delta(n){return n===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),n=new Ue),n.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(n,i){return i===void 0&&(console.warn("THREE.Line3: .at() target is now required"),i=new Ue),this.delta(i).multiplyScalar(n).add(this.start)}closestPointToPointParameter(n,i){gU.subVectors(n,this.start),oT.subVectors(this.end,this.start);let s=oT.dot(oT),l=oT.dot(gU),e=l/s;return i&&(e=Lr.clamp(e,0,1)),e}closestPointToPoint(n,i,s){let l=this.closestPointToPointParameter(n,i);return s===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),s=new Ue),this.delta(s).multiplyScalar(l).add(this.start)}applyMatrix4(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this}equals(n){return n.start.equals(this.start)&&n.end.equals(this.end)}};function sT(t){Vn.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}sT.prototype=Object.create(Vn.prototype);sT.prototype.constructor=sT;sT.prototype.isImmediateRenderObject=!0;var Lm=new Ue,aT=new Dr,_D=new Dr,xU=class extends ex{constructor(n){let i=EU(n),s=new Mi,l=[],e=[],p=new _n(0,0,1),v=new _n(0,1,0);for(let E=0;E<i.length;E++){let T=i[E];T.parent&&T.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),e.push(p.r,p.g,p.b),e.push(v.r,v.g,v.b))}s.setAttribute("position",new gi(l,3)),s.setAttribute("color",new gi(e,3));let w=new Su({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,w);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=n,this.bones=i,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(n){let i=this.bones,s=this.geometry,l=s.getAttribute("position");_D.copy(this.root.matrixWorld).invert();for(let e=0,p=0;e<i.length;e++){let v=i[e];v.parent&&v.parent.isBone&&(aT.multiplyMatrices(_D,v.matrixWorld),Lm.setFromMatrixPosition(aT),l.setXYZ(p,Lm.x,Lm.y,Lm.z),aT.multiplyMatrices(_D,v.parent.matrixWorld),Lm.setFromMatrixPosition(aT),l.setXYZ(p+1,Lm.x,Lm.y,Lm.z),p+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(n)}};function EU(t){let n=[];t&&t.isBone&&n.push(t);for(let i=0;i<t.children.length;i++)n.push.apply(n,EU(t.children[i]));return n}var wU=class extends ex{constructor(n=10,i=10,s=4473924,l=8947848){s=new _n(s),l=new _n(l);let e=i/2,p=n/i,v=n/2,w=[],E=[];for(let R=0,B=0,A=-v;R<=i;R++,A+=p){w.push(-v,0,A,v,0,A),w.push(A,0,-v,A,0,v);let H=R===e?s:l;H.toArray(E,B),B+=3,H.toArray(E,B),B+=3,H.toArray(E,B),B+=3,H.toArray(E,B),B+=3}let T=new Mi;T.setAttribute("position",new gi(w,3)),T.setAttribute("color",new gi(E,3));let C=new Su({vertexColors:!0,toneMapped:!1});super(T,C);this.type="GridHelper"}},Mne=new Float32Array(1),eae=new Int32Array(Mne.buffer),Sne=4,AU=8,tae=Math.pow(2,AU),Tne=[.125,.215,.35,.446,.526,.582],nae=AU-Sne+1+Tne.length,rae={[Ty]:0,[by]:1,[CO]:2,[LO]:3,[PO]:4,[RO]:5,[bO]:6},Iv=(1+Math.sqrt(5))/2,hx=1/Iv,iae=[new Ue(1,1,1),new Ue(-1,1,1),new Ue(1,1,-1),new Ue(-1,1,-1),new Ue(0,Iv,hx),new Ue(0,Iv,-hx),new Ue(hx,0,Iv),new Ue(-hx,0,Iv),new Ue(Iv,hx,0),new Ue(-Iv,hx,0)];Wn.create=function(t,n){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Wn.prototype),t.prototype.constructor=t,t.prototype.getPoint=n,t};Object.assign(Cm.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");let n=this.getPoints(t);return this.createGeometry(n)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");let n=this.getSpacedPoints(t);return this.createGeometry(n)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");let n=new Qf;for(let i=0,s=t.length;i<s;i++){let l=t[i];n.vertices.push(new Ue(l.x,l.y,l.z||0))}return n}});Object.assign(Ec.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}});function bne(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Kl.call(this,t),this.type="catmullrom",this.closed=!0}bne.prototype=Object.create(Kl.prototype);function Cne(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Kl.call(this,t),this.type="catmullrom"}Cne.prototype=Object.create(Kl.prototype);function _U(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Kl.call(this,t),this.type="catmullrom"}_U.prototype=Object.create(Kl.prototype);Object.assign(_U.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});wU.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};xU.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(ii.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Nv.extractUrlBase(t)}});ii.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(vU.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(zf.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(Yf.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});kw.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};yU.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Object.assign(Lr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Lr.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Lr.ceilPowerOfTwo(t)}});Object.assign(rs.prototype,{flattenToArrayOffset:function(t,n){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,n)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}});Object.assign(Dr.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,n){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,n)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ue().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,n,i,s,l,e){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,n,s,i,l,e)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}});ih.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};Object.assign(Ba.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}});Object.assign(Fy.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}});Object.assign(Na.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,n)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}});Object.assign(Na,{barycoordFromPoint:function(t,n,i,s,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Na.getBarycoord(t,n,i,s,l)},normal:function(t,n,i,s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Na.getNormal(t,n,i,s)}});Object.assign(fx.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new G9(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new H9(this,t)}});Object.assign(St.prototype,{fromAttribute:function(t,n,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,n,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ue.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,n){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(n,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,n,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,n,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ki.prototype,{fromAttribute:function(t,n,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,n,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Qf.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.assign(Vn.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,n){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(n,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(Vn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(_s.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(_s.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),uZ},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(JR.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Jw.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Qw.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Wn.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}});Os.prototype.setLens=function(t,n){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),n!==void 0&&(this.filmGauge=n),this.setFocalLength(t)};Object.defineProperties(bo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(cr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Rw},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Rw)}}});Object.assign(cr.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Rw:aS),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Mi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,n){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(n&&n.isBufferAttribute)&&!(n&&n.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new cr(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(n),this):this.setAttribute(t,n)},addDrawCall:function(t,n,i){i!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,n)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(Mi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(eT.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}});Object.defineProperties(dU.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}});Object.defineProperties(Mu.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Rw},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}});Object.assign(Mu.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Rw:aS),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(nD.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(x9.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(rT.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(or.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new _n}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===oO}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}});Object.defineProperties(Rv.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(uh.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}});Object.defineProperties($i.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});Object.assign(bS.prototype,{clearTarget:function(t,n,i,s){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(n,i,s)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(bS.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?by:Ty}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(v9.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.");return},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(la.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});Object.defineProperties(oU.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let n=this,i=new xD;return i.load(t,function(s){n.setBuffer(s)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});sU.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Wy.prototype.updateCubeMap=function(t,n){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,n)};Wy.prototype.clear=function(t,n,i,s){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,n,i,s)};Ly.crossOrigin=void 0;Ly.loadTexture=function(t,n,i,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let l=new rA;l.setCrossOrigin(this.crossOrigin);let e=l.load(t,i,void 0,s);return n&&(e.mapping=n),e};Ly.loadTextureCube=function(t,n,i,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let l=new cD;l.setCrossOrigin(this.crossOrigin);let e=l.load(t,i,void 0,s);return n&&(e.mapping=n),e};Ly.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ly.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kq}}));var MD={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)};function Oo(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(Oo.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}});Oo.FullScreenQuad=function(){var t=new Bv(-1,1,1,-1,0,1),n=new TS(2,2),i=function(s){this._mesh=new _s(n,s)};return Object.defineProperty(i.prototype,"material",{get:function(){return this._mesh.material},set:function(s){this._mesh.material=s}}),Object.assign(i.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(s){s.render(this._mesh,t)}}),i}();var lT=function(t,n){Oo.call(this),this.textureID=n!==void 0?n:"tDiffuse",t instanceof $i?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=cf.clone(t.uniforms),this.material=new $i({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new Oo.FullScreenQuad(this.material)};lT.prototype=Object.assign(Object.create(Oo.prototype),{constructor:lT,render:function(t,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}});var uT=function(t,n,i,s,l){Oo.call(this),this.scene=t,this.camera=n,this.overrideMaterial=i,this.clearColor=s,this.clearAlpha=l!==void 0?l:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};uT.prototype=Object.assign(Object.create(Oo.prototype),{constructor:uT,render:function(t,n,i){var s=t.autoClear;t.autoClear=!1;var l,e,p;this.overrideMaterial!==void 0&&(p=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(l=t.getClearColor().getHex(),e=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:i),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(l,e),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=p),t.autoClear=s}});var cT=ur(ho());function MU(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Lne(t,n=[],i){let[s,l]=cT.useState();return cT.useLayoutEffect(()=>{let e=t();return l(e),MU(i,e),()=>MU(i,null)},n),s}var SU=Lne,dx=function(t,n){n===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=n,this.enabled=!0,this.target=new Ue,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:wd.ROTATE,MIDDLE:wd.DOLLY,RIGHT:wd.PAN},this.touches={ONE:Ad.ROTATE,TWO:Ad.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return E.phi},this.getAzimuthalAngle=function(){return E.theta},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),v=p.NONE},this.update=function(){var Xe=new Ue,Ct=new Ba().setFromUnitVectors(t.up,new Ue(0,1,0)),zt=Ct.clone().invert(),sn=new Ue,lr=new Ba,zn=2*Math.PI;return function(){var fr=i.object.position;Xe.copy(fr).sub(i.target),Xe.applyQuaternion(Ct),E.setFromVector3(Xe),i.autoRotate&&v===p.NONE&&Ve(ce()),i.enableDamping?(E.theta+=T.theta*i.dampingFactor,E.phi+=T.phi*i.dampingFactor):(E.theta+=T.theta,E.phi+=T.phi);var Zr=i.minAzimuthAngle,ci=i.maxAzimuthAngle;return isFinite(Zr)&&isFinite(ci)&&(Zr<-Math.PI?Zr+=zn:Zr>Math.PI&&(Zr-=zn),ci<-Math.PI?ci+=zn:ci>Math.PI&&(ci-=zn),Zr<=ci?E.theta=Math.max(Zr,Math.min(ci,E.theta)):E.theta=E.theta>(Zr+ci)/2?Math.max(Zr,E.theta):Math.min(ci,E.theta)),E.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,E.phi)),E.makeSafe(),E.radius*=C,E.radius=Math.max(i.minDistance,Math.min(i.maxDistance,E.radius)),i.enableDamping===!0?i.target.addScaledVector(R,i.dampingFactor):i.target.add(R),Xe.setFromSpherical(E),Xe.applyQuaternion(zt),fr.copy(i.target).add(Xe),i.object.lookAt(i.target),i.enableDamping===!0?(T.theta*=1-i.dampingFactor,T.phi*=1-i.dampingFactor,R.multiplyScalar(1-i.dampingFactor)):(T.set(0,0,0),R.set(0,0,0)),C=1,B||sn.distanceToSquared(i.object.position)>w||8*(1-lr.dot(i.object.quaternion))>w?(i.dispatchEvent(s),sn.copy(i.object.position),lr.copy(i.object.quaternion),B=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",qt,!1),i.domElement.removeEventListener("pointerdown",se,!1),i.domElement.removeEventListener("wheel",At,!1),i.domElement.removeEventListener("touchstart",Ft,!1),i.domElement.removeEventListener("touchend",Pt,!1),i.domElement.removeEventListener("touchmove",Et,!1),i.domElement.ownerDocument.removeEventListener("pointermove",he,!1),i.domElement.ownerDocument.removeEventListener("pointerup",me,!1),i.domElement.removeEventListener("keydown",gt,!1)};var i=this,s={type:"change"},l={type:"start"},e={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},v=p.NONE,w=1e-6,E=new iT,T=new iT,C=1,R=new Ue,B=!1,A=new St,H=new St,G=new St,O=new St,U=new St,$=new St,ie=new St,ue=new St,K=new St;function ce(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ve(){return Math.pow(.95,i.zoomSpeed)}function Ve(Xe){T.theta-=Xe}function Me(Xe){T.phi-=Xe}var Ee=function(){var Xe=new Ue;return function(zt,sn){Xe.setFromMatrixColumn(sn,0),Xe.multiplyScalar(-zt),R.add(Xe)}}(),Ne=function(){var Xe=new Ue;return function(zt,sn){i.screenSpacePanning===!0?Xe.setFromMatrixColumn(sn,1):(Xe.setFromMatrixColumn(sn,0),Xe.crossVectors(i.object.up,Xe)),Xe.multiplyScalar(zt),R.add(Xe)}}(),Oe=function(){var Xe=new Ue;return function(zt,sn){var lr=i.domElement;if(i.object.isPerspectiveCamera){var zn=i.object.position;Xe.copy(zn).sub(i.target);var oi=Xe.length();oi*=Math.tan(i.object.fov/2*Math.PI/180),Ee(2*zt*oi/lr.clientHeight,i.object.matrix),Ne(2*sn*oi/lr.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(Ee(zt*(i.object.right-i.object.left)/i.object.zoom/lr.clientWidth,i.object.matrix),Ne(sn*(i.object.top-i.object.bottom)/i.object.zoom/lr.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function tt(Xe){i.object.isPerspectiveCamera?C/=Xe:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Xe)),i.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Ze(Xe){i.object.isPerspectiveCamera?C*=Xe:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Xe)),i.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Qe(Xe){A.set(Xe.clientX,Xe.clientY)}function at(Xe){ie.set(Xe.clientX,Xe.clientY)}function mt(Xe){O.set(Xe.clientX,Xe.clientY)}function Ht(Xe){H.set(Xe.clientX,Xe.clientY),G.subVectors(H,A).multiplyScalar(i.rotateSpeed);var Ct=i.domElement;Ve(2*Math.PI*G.x/Ct.clientHeight),Me(2*Math.PI*G.y/Ct.clientHeight),A.copy(H),i.update()}function Wt(Xe){ue.set(Xe.clientX,Xe.clientY),K.subVectors(ue,ie),K.y>0?tt(ve()):K.y<0&&Ze(ve()),ie.copy(ue),i.update()}function et(Xe){U.set(Xe.clientX,Xe.clientY),$.subVectors(U,O).multiplyScalar(i.panSpeed),Oe($.x,$.y),O.copy(U),i.update()}function De(){}function Le(Xe){Xe.deltaY<0?Ze(ve()):Xe.deltaY>0&&tt(ve()),i.update()}function Ye(Xe){var Ct=!1;switch(Xe.keyCode){case i.keys.UP:Oe(0,i.keyPanSpeed),Ct=!0;break;case i.keys.BOTTOM:Oe(0,-i.keyPanSpeed),Ct=!0;break;case i.keys.LEFT:Oe(i.keyPanSpeed,0),Ct=!0;break;case i.keys.RIGHT:Oe(-i.keyPanSpeed,0),Ct=!0;break}Ct&&(Xe.preventDefault(),i.update())}function Re(Xe){if(Xe.touches.length==1)A.set(Xe.touches[0].pageX,Xe.touches[0].pageY);else{var Ct=.5*(Xe.touches[0].pageX+Xe.touches[1].pageX),zt=.5*(Xe.touches[0].pageY+Xe.touches[1].pageY);A.set(Ct,zt)}}function re(Xe){if(Xe.touches.length==1)O.set(Xe.touches[0].pageX,Xe.touches[0].pageY);else{var Ct=.5*(Xe.touches[0].pageX+Xe.touches[1].pageX),zt=.5*(Xe.touches[0].pageY+Xe.touches[1].pageY);O.set(Ct,zt)}}function oe(Xe){var Ct=Xe.touches[0].pageX-Xe.touches[1].pageX,zt=Xe.touches[0].pageY-Xe.touches[1].pageY,sn=Math.sqrt(Ct*Ct+zt*zt);ie.set(0,sn)}function we(Xe){i.enableZoom&&oe(Xe),i.enablePan&&re(Xe)}function ge(Xe){i.enableZoom&&oe(Xe),i.enableRotate&&Re(Xe)}function be(Xe){if(Xe.touches.length==1)H.set(Xe.touches[0].pageX,Xe.touches[0].pageY);else{var Ct=.5*(Xe.touches[0].pageX+Xe.touches[1].pageX),zt=.5*(Xe.touches[0].pageY+Xe.touches[1].pageY);H.set(Ct,zt)}G.subVectors(H,A).multiplyScalar(i.rotateSpeed);var sn=i.domElement;Ve(2*Math.PI*G.x/sn.clientHeight),Me(2*Math.PI*G.y/sn.clientHeight),A.copy(H)}function Ce(Xe){if(Xe.touches.length==1)U.set(Xe.touches[0].pageX,Xe.touches[0].pageY);else{var Ct=.5*(Xe.touches[0].pageX+Xe.touches[1].pageX),zt=.5*(Xe.touches[0].pageY+Xe.touches[1].pageY);U.set(Ct,zt)}$.subVectors(U,O).multiplyScalar(i.panSpeed),Oe($.x,$.y),O.copy(U)}function P(Xe){var Ct=Xe.touches[0].pageX-Xe.touches[1].pageX,zt=Xe.touches[0].pageY-Xe.touches[1].pageY,sn=Math.sqrt(Ct*Ct+zt*zt);ue.set(0,sn),K.set(0,Math.pow(ue.y/ie.y,i.zoomSpeed)),tt(K.y),ie.copy(ue)}function _e(Xe){i.enableZoom&&P(Xe),i.enablePan&&Ce(Xe)}function ke(Xe){i.enableZoom&&P(Xe),i.enableRotate&&be(Xe)}function Se(){}function se(Xe){if(i.enabled===!1)return;switch(Xe.pointerType){case"mouse":case"pen":xt(Xe);break}}function he(Xe){if(i.enabled===!1)return;switch(Xe.pointerType){case"mouse":case"pen":pt(Xe);break}}function me(Xe){switch(Xe.pointerType){case"mouse":case"pen":ze(Xe);break}}function xt(Xe){Xe.preventDefault(),i.domElement.focus?i.domElement.focus():window.focus();var Ct;switch(Xe.button){case 0:Ct=i.mouseButtons.LEFT;break;case 1:Ct=i.mouseButtons.MIDDLE;break;case 2:Ct=i.mouseButtons.RIGHT;break;default:Ct=-1}switch(Ct){case wd.DOLLY:if(i.enableZoom===!1)return;at(Xe),v=p.DOLLY;break;case wd.ROTATE:if(Xe.ctrlKey||Xe.metaKey||Xe.shiftKey){if(i.enablePan===!1)return;mt(Xe),v=p.PAN}else{if(i.enableRotate===!1)return;Qe(Xe),v=p.ROTATE}break;case wd.PAN:if(Xe.ctrlKey||Xe.metaKey||Xe.shiftKey){if(i.enableRotate===!1)return;Qe(Xe),v=p.ROTATE}else{if(i.enablePan===!1)return;mt(Xe),v=p.PAN}break;default:v=p.NONE}v!==p.NONE&&(i.domElement.ownerDocument.addEventListener("pointermove",he,!1),i.domElement.ownerDocument.addEventListener("pointerup",me,!1),i.dispatchEvent(l))}function pt(Xe){if(i.enabled===!1)return;Xe.preventDefault();switch(v){case p.ROTATE:if(i.enableRotate===!1)return;Ht(Xe);break;case p.DOLLY:if(i.enableZoom===!1)return;Wt(Xe);break;case p.PAN:if(i.enablePan===!1)return;et(Xe);break}}function ze(Xe){if(i.domElement.ownerDocument.removeEventListener("pointermove",he,!1),i.domElement.ownerDocument.removeEventListener("pointerup",me,!1),i.enabled===!1)return;De(Xe),i.dispatchEvent(e),v=p.NONE}function At(Xe){if(i.enabled===!1||i.enableZoom===!1||v!==p.NONE&&v!==p.ROTATE)return;Xe.preventDefault(),Xe.stopPropagation(),i.dispatchEvent(l),Le(Xe),i.dispatchEvent(e)}function gt(Xe){if(i.enabled===!1||i.enableKeys===!1||i.enablePan===!1)return;Ye(Xe)}function Ft(Xe){if(i.enabled===!1)return;Xe.preventDefault();switch(Xe.touches.length){case 1:switch(i.touches.ONE){case Ad.ROTATE:if(i.enableRotate===!1)return;Re(Xe),v=p.TOUCH_ROTATE;break;case Ad.PAN:if(i.enablePan===!1)return;re(Xe),v=p.TOUCH_PAN;break;default:v=p.NONE}break;case 2:switch(i.touches.TWO){case Ad.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;we(Xe),v=p.TOUCH_DOLLY_PAN;break;case Ad.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ge(Xe),v=p.TOUCH_DOLLY_ROTATE;break;default:v=p.NONE}break;default:v=p.NONE}v!==p.NONE&&i.dispatchEvent(l)}function Et(Xe){if(i.enabled===!1)return;Xe.preventDefault(),Xe.stopPropagation();switch(v){case p.TOUCH_ROTATE:if(i.enableRotate===!1)return;be(Xe),i.update();break;case p.TOUCH_PAN:if(i.enablePan===!1)return;Ce(Xe),i.update();break;case p.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(Xe),i.update();break;case p.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ke(Xe),i.update();break;default:v=p.NONE}}function Pt(Xe){if(i.enabled===!1)return;Se(Xe),i.dispatchEvent(e),v=p.NONE}function qt(Xe){if(i.enabled===!1)return;Xe.preventDefault()}i.domElement.addEventListener("contextmenu",qt,!1),i.domElement.addEventListener("pointerdown",se,!1),i.domElement.addEventListener("wheel",At,!1),i.domElement.addEventListener("touchstart",Ft,!1),i.domElement.addEventListener("touchend",Pt,!1),i.domElement.addEventListener("touchmove",Et,!1),i.domElement.addEventListener("keydown",gt,!1),this.update()};dx.prototype=Object.create(uf.prototype);dx.prototype.constructor=dx;var SD=function(t,n){dx.call(this,t,n),this.screenSpacePanning=!1,this.mouseButtons.LEFT=wd.PAN,this.mouseButtons.RIGHT=wd.ROTATE,this.touches.ONE=Ad.PAN,this.touches.TWO=Ad.DOLLY_ROTATE};SD.prototype=Object.create(uf.prototype);SD.prototype.constructor=SD;var TD=function(){function t(re){ii.call(this,re),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(oe){return new p(oe)}),this.register(function(oe){return new w(oe)}),this.register(function(oe){return new E(oe)}),this.register(function(oe){return new v(oe)}),this.register(function(oe){return new l(oe)}),this.register(function(oe){return new T(oe)})}t.prototype=Object.assign(Object.create(ii.prototype),{constructor:t,load:function(re,oe,we,ge){var be=this,Ce;this.resourcePath!==""?Ce=this.resourcePath:this.path!==""?Ce=this.path:Ce=Nv.extractUrlBase(re),this.manager.itemStart(re);var P=function(ke){ge?ge(ke):console.error(ke),be.manager.itemError(re),be.manager.itemEnd(re)},_e=new Ia(this.manager);_e.setPath(this.path),_e.setResponseType("arraybuffer"),_e.setRequestHeader(this.requestHeader),_e.setWithCredentials(this.withCredentials),_e.load(re,function(ke){try{be.parse(ke,Ce,function(Se){oe(Se),be.manager.itemEnd(re)},P)}catch(Se){P(Se)}},we,P)},setDRACOLoader:function(re){return this.dracoLoader=re,this},setDDSLoader:function(re){return this.ddsLoader=re,this},setKTX2Loader:function(re){return this.ktx2Loader=re,this},setMeshoptDecoder:function(re){return this.meshoptDecoder=re,this},register:function(re){return this.pluginCallbacks.indexOf(re)===-1&&this.pluginCallbacks.push(re),this},unregister:function(re){return this.pluginCallbacks.indexOf(re)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(re),1),this},parse:function(re,oe,we,ge){var be,Ce={},P={};if(typeof re=="string")be=re;else{var _e=Nv.decodeText(new Uint8Array(re,0,4));if(_e===C){try{Ce[i.KHR_BINARY_GLTF]=new A(re)}catch(pt){ge&&ge(pt);return}be=Ce[i.KHR_BINARY_GLTF].content}else be=Nv.decodeText(new Uint8Array(re))}var ke=JSON.parse(be);if(ke.asset===void 0||ke.asset.version[0]<2){ge&&ge(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}var Se=new De(ke,{path:oe||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Se.fileLoader.setRequestHeader(this.requestHeader);for(var se=0;se<this.pluginCallbacks.length;se++){var he=this.pluginCallbacks[se](Se);P[he.name]=he,Ce[he.name]=!0}if(ke.extensionsUsed)for(var se=0;se<ke.extensionsUsed.length;++se){var me=ke.extensionsUsed[se],xt=ke.extensionsRequired||[];switch(me){case i.KHR_MATERIALS_UNLIT:Ce[me]=new e;break;case i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:Ce[me]=new U;break;case i.KHR_DRACO_MESH_COMPRESSION:Ce[me]=new H(ke,this.dracoLoader);break;case i.MSFT_TEXTURE_DDS:Ce[me]=new s(this.ddsLoader);break;case i.KHR_TEXTURE_TRANSFORM:Ce[me]=new G;break;case i.KHR_MESH_QUANTIZATION:Ce[me]=new $;break;default:xt.indexOf(me)>=0&&P[me]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+me+'".')}}Se.setExtensions(Ce),Se.setPlugins(P),Se.parse(we,ge)}});function n(){var re={};return{get:function(oe){return re[oe]},add:function(oe,we){re[oe]=we},remove:function(oe){delete re[oe]},removeAll:function(){re={}}}}var i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function s(re){if(!re)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=i.MSFT_TEXTURE_DDS,this.ddsLoader=re}function l(re){this.parser=re,this.name=i.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}l.prototype._markDefs=function(){for(var re=this.parser,oe=this.parser.json.nodes||[],we=0,ge=oe.length;we<ge;we++){var be=oe[we];be.extensions&&be.extensions[this.name]&&be.extensions[this.name].light!==void 0&&re._addNodeRef(this.cache,be.extensions[this.name].light)}},l.prototype._loadLight=function(re){var oe=this.parser,we="light:"+re,ge=oe.cache.get(we);if(ge)return ge;var be=oe.json,Ce=be.extensions&&be.extensions[this.name]||{},P=Ce.lights||[],_e=P[re],ke,Se=new _n(16777215);_e.color!==void 0&&Se.fromArray(_e.color);var se=_e.range!==void 0?_e.range:0;switch(_e.type){case"directional":ke=new $S(Se),ke.target.position.set(0,0,-1),ke.add(ke.target);break;case"point":ke=new KS(Se),ke.distance=se;break;case"spot":ke=new ZS(Se),ke.distance=se,_e.spot=_e.spot||{},_e.spot.innerConeAngle=_e.spot.innerConeAngle!==void 0?_e.spot.innerConeAngle:0,_e.spot.outerConeAngle=_e.spot.outerConeAngle!==void 0?_e.spot.outerConeAngle:Math.PI/4,ke.angle=_e.spot.outerConeAngle,ke.penumbra=1-_e.spot.innerConeAngle/_e.spot.outerConeAngle,ke.target.position.set(0,0,-1),ke.add(ke.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+_e.type+'".')}return ke.position.set(0,0,0),ke.decay=2,_e.intensity!==void 0&&(ke.intensity=_e.intensity),ke.name=oe.createUniqueName(_e.name||"light_"+re),ge=Promise.resolve(ke),oe.cache.add(we,ge),ge},l.prototype.createNodeAttachment=function(re){var oe=this,we=this.parser,ge=we.json,be=ge.nodes[re],Ce=be.extensions&&be.extensions[this.name]||{},P=Ce.light;return P===void 0?null:this._loadLight(P).then(function(_e){return we._getNodeRef(oe.cache,P,_e)})};function e(){this.name=i.KHR_MATERIALS_UNLIT}e.prototype.getMaterialType=function(){return ql},e.prototype.extendParams=function(re,oe,we){var ge=[];re.color=new _n(1,1,1),re.opacity=1;var be=oe.pbrMetallicRoughness;if(be){if(Array.isArray(be.baseColorFactor)){var Ce=be.baseColorFactor;re.color.fromArray(Ce),re.opacity=Ce[3]}be.baseColorTexture!==void 0&&ge.push(we.assignTexture(re,"map",be.baseColorTexture))}return Promise.all(ge)};function p(re){this.parser=re,this.name=i.KHR_MATERIALS_CLEARCOAT}p.prototype.getMaterialType=function(re){var oe=this.parser,we=oe.json.materials[re];return!we.extensions||!we.extensions[this.name]?null:uh},p.prototype.extendMaterialParams=function(re,oe){var we=this.parser,ge=we.json.materials[re];if(!ge.extensions||!ge.extensions[this.name])return Promise.resolve();var be=[],Ce=ge.extensions[this.name];if(Ce.clearcoatFactor!==void 0&&(oe.clearcoat=Ce.clearcoatFactor),Ce.clearcoatTexture!==void 0&&be.push(we.assignTexture(oe,"clearcoatMap",Ce.clearcoatTexture)),Ce.clearcoatRoughnessFactor!==void 0&&(oe.clearcoatRoughness=Ce.clearcoatRoughnessFactor),Ce.clearcoatRoughnessTexture!==void 0&&be.push(we.assignTexture(oe,"clearcoatRoughnessMap",Ce.clearcoatRoughnessTexture)),Ce.clearcoatNormalTexture!==void 0&&(be.push(we.assignTexture(oe,"clearcoatNormalMap",Ce.clearcoatNormalTexture)),Ce.clearcoatNormalTexture.scale!==void 0)){var P=Ce.clearcoatNormalTexture.scale;oe.clearcoatNormalScale=new St(P,P)}return Promise.all(be)};function v(re){this.parser=re,this.name=i.KHR_MATERIALS_TRANSMISSION}v.prototype.getMaterialType=function(re){var oe=this.parser,we=oe.json.materials[re];return!we.extensions||!we.extensions[this.name]?null:uh},v.prototype.extendMaterialParams=function(re,oe){var we=this.parser,ge=we.json.materials[re];if(!ge.extensions||!ge.extensions[this.name])return Promise.resolve();var be=[],Ce=ge.extensions[this.name];return Ce.transmissionFactor!==void 0&&(oe.transmission=Ce.transmissionFactor),Ce.transmissionTexture!==void 0&&be.push(we.assignTexture(oe,"transmissionMap",Ce.transmissionTexture)),Promise.all(be)};function w(re){this.parser=re,this.name=i.KHR_TEXTURE_BASISU}w.prototype.loadTexture=function(re){var oe=this.parser,we=oe.json,ge=we.textures[re];if(!ge.extensions||!ge.extensions[this.name])return null;var be=ge.extensions[this.name],Ce=we.images[be.source],P=oe.options.ktx2Loader;if(!P){if(we.extensionsRequired&&we.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return oe.loadTextureImage(re,Ce,P)};function E(re){this.parser=re,this.name=i.EXT_TEXTURE_WEBP,this.isSupported=null}E.prototype.loadTexture=function(re){var oe=this.name,we=this.parser,ge=we.json,be=ge.textures[re];if(!be.extensions||!be.extensions[oe])return null;var Ce=be.extensions[oe],P=ge.images[Ce.source],_e=P.uri?we.options.manager.getHandler(P.uri):we.textureLoader;return this.detectSupport().then(function(ke){if(ke)return we.loadTextureImage(re,P,_e);if(ge.extensionsRequired&&ge.extensionsRequired.indexOf(oe)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return we.loadTexture(re)})},E.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise(function(re){var oe=new Image;oe.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",oe.onload=oe.onerror=function(){re(oe.height===1)}})),this.isSupported};function T(re){this.name=i.EXT_MESHOPT_COMPRESSION,this.parser=re}T.prototype.loadBufferView=function(re){var oe=this.parser.json,we=oe.bufferViews[re];if(we.extensions&&we.extensions[this.name]){var ge=we.extensions[this.name],be=this.parser.getDependency("buffer",ge.buffer),Ce=this.parser.options.meshoptDecoder;if(!Ce||!Ce.supported){if(oe.extensionsRequired&&oe.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([be,Ce.ready]).then(function(P){var _e=ge.byteOffset||0,ke=ge.byteLength||0,Se=ge.count,se=ge.byteStride,he=new ArrayBuffer(Se*se),me=new Uint8Array(P[0],_e,ke);return Ce.decodeGltfBuffer(new Uint8Array(he),Se,se,me,ge.mode,ge.filter),he})}else return null};var C="glTF",R=12,B={JSON:1313821514,BIN:5130562};function A(re){this.name=i.KHR_BINARY_GLTF,this.content=null,this.body=null;var oe=new DataView(re,0,R);if(this.header={magic:Nv.decodeText(new Uint8Array(re.slice(0,4))),version:oe.getUint32(4,!0),length:oe.getUint32(8,!0)},this.header.magic!==C)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var we=new DataView(re,R),ge=0;ge<we.byteLength;){var be=we.getUint32(ge,!0);ge+=4;var Ce=we.getUint32(ge,!0);if(ge+=4,Ce===B.JSON){var P=new Uint8Array(re,R+ge,be);this.content=Nv.decodeText(P)}else if(Ce===B.BIN){var _e=R+ge;this.body=re.slice(_e,_e+be)}ge+=be}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}function H(re,oe){if(!oe)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=i.KHR_DRACO_MESH_COMPRESSION,this.json=re,this.dracoLoader=oe,this.dracoLoader.preload()}H.prototype.decodePrimitive=function(re,oe){var we=this.json,ge=this.dracoLoader,be=re.extensions[this.name].bufferView,Ce=re.extensions[this.name].attributes,P={},_e={},ke={};for(var Se in Ce){var se=Me[Se]||Se.toLowerCase();P[se]=Ce[Se]}for(Se in re.attributes){var se=Me[Se]||Se.toLowerCase();if(Ce[Se]!==void 0){var he=we.accessors[re.attributes[Se]],me=K[he.componentType];ke[se]=me,_e[se]=he.normalized===!0}}return oe.getDependency("bufferView",be).then(function(xt){return new Promise(function(pt){ge.decodeDracoFile(xt,function(ze){for(var At in ze.attributes){var gt=ze.attributes[At],Ft=_e[At];Ft!==void 0&&(gt.normalized=Ft)}pt(ze)},P,ke)})})};function G(){this.name=i.KHR_TEXTURE_TRANSFORM}G.prototype.extendTexture=function(re,oe){return re=re.clone(),oe.offset!==void 0&&re.offset.fromArray(oe.offset),oe.rotation!==void 0&&(re.rotation=oe.rotation),oe.scale!==void 0&&re.repeat.fromArray(oe.scale),oe.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),re.needsUpdate=!0,re};function O(re){Jl.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var oe=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),we=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),ge=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),be=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),Ce=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),P={specular:{value:new _n().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=P,this.onBeforeCompile=function(_e){for(var ke in P)_e.uniforms[ke]=P[ke];_e.fragmentShader=_e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",oe).replace("#include <metalnessmap_pars_fragment>",we).replace("#include <roughnessmap_fragment>",ge).replace("#include <metalnessmap_fragment>",be).replace("#include <lights_physical_fragment>",Ce)},Object.defineProperties(this,{specular:{get:function(){return P.specular.value},set:function(_e){P.specular.value=_e}},specularMap:{get:function(){return P.specularMap.value},set:function(_e){P.specularMap.value=_e,_e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return P.glossiness.value},set:function(_e){P.glossiness.value=_e}},glossinessMap:{get:function(){return P.glossinessMap.value},set:function(_e){P.glossinessMap.value=_e,_e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(re)}O.prototype=Object.create(Jl.prototype),O.prototype.constructor=O,O.prototype.copy=function(re){return Jl.prototype.copy.call(this,re),this.specularMap=re.specularMap,this.specular.copy(re.specular),this.glossinessMap=re.glossinessMap,this.glossiness=re.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this};function U(){return{name:i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return O},extendParams:function(re,oe,we){var ge=oe.extensions[this.name];re.color=new _n(1,1,1),re.opacity=1;var be=[];if(Array.isArray(ge.diffuseFactor)){var Ce=ge.diffuseFactor;re.color.fromArray(Ce),re.opacity=Ce[3]}if(ge.diffuseTexture!==void 0&&be.push(we.assignTexture(re,"map",ge.diffuseTexture)),re.emissive=new _n(0,0,0),re.glossiness=ge.glossinessFactor!==void 0?ge.glossinessFactor:1,re.specular=new _n(1,1,1),Array.isArray(ge.specularFactor)&&re.specular.fromArray(ge.specularFactor),ge.specularGlossinessTexture!==void 0){var P=ge.specularGlossinessTexture;be.push(we.assignTexture(re,"glossinessMap",P)),be.push(we.assignTexture(re,"specularMap",P))}return Promise.all(be)},createMaterial:function(re){var oe=new O(re);return oe.fog=!0,oe.color=re.color,oe.map=re.map===void 0?null:re.map,oe.lightMap=null,oe.lightMapIntensity=1,oe.aoMap=re.aoMap===void 0?null:re.aoMap,oe.aoMapIntensity=1,oe.emissive=re.emissive,oe.emissiveIntensity=1,oe.emissiveMap=re.emissiveMap===void 0?null:re.emissiveMap,oe.bumpMap=re.bumpMap===void 0?null:re.bumpMap,oe.bumpScale=1,oe.normalMap=re.normalMap===void 0?null:re.normalMap,oe.normalMapType=pm,re.normalScale&&(oe.normalScale=re.normalScale),oe.displacementMap=null,oe.displacementScale=1,oe.displacementBias=0,oe.specularMap=re.specularMap===void 0?null:re.specularMap,oe.specular=re.specular,oe.glossinessMap=re.glossinessMap===void 0?null:re.glossinessMap,oe.glossiness=re.glossiness,oe.alphaMap=null,oe.envMap=re.envMap===void 0?null:re.envMap,oe.envMapIntensity=1,oe.refractionRatio=.98,oe}}}function $(){this.name=i.KHR_MESH_QUANTIZATION}function ie(re,oe,we,ge){Zl.call(this,re,oe,we,ge)}ie.prototype=Object.create(Zl.prototype),ie.prototype.constructor=ie,ie.prototype.copySampleValue_=function(re){for(var oe=this.resultBuffer,we=this.sampleValues,ge=this.valueSize,be=re*ge*3+ge,Ce=0;Ce!==ge;Ce++)oe[Ce]=we[be+Ce];return oe},ie.prototype.beforeStart_=ie.prototype.copySampleValue_,ie.prototype.afterEnd_=ie.prototype.copySampleValue_,ie.prototype.interpolate_=function(re,oe,we,ge){for(var be=this.resultBuffer,Ce=this.sampleValues,P=this.valueSize,_e=P*2,ke=P*3,Se=ge-oe,se=(we-oe)/Se,he=se*se,me=he*se,xt=re*ke,pt=xt-ke,ze=-2*me+3*he,At=me-he,gt=1-ze,Ft=At-he+se,Et=0;Et!==P;Et++){var Pt=Ce[pt+Et+P],qt=Ce[pt+Et+_e]*Se,Xe=Ce[xt+Et+P],Ct=Ce[xt+Et]*Se;be[Et]=gt*Pt+Ft*qt+ze*Xe+At*Ct}return be};var ue={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},K={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ce={9728:As,9729:mo,9984:tS,9985:hR,9986:nS,9987:wv},ve={33071:jl,33648:Cw,10497:Ev},Ve={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Me={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ee={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ne={CUBICSPLINE:void 0,LINEAR:Av,STEP:_y},Oe={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tt(re,oe){return typeof re!="string"||re===""?"":(/^https?:\/\//i.test(oe)&&/^\//.test(re)&&(oe=oe.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(re)||(/^data:.*,.*$/i.test(re)||/^blob:.*$/i.test(re))?re:oe+re)}function Ze(re){return re.DefaultMaterial===void 0&&(re.DefaultMaterial=new Jl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:xy})),re.DefaultMaterial}function Qe(re,oe,we){for(var ge in we.extensions)re[ge]===void 0&&(oe.userData.gltfExtensions=oe.userData.gltfExtensions||{},oe.userData.gltfExtensions[ge]=we.extensions[ge])}function at(re,oe){oe.extras!==void 0&&(typeof oe.extras=="object"?Object.assign(re.userData,oe.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+oe.extras))}function mt(re,oe,we){for(var ge=!1,be=!1,Ce=0,P=oe.length;Ce<P;Ce++){var _e=oe[Ce];if(_e.POSITION!==void 0&&(ge=!0),_e.NORMAL!==void 0&&(be=!0),ge&&be)break}if(!ge&&!be)return Promise.resolve(re);for(var ke=[],Se=[],Ce=0,P=oe.length;Ce<P;Ce++){var _e=oe[Ce];if(ge){var se=_e.POSITION!==void 0?we.getDependency("accessor",_e.POSITION):re.attributes.position;ke.push(se)}if(be){var se=_e.NORMAL!==void 0?we.getDependency("accessor",_e.NORMAL):re.attributes.normal;Se.push(se)}}return Promise.all([Promise.all(ke),Promise.all(Se)]).then(function(he){var me=he[0],xt=he[1];return ge&&(re.morphAttributes.position=me),be&&(re.morphAttributes.normal=xt),re.morphTargetsRelative=!0,re})}function Ht(re,oe){if(re.updateMorphTargets(),oe.weights!==void 0)for(var we=0,ge=oe.weights.length;we<ge;we++)re.morphTargetInfluences[we]=oe.weights[we];if(oe.extras&&Array.isArray(oe.extras.targetNames)){var be=oe.extras.targetNames;if(re.morphTargetInfluences.length===be.length){re.morphTargetDictionary={};for(var we=0,ge=be.length;we<ge;we++)re.morphTargetDictionary[be[we]]=we}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Wt(re){var oe=re.extensions&&re.extensions[i.KHR_DRACO_MESH_COMPRESSION],we;return oe?we="draco:"+oe.bufferView+":"+oe.indices+":"+et(oe.attributes):we=re.indices+":"+et(re.attributes)+":"+re.mode,we}function et(re){for(var oe="",we=Object.keys(re).sort(),ge=0,be=we.length;ge<be;ge++)oe+=we[ge]+":"+re[we[ge]]+";";return oe}function De(re,oe){this.json=re||{},this.extensions={},this.plugins={},this.options=oe||{},this.cache=new n,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new tT(this.options.manager):this.textureLoader=new rA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new Ia(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}De.prototype.setExtensions=function(re){this.extensions=re},De.prototype.setPlugins=function(re){this.plugins=re},De.prototype.parse=function(re,oe){var we=this,ge=this.json,be=this.extensions;this.cache.removeAll(),this._invokeAll(function(Ce){return Ce._markDefs&&Ce._markDefs()}),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(Ce){var P={scene:Ce[0][ge.scene||0],scenes:Ce[0],animations:Ce[1],cameras:Ce[2],asset:ge.asset,parser:we,userData:{}};Qe(be,P,ge),at(P,ge),re(P)}).catch(oe)},De.prototype._markDefs=function(){for(var re=this.json.nodes||[],oe=this.json.skins||[],we=this.json.meshes||[],ge=0,be=oe.length;ge<be;ge++)for(var Ce=oe[ge].joints,P=0,_e=Ce.length;P<_e;P++)re[Ce[P]].isBone=!0;for(var ke=0,Se=re.length;ke<Se;ke++){var se=re[ke];se.mesh!==void 0&&(this._addNodeRef(this.meshCache,se.mesh),se.skin!==void 0&&(we[se.mesh].isSkinnedMesh=!0)),se.camera!==void 0&&this._addNodeRef(this.cameraCache,se.camera)}},De.prototype._addNodeRef=function(re,oe){if(oe===void 0)return;re.refs[oe]===void 0&&(re.refs[oe]=re.uses[oe]=0),re.refs[oe]++},De.prototype._getNodeRef=function(re,oe,we){if(re.refs[oe]<=1)return we;var ge=we.clone();return ge.name+="_instance_"+re.uses[oe]++,ge},De.prototype._invokeOne=function(re){var oe=Object.values(this.plugins);oe.push(this);for(var we=0;we<oe.length;we++){var ge=re(oe[we]);if(ge)return ge}},De.prototype._invokeAll=function(re){var oe=Object.values(this.plugins);oe.unshift(this);for(var we=[],ge=0;ge<oe.length;ge++){var be=re(oe[ge]);be&&we.push(be)}return we},De.prototype.getDependency=function(re,oe){var we=re+":"+oe,ge=this.cache.get(we);if(!ge){switch(re){case"scene":ge=this.loadScene(oe);break;case"node":ge=this.loadNode(oe);break;case"mesh":ge=this._invokeOne(function(be){return be.loadMesh&&be.loadMesh(oe)});break;case"accessor":ge=this.loadAccessor(oe);break;case"bufferView":ge=this._invokeOne(function(be){return be.loadBufferView&&be.loadBufferView(oe)});break;case"buffer":ge=this.loadBuffer(oe);break;case"material":ge=this._invokeOne(function(be){return be.loadMaterial&&be.loadMaterial(oe)});break;case"texture":ge=this._invokeOne(function(be){return be.loadTexture&&be.loadTexture(oe)});break;case"skin":ge=this.loadSkin(oe);break;case"animation":ge=this.loadAnimation(oe);break;case"camera":ge=this.loadCamera(oe);break;default:throw new Error("Unknown type: "+re)}this.cache.add(we,ge)}return ge},De.prototype.getDependencies=function(re){var oe=this.cache.get(re);if(!oe){var we=this,ge=this.json[re+(re==="mesh"?"es":"s")]||[];oe=Promise.all(ge.map(function(be,Ce){return we.getDependency(re,Ce)})),this.cache.add(re,oe)}return oe},De.prototype.loadBuffer=function(re){var oe=this.json.buffers[re],we=this.fileLoader;if(oe.type&&oe.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+oe.type+" buffer type is not supported.");if(oe.uri===void 0&&re===0)return Promise.resolve(this.extensions[i.KHR_BINARY_GLTF].body);var ge=this.options;return new Promise(function(be,Ce){we.load(tt(oe.uri,ge.path),be,void 0,function(){Ce(new Error('THREE.GLTFLoader: Failed to load buffer "'+oe.uri+'".'))})})},De.prototype.loadBufferView=function(re){var oe=this.json.bufferViews[re];return this.getDependency("buffer",oe.buffer).then(function(we){var ge=oe.byteLength||0,be=oe.byteOffset||0;return we.slice(be,be+ge)})},De.prototype.loadAccessor=function(re){var oe=this,we=this.json,ge=this.json.accessors[re];if(ge.bufferView===void 0&&ge.sparse===void 0)return Promise.resolve(null);var be=[];return ge.bufferView!==void 0?be.push(this.getDependency("bufferView",ge.bufferView)):be.push(null),ge.sparse!==void 0&&(be.push(this.getDependency("bufferView",ge.sparse.indices.bufferView)),be.push(this.getDependency("bufferView",ge.sparse.values.bufferView))),Promise.all(be).then(function(Ce){var P=Ce[0],_e=Ve[ge.type],ke=K[ge.componentType],Se=ke.BYTES_PER_ELEMENT,se=Se*_e,he=ge.byteOffset||0,me=ge.bufferView!==void 0?we.bufferViews[ge.bufferView].byteStride:void 0,xt=ge.normalized===!0,pt,ze;if(me&&me!==se){var At=Math.floor(he/me),gt="InterleavedBuffer:"+ge.bufferView+":"+ge.componentType+":"+At+":"+ge.count,Ft=oe.cache.get(gt);Ft||(pt=new ke(P,At*me,ge.count*me/Se),Ft=new Mu(pt,me/Se),oe.cache.add(gt,Ft)),ze=new Cd(Ft,_e,he%me/Se,xt)}else P===null?pt=new ke(ge.count*_e):pt=new ke(P,he,ge.count*_e),ze=new cr(pt,_e,xt);if(ge.sparse!==void 0){var Et=Ve.SCALAR,Pt=K[ge.sparse.indices.componentType],qt=ge.sparse.indices.byteOffset||0,Xe=ge.sparse.values.byteOffset||0,Ct=new Pt(Ce[1],qt,ge.sparse.count*Et),zt=new ke(Ce[2],Xe,ge.sparse.count*_e);P!==null&&(ze=new cr(ze.array.slice(),ze.itemSize,ze.normalized));for(var sn=0,lr=Ct.length;sn<lr;sn++){var zn=Ct[sn];if(ze.setX(zn,zt[sn*_e]),_e>=2&&ze.setY(zn,zt[sn*_e+1]),_e>=3&&ze.setZ(zn,zt[sn*_e+2]),_e>=4&&ze.setW(zn,zt[sn*_e+3]),_e>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ze})},De.prototype.loadTexture=function(re){var oe=this,we=this.json,ge=this.options,be=we.textures[re],Ce=be.extensions||{},P;Ce[i.MSFT_TEXTURE_DDS]?P=we.images[Ce[i.MSFT_TEXTURE_DDS].source]:P=we.images[be.source];var _e;return P.uri&&(_e=ge.manager.getHandler(P.uri)),_e||(_e=Ce[i.MSFT_TEXTURE_DDS]?oe.extensions[i.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(re,P,_e)},De.prototype.loadTextureImage=function(re,oe,we){var ge=this,be=this.json,Ce=this.options,P=be.textures[re],_e=self.URL||self.webkitURL,ke=oe.uri,Se=!1,se=!0;return oe.mimeType==="image/jpeg"&&(se=!1),oe.bufferView!==void 0&&(ke=ge.getDependency("bufferView",oe.bufferView).then(function(he){if(oe.mimeType==="image/png"){var me=new DataView(he,25,1).getUint8(0,!1);se=me===6||me===4||me===3}Se=!0;var xt=new Blob([he],{type:oe.mimeType});return ke=_e.createObjectURL(xt),ke})),Promise.resolve(ke).then(function(he){return new Promise(function(me,xt){var pt=me;we.isImageBitmapLoader===!0&&(pt=function(ze){me(new tx(ze))}),we.load(tt(he,Ce.path),pt,void 0,xt)})}).then(function(he){Se===!0&&_e.revokeObjectURL(ke),he.flipY=!1,P.name&&(he.name=P.name),se||(he.format=lf);var me=be.samplers||{},xt=me[P.sampler]||{};return he.magFilter=ce[xt.magFilter]||mo,he.minFilter=ce[xt.minFilter]||wv,he.wrapS=ve[xt.wrapS]||Ev,he.wrapT=ve[xt.wrapT]||Ev,ge.associations.set(he,{type:"textures",index:re}),he})},De.prototype.assignTexture=function(re,oe,we){var ge=this;return this.getDependency("texture",we.index).then(function(be){if(we.texCoord!==void 0&&we.texCoord!=0&&!(oe==="aoMap"&&we.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+we.texCoord+" for texture "+oe+" not yet supported."),ge.extensions[i.KHR_TEXTURE_TRANSFORM]){var Ce=we.extensions!==void 0?we.extensions[i.KHR_TEXTURE_TRANSFORM]:void 0;if(Ce){var P=ge.associations.get(be);be=ge.extensions[i.KHR_TEXTURE_TRANSFORM].extendTexture(be,Ce),ge.associations.set(be,P)}}re[oe]=be})},De.prototype.assignFinalMaterial=function(re){var oe=re.geometry,we=re.material,ge=oe.attributes.tangent!==void 0,be=oe.attributes.color!==void 0,Ce=oe.attributes.normal===void 0,P=re.isSkinnedMesh===!0,_e=Object.keys(oe.morphAttributes).length>0,ke=_e&&oe.morphAttributes.normal!==void 0;if(re.isPoints){var Se="PointsMaterial:"+we.uuid,se=this.cache.get(Se);se||(se=new Ld,or.prototype.copy.call(se,we),se.color.copy(we.color),se.map=we.map,se.sizeAttenuation=!1,this.cache.add(Se,se)),we=se}else if(re.isLine){var Se="LineBasicMaterial:"+we.uuid,he=this.cache.get(Se);he||(he=new Su,or.prototype.copy.call(he,we),he.color.copy(we.color),this.cache.add(Se,he)),we=he}if(ge||be||Ce||P||_e){var Se="ClonedMaterial:"+we.uuid+":";we.isGLTFSpecularGlossinessMaterial&&(Se+="specular-glossiness:"),P&&(Se+="skinning:"),ge&&(Se+="vertex-tangents:"),be&&(Se+="vertex-colors:"),Ce&&(Se+="flat-shading:"),_e&&(Se+="morph-targets:"),ke&&(Se+="morph-normals:");var me=this.cache.get(Se);me||(me=we.clone(),P&&(me.skinning=!0),ge&&(me.vertexTangents=!0),be&&(me.vertexColors=!0),Ce&&(me.flatShading=!0),_e&&(me.morphTargets=!0),ke&&(me.morphNormals=!0),this.cache.add(Se,me),this.associations.set(me,this.associations.get(we))),we=me}we.aoMap&&oe.attributes.uv2===void 0&&oe.attributes.uv!==void 0&&oe.setAttribute("uv2",oe.attributes.uv),we.normalScale&&!ge&&(we.normalScale.y=-we.normalScale.y),we.clearcoatNormalScale&&!ge&&(we.clearcoatNormalScale.y=-we.clearcoatNormalScale.y),re.material=we},De.prototype.getMaterialType=function(){return Jl},De.prototype.loadMaterial=function(re){var oe=this,we=this.json,ge=this.extensions,be=we.materials[re],Ce,P={},_e=be.extensions||{},ke=[];if(_e[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var Se=ge[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];Ce=Se.getMaterialType(),ke.push(Se.extendParams(P,be,oe))}else if(_e[i.KHR_MATERIALS_UNLIT]){var se=ge[i.KHR_MATERIALS_UNLIT];Ce=se.getMaterialType(),ke.push(se.extendParams(P,be,oe))}else{var he=be.pbrMetallicRoughness||{};if(P.color=new _n(1,1,1),P.opacity=1,Array.isArray(he.baseColorFactor)){var me=he.baseColorFactor;P.color.fromArray(me),P.opacity=me[3]}he.baseColorTexture!==void 0&&ke.push(oe.assignTexture(P,"map",he.baseColorTexture)),P.metalness=he.metallicFactor!==void 0?he.metallicFactor:1,P.roughness=he.roughnessFactor!==void 0?he.roughnessFactor:1,he.metallicRoughnessTexture!==void 0&&(ke.push(oe.assignTexture(P,"metalnessMap",he.metallicRoughnessTexture)),ke.push(oe.assignTexture(P,"roughnessMap",he.metallicRoughnessTexture))),Ce=this._invokeOne(function(pt){return pt.getMaterialType&&pt.getMaterialType(re)}),ke.push(Promise.all(this._invokeAll(function(pt){return pt.extendMaterialParams&&pt.extendMaterialParams(re,P)})))}be.doubleSided===!0&&(P.side=Ey);var xt=be.alphaMode||Oe.OPAQUE;return xt===Oe.BLEND?(P.transparent=!0,P.depthWrite=!1):(P.transparent=!1,xt===Oe.MASK&&(P.alphaTest=be.alphaCutoff!==void 0?be.alphaCutoff:.5)),be.normalTexture!==void 0&&Ce!==ql&&(ke.push(oe.assignTexture(P,"normalMap",be.normalTexture)),P.normalScale=new St(1,1),be.normalTexture.scale!==void 0&&P.normalScale.set(be.normalTexture.scale,be.normalTexture.scale)),be.occlusionTexture!==void 0&&Ce!==ql&&(ke.push(oe.assignTexture(P,"aoMap",be.occlusionTexture)),be.occlusionTexture.strength!==void 0&&(P.aoMapIntensity=be.occlusionTexture.strength)),be.emissiveFactor!==void 0&&Ce!==ql&&(P.emissive=new _n().fromArray(be.emissiveFactor)),be.emissiveTexture!==void 0&&Ce!==ql&&ke.push(oe.assignTexture(P,"emissiveMap",be.emissiveTexture)),Promise.all(ke).then(function(){var pt;return Ce===O?pt=ge[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(P):pt=new Ce(P),be.name&&(pt.name=be.name),pt.map&&(pt.map.encoding=by),pt.emissiveMap&&(pt.emissiveMap.encoding=by),at(pt,be),oe.associations.set(pt,{type:"materials",index:re}),be.extensions&&Qe(ge,pt,be),pt})},De.prototype.createUniqueName=function(re){for(var oe=Oa.sanitizeNodeName(re||""),we=1;this.nodeNamesUsed[oe];++we)oe=re+"_"+we;return this.nodeNamesUsed[oe]=!0,oe};function Le(re,oe,we){var ge=oe.attributes,be=new zf;if(ge.POSITION!==void 0){var Ce=we.json.accessors[ge.POSITION],P=Ce.min,_e=Ce.max;if(P!==void 0&&_e!==void 0)be.set(new Ue(P[0],P[1],P[2]),new Ue(_e[0],_e[1],_e[2]));else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;var ke=oe.targets;if(ke!==void 0){for(var Se=new Ue,se=new Ue,he=0,me=ke.length;he<me;he++){var xt=ke[he];if(xt.POSITION!==void 0){var Ce=we.json.accessors[xt.POSITION],P=Ce.min,_e=Ce.max;P!==void 0&&_e!==void 0?(se.setX(Math.max(Math.abs(P[0]),Math.abs(_e[0]))),se.setY(Math.max(Math.abs(P[1]),Math.abs(_e[1]))),se.setZ(Math.max(Math.abs(P[2]),Math.abs(_e[2]))),Se.max(se)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}be.expandByVector(Se)}re.boundingBox=be;var pt=new Yf;be.getCenter(pt.center),pt.radius=be.min.distanceTo(be.max)/2,re.boundingSphere=pt}function Ye(re,oe,we){var ge=oe.attributes,be=[];function Ce(Se,se){return we.getDependency("accessor",Se).then(function(he){re.setAttribute(se,he)})}for(var P in ge){var _e=Me[P]||P.toLowerCase();if(_e in re.attributes)continue;be.push(Ce(ge[P],_e))}if(oe.indices!==void 0&&!re.index){var ke=we.getDependency("accessor",oe.indices).then(function(Se){re.setIndex(Se)});be.push(ke)}return at(re,oe),Le(re,oe,we),Promise.all(be).then(function(){return oe.targets!==void 0?mt(re,oe.targets,we):re})}function Re(re,oe){var we=re.getIndex();if(we===null){var ge=[],be=re.getAttribute("position");if(be!==void 0){for(var Ce=0;Ce<be.count;Ce++)ge.push(Ce);re.setIndex(ge),we=re.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),re}var P=we.count-2,_e=[];if(oe===vR)for(var Ce=1;Ce<=P;Ce++)_e.push(we.getX(0)),_e.push(we.getX(Ce)),_e.push(we.getX(Ce+1));else for(var Ce=0;Ce<P;Ce++)Ce%2===0?(_e.push(we.getX(Ce)),_e.push(we.getX(Ce+1)),_e.push(we.getX(Ce+2))):(_e.push(we.getX(Ce+2)),_e.push(we.getX(Ce+1)),_e.push(we.getX(Ce)));_e.length/3!==P&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var ke=re.clone();return ke.setIndex(_e),ke}return De.prototype.loadGeometries=function(re){var oe=this,we=this.extensions,ge=this.primitiveCache;function be(me){return we[i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(me,oe).then(function(xt){return Ye(xt,me,oe)})}for(var Ce=[],P=0,_e=re.length;P<_e;P++){var ke=re[P],Se=Wt(ke),se=ge[Se];if(se)Ce.push(se.promise);else{var he;ke.extensions&&ke.extensions[i.KHR_DRACO_MESH_COMPRESSION]?he=be(ke):he=Ye(new Mi,ke,oe),ge[Se]={primitive:ke,promise:he},Ce.push(he)}}return Promise.all(Ce)},De.prototype.loadMesh=function(re){for(var oe=this,we=this.json,ge=this.extensions,be=we.meshes[re],Ce=be.primitives,P=[],_e=0,ke=Ce.length;_e<ke;_e++){var Se=Ce[_e].material===void 0?Ze(this.cache):this.getDependency("material",Ce[_e].material);P.push(Se)}return P.push(oe.loadGeometries(Ce)),Promise.all(P).then(function(se){for(var he=se.slice(0,se.length-1),me=se[se.length-1],xt=[],pt=0,ze=me.length;pt<ze;pt++){var At=me[pt],gt=Ce[pt],Ft,Et=he[pt];if(gt.mode===ue.TRIANGLES||gt.mode===ue.TRIANGLE_STRIP||gt.mode===ue.TRIANGLE_FAN||gt.mode===void 0)Ft=be.isSkinnedMesh===!0?new Qw(At,Et):new _s(At,Et),Ft.isSkinnedMesh===!0&&!Ft.geometry.attributes.skinWeight.normalized&&Ft.normalizeSkinWeights(),gt.mode===ue.TRIANGLE_STRIP?Ft.geometry=Re(Ft.geometry,TO):gt.mode===ue.TRIANGLE_FAN&&(Ft.geometry=Re(Ft.geometry,vR));else if(gt.mode===ue.LINES)Ft=new ex(At,Et);else if(gt.mode===ue.LINE_STRIP)Ft=new Sm(At,Et);else if(gt.mode===ue.LINE_LOOP)Ft=new US(At,Et);else if(gt.mode===ue.POINTS)Ft=new XS(At,Et);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+gt.mode);Object.keys(Ft.geometry.morphAttributes).length>0&&Ht(Ft,be),Ft.name=oe.createUniqueName(be.name||"mesh_"+re),at(Ft,be),gt.extensions&&Qe(ge,Ft,gt),oe.assignFinalMaterial(Ft),xt.push(Ft)}if(xt.length===1)return xt[0];for(var Pt=new ah,pt=0,ze=xt.length;pt<ze;pt++)Pt.add(xt[pt]);return Pt})},De.prototype.loadCamera=function(re){var oe,we=this.json.cameras[re],ge=we[we.type];if(!ge){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return we.type==="perspective"?oe=new Os(Lr.radToDeg(ge.yfov),ge.aspectRatio||1,ge.znear||1,ge.zfar||2e6):we.type==="orthographic"&&(oe=new Bv(-ge.xmag,ge.xmag,ge.ymag,-ge.ymag,ge.znear,ge.zfar)),we.name&&(oe.name=this.createUniqueName(we.name)),at(oe,we),Promise.resolve(oe)},De.prototype.loadSkin=function(re){var oe=this.json.skins[re],we={joints:oe.joints};return oe.inverseBindMatrices===void 0?Promise.resolve(we):this.getDependency("accessor",oe.inverseBindMatrices).then(function(ge){return we.inverseBindMatrices=ge,we})},De.prototype.loadAnimation=function(re){for(var oe=this.json,we=oe.animations[re],ge=[],be=[],Ce=[],P=[],_e=[],ke=0,Se=we.channels.length;ke<Se;ke++){var se=we.channels[ke],he=we.samplers[se.sampler],me=se.target,xt=me.node!==void 0?me.node:me.id,pt=we.parameters!==void 0?we.parameters[he.input]:he.input,ze=we.parameters!==void 0?we.parameters[he.output]:he.output;ge.push(this.getDependency("node",xt)),be.push(this.getDependency("accessor",pt)),Ce.push(this.getDependency("accessor",ze)),P.push(he),_e.push(me)}return Promise.all([Promise.all(ge),Promise.all(be),Promise.all(Ce),Promise.all(P),Promise.all(_e)]).then(function(At){for(var gt=At[0],Ft=At[1],Et=At[2],Pt=At[3],qt=At[4],Xe=[],Ct=0,zt=gt.length;Ct<zt;Ct++){var sn=gt[Ct],lr=Ft[Ct],zn=Et[Ct],oi=Pt[Ct],fr=qt[Ct];if(sn===void 0)continue;sn.updateMatrix(),sn.matrixAutoUpdate=!0;var Zr;switch(Ee[fr.path]){case Ee.weights:Zr=Dv;break;case Ee.rotation:Zr=ux;break;case Ee.position:case Ee.scale:default:Zr=Fv;break}var ci=sn.name?sn.name:sn.uuid,Xr=oi.interpolation!==void 0?Ne[oi.interpolation]:Av,Wr=[];Ee[fr.path]===Ee.weights?sn.traverse(function(Fe){Fe.isMesh===!0&&Fe.morphTargetInfluences&&Wr.push(Fe.name?Fe.name:Fe.uuid)}):Wr.push(ci);var Mr=zn.array;if(zn.normalized){var eo;if(Mr.constructor===Int8Array)eo=1/127;else if(Mr.constructor===Uint8Array)eo=1/255;else if(Mr.constructor==Int16Array)eo=1/32767;else if(Mr.constructor===Uint16Array)eo=1/65535;else throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");for(var Ms=new Float32Array(Mr.length),si=0,Lo=Mr.length;si<Lo;si++)Ms[si]=Mr[si]*eo;Mr=Ms}for(var si=0,Lo=Wr.length;si<Lo;si++){var Jo=new Zr(Wr[si]+"."+Ee[fr.path],lr.array,Mr,Xr);oi.interpolation==="CUBICSPLINE"&&(Jo.createInterpolant=function(It){return new ie(this.times,this.values,this.getValueSize()/3,It)},Jo.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),Xe.push(Jo)}}var yo=we.name?we.name:"animation_"+re;return new yc(yo,void 0,Xe)})},De.prototype.loadNode=function(re){var oe=this.json,we=this.extensions,ge=this,be=oe.nodes[re],Ce=be.name?ge.createUniqueName(be.name):"";return function(){var P=[];return be.mesh!==void 0&&P.push(ge.getDependency("mesh",be.mesh).then(function(_e){var ke=ge._getNodeRef(ge.meshCache,be.mesh,_e);return be.weights!==void 0&&ke.traverse(function(Se){if(!Se.isMesh)return;for(var se=0,he=be.weights.length;se<he;se++)Se.morphTargetInfluences[se]=be.weights[se]}),ke})),be.camera!==void 0&&P.push(ge.getDependency("camera",be.camera).then(function(_e){return ge._getNodeRef(ge.cameraCache,be.camera,_e)})),ge._invokeAll(function(_e){return _e.createNodeAttachment&&_e.createNodeAttachment(re)}).forEach(function(_e){P.push(_e)}),Promise.all(P)}().then(function(P){var _e;if(be.isBone===!0?_e=new qw:P.length>1?_e=new ah:P.length===1?_e=P[0]:_e=new Vn,_e!==P[0])for(var ke=0,Se=P.length;ke<Se;ke++)_e.add(P[ke]);if(be.name&&(_e.userData.name=be.name,_e.name=Ce),at(_e,be),be.extensions&&Qe(we,_e,be),be.matrix!==void 0){var se=new Dr;se.fromArray(be.matrix),_e.applyMatrix4(se)}else be.translation!==void 0&&_e.position.fromArray(be.translation),be.rotation!==void 0&&_e.quaternion.fromArray(be.rotation),be.scale!==void 0&&_e.scale.fromArray(be.scale);return ge.associations.set(_e,{type:"nodes",index:re}),_e})},De.prototype.loadScene=function(){function re(oe,we,ge,be){var Ce=ge.nodes[oe];return be.getDependency("node",oe).then(function(P){if(Ce.skin===void 0)return P;var _e;return be.getDependency("skin",Ce.skin).then(function(ke){_e=ke;for(var Se=[],se=0,he=_e.joints.length;se<he;se++)Se.push(be.getDependency("node",_e.joints[se]));return Promise.all(Se)}).then(function(ke){return P.traverse(function(Se){if(!Se.isMesh)return;for(var se=[],he=[],me=0,xt=ke.length;me<xt;me++){var pt=ke[me];if(pt){se.push(pt);var ze=new Dr;_e.inverseBindMatrices!==void 0&&ze.fromArray(_e.inverseBindMatrices.array,me*16),he.push(ze)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',_e.joints[me])}Se.bind(new Jw(se,he),Se.matrixWorld)}),P})}).then(function(P){we.add(P);var _e=[];if(Ce.children)for(var ke=Ce.children,Se=0,se=ke.length;Se<se;Se++){var he=ke[Se];_e.push(re(he,P,ge,be))}return Promise.all(_e)})}return function(we){var ge=this.json,be=this.extensions,Ce=this.json.scenes[we],P=this,_e=new ah;Ce.name&&(_e.name=P.createUniqueName(Ce.name)),at(_e,Ce),Ce.extensions&&Qe(be,_e,Ce);for(var ke=Ce.nodes||[],Se=[],se=0,he=ke.length;se<he;se++)Se.push(re(ke[se],_e,ge,P));return Promise.all(Se).then(function(){return _e})}}(),t}(),Tu=function(t){ii.call(this,t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};Tu.prototype=Object.assign(Object.create(ii.prototype),{constructor:Tu,setDecoderPath:function(t){return this.decoderPath=t,this},setDecoderConfig:function(t){return this.decoderConfig=t,this},setWorkerLimit:function(t){return this.workerLimit=t,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(t,n,i,s){var l=new Ia(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,e=>{var p={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,p).then(n).catch(s)},i,s)},decodeDracoFile:function(t,n,i,s){var l={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(t,l).then(n)},decodeGeometry:function(t,n){for(var i in n.attributeTypes){var s=n.attributeTypes[i];s.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[i]=s.name)}var l=JSON.stringify(n);if(Tu.taskCache.has(t)){var e=Tu.taskCache.get(t);if(e.key===l)return e.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var p,v=this.workerNextTaskID++,w=t.byteLength,E=this._getWorker(v,w).then(T=>(p=T,new Promise((C,R)=>{p._callbacks[v]={resolve:C,reject:R},p.postMessage({type:"decode",id:v,taskConfig:n,buffer:t},[t])}))).then(T=>this._createGeometry(T.geometry));return E.catch(()=>!0).then(()=>{p&&v&&this._releaseTask(p,v)}),Tu.taskCache.set(t,{key:l,promise:E}),E},_createGeometry:function(t){var n=new Mi;t.index&&n.setIndex(new cr(t.index.array,1));for(var i=0;i<t.attributes.length;i++){var s=t.attributes[i],l=s.name,e=s.array,p=s.itemSize;n.setAttribute(l,new cr(e,p))}return n},_loadLibrary:function(t,n){var i=new Ia(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((s,l)=>{i.load(t,s,void 0,l)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{var s=i[0];t||(this.decoderConfig.wasmBinary=i[1]);var l=Tu.DRACOWorker.toString(),e=["/* draco decoder */",s,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([e]))}),this.decoderPending},_getWorker:function(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){var i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(l){var e=l.data;switch(e.type){case"decode":i._callbacks[e.id].resolve(e);break;case"error":i._callbacks[e.id].reject(e);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+e.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(s,l){return s._taskLoad>l._taskLoad?-1:1});var i=this.workerPool[this.workerPool.length-1];return i._taskCosts[t]=n,i._taskLoad+=n,i})},_releaseTask:function(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]},debug:function(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))},dispose:function(){for(var t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}});Tu.DRACOWorker=function(){var t,n;onmessage=function(p){var v=p.data;switch(v.type){case"init":t=v.decoderConfig,n=new Promise(function(T){t.onModuleLoaded=function(C){T({draco:C})},DracoDecoderModule(t)});break;case"decode":var w=v.buffer,E=v.taskConfig;n.then(T=>{var C=T.draco,R=new C.Decoder,B=new C.DecoderBuffer;B.Init(new Int8Array(w),w.byteLength);try{var A=i(C,R,B,E),H=A.attributes.map(G=>G.array.buffer);A.index&&H.push(A.index.array.buffer),self.postMessage({type:"decode",id:v.id,geometry:A},H)}catch(G){console.error(G),self.postMessage({type:"error",id:v.id,error:G.message})}finally{C.destroy(B),C.destroy(R)}});break}};function i(p,v,w,E){var T=E.attributeIDs,C=E.attributeTypes,R,B,A=v.GetEncodedGeometryType(w);if(A===p.TRIANGULAR_MESH)R=new p.Mesh,B=v.DecodeBufferToMesh(w,R);else if(A===p.POINT_CLOUD)R=new p.PointCloud,B=v.DecodeBufferToPointCloud(w,R);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!B.ok()||R.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+B.error_msg());var H={index:null,attributes:[]};for(var G in T){var O=self[C[G]],U,$;if(E.useUniqueIDs)$=T[G],U=v.GetAttributeByUniqueId(R,$);else{if($=v.GetAttributeId(R,p[T[G]]),$===-1)continue;U=v.GetAttribute(R,$)}H.attributes.push(l(p,v,R,G,O,U))}return A===p.TRIANGULAR_MESH&&(H.index=s(p,v,R)),p.destroy(R),H}function s(p,v,w){var E=w.num_faces(),T=E*3,C=T*4,R=p._malloc(C);v.GetTrianglesUInt32Array(w,C,R);var B=new Uint32Array(p.HEAPF32.buffer,R,T).slice();return p._free(R),{array:B,itemSize:1}}function l(p,v,w,E,T,C){var R=C.num_components(),B=w.num_points(),A=B*R,H=A*T.BYTES_PER_ELEMENT,G=e(p,T),O=p._malloc(H);v.GetAttributeDataArrayForAllPoints(w,C,G,H,O);var U=new T(p.HEAPF32.buffer,O,A).slice();return p._free(O),{name:E,array:U,itemSize:R}}function e(p,v){switch(v){case Float32Array:return p.DT_FLOAT32;case Int8Array:return p.DT_INT8;case Int16Array:return p.DT_INT16;case Int32Array:return p.DT_INT32;case Uint8Array:return p.DT_UINT8;case Uint16Array:return p.DT_UINT16;case Uint32Array:return p.DT_UINT32}}};Tu.taskCache=new WeakMap;Tu.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")};Tu.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")};Tu.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")};Tu.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};function TU(t="https://www.gstatic.com/draco/v1/decoders/"){return n=>{let i=new Tu;i.setDecoderPath(t),n.setDRACOLoader(i)}}function bD(t,n=!0){let i=xv(TD,t,n?TU(typeof n=="string"?n:void 0):void 0);return i}bD.preload=(t,n=!0)=>xv.preload(TD,t,n?TU(typeof n=="string"?n:void 0):void 0);var CU=ur(ho()),LU=ur(bU());function PU({showPanel:t=0,className:n,parent:i}){let s=SU(()=>new LU.default,[]);return CU.useEffect(()=>{if(s){let l=i&&i.current||document.body;s.showPanel(t),l==null||l.appendChild(s.dom),n&&s.dom.classList.add(n);let e=Ew(()=>s.begin()),p=z8(()=>s.end());return()=>{l==null||l.removeChild(s.dom),e(),p()}}},[i,s,n,t]),null}var ni=ur(ho()),Us=ur(kU()),lA=ur(Ra()),GU=t=>t[0].toUpperCase()+t.slice(1),hT=t=>t.toUpperCase().replace("-","_"),XU=(t,n,i)=>Object.keys(n).forEach(s=>{let l=n[s];if(typeof l=="string")switch(s){case"flexDir":case"dir":case"flexDirection":return t.setFlexDirection(Us.default["FLEX_DIRECTION_"+hT(l)]);case"align":case"alignItems":return t.setAlignItems(Us.default["ALIGN_"+hT(l)]);case"justify":case"justifyContent":return t.setJustifyContent(Us.default["JUSTIFY_"+hT(l)]);case"wrap":case"flexWrap":return t.setFlexWrap(Us.default["WRAP_"+hT(l)]);case"basis":case"flexBasis":return t.setFlexBasis(l);default:return t["set"+GU(s)](l)}else if(typeof l=="number"){let e=l*i;switch(s){case"basis":case"flexBasis":return t.setFlexBasis(e);case"grow":case"flexGrow":return t.setFlexGrow(e);case"shrink":case"flexShrink":return t.setFlexShrink(e);case"align":return t.setAlignItems(l);case"justify":return t.setJustifyContent(l);case"flexDir":case"dir":return t.setFlexDirection(l);case"wrap":return t.setFlexWrap(l);case"padding":case"p":return t.setPadding(Us.default.EDGE_ALL,e);case"paddingLeft":case"pl":return t.setPadding(Us.default.EDGE_LEFT,e);case"paddingRight":case"pr":return t.setPadding(Us.default.EDGE_RIGHT,e);case"paddingTop":case"pt":return t.setPadding(Us.default.EDGE_TOP,e);case"paddingBottom":case"pb":return t.setPadding(Us.default.EDGE_BOTTOM,e);case"margin":case"m":return t.setMargin(Us.default.EDGE_ALL,e);case"marginLeft":case"ml":return t.setMargin(Us.default.EDGE_LEFT,e);case"marginRight":case"mr":return t.setMargin(Us.default.EDGE_RIGHT,e);case"marginTop":case"mt":return t.setMargin(Us.default.EDGE_TOP,e);case"marginBottom":case"mb":return t.setMargin(Us.default.EDGE_BOTTOM,e);default:return t["set"+GU(s)](e)}}}),HU=t=>Object.keys(t).forEach(n=>t[n]===void 0?delete t[n]:{}),FD=ni.createContext({scaleFactor:100,requestReflow(){console.warn("Flex not initialized! Please report")},registerBox(){console.warn("Flex not initialized! Please report")},unregisterBox(){console.warn("Flex not initialized! Please report")}}),BD=ni.createContext({node:null,size:[0,0]});function ND(t){let n=ni.useContext(t);return n||console.warn("You must place this hook/component under a <Flex/> component!"),n}function ID(){let{requestReflow:t}=ND(FD);return t}function wc({children:t,centerAnchor:n,flexDirection:i,flexDir:s,dir:l,alignContent:e,alignItems:p,alignSelf:v,align:w,justifyContent:E,justify:T,flexBasis:C,basis:R,flexGrow:B,grow:A,flexShrink:H,shrink:G,flexWrap:O,wrap:U,margin:$,m:ie,marginBottom:ue,marginLeft:K,marginRight:ce,marginTop:ve,mb:Ve,ml:Me,mr:Ee,mt:Ne,padding:Oe,p:tt,paddingBottom:Ze,paddingLeft:Qe,paddingRight:at,paddingTop:mt,pb:Ht,pl:Wt,pr:et,pt:De,height:Le,width:Ye,maxHeight:Re,maxWidth:re,minHeight:oe,minWidth:we,...ge}){let be=ni.useMemo(()=>{let At={flexDirection:i,flexDir:s,dir:l,alignContent:e,alignItems:p,alignSelf:v,align:w,justifyContent:E,justify:T,flexBasis:C,basis:R,flexGrow:B,grow:A,flexShrink:H,shrink:G,flexWrap:O,wrap:U,margin:$,m:ie,marginBottom:ue,marginLeft:K,marginRight:ce,marginTop:ve,mb:Ve,ml:Me,mr:Ee,mt:Ne,padding:Oe,p:tt,paddingBottom:Ze,paddingLeft:Qe,paddingRight:at,paddingTop:mt,pb:Ht,pl:Wt,pr:et,pt:De,height:Le,width:Ye,maxHeight:Re,maxWidth:re,minHeight:oe,minWidth:we};return HU(At),At},[w,e,p,v,l,C,R,s,i,B,A,H,G,O,Le,T,E,ie,$,ue,K,ce,ve,Re,re,Ve,oe,we,Me,Ee,Ne,tt,Oe,Ze,Qe,at,mt,Ht,Wt,et,De,Ye,U]),{registerBox:Ce,unregisterBox:P,scaleFactor:_e}=ND(FD),{node:ke}=ND(BD),Se=ni.useRef(),se=ni.useMemo(()=>Us.default.Node.create(),[]),he=ID();ni.useLayoutEffect(()=>{XU(se,be,_e)},[be,se,_e]),ni.useLayoutEffect(()=>{if(Se.current&&ke)return ke.insertChild(se,ke.getChildCount()),Ce(se,Se.current,be,n),()=>{ke.removeChild(se),P(se)}},[se,ke,be,n,Ce,P]),ni.useLayoutEffect(()=>{he()},[t,be,he]);let[me,xt]=ni.useState([0,0]),pt=1/_e;Xf(()=>{let At=(typeof be.width=="number"?be.width:null)||se.getComputedWidth().valueOf()/_e,gt=(typeof be.height=="number"?be.height:null)||se.getComputedHeight().valueOf()/_e;(Math.abs(At-me[0])>pt||Math.abs(gt-me[1])>pt)&&xt([At,gt])});let ze=ni.useMemo(()=>({node:se,size:me}),[se,me]);return ni.default.createElement("group",Jr({ref:Se},ge),ni.default.createElement(BD.Provider,{value:ze},typeof t=="function"?t(me[0],me[1]):t))}function zU({size:t=[1,1,1],yogaDirection:n="ltr",plane:i="xy",children:s,scaleFactor:l=100,onReflow:e,flexDirection:p,flexDir:v,dir:w,alignContent:E,alignItems:T,alignSelf:C,align:R,justifyContent:B,justify:A,flexBasis:H,basis:G,flexGrow:O,grow:U,flexShrink:$,shrink:ie,flexWrap:ue,wrap:K,margin:ce,m:ve,marginBottom:Ve,marginLeft:Me,marginRight:Ee,marginTop:Ne,mb:Oe,ml:tt,mr:Ze,mt:Qe,padding:at,p:mt,paddingBottom:Ht,paddingLeft:Wt,paddingRight:et,paddingTop:De,pb:Le,pl:Ye,pr:Re,pt:re,height:oe,width:we,maxHeight:ge,maxWidth:be,minHeight:Ce,minWidth:P,..._e}){let ke=ni.useMemo(()=>{let zn={flexDirection:p,flexDir:v,dir:w,alignContent:E,alignItems:T,alignSelf:C,align:R,justifyContent:B,justify:A,flexBasis:H,basis:G,flexGrow:O,grow:U,flexShrink:$,shrink:ie,flexWrap:ue,wrap:K,margin:ce,m:ve,marginBottom:Ve,marginLeft:Me,marginRight:Ee,marginTop:Ne,mb:Oe,ml:tt,mr:Ze,mt:Qe,padding:at,p:mt,paddingBottom:Ht,paddingLeft:Wt,paddingRight:et,paddingTop:De,pb:Le,pl:Ye,pr:Re,pt:re,height:oe,width:we,maxHeight:ge,maxWidth:be,minHeight:Ce,minWidth:P};return HU(zn),zn},[R,E,T,C,w,H,G,v,p,O,U,$,ie,ue,oe,A,B,ve,ce,Ve,Me,Ee,Ne,ge,be,Oe,Ce,P,tt,Ze,Qe,mt,at,Ht,Wt,et,De,Le,Ye,Re,re,we,K]),Se=ni.useRef([]),se=ni.useCallback((zn,oi,fr,Zr=!1)=>{let ci=Se.current.findIndex(Xr=>Xr.node===zn);ci!==-1&&Se.current.splice(ci,1),Se.current.push({group:oi,node:zn,flexProps:fr,centerAnchor:Zr})},[]),he=ni.useCallback(zn=>{let oi=Se.current.findIndex(fr=>fr.node===zn);oi!==-1&&Se.current.splice(oi,1)},[]),me=ni.useMemo(()=>Us.default.Node.create(),[]);ni.useLayoutEffect(()=>{XU(me,ke,l)},[me,ke,l]);let{invalidate:xt}=Hf(),pt=ni.useRef(!0),ze=ni.useCallback(()=>{pt.current=!0,xt()},[xt]);ni.useLayoutEffect(()=>{ze()},[s,ke,ze]);let At=ni.useMemo(()=>new lA.Box3,[]),gt=ni.useMemo(()=>new lA.Vector3,[]),Ft=i[0],Et=i[1],Pt=function(zn){switch(zn){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(i),[qt,Xe]=function(zn,oi){switch(oi){case"xy":return[zn[0],zn[1]];case"yz":return[zn[1],zn[2]];case"xz":return[zn[0],zn[2]]}}(t,i),Ct=n==="ltr"?Us.default.DIRECTION_LTR:n==="rtl"?Us.default.DIRECTION_RTL:n,zt=ni.useMemo(()=>({requestReflow:ze,registerBox:se,unregisterBox:he,scaleFactor:l}),[ze,se,he,l]),sn=ni.useMemo(()=>({node:me,size:[qt,Xe]}),[me,qt,Xe]);function lr(){Se.current.forEach(({group:ci,node:Xr,flexProps:Wr})=>{let Mr=typeof Wr.width=="number"?Wr.width*l:Wr.width,eo=typeof Wr.height=="number"?Wr.height*l:Wr.height;Mr!==void 0&&eo!==void 0?(Xr.setWidth(Mr),Xr.setHeight(eo)):(At.setFromObject(ci).getSize(gt),Xr.setWidth(Mr||gt[Ft]*l),Xr.setHeight(eo||gt[Et]*l))}),me.calculateLayout(qt*l,Xe*l,Ct);let zn=0,oi=0,fr=0,Zr=0;Se.current.forEach(({group:ci,node:Xr,centerAnchor:Wr})=>{let{left:Mr,top:eo,width:Ms,height:si}=Xr.getComputedLayout(),Lo=(({x:Jo,y:yo,z:Fe})=>new lA.Vector3(Jo,yo,Fe))({[Ft]:(Mr+(Wr?Ms/2:0))/l,[Et]:-(eo+(Wr?si/2:0))/l,[Pt]:0});zn=Math.min(zn,Mr),fr=Math.min(fr,eo),oi=Math.max(oi,Mr+Ms),Zr=Math.max(Zr,eo+si),ci.position.copy(Lo)}),e&&e((oi-zn)/l,(Zr-fr)/l),xt()}return Xf(()=>{pt.current&&(pt.current=!1,lr())}),ni.default.createElement("group",_e,ni.default.createElement(FD.Provider,{value:zt},ni.default.createElement(BD.Provider,{value:sn},s)))}var $l=ur(ho()),Nr=ur(Ra());function OD(){var t=0,n=[],i,s=0,l=0;function e(O,U){var $=OD();function ie(){var ue=t>0?O:U;if(H(ue))try{var K=ue(i);K===$&&A();var ce=R(K);ce?ce.call(K,$.resolve,$.reject):$.resolve(K)}catch(ve){$.reject(ve)}else $[t>0?"resolve":"reject"](i)}return n.push(ie),t&&E(),$}var p=B(function(O){l||w(1,O)}),v=B(function(O){l||w(-1,O)});function w(O,U){l++;var $=0;try{U===G&&A();var ie=O>0&&R(U);ie?ie.call(U,B(function(ue){$++,w(1,ue)}),B(function(ue){$++,w(-1,ue)})):(t=O,i=U,E())}catch(ue){!t&&!$&&w(-1,ue)}}function E(){s||(setTimeout(T,0),s=1)}function T(){var O=n;s=0,n=[],O.forEach(C)}function C(O){O()}function R(O){var U=O&&(H(O)||typeof O=="object")&&O.then;return H(U)&&U}function B(O){var U=0;return function(){for(var $=[],ie=arguments.length;ie--;)$[ie]=arguments[ie];U++||O.apply(this,$)}}function A(){throw new TypeError("Chaining cycle detected")}var H=function(O){return typeof O=="function"},G={then:e,resolve:p,reject:v};return G}function YU(){var t,n,i=new Promise(function(s,l){t=s,n=l});return{then:i.then.bind(i),resolve:t,reject:n}}OD.all=YU.all=function(t){var n=0,i=[],s=uA();return t.length===0?s.resolve([]):t.forEach(function(l,e){var p=uA();p.resolve(l),p.then(function(v){n++,i[e]=v,n===t.length&&s.resolve(i)},s.reject)}),s};var uA=typeof Promise=="function"?YU:OD;function Nne(){var t=Object.create(null);function n(l,e){var p=l.id,v=l.name,w=l.dependencies;w===void 0&&(w=[]);var E=l.init;E===void 0&&(E=function(){});var T=l.getTransferables;if(T===void 0&&(T=null),t[p])return;try{w=w.map(function(R){return R&&R.isWorkerModule&&(n(R,function(B){if(B instanceof Error)throw B}),R=t[R.id].value),R}),E=s("<"+v+">.init",E),T&&(T=s("<"+v+">.getTransferables",T));var C=null;typeof E=="function"?C=E.apply(void 0,w):console.error("worker module init function failed to rehydrate"),t[p]={id:p,value:C,getTransferables:T},e(C)}catch(R){R&&R.noLog||console.error(R),e(R)}}function i(l,e){var p,v=l.id,w=l.args;(!t[v]||typeof t[v].value!="function")&&e(new Error("Worker module "+v+": not found or its 'init' did not return a function"));try{var E=(p=t[v]).value.apply(p,w);E&&typeof E.then=="function"?E.then(T,function(C){return e(C instanceof Error?C:new Error(""+C))}):T(E)}catch(C){e(C)}function T(C){try{var R=t[v].getTransferables&&t[v].getTransferables(C);(!R||!Array.isArray(R)||!R.length)&&(R=void 0),e(C,R)}catch(B){console.error(B),e(B)}}}function s(l,e){var p=void 0;self.troikaDefine=function(w){return p=w};var v=URL.createObjectURL(new Blob(["/** "+l.replace(/\*/g,"")+` **/

troikaDefine(
`+e+`
)`],{type:"application/javascript"}));try{importScripts(v)}catch(w){console.error(w)}return URL.revokeObjectURL(v),delete self.troikaDefine,p}self.addEventListener("message",function(l){var e=l.data,p=e.messageId,v=e.action,w=e.data;try{v==="registerModule"&&n(w,function(E){E instanceof Error?postMessage({messageId:p,success:!1,error:E.message}):postMessage({messageId:p,success:!0,result:{isCallable:typeof E=="function"}})}),v==="callModule"&&i(w,function(E,T){E instanceof Error?postMessage({messageId:p,success:!1,error:E.message}):postMessage({messageId:p,success:!0,result:E},T||void 0)})}catch(E){postMessage({messageId:p,success:!1,error:E.stack})}})}function Ine(t){var n=function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return n._getInitResult().then(function(l){if(typeof l=="function")return l.apply(void 0,i);throw new Error("Worker module function was called but `init` did not return a callable function")})};return n._getInitResult=function(){var i=t.dependencies,s=t.init;i=Array.isArray(i)?i.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var l=uA.all(i).then(function(e){return s.apply(null,e)});return n._getInitResult=function(){return l},l},n}var VU=function(){var t=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var n=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));n.terminate(),t=!0}catch(i){typeof process!="undefined"&&!1||console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+i.message+"]")}return VU=function(){return t},t},One=0,Une=0,UD=!1,WU=Object.create(null),px=function(){var t=Object.create(null);return t._count=0,t}();function mx(t){if((!t||typeof t.init!="function")&&!UD)throw new Error("requires `options.init` function");var n=t.dependencies,i=t.init,s=t.getTransferables,l=t.workerId;if(!VU())return Ine(t);l==null&&(l="#default");var e="workerModule"+ ++One,p=t.name||e,v=null;n=n&&n.map(function(E){return typeof E=="function"&&!E.workerModuleData&&(UD=!0,E=mx({workerId:l,name:"<"+p+"> function dependency: "+E.name,init:`function(){return (
`+dT(E)+`
)}`}),UD=!1),E&&E.workerModuleData&&(E=E.workerModuleData),E});function w(){for(var E=[],T=arguments.length;T--;)E[T]=arguments[T];return v||(v=jU(l,"registerModule",w.workerModuleData)),v.then(function(C){var R=C.isCallable;if(R)return jU(l,"callModule",{id:e,args:E});throw new Error("Worker module function was called but `init` did not return a callable function")})}return w.workerModuleData={isWorkerModule:!0,id:e,name:p,dependencies:n,init:dT(i),getTransferables:s&&dT(s)},w}function dT(t){var n=t.toString();return!/^function/.test(n)&&/^\w+\s*\(/.test(n)&&(n="function "+n),n}function kne(t){var n=WU[t];if(!n){var i=dT(Nne);n=WU[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+i+")()"],{type:"application/javascript"}))),n.onmessage=function(s){var l=s.data,e=l.messageId,p=px[e];if(!p)throw new Error("WorkerModule response with empty or unknown messageId");delete px[e],px.count--,p(l)}}return n}function jU(t,n,i){var s=uA(),l=++Une;return px[l]=function(e){e.success?s.resolve(e.result):s.reject(new Error("Error in worker "+n+" call: "+e.error))},px._count++,px.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),kne(t).postMessage({messageId:l,action:n,data:i}),s}var QU=mx({name:"Thenable",dependencies:[uA],init:function(t){return t}}),yi=ur(Ra()),kD=/\bvoid\s+main\s*\(\s*\)\s*{/g;function GD(t){let n=/^[ \t]*#include +<([\w\d./]+)>/gm;function i(s,l){let e=yi.ShaderChunk[l];return e?GD(e):s}return t.replace(n,i)}var Ov=Object.assign||function(){let t=arguments[0];for(let n=1,i=arguments.length;n<i;n++){let s=arguments[n];if(s)for(let l in s)s.hasOwnProperty(l)&&(t[l]=s[l])}return t},Gne=Date.now(),qU=new WeakMap,JU=new Map,Xne=1e10;function cA(t,n){let i=zne(n),s=qU.get(t);if(s||qU.set(t,s=Object.create(null)),s[i])return new s[i];let l=`_onBeforeCompile${i}`,e=function(E){t.onBeforeCompile.call(this,E);let T=i+"|||"+E.vertexShader+"|||"+E.fragmentShader,C=JU[T];if(!C){let R=Hne(E,n,i);C=JU[T]=R}E.vertexShader=C.vertexShader,E.fragmentShader=C.fragmentShader,Ov(E.uniforms,this.uniforms),n.timeUniform&&(E.uniforms[n.timeUniform]={get value(){return Date.now()-Gne}}),this[l]&&this[l](E)},p=function(){return v(n.chained?t:t.clone())},v=function(E){let T=Object.create(E,w);return Object.defineProperty(T,"baseMaterial",{value:t}),Object.defineProperty(T,"id",{value:Xne++}),T.uuid=yi.MathUtils.generateUUID(),T.uniforms=Ov({},E.uniforms,n.uniforms),T.defines=Ov({},E.defines,n.defines),T.defines[`TROIKA_DERIVED_MATERIAL_${i}`]="",T.extensions=Ov({},E.extensions,n.extensions),T._listeners=void 0,T},w={constructor:{value:p},isDerivedMaterial:{value:!0},customProgramCacheKey:{value:function(){return i}},onBeforeCompile:{get(){return e},set(E){this[l]=E}},copy:{writable:!0,configurable:!0,value:function(E){return t.copy.call(this,E),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Ov(this.extensions,E.extensions),Ov(this.defines,E.defines),Ov(this.uniforms,yi.UniformsUtils.clone(E.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let E=new t.constructor;return v(E).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let E=this._depthMaterial;return E||(E=this._depthMaterial=cA(t.isDerivedMaterial?t.getDepthMaterial():new yi.MeshDepthMaterial({depthPacking:yi.RGBADepthPacking}),n),E.defines.IS_DEPTH_MATERIAL="",E.uniforms=this.uniforms),E}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let E=this._distanceMaterial;return E||(E=this._distanceMaterial=cA(t.isDerivedMaterial?t.getDistanceMaterial():new yi.MeshDistanceMaterial,n),E.defines.IS_DISTANCE_MATERIAL="",E.uniforms=this.uniforms),E}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:E,_distanceMaterial:T}=this;E&&E.dispose(),T&&T.dispose(),t.dispose.call(this)}}};return s[i]=p,new p}function Hne({vertexShader:t,fragmentShader:n},i,s){let{vertexDefs:l,vertexMainIntro:e,vertexMainOutro:p,vertexTransform:v,fragmentDefs:w,fragmentMainIntro:E,fragmentMainOutro:T,fragmentColorTransform:C,customRewriter:R,timeUniform:B}=i;if(l=l||"",e=e||"",p=p||"",w=w||"",E=E||"",T=T||"",(v||R)&&(t=GD(t)),(C||R)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=GD(n)),R){let A=R({vertexShader:t,fragmentShader:n});t=A.vertexShader,n=A.fragmentShader}if(C){let A=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,H=>(A.push(H),"")),T=`${C}
${A.join(`
`)}
${T}`}if(B){let A=`
uniform float ${B};
`;l=A+l,w=A+w}return v&&(l=`${l}
vec3 troika_position_${s};
vec3 troika_normal_${s};
vec2 troika_uv_${s};
void troikaVertexTransform${s}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${v}
}
`,e=`
troika_position_${s} = vec3(position);
troika_normal_${s} = vec3(normal);
troika_uv_${s} = vec2(uv);
troikaVertexTransform${s}(troika_position_${s}, troika_normal_${s}, troika_uv_${s});
${e}
`,t=t.replace(/\b(position|normal|uv)\b/g,(A,H,G,O)=>/\battribute\s+vec[23]\s+$/.test(O.substr(0,G))?H:`troika_${H}_${s}`)),t=ZU(t,s,l,e,p),n=ZU(n,s,w,E,T),{vertexShader:t,fragmentShader:n}}function ZU(t,n,i,s,l){return(s||l||i)&&(t=t.replace(kD,`
${i}
void troikaOrigMain${n}() {`),t+=`
void main() {
  ${s}
  troikaOrigMain${n}();
  ${l}
}`),t}function Yne(t,n){return t==="uniforms"?void 0:typeof n=="function"?n.toString():n}var Vne=0,KU=new Map;function zne(t){let n=JSON.stringify(t,Yne),i=KU.get(n);return i==null&&KU.set(n,i=++Vne),i}var Wne=`
uniform vec3 pointA;
uniform vec3 controlA;
uniform vec3 controlB;
uniform vec3 pointB;
uniform float radius;
varying float bezierT;

vec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  float b0 = t2 * t2 * t2;
  float b1 = 3.0 * t * t2 * t2;
  float b2 = 3.0 * t * t * t2;
  float b3 = t * t * t;
  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;
}

vec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  return -3.0 * p1 * t2 * t2 +
    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +
    c2 * (6.0 * t2 * t - 3.0 * t * t) +
    3.0 * p2 * t * t;
}
`,jne=`
float t = position.y;
bezierT = t;
vec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);
vec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));

// Make "sideways" always perpendicular to the camera ray; this ensures that any twists
// in the cylinder occur where you won't see them: 
vec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);
if (bezierDir == viewDirection) {
  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));
}
vec3 sideways = normalize(cross(bezierDir, viewDirection));
vec3 upish = normalize(cross(sideways, bezierDir));

// Build a matrix for transforming this disc in the cylinder:
mat4 discTx;
discTx[0].xyz = sideways * radius;
discTx[1].xyz = bezierDir * radius;
discTx[2].xyz = upish * radius;
discTx[3].xyz = bezierCenterPos;
discTx[3][3] = 1.0;

// Apply transform, ignoring original y
position = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;
normal = normalize(mat3(discTx) * normal);
`,Qne=`
uniform vec3 dashing;
varying float bezierT;
`,qne=`
if (dashing.x + dashing.y > 0.0) {
  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);
  if (dashFrac > dashing.x) {
    discard;
  }
}
`;function Jne(t){return cA(t,{chained:!0,uniforms:{pointA:{value:new yi.Vector3},controlA:{value:new yi.Vector3},controlB:{value:new yi.Vector3},pointB:{value:new yi.Vector3},radius:{value:.01},dashing:{value:new yi.Vector3}},vertexDefs:Wne,vertexTransform:jne,fragmentDefs:Qne,fragmentMainIntro:qne})}var $U=null,ek=new yi.MeshStandardMaterial({color:16777215,side:yi.DoubleSide}),XD=class extends yi.Mesh{static getGeometry(){return $U||($U=new yi.CylinderBufferGeometry(1,1,1,6,64).translate(0,.5,0))}constructor(){super(XD.getGeometry(),ek);this.pointA=new yi.Vector3,this.controlA=new yi.Vector3,this.controlB=new yi.Vector3,this.pointB=new yi.Vector3,this.radius=.01,this.dashArray=new yi.Vector2,this.dashOffset=0,this.frustumCulled=!1}get material(){let n=this._derivedMaterial,i=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ek.clone());return(!n||n.baseMaterial!==i)&&(n=this._derivedMaterial=Jne(i),i.addEventListener("dispose",function s(){i.removeEventListener("dispose",s),n.dispose()})),n}set material(n){this._baseMaterial=n}get customDepthMaterial(){return this.material.getDepthMaterial()}get customDistanceMaterial(){return this.material.getDistanceMaterial()}onBeforeRender(n){let{uniforms:i}=this.material,{pointA:s,controlA:l,controlB:e,pointB:p,radius:v,dashArray:w,dashOffset:E}=this;i.pointA.value.copy(s),i.controlA.value.copy(l),i.controlB.value.copy(e),i.pointB.value.copy(p),i.radius.value=v,i.dashing.value.set(w.x,w.y,E||0)}raycast(n,i){}};function Zne(t,n){let{sdfExponent:i,sdfMargin:s}=n,l=16;function e(w,E,T,C,R,B,A){let H=1-A;return{x:H*H*w+2*H*A*T+A*A*R,y:H*H*E+2*H*A*C+A*A*B}}function p(w,E,T,C,R,B,A,H,G){let O=1-G;return{x:O*O*O*w+3*O*O*G*T+3*O*G*G*R+G*G*G*A,y:O*O*O*E+3*O*O*G*C+3*O*G*G*B+G*G*G*H}}function v(w,E){let T=new Uint8Array(E*E),C=w.xMax-w.xMin,R=w.yMax-w.yMin,B=Math.max(C,R),A=Math.max(C,R)/E*(s*E+.5),H=w.xMin-A,G=w.yMin-A,O=w.xMax+A,U=w.yMax+A,$=O-H,ie=U-G,ue=Math.max($,ie);function K(ve){return H+$*ve/E}function ce(ve){return G+ie*ve/E}if(w.pathCommandCount){let ve=t(w),Ve,Me,Ee,Ne;w.forEachPathCommand((Oe,tt,Ze,Qe,at,mt,Ht)=>{switch(Oe){case"M":Ee=Ve=tt,Ne=Me=Ze;break;case"L":(tt!==Ee||Ze!==Ne)&&ve.addLineSegment(Ee,Ne,Ee=tt,Ne=Ze);break;case"Q":{let Wt={x:Ee,y:Ne};for(let et=1;et<l;et++){let De=e(Ee,Ne,tt,Ze,Qe,at,et/(l-1));ve.addLineSegment(Wt.x,Wt.y,De.x,De.y),Wt=De}Ee=Qe,Ne=at;break}case"C":{let Wt={x:Ee,y:Ne};for(let et=1;et<l;et++){let De=p(Ee,Ne,tt,Ze,Qe,at,mt,Ht,et/(l-1));ve.addLineSegment(Wt.x,Wt.y,De.x,De.y),Wt=De}Ee=mt,Ne=Ht;break}case"Z":(Ee!==Ve||Ne!==Me)&&ve.addLineSegment(Ee,Ne,Ve,Me);break}});for(let Oe=0;Oe<E;Oe++)for(let tt=0;tt<E;tt++){let Ze=ve.findNearestSignedDistance(K(Oe+.5),ce(tt+.5),B),Qe=Math.pow(1-Math.abs(Ze)/ue,i)/2;Ze<0&&(Qe=1-Qe),Qe=Math.max(0,Math.min(255,Math.round(Qe*255))),T[tt*E+Oe]=Qe}}return{textureData:T,renderingBounds:[H,G,O,U]}}return v}function Kne(t,n,i){let{defaultFontURL:s}=i,l=Object.create(null),e=Object.create(null),p=Infinity;function v(H,G){function O(){let U=$=>{console.error(`Failure loading font ${H}${H===s?"":"; trying fallback"}`,$),H!==s&&(H=s,O())};try{let $=new XMLHttpRequest;$.open("get",H,!0),$.responseType="arraybuffer",$.onload=function(){if($.status>=400)U(new Error($.statusText));else if($.status>0)try{let ie=t($.response);G(ie)}catch(ie){U(ie)}},$.onerror=U,$.send()}catch($){U($)}}O()}function w(H,G){H||(H=s);let O=e[H];O?O.pending?O.pending.push(G):G(O):(e[H]={pending:[G]},v(H,U=>{let $=e[H].pending;e[H]=U,$.forEach(ie=>ie(U))}))}function E(H,G,O){H||(H=s);let U=`${H}@${G}`,$=l[U];$?O($):w(H,ie=>{$=l[U]||(l[U]={fontObj:ie,glyphs:{},glyphCount:0}),O($)})}function T({text:H="",font:G=s,sdfGlyphSize:O=64,fontSize:U=1,letterSpacing:$=0,lineHeight:ie="normal",maxWidth:ue=p,textAlign:K="left",textIndent:ce=0,whiteSpace:ve="normal",overflowWrap:Ve="normal",anchorX:Me=0,anchorY:Ee=0,includeCaretPositions:Ne=!1,chunkedBoundsSize:Oe=8192,colorRanges:tt=null},Ze,Qe=!1){let at=B(),mt={total:0,fontLoad:0,layout:0,sdf:{},sdfTotal:0};H.indexOf("\r")>-1&&(console.warn("FontProcessor.process: got text with \\r chars; normalizing to \\n"),H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),U=+U,$=+$,ue=+ue,ie=ie||"normal",ce=+ce,E(G,O,Ht=>{let Wt=Ht.fontObj,et=isFinite(ue),De=null,Le=null,Ye=null,Re=null,re=null,oe=null,we=null,ge=0,be=0,Ce=ve!=="nowrap",{ascender:P,descender:_e,unitsPerEm:ke}=Wt;mt.fontLoad=B()-at;let Se=B(),se=U/ke;ie==="normal"&&(ie=(P-_e)/ke),ie=ie*U;let he=(ie-(P-_e)*se)/2,me=-(P*se+he),xt=Math.min(ie,(P-_e)*se),pt=(P+_e)/2*se-xt/2,ze=ce,At=new A,gt=[At];Wt.forEachGlyph(H,U,$,(Pt,qt,Xe)=>{let Ct=H.charAt(Xe),zt=Pt.advanceWidth*se,sn=At.count,lr;if("isEmpty"in Pt||(Pt.isWhitespace=!!Ct&&/\s/.test(Ct),Pt.isEmpty=Pt.xMin===Pt.xMax||Pt.yMin===Pt.yMax),!Pt.isWhitespace&&!Pt.isEmpty&&be++,Ce&&et&&!Pt.isWhitespace&&qt+zt+ze>ue&&sn){if(At.glyphAt(sn-1).glyphObj.isWhitespace)lr=new A,ze=-qt;else for(let oi=sn;oi--;)if(oi===0&&Ve==="break-word"){lr=new A,ze=-qt;break}else if(At.glyphAt(oi).glyphObj.isWhitespace){lr=At.splitAt(oi+1);let fr=lr.glyphAt(0).x;ze-=fr;for(let Zr=lr.count;Zr--;)lr.glyphAt(Zr).x-=fr;break}lr&&(At.isSoftWrapped=!0,At=lr,gt.push(At),ge=ue)}let zn=At.glyphAt(At.count);zn.glyphObj=Pt,zn.x=qt+ze,zn.width=zt,zn.charIndex=Xe,Ct===`
`&&(At=new A,gt.push(At),ze=-(qt+zt+$*U)+ce)}),gt.forEach(Pt=>{for(let qt=Pt.count;qt--;){let{glyphObj:Xe,x:Ct,width:zt}=Pt.glyphAt(qt);if(!Xe.isWhitespace){Pt.width=Ct+zt,Pt.width>ge&&(ge=Pt.width);return}}});let Ft=0,Et=0;if(Me&&(typeof Me=="number"?Ft=-Me:typeof Me=="string"&&(Ft=-ge*(Me==="left"?0:Me==="center"?.5:Me==="right"?1:R(Me)))),Ee){if(typeof Ee=="number")Et=-Ee;else if(typeof Ee=="string"){let Pt=gt.length*ie;Et=Ee==="top"?0:Ee==="top-baseline"?-me:Ee==="middle"?Pt/2:Ee==="bottom"?Pt:Ee==="bottom-baseline"?Pt-he+_e*se:R(Ee)*Pt}}if(!Qe){Le=new Float32Array(be*4),Ye=new Float32Array(be),oe=[p,p,-p,-p],we=[];let Pt=me;Ne&&(re=new Float32Array(H.length*3)),tt&&(Re=new Uint8Array(be*3));let qt=0,Xe=-1,Ct=-1,zt,sn;gt.forEach(lr=>{let{count:zn,width:oi}=lr;if(zn>0){let fr=0,Zr=0;if(K==="center")fr=(ge-oi)/2;else if(K==="right")fr=ge-oi;else if(K==="justify"&&lr.isSoftWrapped){let ci=0;for(let Xr=zn;Xr--;)if(!lr.glyphAt(Xr).glyphObj.isWhitespace){for(;Xr--;){if(!lr.glyphAt(Xr).glyphObj)debugger;lr.glyphAt(Xr).glyphObj.isWhitespace&&ci++}break}Zr=(ge-oi)/ci}for(let ci=0;ci<zn;ci++){let Xr=lr.glyphAt(ci),Wr=Xr.glyphObj;if(fr&&(Xr.x+=fr),Zr!==0&&Wr.isWhitespace&&(fr+=Zr,Xr.width+=Zr),Ne){let{charIndex:Mr}=Xr;for(re[Mr*3]=Xr.x+Ft,re[Mr*3+1]=Xr.x+Xr.width+Ft,re[Mr*3+2]=Pt+pt+Et;Mr-Xe>1;)re[(Xe+1)*3]=re[Xe*3],re[(Xe+1)*3+1]=re[Xe*3+1],re[(Xe+1)*3+2]=re[Xe*3+2],Xe++;Xe=Mr}if(tt){let{charIndex:Mr}=Xr;for(;Mr>Ct;)Ct++,tt.hasOwnProperty(Ct)&&(sn=tt[Ct])}if(!Wr.isWhitespace&&!Wr.isEmpty){let Mr=qt++,eo=Ht.glyphs[Wr.index];if(!eo){let Kt=B(),yr=n(Wr,O);mt.sdf[H.charAt(Xr.charIndex)]=B()-Kt,yr.atlasIndex=Ht.glyphCount++,De||(De=[]),De.push(yr),eo=Ht.glyphs[Wr.index]={atlasIndex:yr.atlasIndex,glyphObj:Wr,renderingBounds:yr.renderingBounds}}let Ms=eo.renderingBounds,si=Mr*4,Lo=Xr.x+Ft,Jo=Pt+Et;Le[si]=Lo+Ms[0]*se,Le[si+1]=Jo+Ms[1]*se,Le[si+2]=Lo+Ms[2]*se,Le[si+3]=Jo+Ms[3]*se;let yo=Lo+Wr.xMin*se,Fe=Jo+Wr.yMin*se,bt=Lo+Wr.xMax*se,Mt=Jo+Wr.yMax*se;yo<oe[0]&&(oe[0]=yo),Fe<oe[1]&&(oe[1]=Fe),bt>oe[2]&&(oe[2]=bt),Mt>oe[3]&&(oe[3]=Mt),Mr%Oe===0&&(zt={start:Mr,end:Mr,rect:[p,p,-p,-p]},we.push(zt)),zt.end++;let It=zt.rect;if(yo<It[0]&&(It[0]=yo),Fe<It[1]&&(It[1]=Fe),bt>It[2]&&(It[2]=bt),Mt>It[3]&&(It[3]=Mt),Ye[Mr]=eo.atlasIndex,tt){let Kt=Mr*3;Re[Kt]=sn>>16&255,Re[Kt+1]=sn>>8&255,Re[Kt+2]=sn&255}}}}Pt-=ie})}for(let Pt in mt.sdf)mt.sdfTotal+=mt.sdf[Pt];mt.layout=B()-Se-mt.sdfTotal,mt.total=B()-at,Ze({glyphBounds:Le,glyphAtlasIndices:Ye,caretPositions:re,caretHeight:xt,glyphColors:Re,chunkedBounds:we,ascender:P*se,descender:_e*se,lineHeight:ie,topBaseline:me,blockBounds:[Ft,Et-gt.length*ie,Ft+ge,Et],visibleBounds:oe,newGlyphSDFs:De,timings:mt})})}function C(H,G){T(H,O=>{let[U,$,ie,ue]=O.blockBounds;G({width:ie-U,height:ue-$})},{metricsOnly:!0})}function R(H){let G=H.match(/^([\d.]+)%$/),O=G?parseFloat(G[1]):NaN;return isNaN(O)?0:O/100}function B(){return(self.performance||Date).now()}function A(){this.data=[]}return A.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/4)},glyphAt(H){let G=A.flyweight;return G.data=this.data,G.index=H,G},splitAt(H){let G=new A;return G.data=this.data.splice(H*4),G}},A.flyweight=["glyphObj","x","width","charIndex"].reduce((H,G,O,U)=>(Object.defineProperty(H,G,{get(){return this.data[this.index*4+O]},set($){this.data[this.index*4+O]=$}}),H),{data:null,index:0}),{process:T,measure:C,loadFont:w}}function $ne(){let t=!1,n=[];function i(){t&&(n.sort(function(v,w){return v.maxX-w.maxX}),t=!1)}function s(v,w,E,T){let C={x0:v,y0:w,x1:E,y1:T,minX:Math.min(v,E),minY:Math.min(w,T),maxX:Math.max(v,E),maxY:Math.max(w,T)};n.push(C),t=!0}function l(v,w){i();let E=Infinity,T=Infinity;for(let C=n.length;C--;){let R=n[C];if(R.maxX+T<=v)break;if(v+T>R.minX&&w-T<R.maxY&&w+T>R.minY){let B=p(v,w,R.x0,R.y0,R.x1,R.y1);B<E&&(E=B,T=Math.sqrt(E))}}return e(v,w)&&(T=-T),T}function e(v,w){i();let E=!1;for(let T=n.length;T--;){let C=n[T];if(C.maxX<=v)break;if(C.minY<w&&C.maxY>w){let R=C.y0>w!==C.y1>w&&v<(C.x1-C.x0)*(w-C.y0)/(C.y1-C.y0)+C.x0;R&&(E=!E)}}return E}function p(v,w,E,T,C,R){let B=C-E,A=R-T,H=B*B+A*A,G=H?Math.max(0,Math.min(1,((v-E)*B+(w-T)*A)/H)):0,O=v-(E+G*B),U=w-(T+G*A);return O*O+U*U}return{addLineSegment:s,findNearestSignedDistance:l}}function ere(){return typeof window=="undefined"&&(self.window=self),function(t){var n={parse:function(l){var e=n._bin,p=new Uint8Array(l);if(e.readASCII(p,0,4)=="ttcf"){var v=4;e.readUshort(p,v),v+=2,e.readUshort(p,v),v+=2;var w=e.readUint(p,v);v+=4;for(var E=[],T=0;T<w;T++){var C=e.readUint(p,v);v+=4,E.push(n._readFont(p,C))}return E}return[n._readFont(p,0)]},_readFont:function(l,e){var p=n._bin,v=e;p.readFixed(l,e),e+=4;var w=p.readUshort(l,e);e+=2,p.readUshort(l,e),e+=2,p.readUshort(l,e),e+=2,p.readUshort(l,e),e+=2;for(var E=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],T={_data:l,_offset:v},C={},R=0;R<w;R++){var B=p.readASCII(l,e,4);e+=4,p.readUint(l,e),e+=4;var A=p.readUint(l,e);e+=4;var H=p.readUint(l,e);e+=4,C[B]={offset:A,length:H}}for(R=0;R<E.length;R++){var G=E[R];C[G]&&(T[G.trim()]=n[G.trim()].parse(l,C[G].offset,C[G].length,T))}return T},_tabOffset:function(l,e,p){for(var v=n._bin,w=v.readUshort(l,p+4),E=p+12,T=0;T<w;T++){var C=v.readASCII(l,E,4);E+=4,v.readUint(l,E),E+=4;var R=v.readUint(l,E);if(E+=4,v.readUint(l,E),E+=4,C==e)return R}return 0}};n._bin={readFixed:function(l,e){return(l[e]<<8|l[e+1])+(l[e+2]<<8|l[e+3])/65540},readF2dot14:function(l,e){return n._bin.readShort(l,e)/16384},readInt:function(l,e){var p=n._bin.t.uint8;return p[0]=l[e+3],p[1]=l[e+2],p[2]=l[e+1],p[3]=l[e],n._bin.t.int32[0]},readInt8:function(l,e){return n._bin.t.uint8[0]=l[e],n._bin.t.int8[0]},readShort:function(l,e){var p=n._bin.t.uint8;return p[1]=l[e],p[0]=l[e+1],n._bin.t.int16[0]},readUshort:function(l,e){return l[e]<<8|l[e+1]},readUshorts:function(l,e,p){for(var v=[],w=0;w<p;w++)v.push(n._bin.readUshort(l,e+2*w));return v},readUint:function(l,e){var p=n._bin.t.uint8;return p[3]=l[e],p[2]=l[e+1],p[1]=l[e+2],p[0]=l[e+3],n._bin.t.uint32[0]},readUint64:function(l,e){return 4294967296*n._bin.readUint(l,e)+n._bin.readUint(l,e+4)},readASCII:function(l,e,p){for(var v="",w=0;w<p;w++)v+=String.fromCharCode(l[e+w]);return v},readUnicode:function(l,e,p){for(var v="",w=0;w<p;w++){var E=l[e++]<<8|l[e++];v+=String.fromCharCode(E)}return v},_tdec:typeof window!="undefined"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(l,e,p){var v=n._bin._tdec;return v&&e==0&&p==l.length?v.decode(l):n._bin.readASCII(l,e,p)},readBytes:function(l,e,p){for(var v=[],w=0;w<p;w++)v.push(l[e+w]);return v},readASCIIArray:function(l,e,p){for(var v=[],w=0;w<p;w++)v.push(String.fromCharCode(l[e+w]));return v}},n._bin.t={buff:new ArrayBuffer(8)},n._bin.t.int8=new Int8Array(n._bin.t.buff),n._bin.t.uint8=new Uint8Array(n._bin.t.buff),n._bin.t.int16=new Int16Array(n._bin.t.buff),n._bin.t.uint16=new Uint16Array(n._bin.t.buff),n._bin.t.int32=new Int32Array(n._bin.t.buff),n._bin.t.uint32=new Uint32Array(n._bin.t.buff),n._lctf={},n._lctf.parse=function(l,e,p,v,w){var E=n._bin,T={},C=e;E.readFixed(l,e),e+=4;var R=E.readUshort(l,e);e+=2;var B=E.readUshort(l,e);e+=2;var A=E.readUshort(l,e);return e+=2,T.scriptList=n._lctf.readScriptList(l,C+R),T.featureList=n._lctf.readFeatureList(l,C+B),T.lookupList=n._lctf.readLookupList(l,C+A,w),T},n._lctf.readLookupList=function(l,e,p){var v=n._bin,w=e,E=[],T=v.readUshort(l,e);e+=2;for(var C=0;C<T;C++){var R=v.readUshort(l,e);e+=2;var B=n._lctf.readLookupTable(l,w+R,p);E.push(B)}return E},n._lctf.readLookupTable=function(l,e,p){var v=n._bin,w=e,E={tabs:[]};E.ltype=v.readUshort(l,e),e+=2,E.flag=v.readUshort(l,e),e+=2;var T=v.readUshort(l,e);e+=2;for(var C=E.ltype,R=0;R<T;R++){var B=v.readUshort(l,e);e+=2;var A=p(l,C,w+B,E);E.tabs.push(A)}return E},n._lctf.numOfOnes=function(l){for(var e=0,p=0;p<32;p++)(l>>>p&1)!=0&&e++;return e},n._lctf.readClassDef=function(l,e){var p=n._bin,v=[],w=p.readUshort(l,e);if(e+=2,w==1){var E=p.readUshort(l,e);e+=2;var T=p.readUshort(l,e);e+=2;for(var C=0;C<T;C++)v.push(E+C),v.push(E+C),v.push(p.readUshort(l,e)),e+=2}if(w==2){var R=p.readUshort(l,e);for(e+=2,C=0;C<R;C++)v.push(p.readUshort(l,e)),e+=2,v.push(p.readUshort(l,e)),e+=2,v.push(p.readUshort(l,e)),e+=2}return v},n._lctf.getInterval=function(l,e){for(var p=0;p<l.length;p+=3){var v=l[p],w=l[p+1];if(l[p+2],v<=e&&e<=w)return p}return-1},n._lctf.readCoverage=function(l,e){var p=n._bin,v={};v.fmt=p.readUshort(l,e),e+=2;var w=p.readUshort(l,e);return e+=2,v.fmt==1&&(v.tab=p.readUshorts(l,e,w)),v.fmt==2&&(v.tab=p.readUshorts(l,e,3*w)),v},n._lctf.coverageIndex=function(l,e){var p=l.tab;if(l.fmt==1)return p.indexOf(e);if(l.fmt==2){var v=n._lctf.getInterval(p,e);if(v!=-1)return p[v+2]+(e-p[v])}return-1},n._lctf.readFeatureList=function(l,e){var p=n._bin,v=e,w=[],E=p.readUshort(l,e);e+=2;for(var T=0;T<E;T++){var C=p.readASCII(l,e,4);e+=4;var R=p.readUshort(l,e);e+=2;var B=n._lctf.readFeatureTable(l,v+R);B.tag=C.trim(),w.push(B)}return w},n._lctf.readFeatureTable=function(l,e){var p=n._bin,v=e,w={},E=p.readUshort(l,e);e+=2,E>0&&(w.featureParams=v+E);var T=p.readUshort(l,e);e+=2,w.tab=[];for(var C=0;C<T;C++)w.tab.push(p.readUshort(l,e+2*C));return w},n._lctf.readScriptList=function(l,e){var p=n._bin,v=e,w={},E=p.readUshort(l,e);e+=2;for(var T=0;T<E;T++){var C=p.readASCII(l,e,4);e+=4;var R=p.readUshort(l,e);e+=2,w[C.trim()]=n._lctf.readScriptTable(l,v+R)}return w},n._lctf.readScriptTable=function(l,e){var p=n._bin,v=e,w={},E=p.readUshort(l,e);e+=2,w.default=n._lctf.readLangSysTable(l,v+E);var T=p.readUshort(l,e);e+=2;for(var C=0;C<T;C++){var R=p.readASCII(l,e,4);e+=4;var B=p.readUshort(l,e);e+=2,w[R.trim()]=n._lctf.readLangSysTable(l,v+B)}return w},n._lctf.readLangSysTable=function(l,e){var p=n._bin,v={};p.readUshort(l,e),e+=2,v.reqFeature=p.readUshort(l,e),e+=2;var w=p.readUshort(l,e);return e+=2,v.features=p.readUshorts(l,e,w),v},n.CFF={},n.CFF.parse=function(l,e,p){var v=n._bin;(l=new Uint8Array(l.buffer,e,p))[e=0],l[++e],l[++e],l[++e],e++;var w=[];e=n.CFF.readIndex(l,e,w);for(var E=[],T=0;T<w.length-1;T++)E.push(v.readASCII(l,e+w[T],w[T+1]-w[T]));e+=w[w.length-1];var C=[];e=n.CFF.readIndex(l,e,C);var R=[];for(T=0;T<C.length-1;T++)R.push(n.CFF.readDict(l,e+C[T],e+C[T+1]));e+=C[C.length-1];var B=R[0],A=[];e=n.CFF.readIndex(l,e,A);var H=[];for(T=0;T<A.length-1;T++)H.push(v.readASCII(l,e+A[T],A[T+1]-A[T]));if(e+=A[A.length-1],n.CFF.readSubrs(l,e,B),B.CharStrings){e=B.CharStrings,A=[],e=n.CFF.readIndex(l,e,A);var G=[];for(T=0;T<A.length-1;T++)G.push(v.readBytes(l,e+A[T],A[T+1]-A[T]));B.CharStrings=G}if(B.ROS){e=B.FDArray;var O=[];for(e=n.CFF.readIndex(l,e,O),B.FDArray=[],T=0;T<O.length-1;T++){var U=n.CFF.readDict(l,e+O[T],e+O[T+1]);n.CFF._readFDict(l,U,H),B.FDArray.push(U)}e+=O[O.length-1],e=B.FDSelect,B.FDSelect=[];var $=l[e];if(e++,$!=3)throw $;var ie=v.readUshort(l,e);for(e+=2,T=0;T<ie+1;T++)B.FDSelect.push(v.readUshort(l,e),l[e+2]),e+=3}return B.Encoding&&(B.Encoding=n.CFF.readEncoding(l,B.Encoding,B.CharStrings.length)),B.charset&&(B.charset=n.CFF.readCharset(l,B.charset,B.CharStrings.length)),n.CFF._readFDict(l,B,H),B},n.CFF._readFDict=function(l,e,p){var v;for(var w in e.Private&&(v=e.Private[1],e.Private=n.CFF.readDict(l,v,v+e.Private[0]),e.Private.Subrs&&n.CFF.readSubrs(l,v+e.Private.Subrs,e.Private)),e)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(w)!=-1&&(e[w]=p[e[w]-426+35])},n.CFF.readSubrs=function(l,e,p){var v=n._bin,w=[];e=n.CFF.readIndex(l,e,w);var E,T=w.length;E=T<1240?107:T<33900?1131:32768,p.Bias=E,p.Subrs=[];for(var C=0;C<w.length-1;C++)p.Subrs.push(v.readBytes(l,e+w[C],w[C+1]-w[C]))},n.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],n.CFF.glyphByUnicode=function(l,e){for(var p=0;p<l.charset.length;p++)if(l.charset[p]==e)return p;return-1},n.CFF.glyphBySE=function(l,e){return e<0||e>255?-1:n.CFF.glyphByUnicode(l,n.CFF.tableSE[e])},n.CFF.readEncoding=function(l,e,p){n._bin;var v=[".notdef"],w=l[e];if(e++,w!=0)throw"error: unknown encoding format: "+w;var E=l[e];e++;for(var T=0;T<E;T++)v.push(l[e+T]);return v},n.CFF.readCharset=function(l,e,p){var v=n._bin,w=[".notdef"],E=l[e];if(e++,E==0)for(var T=0;T<p;T++){var C=v.readUshort(l,e);e+=2,w.push(C)}else{if(E!=1&&E!=2)throw"error: format: "+E;for(;w.length<p;){C=v.readUshort(l,e),e+=2;var R=0;for(E==1?(R=l[e],e++):(R=v.readUshort(l,e),e+=2),T=0;T<=R;T++)w.push(C),C++}}return w},n.CFF.readIndex=function(l,e,p){var v=n._bin,w=v.readUshort(l,e)+1,E=l[e+=2];if(e++,E==1)for(var T=0;T<w;T++)p.push(l[e+T]);else if(E==2)for(T=0;T<w;T++)p.push(v.readUshort(l,e+2*T));else if(E==3)for(T=0;T<w;T++)p.push(16777215&v.readUint(l,e+3*T-1));else if(w!=1)throw"unsupported offset size: "+E+", count: "+w;return(e+=w*E)-1},n.CFF.getCharString=function(l,e,p){var v=n._bin,w=l[e],E=l[e+1],T=(l[e+2],l[e+3],l[e+4],1),C=null,R=null;w<=20&&(C=w,T=1),w==12&&(C=100*w+E,T=2),21<=w&&w<=27&&(C=w,T=1),w==28&&(R=v.readShort(l,e+1),T=3),29<=w&&w<=31&&(C=w,T=1),32<=w&&w<=246&&(R=w-139,T=1),247<=w&&w<=250&&(R=256*(w-247)+E+108,T=2),251<=w&&w<=254&&(R=256*-(w-251)-E-108,T=2),w==255&&(R=v.readInt(l,e+1)/65535,T=5),p.val=R??"o"+C,p.size=T},n.CFF.readCharString=function(l,e,p){for(var v=e+p,w=n._bin,E=[];e<v;){var T=l[e],C=l[e+1],R=(l[e+2],l[e+3],l[e+4],1),B=null,A=null;T<=20&&(B=T,R=1),T==12&&(B=100*T+C,R=2),T!=19&&T!=20||(B=T,R=2),21<=T&&T<=27&&(B=T,R=1),T==28&&(A=w.readShort(l,e+1),R=3),29<=T&&T<=31&&(B=T,R=1),32<=T&&T<=246&&(A=T-139,R=1),247<=T&&T<=250&&(A=256*(T-247)+C+108,R=2),251<=T&&T<=254&&(A=256*-(T-251)-C-108,R=2),T==255&&(A=w.readInt(l,e+1)/65535,R=5),E.push(A??"o"+B),e+=R}return E},n.CFF.readDict=function(l,e,p){for(var v=n._bin,w={},E=[];e<p;){var T=l[e],C=l[e+1],R=(l[e+2],l[e+3],l[e+4],1),B=null,A=null;if(T==28&&(A=v.readShort(l,e+1),R=3),T==29&&(A=v.readInt(l,e+1),R=5),32<=T&&T<=246&&(A=T-139,R=1),247<=T&&T<=250&&(A=256*(T-247)+C+108,R=2),251<=T&&T<=254&&(A=256*-(T-251)-C-108,R=2),T==255)throw A=v.readInt(l,e+1)/65535,R=5,"unknown number";if(T==30){var H=[];for(R=1;;){var G=l[e+R];R++;var O=G>>4,U=15&G;if(O!=15&&H.push(O),U!=15&&H.push(U),U==15)break}for(var $="",ie=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],ue=0;ue<H.length;ue++)$+=ie[H[ue]];A=parseFloat($)}T<=21&&((B=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][T],R=1,T==12)&&(B=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][C],R=2)),B!=null?(w[B]=E.length==1?E[0]:E,E=[]):E.push(A),e+=R}return w},n.cmap={},n.cmap.parse=function(l,e,p){l=new Uint8Array(l.buffer,e,p),e=0;var v=n._bin,w={};v.readUshort(l,e),e+=2;var E=v.readUshort(l,e);e+=2;var T=[];w.tables=[];for(var C=0;C<E;C++){var R=v.readUshort(l,e);e+=2;var B=v.readUshort(l,e);e+=2;var A=v.readUint(l,e);e+=4;var H="p"+R+"e"+B,G=T.indexOf(A);if(G==-1){var O;G=w.tables.length,T.push(A);var U=v.readUshort(l,A);U==0?O=n.cmap.parse0(l,A):U==4?O=n.cmap.parse4(l,A):U==6?O=n.cmap.parse6(l,A):U==12?O=n.cmap.parse12(l,A):console.debug("unknown format: "+U,R,B,A),w.tables.push(O)}if(w[H]!=null)throw"multiple tables for one platform+encoding";w[H]=G}return w},n.cmap.parse0=function(l,e){var p=n._bin,v={};v.format=p.readUshort(l,e),e+=2;var w=p.readUshort(l,e);e+=2,p.readUshort(l,e),e+=2,v.map=[];for(var E=0;E<w-6;E++)v.map.push(l[e+E]);return v},n.cmap.parse4=function(l,e){var p=n._bin,v=e,w={};w.format=p.readUshort(l,e),e+=2;var E=p.readUshort(l,e);e+=2,p.readUshort(l,e),e+=2;var T=p.readUshort(l,e);e+=2;var C=T/2;w.searchRange=p.readUshort(l,e),e+=2,w.entrySelector=p.readUshort(l,e),e+=2,w.rangeShift=p.readUshort(l,e),e+=2,w.endCount=p.readUshorts(l,e,C),e+=2*C,e+=2,w.startCount=p.readUshorts(l,e,C),e+=2*C,w.idDelta=[];for(var R=0;R<C;R++)w.idDelta.push(p.readShort(l,e)),e+=2;for(w.idRangeOffset=p.readUshorts(l,e,C),e+=2*C,w.glyphIdArray=[];e<v+E;)w.glyphIdArray.push(p.readUshort(l,e)),e+=2;return w},n.cmap.parse6=function(l,e){var p=n._bin,v={};v.format=p.readUshort(l,e),e+=2,p.readUshort(l,e),e+=2,p.readUshort(l,e),e+=2,v.firstCode=p.readUshort(l,e),e+=2;var w=p.readUshort(l,e);e+=2,v.glyphIdArray=[];for(var E=0;E<w;E++)v.glyphIdArray.push(p.readUshort(l,e)),e+=2;return v},n.cmap.parse12=function(l,e){var p=n._bin,v={};v.format=p.readUshort(l,e),e+=2,e+=2,p.readUint(l,e),e+=4,p.readUint(l,e),e+=4;var w=p.readUint(l,e);e+=4,v.groups=[];for(var E=0;E<w;E++){var T=e+12*E,C=p.readUint(l,T+0),R=p.readUint(l,T+4),B=p.readUint(l,T+8);v.groups.push([C,R,B])}return v},n.glyf={},n.glyf.parse=function(l,e,p,v){for(var w=[],E=0;E<v.maxp.numGlyphs;E++)w.push(null);return w},n.glyf._parseGlyf=function(l,e){var p=n._bin,v=l._data,w=n._tabOffset(v,"glyf",l._offset)+l.loca[e];if(l.loca[e]==l.loca[e+1])return null;var E={};if(E.noc=p.readShort(v,w),w+=2,E.xMin=p.readShort(v,w),w+=2,E.yMin=p.readShort(v,w),w+=2,E.xMax=p.readShort(v,w),w+=2,E.yMax=p.readShort(v,w),w+=2,E.xMin>=E.xMax||E.yMin>=E.yMax)return null;if(E.noc>0){E.endPts=[];for(var T=0;T<E.noc;T++)E.endPts.push(p.readUshort(v,w)),w+=2;var C=p.readUshort(v,w);if(w+=2,v.length-w<C)return null;E.instructions=p.readBytes(v,w,C),w+=C;var R=E.endPts[E.noc-1]+1;for(E.flags=[],T=0;T<R;T++){var B=v[w];if(w++,E.flags.push(B),(8&B)!=0){var A=v[w];w++;for(var H=0;H<A;H++)E.flags.push(B),T++}}for(E.xs=[],T=0;T<R;T++){var G=(2&E.flags[T])!=0,O=(16&E.flags[T])!=0;G?(E.xs.push(O?v[w]:-v[w]),w++):O?E.xs.push(0):(E.xs.push(p.readShort(v,w)),w+=2)}for(E.ys=[],T=0;T<R;T++)G=(4&E.flags[T])!=0,O=(32&E.flags[T])!=0,G?(E.ys.push(O?v[w]:-v[w]),w++):O?E.ys.push(0):(E.ys.push(p.readShort(v,w)),w+=2);var U=0,$=0;for(T=0;T<R;T++)U+=E.xs[T],$+=E.ys[T],E.xs[T]=U,E.ys[T]=$}else{var ie;E.parts=[];do{ie=p.readUshort(v,w),w+=2;var ue={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(E.parts.push(ue),ue.glyphIndex=p.readUshort(v,w),w+=2,1&ie){var K=p.readShort(v,w);w+=2;var ce=p.readShort(v,w);w+=2}else K=p.readInt8(v,w),w++,ce=p.readInt8(v,w),w++;2&ie?(ue.m.tx=K,ue.m.ty=ce):(ue.p1=K,ue.p2=ce),8&ie?(ue.m.a=ue.m.d=p.readF2dot14(v,w),w+=2):64&ie?(ue.m.a=p.readF2dot14(v,w),w+=2,ue.m.d=p.readF2dot14(v,w),w+=2):128&ie&&(ue.m.a=p.readF2dot14(v,w),w+=2,ue.m.b=p.readF2dot14(v,w),w+=2,ue.m.c=p.readF2dot14(v,w),w+=2,ue.m.d=p.readF2dot14(v,w),w+=2)}while(32&ie);if(256&ie){var ve=p.readUshort(v,w);for(w+=2,E.instr=[],T=0;T<ve;T++)E.instr.push(v[w]),w++}}return E},n.GPOS={},n.GPOS.parse=function(l,e,p,v){return n._lctf.parse(l,e,p,v,n.GPOS.subt)},n.GPOS.subt=function(l,e,p,v){var w=n._bin,E=p,T={};if(T.fmt=w.readUshort(l,p),p+=2,e==1||e==2||e==3||e==7||e==8&&T.fmt<=2){var C=w.readUshort(l,p);p+=2,T.coverage=n._lctf.readCoverage(l,C+E)}if(e==1&&T.fmt==1){var R=w.readUshort(l,p);p+=2;var B=n._lctf.numOfOnes(R);R!=0&&(T.pos=n.GPOS.readValueRecord(l,p,R))}else if(e==2&&T.fmt>=1&&T.fmt<=2){R=w.readUshort(l,p),p+=2;var A=w.readUshort(l,p);p+=2,B=n._lctf.numOfOnes(R);var H=n._lctf.numOfOnes(A);if(T.fmt==1){T.pairsets=[];var G=w.readUshort(l,p);p+=2;for(var O=0;O<G;O++){var U=E+w.readUshort(l,p);p+=2;var $=w.readUshort(l,U);U+=2;for(var ie=[],ue=0;ue<$;ue++){var K=w.readUshort(l,U);U+=2,R!=0&&(Ne=n.GPOS.readValueRecord(l,U,R),U+=2*B),A!=0&&(Oe=n.GPOS.readValueRecord(l,U,A),U+=2*H),ie.push({gid2:K,val1:Ne,val2:Oe})}T.pairsets.push(ie)}}if(T.fmt==2){var ce=w.readUshort(l,p);p+=2;var ve=w.readUshort(l,p);p+=2;var Ve=w.readUshort(l,p);p+=2;var Me=w.readUshort(l,p);for(p+=2,T.classDef1=n._lctf.readClassDef(l,E+ce),T.classDef2=n._lctf.readClassDef(l,E+ve),T.matrix=[],O=0;O<Ve;O++){var Ee=[];for(ue=0;ue<Me;ue++){var Ne=null,Oe=null;R!=0&&(Ne=n.GPOS.readValueRecord(l,p,R),p+=2*B),A!=0&&(Oe=n.GPOS.readValueRecord(l,p,A),p+=2*H),Ee.push({val1:Ne,val2:Oe})}T.matrix.push(Ee)}}}else{if(e==9&&T.fmt==1){var tt=w.readUshort(l,p);p+=2;var Ze=w.readUint(l,p);if(p+=4,v.ltype==9)v.ltype=tt;else if(v.ltype!=tt)throw"invalid extension substitution";return n.GPOS.subt(l,v.ltype,E+Ze)}console.debug("unsupported GPOS table LookupType",e,"format",T.fmt)}return T},n.GPOS.readValueRecord=function(l,e,p){var v=n._bin,w=[];return w.push(1&p?v.readShort(l,e):0),e+=1&p?2:0,w.push(2&p?v.readShort(l,e):0),e+=2&p?2:0,w.push(4&p?v.readShort(l,e):0),e+=4&p?2:0,w.push(8&p?v.readShort(l,e):0),e+=8&p?2:0,w},n.GSUB={},n.GSUB.parse=function(l,e,p,v){return n._lctf.parse(l,e,p,v,n.GSUB.subt)},n.GSUB.subt=function(l,e,p,v){var w=n._bin,E=p,T={};if(T.fmt=w.readUshort(l,p),p+=2,e!=1&&e!=4&&e!=5&&e!=6)return null;if(e==1||e==4||e==5&&T.fmt<=2||e==6&&T.fmt<=2){var C=w.readUshort(l,p);p+=2,T.coverage=n._lctf.readCoverage(l,E+C)}if(e==1&&T.fmt>=1&&T.fmt<=2){if(T.fmt==1)T.delta=w.readShort(l,p),p+=2;else if(T.fmt==2){var R=w.readUshort(l,p);p+=2,T.newg=w.readUshorts(l,p,R),p+=2*T.newg.length}}else if(e==4){T.vals=[],R=w.readUshort(l,p),p+=2;for(var B=0;B<R;B++){var A=w.readUshort(l,p);p+=2,T.vals.push(n.GSUB.readLigatureSet(l,E+A))}}else if(e==5&&T.fmt==2){if(T.fmt==2){var H=w.readUshort(l,p);p+=2,T.cDef=n._lctf.readClassDef(l,E+H),T.scset=[];var G=w.readUshort(l,p);for(p+=2,B=0;B<G;B++){var O=w.readUshort(l,p);p+=2,T.scset.push(O==0?null:n.GSUB.readSubClassSet(l,E+O))}}}else if(e==6&&T.fmt==3){if(T.fmt==3){for(B=0;B<3;B++){R=w.readUshort(l,p),p+=2;for(var U=[],$=0;$<R;$++)U.push(n._lctf.readCoverage(l,E+w.readUshort(l,p+2*$)));p+=2*R,B==0&&(T.backCvg=U),B==1&&(T.inptCvg=U),B==2&&(T.ahedCvg=U)}R=w.readUshort(l,p),p+=2,T.lookupRec=n.GSUB.readSubstLookupRecords(l,p,R)}}else{if(e==7&&T.fmt==1){var ie=w.readUshort(l,p);p+=2;var ue=w.readUint(l,p);if(p+=4,v.ltype==9)v.ltype=ie;else if(v.ltype!=ie)throw"invalid extension substitution";return n.GSUB.subt(l,v.ltype,E+ue)}console.debug("unsupported GSUB table LookupType",e,"format",T.fmt)}return T},n.GSUB.readSubClassSet=function(l,e){var p=n._bin.readUshort,v=e,w=[],E=p(l,e);e+=2;for(var T=0;T<E;T++){var C=p(l,e);e+=2,w.push(n.GSUB.readSubClassRule(l,v+C))}return w},n.GSUB.readSubClassRule=function(l,e){var p=n._bin.readUshort,v={},w=p(l,e),E=p(l,e+=2);e+=2,v.input=[];for(var T=0;T<w-1;T++)v.input.push(p(l,e)),e+=2;return v.substLookupRecords=n.GSUB.readSubstLookupRecords(l,e,E),v},n.GSUB.readSubstLookupRecords=function(l,e,p){for(var v=n._bin.readUshort,w=[],E=0;E<p;E++)w.push(v(l,e),v(l,e+2)),e+=4;return w},n.GSUB.readChainSubClassSet=function(l,e){var p=n._bin,v=e,w=[],E=p.readUshort(l,e);e+=2;for(var T=0;T<E;T++){var C=p.readUshort(l,e);e+=2,w.push(n.GSUB.readChainSubClassRule(l,v+C))}return w},n.GSUB.readChainSubClassRule=function(l,e){for(var p=n._bin,v={},w=["backtrack","input","lookahead"],E=0;E<w.length;E++){var T=p.readUshort(l,e);e+=2,E==1&&T--,v[w[E]]=p.readUshorts(l,e,T),e+=2*v[w[E]].length}return T=p.readUshort(l,e),e+=2,v.subst=p.readUshorts(l,e,2*T),e+=2*v.subst.length,v},n.GSUB.readLigatureSet=function(l,e){var p=n._bin,v=e,w=[],E=p.readUshort(l,e);e+=2;for(var T=0;T<E;T++){var C=p.readUshort(l,e);e+=2,w.push(n.GSUB.readLigature(l,v+C))}return w},n.GSUB.readLigature=function(l,e){var p=n._bin,v={chain:[]};v.nglyph=p.readUshort(l,e),e+=2;var w=p.readUshort(l,e);e+=2;for(var E=0;E<w-1;E++)v.chain.push(p.readUshort(l,e)),e+=2;return v},n.head={},n.head.parse=function(l,e,p){var v=n._bin,w={};return v.readFixed(l,e),e+=4,w.fontRevision=v.readFixed(l,e),e+=4,v.readUint(l,e),e+=4,v.readUint(l,e),e+=4,w.flags=v.readUshort(l,e),e+=2,w.unitsPerEm=v.readUshort(l,e),e+=2,w.created=v.readUint64(l,e),e+=8,w.modified=v.readUint64(l,e),e+=8,w.xMin=v.readShort(l,e),e+=2,w.yMin=v.readShort(l,e),e+=2,w.xMax=v.readShort(l,e),e+=2,w.yMax=v.readShort(l,e),e+=2,w.macStyle=v.readUshort(l,e),e+=2,w.lowestRecPPEM=v.readUshort(l,e),e+=2,w.fontDirectionHint=v.readShort(l,e),e+=2,w.indexToLocFormat=v.readShort(l,e),e+=2,w.glyphDataFormat=v.readShort(l,e),e+=2,w},n.hhea={},n.hhea.parse=function(l,e,p){var v=n._bin,w={};return v.readFixed(l,e),e+=4,w.ascender=v.readShort(l,e),e+=2,w.descender=v.readShort(l,e),e+=2,w.lineGap=v.readShort(l,e),e+=2,w.advanceWidthMax=v.readUshort(l,e),e+=2,w.minLeftSideBearing=v.readShort(l,e),e+=2,w.minRightSideBearing=v.readShort(l,e),e+=2,w.xMaxExtent=v.readShort(l,e),e+=2,w.caretSlopeRise=v.readShort(l,e),e+=2,w.caretSlopeRun=v.readShort(l,e),e+=2,w.caretOffset=v.readShort(l,e),e+=2,e+=8,w.metricDataFormat=v.readShort(l,e),e+=2,w.numberOfHMetrics=v.readUshort(l,e),e+=2,w},n.hmtx={},n.hmtx.parse=function(l,e,p,v){for(var w=n._bin,E={aWidth:[],lsBearing:[]},T=0,C=0,R=0;R<v.maxp.numGlyphs;R++)R<v.hhea.numberOfHMetrics&&(T=w.readUshort(l,e),e+=2,C=w.readShort(l,e),e+=2),E.aWidth.push(T),E.lsBearing.push(C);return E},n.kern={},n.kern.parse=function(l,e,p,v){var w=n._bin,E=w.readUshort(l,e);if(e+=2,E==1)return n.kern.parseV1(l,e-2,p,v);var T=w.readUshort(l,e);e+=2;for(var C={glyph1:[],rval:[]},R=0;R<T;R++){e+=2,p=w.readUshort(l,e),e+=2;var B=w.readUshort(l,e);e+=2;var A=B>>>8;if((A&=15)!=0)throw"unknown kern table format: "+A;e=n.kern.readFormat0(l,e,C)}return C},n.kern.parseV1=function(l,e,p,v){var w=n._bin;w.readFixed(l,e),e+=4;var E=w.readUint(l,e);e+=4;for(var T={glyph1:[],rval:[]},C=0;C<E;C++){w.readUint(l,e),e+=4;var R=w.readUshort(l,e);e+=2,w.readUshort(l,e),e+=2;var B=R>>>8;if((B&=15)!=0)throw"unknown kern table format: "+B;e=n.kern.readFormat0(l,e,T)}return T},n.kern.readFormat0=function(l,e,p){var v=n._bin,w=-1,E=v.readUshort(l,e);e+=2,v.readUshort(l,e),e+=2,v.readUshort(l,e),e+=2,v.readUshort(l,e),e+=2;for(var T=0;T<E;T++){var C=v.readUshort(l,e);e+=2;var R=v.readUshort(l,e);e+=2;var B=v.readShort(l,e);e+=2,C!=w&&(p.glyph1.push(C),p.rval.push({glyph2:[],vals:[]}));var A=p.rval[p.rval.length-1];A.glyph2.push(R),A.vals.push(B),w=C}return e},n.loca={},n.loca.parse=function(l,e,p,v){var w=n._bin,E=[],T=v.head.indexToLocFormat,C=v.maxp.numGlyphs+1;if(T==0)for(var R=0;R<C;R++)E.push(w.readUshort(l,e+(R<<1))<<1);if(T==1)for(R=0;R<C;R++)E.push(w.readUint(l,e+(R<<2)));return E},n.maxp={},n.maxp.parse=function(l,e,p){var v=n._bin,w={},E=v.readUint(l,e);return e+=4,w.numGlyphs=v.readUshort(l,e),e+=2,E==65536&&(w.maxPoints=v.readUshort(l,e),e+=2,w.maxContours=v.readUshort(l,e),e+=2,w.maxCompositePoints=v.readUshort(l,e),e+=2,w.maxCompositeContours=v.readUshort(l,e),e+=2,w.maxZones=v.readUshort(l,e),e+=2,w.maxTwilightPoints=v.readUshort(l,e),e+=2,w.maxStorage=v.readUshort(l,e),e+=2,w.maxFunctionDefs=v.readUshort(l,e),e+=2,w.maxInstructionDefs=v.readUshort(l,e),e+=2,w.maxStackElements=v.readUshort(l,e),e+=2,w.maxSizeOfInstructions=v.readUshort(l,e),e+=2,w.maxComponentElements=v.readUshort(l,e),e+=2,w.maxComponentDepth=v.readUshort(l,e),e+=2),w},n.name={},n.name.parse=function(l,e,p){var v=n._bin,w={};v.readUshort(l,e),e+=2;var E=v.readUshort(l,e);e+=2,v.readUshort(l,e);for(var T,C=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],R=e+=2,B=0;B<E;B++){var A=v.readUshort(l,e);e+=2;var H=v.readUshort(l,e);e+=2;var G=v.readUshort(l,e);e+=2;var O=v.readUshort(l,e);e+=2;var U=v.readUshort(l,e);e+=2;var $=v.readUshort(l,e);e+=2;var ie,ue=C[O],K=R+12*E+$;if(A==0)ie=v.readUnicode(l,K,U/2);else if(A==3&&H==0)ie=v.readUnicode(l,K,U/2);else if(H==0)ie=v.readASCII(l,K,U);else if(H==1)ie=v.readUnicode(l,K,U/2);else if(H==3)ie=v.readUnicode(l,K,U/2);else{if(A!=1)throw"unknown encoding "+H+", platformID: "+A;ie=v.readASCII(l,K,U),console.debug("reading unknown MAC encoding "+H+" as ASCII")}var ce="p"+A+","+G.toString(16);w[ce]==null&&(w[ce]={}),w[ce][ue!==void 0?ue:O]=ie,w[ce]._lang=G}for(var ve in w)if(w[ve].postScriptName!=null&&w[ve]._lang==1033)return w[ve];for(var ve in w)if(w[ve].postScriptName!=null&&w[ve]._lang==0)return w[ve];for(var ve in w)if(w[ve].postScriptName!=null&&w[ve]._lang==3084)return w[ve];for(var ve in w)if(w[ve].postScriptName!=null)return w[ve];for(var ve in w){T=ve;break}return console.debug("returning name table with languageID "+w[T]._lang),w[T]},n["OS/2"]={},n["OS/2"].parse=function(l,e,p){var v=n._bin.readUshort(l,e);e+=2;var w={};if(v==0)n["OS/2"].version0(l,e,w);else if(v==1)n["OS/2"].version1(l,e,w);else if(v==2||v==3||v==4)n["OS/2"].version2(l,e,w);else{if(v!=5)throw"unknown OS/2 table version: "+v;n["OS/2"].version5(l,e,w)}return w},n["OS/2"].version0=function(l,e,p){var v=n._bin;return p.xAvgCharWidth=v.readShort(l,e),e+=2,p.usWeightClass=v.readUshort(l,e),e+=2,p.usWidthClass=v.readUshort(l,e),e+=2,p.fsType=v.readUshort(l,e),e+=2,p.ySubscriptXSize=v.readShort(l,e),e+=2,p.ySubscriptYSize=v.readShort(l,e),e+=2,p.ySubscriptXOffset=v.readShort(l,e),e+=2,p.ySubscriptYOffset=v.readShort(l,e),e+=2,p.ySuperscriptXSize=v.readShort(l,e),e+=2,p.ySuperscriptYSize=v.readShort(l,e),e+=2,p.ySuperscriptXOffset=v.readShort(l,e),e+=2,p.ySuperscriptYOffset=v.readShort(l,e),e+=2,p.yStrikeoutSize=v.readShort(l,e),e+=2,p.yStrikeoutPosition=v.readShort(l,e),e+=2,p.sFamilyClass=v.readShort(l,e),e+=2,p.panose=v.readBytes(l,e,10),e+=10,p.ulUnicodeRange1=v.readUint(l,e),e+=4,p.ulUnicodeRange2=v.readUint(l,e),e+=4,p.ulUnicodeRange3=v.readUint(l,e),e+=4,p.ulUnicodeRange4=v.readUint(l,e),e+=4,p.achVendID=[v.readInt8(l,e),v.readInt8(l,e+1),v.readInt8(l,e+2),v.readInt8(l,e+3)],e+=4,p.fsSelection=v.readUshort(l,e),e+=2,p.usFirstCharIndex=v.readUshort(l,e),e+=2,p.usLastCharIndex=v.readUshort(l,e),e+=2,p.sTypoAscender=v.readShort(l,e),e+=2,p.sTypoDescender=v.readShort(l,e),e+=2,p.sTypoLineGap=v.readShort(l,e),e+=2,p.usWinAscent=v.readUshort(l,e),e+=2,p.usWinDescent=v.readUshort(l,e),e+=2},n["OS/2"].version1=function(l,e,p){var v=n._bin;return e=n["OS/2"].version0(l,e,p),p.ulCodePageRange1=v.readUint(l,e),e+=4,p.ulCodePageRange2=v.readUint(l,e),e+=4},n["OS/2"].version2=function(l,e,p){var v=n._bin;return e=n["OS/2"].version1(l,e,p),p.sxHeight=v.readShort(l,e),e+=2,p.sCapHeight=v.readShort(l,e),e+=2,p.usDefault=v.readUshort(l,e),e+=2,p.usBreak=v.readUshort(l,e),e+=2,p.usMaxContext=v.readUshort(l,e),e+=2},n["OS/2"].version5=function(l,e,p){var v=n._bin;return e=n["OS/2"].version2(l,e,p),p.usLowerOpticalPointSize=v.readUshort(l,e),e+=2,p.usUpperOpticalPointSize=v.readUshort(l,e),e+=2},n.post={},n.post.parse=function(l,e,p){var v=n._bin,w={};return w.version=v.readFixed(l,e),e+=4,w.italicAngle=v.readFixed(l,e),e+=4,w.underlinePosition=v.readShort(l,e),e+=2,w.underlineThickness=v.readShort(l,e),e+=2,w},n.SVG={},n.SVG.parse=function(l,e,p){var v=n._bin,w={entries:[]},E=e;v.readUshort(l,e),e+=2;var T=v.readUint(l,e);e+=4,v.readUint(l,e),e+=4,e=T+E;var C=v.readUshort(l,e);e+=2;for(var R=0;R<C;R++){var B=v.readUshort(l,e);e+=2;var A=v.readUshort(l,e);e+=2;var H=v.readUint(l,e);e+=4;var G=v.readUint(l,e);e+=4;for(var O=new Uint8Array(l.buffer,E+H+T,G),U=v.readUTF8(O,0,O.length),$=B;$<=A;$++)w.entries[$]=U}return w},n.SVG.toPath=function(l){var e={cmds:[],crds:[]};if(l==null)return e;for(var p=new DOMParser().parseFromString(l,"image/svg+xml").firstChild;p.tagName!="svg";)p=p.nextSibling;var v=p.getAttribute("viewBox");v=v?v.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],n.SVG._toPath(p.children,e);for(var w=0;w<e.crds.length;w+=2){var E=e.crds[w],T=e.crds[w+1];E-=v[0],T=-(T-=v[1]),e.crds[w]=E,e.crds[w+1]=T}return e},n.SVG._toPath=function(l,e,p){for(var v=0;v<l.length;v++){var w=l[v],E=w.tagName,T=w.getAttribute("fill");if(T==null&&(T=p),E=="g")n.SVG._toPath(w.children,e,T);else if(E=="path"){e.cmds.push(T||"#000000");var C=w.getAttribute("d"),R=n.SVG._tokens(C);n.SVG._toksToPath(R,e),e.cmds.push("X")}else E=="defs"||console.debug(E,w)}},n.SVG._tokens=function(l){for(var e=[],p=0,v=!1,w="";p<l.length;){var E=l.charCodeAt(p),T=l.charAt(p);p++;var C=48<=E&&E<=57||T=="."||T=="-";v?T=="-"?(e.push(parseFloat(w)),w=T):C?w+=T:(e.push(parseFloat(w)),T!=","&&T!=" "&&e.push(T),v=!1):C?(w=T,v=!0):T!=","&&T!=" "&&e.push(T)}return v&&e.push(parseFloat(w)),e},n.SVG._toksToPath=function(l,e){for(var p=0,v=0,w=0,E=0,T=0,C={M:2,L:2,H:1,V:1,S:4,C:6},R=e.cmds,B=e.crds;p<l.length;){var A=l[p];if(p++,A=="z")R.push("Z"),v=E,w=T;else for(var H=A.toUpperCase(),G=C[H],O=n.SVG._reps(l,p,G),U=0;U<O;U++){var $=0,ie=0;if(A!=H&&($=v,ie=w),H=="M")v=$+l[p++],w=ie+l[p++],R.push("M"),B.push(v,w),E=v,T=w;else if(H=="L")v=$+l[p++],w=ie+l[p++],R.push("L"),B.push(v,w);else if(H=="H")v=$+l[p++],R.push("L"),B.push(v,w);else if(H=="V")w=ie+l[p++],R.push("L"),B.push(v,w);else if(H=="C"){var ue=$+l[p++],K=ie+l[p++],ce=$+l[p++],ve=ie+l[p++],Ve=$+l[p++],Me=ie+l[p++];R.push("C"),B.push(ue,K,ce,ve,Ve,Me),v=Ve,w=Me}else if(H=="S"){var Ee=Math.max(B.length-4,0);ue=v+v-B[Ee],K=w+w-B[Ee+1],ce=$+l[p++],ve=ie+l[p++],Ve=$+l[p++],Me=ie+l[p++],R.push("C"),B.push(ue,K,ce,ve,Ve,Me),v=Ve,w=Me}else console.debug("Unknown SVG command "+A)}}},n.SVG._reps=function(l,e,p){for(var v=e;v<l.length&&typeof l[v]!="string";)v+=p;return(v-e)/p},n==null&&(n={}),n.U==null&&(n.U={}),n.U.codeToGlyph=function(l,e){var p=l.cmap,v=-1;if(p.p0e4!=null?v=p.p0e4:p.p3e1!=null?v=p.p3e1:p.p1e0!=null?v=p.p1e0:p.p0e3!=null&&(v=p.p0e3),v==-1)throw"no familiar platform and encoding!";var w=p.tables[v];if(w.format==0)return e>=w.map.length?0:w.map[e];if(w.format==4){for(var E=-1,T=0;T<w.endCount.length;T++)if(e<=w.endCount[T]){E=T;break}return E==-1||w.startCount[E]>e?0:65535&(w.idRangeOffset[E]!=0?w.glyphIdArray[e-w.startCount[E]+(w.idRangeOffset[E]>>1)-(w.idRangeOffset.length-E)]:e+w.idDelta[E])}if(w.format==12){if(e>w.groups[w.groups.length-1][1])return 0;for(T=0;T<w.groups.length;T++){var C=w.groups[T];if(C[0]<=e&&e<=C[1])return C[2]+(e-C[0])}return 0}throw"unknown cmap table format "+w.format},n.U.glyphToPath=function(l,e){var p={cmds:[],crds:[]};if(l.SVG&&l.SVG.entries[e]){var v=l.SVG.entries[e];return v==null?p:(typeof v=="string"&&(v=n.SVG.toPath(v),l.SVG.entries[e]=v),v)}if(l.CFF){var w={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:l.CFF.Private?l.CFF.Private.defaultWidthX:0,open:!1},E=l.CFF,T=l.CFF.Private;if(E.ROS){for(var C=0;E.FDSelect[C+2]<=e;)C+=2;T=E.FDArray[E.FDSelect[C+1]].Private}n.U._drawCFF(l.CFF.CharStrings[e],w,E,T,p)}else l.glyf&&n.U._drawGlyf(e,l,p);return p},n.U._drawGlyf=function(l,e,p){var v=e.glyf[l];v==null&&(v=e.glyf[l]=n.glyf._parseGlyf(e,l)),v!=null&&(v.noc>-1?n.U._simpleGlyph(v,p):n.U._compoGlyph(v,e,p))},n.U._simpleGlyph=function(l,e){for(var p=0;p<l.noc;p++){for(var v=p==0?0:l.endPts[p-1]+1,w=l.endPts[p],E=v;E<=w;E++){var T=E==v?w:E-1,C=E==w?v:E+1,R=1&l.flags[E],B=1&l.flags[T],A=1&l.flags[C],H=l.xs[E],G=l.ys[E];if(E==v)if(R){if(!B){n.U.P.moveTo(e,H,G);continue}n.U.P.moveTo(e,l.xs[T],l.ys[T])}else B?n.U.P.moveTo(e,l.xs[T],l.ys[T]):n.U.P.moveTo(e,(l.xs[T]+H)/2,(l.ys[T]+G)/2);R?B&&n.U.P.lineTo(e,H,G):A?n.U.P.qcurveTo(e,H,G,l.xs[C],l.ys[C]):n.U.P.qcurveTo(e,H,G,(H+l.xs[C])/2,(G+l.ys[C])/2)}n.U.P.closePath(e)}},n.U._compoGlyph=function(l,e,p){for(var v=0;v<l.parts.length;v++){var w={cmds:[],crds:[]},E=l.parts[v];n.U._drawGlyf(E.glyphIndex,e,w);for(var T=E.m,C=0;C<w.crds.length;C+=2){var R=w.crds[C],B=w.crds[C+1];p.crds.push(R*T.a+B*T.b+T.tx),p.crds.push(R*T.c+B*T.d+T.ty)}for(C=0;C<w.cmds.length;C++)p.cmds.push(w.cmds[C])}},n.U._getGlyphClass=function(l,e){var p=n._lctf.getInterval(e,l);return p==-1?0:e[p+2]},n.U.getPairAdjustment=function(l,e,p){var v=0;if(l.GPOS)for(var w=l.GPOS,E=w.lookupList,T=w.featureList,C=[],R=0;R<T.length;R++){var B=T[R];if(B.tag=="kern"){for(var A=0;A<B.tab.length;A++)if(!C[B.tab[A]]){C[B.tab[A]]=!0;for(var H=E[B.tab[A]],G=0;G<H.tabs.length;G++)if(H.tabs[G]!=null){var O,U=H.tabs[G];if((!U.coverage||(O=n._lctf.coverageIndex(U.coverage,e))!=-1)&&!(H.ltype==1)){if(H.ltype==2){var $;if(U.fmt==1){var ie=U.pairsets[O];for(R=0;R<ie.length;R++)ie[R].gid2==p&&($=ie[R])}else if(U.fmt==2){var ue=n.U._getGlyphClass(e,U.classDef1),K=n.U._getGlyphClass(p,U.classDef2);$=U.matrix[ue][K]}$&&$.val1&&$.val1[2]&&(v+=$.val1[2]),$&&$.val2&&$.val2[0]&&(v+=$.val2[0])}}}}}}if(l.kern){var ce=l.kern.glyph1.indexOf(e);if(ce!=-1){var ve=l.kern.rval[ce].glyph2.indexOf(p);ve!=-1&&(v+=l.kern.rval[ce].vals[ve])}}return v},n.U.stringToGlyphs=function(l,e){for(var p=[],v=0;v<e.length;v++)(w=e.codePointAt(v))>65535&&v++,p.push(n.U.codeToGlyph(l,w));for(v=0;v<e.length;v++){var w;if((w=e.codePointAt(v))==2367){var E=p[v-1];p[v-1]=p[v],p[v]=E}w>65535&&v++}var T=l.GSUB;if(T==null)return p;for(var C=T.lookupList,R=T.featureList,B=["rlig","liga","mset","isol","init","fina","medi","half","pres","blws"],A=[],H=0;H<R.length;H++){var G=R[H];if(B.indexOf(G.tag)!=-1){for(var O=0;O<G.tab.length;O++)if(!A[G.tab[O]]){A[G.tab[O]]=!0;for(var U=C[G.tab[O]],$=0;$<p.length;$++){var ie=n.U._getWPfeature(e,$);"isol,init,fina,medi".indexOf(G.tag)!=-1&&G.tag!=ie||n.U._applySubs(p,$,U,C)}}}}return p},n.U._getWPfeature=function(l,e){var p=`
	" ,.:;!?()  \u060C`,v="\u0622\u0623\u0624\u0625\u0627\u0629\u062F\u0630\u0631\u0632\u0648\u0671\u0672\u0673\u0675\u0676\u0677\u0688\u0689\u068A\u068B\u068C\u068D\u068E\u068F\u0690\u0691\u0692\u0693\u0694\u0695\u0696\u0697\u0698\u0699\u06C0\u06C3\u06C4\u06C5\u06C6\u06C7\u06C8\u06C9\u06CA\u06CB\u06CD\u06CF\u06D2\u06D3\u06D5\u06EE\u06EF\u0710\u0715\u0716\u0717\u0718\u0719\u071E\u0728\u072A\u072C\u072F\u074D\u0759\u075A\u075B\u076B\u076C\u0771\u0773\u0774\u0778\u0779\u0840\u0846\u0847\u0849\u0854\u0867\u0869\u086A\u08AA\u08AB\u08AC\u08AE\u08B1\u08B2\u08B9\u0AC5\u0AC7\u0AC9\u0ACA\u0ACE\u0ACF\u0AD0\u0AD1\u0AD2\u0ADD\u0AE1\u0AE4\u0AEF\u0B81\u0B83\u0B84\u0B85\u0B89\u0B8C\u0B8E\u0B8F\u0B91\u0BA9\u0BAA\u0BAB\u0BAC",w=e==0||p.indexOf(l[e-1])!=-1,E=e==l.length-1||p.indexOf(l[e+1])!=-1;return w||v.indexOf(l[e-1])==-1||(w=!0),E||v.indexOf(l[e])==-1||(E=!0),E||"\uA872\u0ACD\u0AD7".indexOf(l[e+1])==-1||(E=!0),w||"\uA872\u0ACD\u0AD7".indexOf(l[e])==-1||(w=!0),w?E?"isol":"init":E?"fina":"medi"},n.U._applySubs=function(l,e,p,v){for(var w=l.length-e-1,E=0;E<p.tabs.length;E++)if(p.tabs[E]!=null){var T,C=p.tabs[E];if(!C.coverage||(T=n._lctf.coverageIndex(C.coverage,l[e]))!=-1){if(p.ltype==1)l[e],C.fmt==1?l[e]=l[e]+C.delta:l[e]=C.newg[T];else if(p.ltype==4)for(var R=C.vals[T],B=0;B<R.length;B++){var A=R[B],H=A.chain.length;if(!(H>w)){for(var G=!0,O=0,U=0;U<H;U++){for(;l[e+O+(1+U)]==-1;)O++;A.chain[U]!=l[e+O+(1+U)]&&(G=!1)}if(G){for(l[e]=A.nglyph,U=0;U<H+O;U++)l[e+U+1]=-1;break}}}else if(p.ltype==5&&C.fmt==2)for(var $=n._lctf.getInterval(C.cDef,l[e]),ie=C.cDef[$+2],ue=C.scset[ie],K=0;K<ue.length;K++){var ce=ue[K],ve=ce.input;if(!(ve.length>w)){for(G=!0,U=0;U<ve.length;U++){var Ve=n._lctf.getInterval(C.cDef,l[e+1+U]);if($==-1&&C.cDef[Ve+2]!=ve[U]){G=!1;break}}if(G){var Me=ce.substLookupRecords;for(B=0;B<Me.length;B+=2)Me[B],Me[B+1]}}}else if(p.ltype==6&&C.fmt==3){if(!n.U._glsCovered(l,C.backCvg,e-C.backCvg.length))continue;if(!n.U._glsCovered(l,C.inptCvg,e))continue;if(!n.U._glsCovered(l,C.ahedCvg,e+C.inptCvg.length))continue;var Ee=C.lookupRec;for(K=0;K<Ee.length;K+=2){$=Ee[K];var Ne=v[Ee[K+1]];n.U._applySubs(l,e+$,Ne,v)}}}}},n.U._glsCovered=function(l,e,p){for(var v=0;v<e.length;v++)if(n._lctf.coverageIndex(e[v],l[p+v])==-1)return!1;return!0},n.U.glyphsToPath=function(l,e,p){for(var v={cmds:[],crds:[]},w=0,E=0;E<e.length;E++){var T=e[E];if(T!=-1){for(var C=E<e.length-1&&e[E+1]!=-1?e[E+1]:0,R=n.U.glyphToPath(l,T),B=0;B<R.crds.length;B+=2)v.crds.push(R.crds[B]+w),v.crds.push(R.crds[B+1]);for(p&&v.cmds.push(p),B=0;B<R.cmds.length;B++)v.cmds.push(R.cmds[B]);p&&v.cmds.push("X"),w+=l.hmtx.aWidth[T],E<e.length-1&&(w+=n.U.getPairAdjustment(l,T,C))}}return v},n.U.pathToSVG=function(l,e){e==null&&(e=5);for(var p=[],v=0,w={M:2,L:2,Q:4,C:6},E=0;E<l.cmds.length;E++){var T=l.cmds[E],C=v+(w[T]?w[T]:0);for(p.push(T);v<C;){var R=l.crds[v++];p.push(parseFloat(R.toFixed(e))+(v==C?"":" "))}}return p.join("")},n.U.pathToContext=function(l,e){for(var p=0,v=l.crds,w=0;w<l.cmds.length;w++){var E=l.cmds[w];E=="M"?(e.moveTo(v[p],v[p+1]),p+=2):E=="L"?(e.lineTo(v[p],v[p+1]),p+=2):E=="C"?(e.bezierCurveTo(v[p],v[p+1],v[p+2],v[p+3],v[p+4],v[p+5]),p+=6):E=="Q"?(e.quadraticCurveTo(v[p],v[p+1],v[p+2],v[p+3]),p+=4):E.charAt(0)=="#"?(e.beginPath(),e.fillStyle=E):E=="Z"?e.closePath():E=="X"&&e.fill()}},n.U.P={},n.U.P.moveTo=function(l,e,p){l.cmds.push("M"),l.crds.push(e,p)},n.U.P.lineTo=function(l,e,p){l.cmds.push("L"),l.crds.push(e,p)},n.U.P.curveTo=function(l,e,p,v,w,E,T){l.cmds.push("C"),l.crds.push(e,p,v,w,E,T)},n.U.P.qcurveTo=function(l,e,p,v,w){l.cmds.push("Q"),l.crds.push(e,p,v,w)},n.U.P.closePath=function(l){l.cmds.push("Z")},n.U._drawCFF=function(l,e,p,v,w){for(var E=e.stack,T=e.nStems,C=e.haveWidth,R=e.width,B=e.open,A=0,H=e.x,G=e.y,O=0,U=0,$=0,ie=0,ue=0,K=0,ce=0,ve=0,Ve=0,Me=0,Ee={val:0,size:0};A<l.length;){n.CFF.getCharString(l,A,Ee);var Ne=Ee.val;if(A+=Ee.size,Ne=="o1"||Ne=="o18")E.length%2!=0&&!C&&(R=E.shift()+v.nominalWidthX),T+=E.length>>1,E.length=0,C=!0;else if(Ne=="o3"||Ne=="o23")E.length%2!=0&&!C&&(R=E.shift()+v.nominalWidthX),T+=E.length>>1,E.length=0,C=!0;else if(Ne=="o4")E.length>1&&!C&&(R=E.shift()+v.nominalWidthX,C=!0),B&&n.U.P.closePath(w),G+=E.pop(),n.U.P.moveTo(w,H,G),B=!0;else if(Ne=="o5")for(;E.length>0;)H+=E.shift(),G+=E.shift(),n.U.P.lineTo(w,H,G);else if(Ne=="o6"||Ne=="o7")for(var Oe=E.length,tt=Ne=="o6",Ze=0;Ze<Oe;Ze++){var Qe=E.shift();tt?H+=Qe:G+=Qe,tt=!tt,n.U.P.lineTo(w,H,G)}else if(Ne=="o8"||Ne=="o24"){Oe=E.length;for(var at=0;at+6<=Oe;)O=H+E.shift(),U=G+E.shift(),$=O+E.shift(),ie=U+E.shift(),H=$+E.shift(),G=ie+E.shift(),n.U.P.curveTo(w,O,U,$,ie,H,G),at+=6;Ne=="o24"&&(H+=E.shift(),G+=E.shift(),n.U.P.lineTo(w,H,G))}else{if(Ne=="o11")break;if(Ne=="o1234"||Ne=="o1235"||Ne=="o1236"||Ne=="o1237")Ne=="o1234"&&(U=G,$=(O=H+E.shift())+E.shift(),Me=ie=U+E.shift(),K=ie,ve=G,H=(ce=(ue=(Ve=$+E.shift())+E.shift())+E.shift())+E.shift(),n.U.P.curveTo(w,O,U,$,ie,Ve,Me),n.U.P.curveTo(w,ue,K,ce,ve,H,G)),Ne=="o1235"&&(O=H+E.shift(),U=G+E.shift(),$=O+E.shift(),ie=U+E.shift(),Ve=$+E.shift(),Me=ie+E.shift(),ue=Ve+E.shift(),K=Me+E.shift(),ce=ue+E.shift(),ve=K+E.shift(),H=ce+E.shift(),G=ve+E.shift(),E.shift(),n.U.P.curveTo(w,O,U,$,ie,Ve,Me),n.U.P.curveTo(w,ue,K,ce,ve,H,G)),Ne=="o1236"&&(O=H+E.shift(),U=G+E.shift(),$=O+E.shift(),Me=ie=U+E.shift(),K=ie,ce=(ue=(Ve=$+E.shift())+E.shift())+E.shift(),ve=K+E.shift(),H=ce+E.shift(),n.U.P.curveTo(w,O,U,$,ie,Ve,Me),n.U.P.curveTo(w,ue,K,ce,ve,H,G)),Ne=="o1237"&&(O=H+E.shift(),U=G+E.shift(),$=O+E.shift(),ie=U+E.shift(),Ve=$+E.shift(),Me=ie+E.shift(),ue=Ve+E.shift(),K=Me+E.shift(),ce=ue+E.shift(),ve=K+E.shift(),Math.abs(ce-H)>Math.abs(ve-G)?H=ce+E.shift():G=ve+E.shift(),n.U.P.curveTo(w,O,U,$,ie,Ve,Me),n.U.P.curveTo(w,ue,K,ce,ve,H,G));else if(Ne=="o14"){if(E.length>0&&!C&&(R=E.shift()+p.nominalWidthX,C=!0),E.length==4){var mt=E.shift(),Ht=E.shift(),Wt=E.shift(),et=E.shift(),De=n.CFF.glyphBySE(p,Wt),Le=n.CFF.glyphBySE(p,et);n.U._drawCFF(p.CharStrings[De],e,p,v,w),e.x=mt,e.y=Ht,n.U._drawCFF(p.CharStrings[Le],e,p,v,w)}B&&(n.U.P.closePath(w),B=!1)}else if(Ne=="o19"||Ne=="o20")E.length%2!=0&&!C&&(R=E.shift()+v.nominalWidthX),T+=E.length>>1,E.length=0,C=!0,A+=T+7>>3;else if(Ne=="o21")E.length>2&&!C&&(R=E.shift()+v.nominalWidthX,C=!0),G+=E.pop(),H+=E.pop(),B&&n.U.P.closePath(w),n.U.P.moveTo(w,H,G),B=!0;else if(Ne=="o22")E.length>1&&!C&&(R=E.shift()+v.nominalWidthX,C=!0),H+=E.pop(),B&&n.U.P.closePath(w),n.U.P.moveTo(w,H,G),B=!0;else if(Ne=="o25"){for(;E.length>6;)H+=E.shift(),G+=E.shift(),n.U.P.lineTo(w,H,G);O=H+E.shift(),U=G+E.shift(),$=O+E.shift(),ie=U+E.shift(),H=$+E.shift(),G=ie+E.shift(),n.U.P.curveTo(w,O,U,$,ie,H,G)}else if(Ne=="o26")for(E.length%2&&(H+=E.shift());E.length>0;)O=H,U=G+E.shift(),H=$=O+E.shift(),G=(ie=U+E.shift())+E.shift(),n.U.P.curveTo(w,O,U,$,ie,H,G);else if(Ne=="o27")for(E.length%2&&(G+=E.shift());E.length>0;)U=G,$=(O=H+E.shift())+E.shift(),ie=U+E.shift(),H=$+E.shift(),G=ie,n.U.P.curveTo(w,O,U,$,ie,H,G);else if(Ne=="o10"||Ne=="o29"){var Ye=Ne=="o10"?v:p;if(E.length==0)console.debug("error: empty stack");else{var Re=E.pop(),re=Ye.Subrs[Re+Ye.Bias];e.x=H,e.y=G,e.nStems=T,e.haveWidth=C,e.width=R,e.open=B,n.U._drawCFF(re,e,p,v,w),H=e.x,G=e.y,T=e.nStems,C=e.haveWidth,R=e.width,B=e.open}}else if(Ne=="o30"||Ne=="o31"){var oe=E.length,we=(at=0,Ne=="o31");for(at+=oe-(Oe=-3&oe);at<Oe;)we?(U=G,$=(O=H+E.shift())+E.shift(),G=(ie=U+E.shift())+E.shift(),Oe-at==5?(H=$+E.shift(),at++):H=$,we=!1):(O=H,U=G+E.shift(),$=O+E.shift(),ie=U+E.shift(),H=$+E.shift(),Oe-at==5?(G=ie+E.shift(),at++):G=ie,we=!0),n.U.P.curveTo(w,O,U,$,ie,H,G),at+=4}else{if((Ne+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Ne,l),Ne;E.push(Ne)}}}e.x=H,e.y=G,e.nStems=T,e.haveWidth=C,e.width=R,e.open=B};var i=n,s={Typr:i};return t.Typr=i,t.default=s,t}({}).Typr}function tre(){return function(t){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(K,ce){this.source=K,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=ce,this.destLen=0,this.ltree=new n,this.dtree=new n}var s=new n,l=new n,e=new Uint8Array(30),p=new Uint16Array(30),v=new Uint8Array(30),w=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new n,C=new Uint8Array(320);function R(K,ce,ve,Ve){var Me,Ee;for(Me=0;Me<ve;++Me)K[Me]=0;for(Me=0;Me<30-ve;++Me)K[Me+ve]=Me/ve|0;for(Ee=Ve,Me=0;Me<30;++Me)ce[Me]=Ee,Ee+=1<<K[Me]}var B=new Uint16Array(16);function A(K,ce,ve,Ve){var Me,Ee;for(Me=0;Me<16;++Me)K.table[Me]=0;for(Me=0;Me<Ve;++Me)K.table[ce[ve+Me]]++;for(K.table[0]=0,Ee=0,Me=0;Me<16;++Me)B[Me]=Ee,Ee+=K.table[Me];for(Me=0;Me<Ve;++Me)ce[ve+Me]&&(K.trans[B[ce[ve+Me]]++]=Me)}function H(K){K.bitcount--||(K.tag=K.source[K.sourceIndex++],K.bitcount=7);var ce=1&K.tag;return K.tag>>>=1,ce}function G(K,ce,ve){if(!ce)return ve;for(;K.bitcount<24;)K.tag|=K.source[K.sourceIndex++]<<K.bitcount,K.bitcount+=8;var Ve=K.tag&65535>>>16-ce;return K.tag>>>=ce,K.bitcount-=ce,Ve+ve}function O(K,ce){for(;K.bitcount<24;)K.tag|=K.source[K.sourceIndex++]<<K.bitcount,K.bitcount+=8;var ve=0,Ve=0,Me=0,Ee=K.tag;do Ve=2*Ve+(1&Ee),Ee>>>=1,++Me,ve+=ce.table[Me],Ve-=ce.table[Me];while(Ve>=0);return K.tag=Ee,K.bitcount-=Me,ce.trans[ve+Ve]}function U(K,ce,ve){var Ve,Me,Ee,Ne,Oe,tt;for(Ve=G(K,5,257),Me=G(K,5,1),Ee=G(K,4,4),Ne=0;Ne<19;++Ne)C[Ne]=0;for(Ne=0;Ne<Ee;++Ne){var Ze=G(K,3,0);C[E[Ne]]=Ze}for(A(T,C,0,19),Oe=0;Oe<Ve+Me;){var Qe=O(K,T);switch(Qe){case 16:var at=C[Oe-1];for(tt=G(K,2,3);tt;--tt)C[Oe++]=at;break;case 17:for(tt=G(K,3,3);tt;--tt)C[Oe++]=0;break;case 18:for(tt=G(K,7,11);tt;--tt)C[Oe++]=0;break;default:C[Oe++]=Qe}}A(ce,C,0,Ve),A(ve,C,Ve,Me)}function $(K,ce,ve){for(;;){var Ve,Me,Ee,Ne,Oe=O(K,ce);if(Oe===256)return 0;if(Oe<256)K.dest[K.destLen++]=Oe;else for(Ve=G(K,e[Oe-=257],p[Oe]),Me=O(K,ve),Ne=Ee=K.destLen-G(K,v[Me],w[Me]);Ne<Ee+Ve;++Ne)K.dest[K.destLen++]=K.dest[Ne]}}function ie(K){for(var ce,ve;K.bitcount>8;)K.sourceIndex--,K.bitcount-=8;if((ce=256*(ce=K.source[K.sourceIndex+1])+K.source[K.sourceIndex])!==(65535&~(256*K.source[K.sourceIndex+3]+K.source[K.sourceIndex+2])))return-3;for(K.sourceIndex+=4,ve=ce;ve;--ve)K.dest[K.destLen++]=K.source[K.sourceIndex++];return K.bitcount=0,0}!function(K,ce){var ve;for(ve=0;ve<7;++ve)K.table[ve]=0;for(K.table[7]=24,K.table[8]=152,K.table[9]=112,ve=0;ve<24;++ve)K.trans[ve]=256+ve;for(ve=0;ve<144;++ve)K.trans[24+ve]=ve;for(ve=0;ve<8;++ve)K.trans[168+ve]=280+ve;for(ve=0;ve<112;++ve)K.trans[176+ve]=144+ve;for(ve=0;ve<5;++ve)ce.table[ve]=0;for(ce.table[5]=32,ve=0;ve<32;++ve)ce.trans[ve]=ve}(s,l),R(e,p,4,3),R(v,w,2,1),e[28]=0,p[28]=258;var ue=function(K,ce){var ve,Ve,Me=new i(K,ce);do{switch(ve=H(Me),G(Me,2,0)){case 0:Ve=ie(Me);break;case 1:Ve=$(Me,s,l);break;case 2:U(Me,Me.ltree,Me.dtree),Ve=$(Me,Me.ltree,Me.dtree);break;default:Ve=-3}if(Ve!==0)throw new Error("Data error")}while(!ve);return Me.destLen<Me.dest.length?typeof Me.dest.slice=="function"?Me.dest.slice(0,Me.destLen):Me.dest.subarray(0,Me.destLen):Me.dest};return t.convert_streams=function(K){var ce=new DataView(K),ve=0;function Ve(){var Re=ce.getUint16(ve);return ve+=2,Re}function Me(){var Re=ce.getUint32(ve);return ve+=4,Re}function Ee(Re){Le.setUint16(Ye,Re),Ye+=2}function Ne(Re){Le.setUint32(Ye,Re),Ye+=4}for(var Oe={signature:Me(),flavor:Me(),length:Me(),numTables:Ve(),reserved:Ve(),totalSfntSize:Me(),majorVersion:Ve(),minorVersion:Ve(),metaOffset:Me(),metaLength:Me(),metaOrigLength:Me(),privOffset:Me(),privLength:Me()},tt=0;Math.pow(2,tt)<=Oe.numTables;)tt++;tt--;for(var Ze=16*Math.pow(2,tt),Qe=16*Oe.numTables-Ze,at=12,mt=[],Ht=0;Ht<Oe.numTables;Ht++)mt.push({tag:Me(),offset:Me(),compLength:Me(),origLength:Me(),origChecksum:Me()}),at+=16;var Wt,et=new Uint8Array(12+16*mt.length+mt.reduce(function(Re,re){return Re+re.origLength+4},0)),De=et.buffer,Le=new DataView(De),Ye=0;return Ne(Oe.flavor),Ee(Oe.numTables),Ee(Ze),Ee(tt),Ee(Qe),mt.forEach(function(Re){Ne(Re.tag),Ne(Re.origChecksum),Ne(at),Ne(Re.origLength),Re.outOffset=at,(at+=Re.origLength)%4!=0&&(at+=4-at%4)}),mt.forEach(function(Re){var re=K.slice(Re.offset,Re.offset+Re.compLength);if(Re.compLength!=Re.origLength){var oe=new Uint8Array(Re.origLength);ue(new Uint8Array(re,2),oe)}else oe=new Uint8Array(re);et.set(oe,Re.outOffset);var we=0;(at=Re.outOffset+Re.origLength)%4!=0&&(we=4-at%4),et.set(new Uint8Array(we).buffer,Re.outOffset+Re.origLength),Wt=at+we}),De.slice(0,Wt)},t}({}).convert_streams}function nre(t,n){let i={M:2,L:2,Q:4,C:6,Z:0};function s(l){let e=Object.create(null),p={unitsPerEm:l.head.unitsPerEm,ascender:l.hhea.ascender,descender:l.hhea.descender,forEachGlyph(v,w,E,T){let C=0,R=1/p.unitsPerEm*w,B=t.U.stringToGlyphs(l,v),A=0,H=-1;return B.forEach((G,O)=>{if(G!==-1){let U=e[G];if(!U){let{cmds:$,crds:ie}=t.U.glyphToPath(l,G),ue,K,ce,ve;if(ie.length){ue=K=Infinity,ce=ve=-Infinity;for(let Ve=0,Me=ie.length;Ve<Me;Ve+=2){let Ee=ie[Ve],Ne=ie[Ve+1];Ee<ue&&(ue=Ee),Ne<K&&(K=Ne),Ee>ce&&(ce=Ee),Ne>ve&&(ve=Ne)}}else ue=ce=K=ve=0;U=e[G]={index:G,advanceWidth:l.hmtx.aWidth[G],xMin:ue,yMin:K,xMax:ce,yMax:ve,pathCommandCount:$.length,forEachPathCommand(Ve){let Me=0,Ee=[];for(let Ne=0,Oe=$.length;Ne<Oe;Ne++){let tt=i[$[Ne]];Ee.length=1+tt,Ee[0]=$[Ne];for(let Ze=1;Ze<=tt;Ze++)Ee[Ze]=ie[Me++];Ve.apply(null,Ee)}}}}H!==-1&&(C+=t.U.getPairAdjustment(l,H,G)*R),T.call(null,U,C,A),U.advanceWidth&&(C+=U.advanceWidth*R),E&&(C+=E*w),H=G}A+=v.codePointAt(A)>65535?2:1}),C}};return p}return function(e){let p=new Uint8Array(e,0,4),v=t._bin.readASCII(p,0,4);if(v==="wOFF")e=n(e);else if(v==="wOF2")throw new Error("woff2 fonts not supported");return s(t.parse(e)[0])}}var rre=mx({name:"Typr Font Parser",dependencies:[ere,tre,nre],init(t,n,i){let s=t(),l=n();return i(s,l)}}),pT={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},ire=new Nr.Color,ore=!1,tk=Object.create(null);function ure(t,n){if(ore=!0,t=sre({},t),t.font=are(t.font||pT.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||pT.sdfGlyphSize,t.colorRanges!=null){let v={};for(let w in t.colorRanges)if(t.colorRanges.hasOwnProperty(w)){let E=t.colorRanges[w];typeof E!="number"&&(E=ire.set(E).getHex()),v[w]=E}t.colorRanges=v}Object.freeze(t);let{textureWidth:i,sdfExponent:s}=pT,{sdfGlyphSize:l}=t,e=`${t.font}@${l}`,p=tk[e];p||(p=tk[e]={sdfTexture:new Nr.DataTexture(new Uint8Array(l*i),i,l,Nr.LuminanceFormat,void 0,void 0,void 0,void 0,Nr.LinearFilter,Nr.LinearFilter)},p.sdfTexture.font=t.font),lre(t).then(v=>{v.newGlyphSDFs&&(v.newGlyphSDFs.forEach(({textureData:w,atlasIndex:E})=>{let T=p.sdfTexture.image;for(;T.data.length<(E+1)*l*l;){let B=new Uint8Array(T.data.length*2);B.set(T.data),T.data=B,T.height*=2}let C=T.width/l,R=T.width*l*Math.floor(E/C)+E%C*l;for(let B=0;B<l;B++){let A=B*l,H=R+B*T.width;for(let G=0;G<l;G++)T.data[H+G]=w[A+G]}}),p.sdfTexture.needsUpdate=!0),n(Object.freeze({parameters:t,sdfTexture:p.sdfTexture,sdfGlyphSize:l,sdfExponent:s,glyphBounds:v.glyphBounds,glyphAtlasIndices:v.glyphAtlasIndices,glyphColors:v.glyphColors,caretPositions:v.caretPositions,caretHeight:v.caretHeight,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),v.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");let[w,E,T,C]=v.blockBounds;return[T-w,C-E]}}))})}function sre(t,n){for(let i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t}var mT;function are(t){return mT||(mT=typeof document=="undefined"?{}:document.createElement("a")),mT.href=t,mT.href}var cre=mx({name:"FontProcessor",dependencies:[pT,rre,$ne,Zne,Kne],init(t,n,i,s,l){let{sdfExponent:e,sdfMargin:p,defaultFontURL:v}=t,w=s(i,{sdfExponent:e,sdfMargin:p});return l(n,w,{defaultFontURL:v})}}),lre=mx({name:"TextBuilder",dependencies:[cre,QU],init(t,n){return function(i){let s=new n;return t.process(i,s.resolve),s}},getTransferables(t){let n=[t.glyphBounds.buffer,t.glyphAtlasIndices.buffer];return t.caretPositions&&n.push(t.caretPositions.buffer),t.newGlyphSDFs&&t.newGlyphSDFs.forEach(i=>{n.push(i.textureData.buffer)}),n}}),fre=(()=>{let t={};function n(E){let T=t[E];return T||(T=t[E]=new Nr.PlaneBufferGeometry(1,1,E,E).translate(.5,.5,0)),T}let i=new Nr.Vector3,s="aTroikaGlyphBounds",l="aTroikaGlyphIndex",e="aTroikaGlyphColor";class p extends Nr.InstancedBufferGeometry{constructor(){super();this.detail=1,this.groups=[{start:0,count:Infinity,materialIndex:0},{start:0,count:Infinity,materialIndex:1}],this.boundingSphere=new Nr.Sphere,this.boundingBox=new Nr.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(T){if(T!==this._detail){this._detail=T,(typeof T!="number"||T<1)&&(T=1);let C=n(T);["position","normal","uv"].forEach(R=>{this.attributes[R]=C.attributes[R].clone()}),this.setIndex(C.getIndex().clone())}}get detail(){return this._detail}updateGlyphs(T,C,R,B,A){v(this,s,T,4),v(this,l,C,1),v(this,e,A,3),this._chunkedBounds=B,w(this,C.length);let H=this.boundingSphere;H.center.set((R[0]+R[2])/2,(R[1]+R[3])/2,0),H.radius=H.center.distanceTo(i.set(R[0],R[1],0));let G=this.boundingBox;G.min.set(R[0],R[1],0),G.max.set(R[2],R[3],0)}applyClipRect(T){let C=this.getAttribute(l).count,R=this._chunkedBounds;if(R)for(let B=R.length;B--;){C=R[B].end;let A=R[B].rect;if(A[1]<T.w&&A[3]>T.y&&A[0]<T.z&&A[2]>T.x)break}w(this,C)}}p.prototype.setAttribute||(p.prototype.setAttribute=function(E,T){return this.attributes[E]=T,this});function v(E,T,C,R){let B=E.getAttribute(T);C?B&&B.array.length===C.length?(B.array.set(C),B.needsUpdate=!0):(E.setAttribute(T,new Nr.InstancedBufferAttribute(C,R)),delete E._maxInstanceCount,E.dispose()):B&&E.deleteAttribute(T)}function w(E,T){E[E.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=T}return p})(),hre=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,dre=`
vec4 bounds = aTroikaGlyphBounds;
vec4 outlineBounds = vec4(bounds.xy - uTroikaDistanceOffset, bounds.zw + uTroikaDistanceOffset);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);
vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerGlyph = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerGlyph * vec2(
  mod(aTroikaGlyphIndex, txCols),
  floor(aTroikaGlyphIndex / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerGlyph);
`,pre=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of encoding in SDFGenerator.js
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  return texture2D(uTroikaSDFTexture, textureUV).r;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetTextAlpha(float distanceOffset) {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
    
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  
  
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  float aaDist = length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  float aaDist = vTroikaGlyphDimensions.x / 64.0;
  #endif
  
  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif
  
  return alpha;
}
`,mre=`
float alpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetTextAlpha(uTroikaDistanceOffset);

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
gl_FragColor.a *= alpha;
#endif
  
if (alpha == 0.0) {
  discard;
}
`;function vre(t){let n=cA(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Nr.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Nr.Vector4(0,0,0,0)},uTroikaClipRect:{value:new Nr.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOrient:{value:new Nr.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:hre,vertexTransform:dre,fragmentDefs:pre,fragmentColorTransform:mre,customRewriter({vertexShader:i,fragmentShader:s}){let l=/\buniform\s+vec3\s+diffuse\b/;return l.test(s)&&(s=s.replace(l,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),l.test(i)||(i=i.replace(kD,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:i,fragmentShader:s}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),n}var nk=(()=>{let t=new Nr.MeshBasicMaterial({color:16777215,side:Nr.DoubleSide,transparent:!0}),n=new Nr.Matrix4,i=new Nr.Vector3,s=new Nr.Vector3,l=[],e=new Nr.Vector3,p="+x+y";function v(H){return Array.isArray(H)?H[0]:H}let w=new Nr.Mesh(new Nr.PlaneBufferGeometry(1,1).translate(.5,.5,0),t),E={type:"syncstart"},T={type:"synccomplete"},C=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],R=C.concat("material","color","depthOffset","clipRect","orientation","glyphGeometryDetail");class B extends Nr.Mesh{constructor(){let G=new fre;super(G,null);this.text="",this.anchorX=0,this.anchorY=0,this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=Infinity,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.depthOffset=0,this.clipRect=null,this.orientation=p,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(G){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(G):(this._isSyncing=!0,this.dispatchEvent(E),ure({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},O=>{this._isSyncing=!1,this._textRenderInfo=O,this.geometry.updateGlyphs(O.glyphBounds,O.glyphAtlasIndices,O.blockBounds,O.chunkedBounds,O.glyphColors);let U=this._queuedSyncs;U&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{U.forEach($=>$&&$())})),this.dispatchEvent(T),G&&G()})))}onBeforeRender(G,O,U,$,ie,ue){this.sync(),ie.isTroikaTextMaterial&&this._prepareForRender(ie)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let G=this._derivedMaterial,O=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=t.clone());if((!G||G.baseMaterial!==O)&&(G=this._derivedMaterial=vre(O),O.addEventListener("dispose",function U(){O.removeEventListener("dispose",U),G.dispose()})),this.outlineWidth){let U=G._outlineMtl;return U||(U=G._outlineMtl=Object.create(G,{id:{value:G.id+.1}}),U.isTextOutlineMaterial=!0,U.depthWrite=!1,U.map=null,G.addEventListener("dispose",function $(){G.removeEventListener("dispose",$),U.dispose()})),[U,G]}else return G}set material(G){G&&G.isTroikaTextMaterial?(this._derivedMaterial=G,this._baseMaterial=G.baseMaterial):this._baseMaterial=G}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(G){this.geometry.detail=G}get customDepthMaterial(){return v(this.material).getDepthMaterial()}get customDistanceMaterial(){return v(this.material).getDistanceMaterial()}_prepareForRender(G){let O=G.isTextOutlineMaterial,U=G.uniforms,$=this.textRenderInfo;if($){let{sdfTexture:K,blockBounds:ce}=$;U.uTroikaSDFTexture.value=K,U.uTroikaSDFTextureSize.value.set(K.image.width,K.image.height),U.uTroikaSDFGlyphSize.value=$.sdfGlyphSize,U.uTroikaSDFExponent.value=$.sdfExponent,U.uTroikaTotalBounds.value.fromArray(ce),U.uTroikaUseGlyphColors.value=!!$.glyphColors;let ve=0;if(O){let{outlineWidth:Me}=this;if(typeof Me=="string"){let Ee=Me.match(/^([\d.]+)%$/),Ne=Ee?parseFloat(Ee[1]):NaN;Me=(isNaN(Ne)?0:Ne/100)*this.fontSize}ve=Me}U.uTroikaDistanceOffset.value=ve;let Ve=this.clipRect;if(Ve&&Array.isArray(Ve)&&Ve.length===4)U.uTroikaClipRect.value.fromArray(Ve);else{let Me=(this.fontSize||.1)*100;U.uTroikaClipRect.value.set(ce[0]-Me,ce[1]-Me,ce[2]+Me,ce[3]+Me)}this.geometry.applyClipRect(U.uTroikaClipRect.value)}U.uTroikaSDFDebug.value=!!this.debugSDF,G.polygonOffset=!!this.depthOffset,G.polygonOffsetFactor=G.polygonOffsetUnits=this.depthOffset||0;let ie=O?this.outlineColor||0:this.color;if(ie==null)delete G.color;else{let K=G.hasOwnProperty("color")?G.color:G.color=new Nr.Color;(ie!==K._input||typeof ie=="object")&&K.set(K._input=ie)}let ue=this.orientation||p;if(ue!==G._orientation){let K=U.uTroikaOrient.value;ue=ue.replace(/[^-+xyz]/g,"");let ce=ue!==p&&ue.match(/^([-+])([xyz])([-+])([xyz])$/);if(ce){let[,ve,Ve,Me,Ee]=ce;i.set(0,0,0)[Ve]=ve==="-"?1:-1,s.set(0,0,0)[Ee]=Me==="-"?-1:1,n.lookAt(e,i.cross(s),s),K.setFromMatrix4(n)}else K.identity();G._orientation=ue}}raycast(G,O){let U=this.textRenderInfo;if(U){let $=U.blockBounds;w.matrixWorld.multiplyMatrices(this.matrixWorld,n.set($[2]-$[0],0,0,$[0],0,$[3]-$[1],0,$[1],0,0,1,0,0,0,0,1)),l.length=0,w.raycast(G,l);for(let ie=0;ie<l.length;ie++)l[ie].object=this,O.push(l[ie])}}copy(G){return super.copy(G),R.forEach(O=>{this[O]=G[O]}),this}clone(){return new this.constructor().copy(this)}}C.forEach(H=>{let G="_private_"+H;Object.defineProperty(B.prototype,H,{get(){return this[G]},set(O){O!==this[G]&&(this[G]=O,this._needsSync=!0)}})});let A=!1;return Object.defineProperty(B.prototype,"anchor",{get(){return this._deprecated_anchor},set(H){this._deprecated_anchor=H,A||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),A=!0),Array.isArray(H)?(this.anchorX=`${(+H[0]||0)*100}%`,this.anchorY=`${(+H[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),B})(),kae=new WeakMap,Gae=new WeakMap;hm({Text:nk});var gre=$l.default.memo(({children:t,boundingBox:n,...i})=>{let s=$l.useRef(),l=ID(),[e,p]=$l.useState([0,0,0]);return $l.useLayoutEffect(()=>{s.current.sync(()=>{if(n){let v=s.current.geometry.boundingBox.size();p([v.x,v.y])}l()})},[n,s.current]),$l.default.createElement($l.default.Fragment,null,n&&$l.default.createElement(nO,{args:[e[0],e[1],1]},$l.default.createElement("meshBasicMaterial",{attach:"material",color:"red",wireframe:!0})),$l.default.createElement("text",{ref:s,position:[0,0,0],anchorX:"center",anchorY:"middle",text:t,...i}))});function Uv({padding:t,...n}){return $l.default.createElement(wc,{padding:t,centerAnchor:!0},$l.default.createElement(gre,{...n}))}var CT=ur(ho());function yre(t){return function(){var n=t+=1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}var Ac=yre(101),HD=t=>{let n=t/2;return`
    m .5 .5
    m -${n} -${n}
    l ${t} 0
    l 0 ${t}
    l -${t} 0
    l 0 -${t+.5}
    m 0 .5
  `},rk=t=>{let n=2,i=4,s=t/6,l=`m -${t/2} -${t/2}`;l+="m 0 2";for(let e=0;e<s;e+=1){for(let p=0;p<s;p+=1)Ac()>.5&&(l+=HD(i,Ac()>.5),l+=" m -.5 -.5",l+=` m ${i/2} ${i/2}`),l+=` m ${i+n} 0`;l+=`m -${Math.ceil(s)*(i+n)} ${i+n}`}return l},ik=t=>{let n=t/2;return`
    m .5 .5
    m -${n} -${n}
    m 0 ${n}
    l ${t} 0
    m -${n} -${n}
    l 0 ${t}
  `},ok=t=>{let n=t/2;return Ac()<.8?"":`
    m .5 .5
    m ${t-1} ${0}
    a ${t} ${t}, 0, 1, 0, ${0} ${.01}
  `},vx=(t,n,i=40,s=40)=>{let l="",e=32,p=32,v=2,w=t/(e+v/2),E=n/(p+v/2),T=[HD,rk,ik,ok];for(var C=0;C<2;C+=1)for(var R=1;R<E-1;R+=1)if(Ac()>.3){let H=C*t,G=R*p;l+=` M ${i+H} ${s+G}`;let O=T[Math.floor(Ac()*T.length)],U=Math.floor(Ac()*5)*v;l+=O(U)}for(var B=0;B<2;B+=1)for(var A=1;A<w-1;A+=1)if(Ac()>.3){let H=A*e,G=B*n;l+=` M ${i+H} ${s+G}`;let O=T[Math.floor(Ac()*T.length)],U=Math.floor(Ac()*5)*v;l+=O(U)}return l},gx=({width:t,height:n,spacing:i=40,sizeInterval:s=4})=>{let l=i,e=i,p=s,v=[HD,rk,ik,ok],w="";for(let E=0;E<Math.floor(t/l);E+=1)for(let T=0;T<Math.floor(n/e);T+=1)if(Ac()>.5){w+=` M ${E*l} ${T*e}`;let C=v[Math.floor(Ac()*v.length)],R=Math.floor(Ac()*5)*p;w+=C(R)}else Ac()>.99&&(w+=` M ${E*l} ${T*e}`,w+=` m 0 .5 m -${l/2} 0 l ${l} 0`);return w},ao=ur(ho()),qD=ur(Ra()),Fd=function(t){ii.call(this,t),this.defaultDPI=90,this.defaultUnit="px"};Fd.prototype=Object.assign(Object.create(ii.prototype),{constructor:Fd,load:function(t,n,i,s){var l=this,e=new Ia(l.manager);e.setPath(l.path),e.setRequestHeader(l.requestHeader),e.setWithCredentials(l.withCredentials),e.load(t,function(p){try{n(l.parse(p))}catch(v){s?s(v):console.error(v),l.manager.itemError(t)}},i,s)},parse:function(t){var n=this;function i(et,De){if(et.nodeType!==1)return;var Le=$(et),Ye=!0,Re=null;switch(et.nodeName){case"svg":break;case"style":l(et);break;case"g":De=B(et,De);break;case"path":De=B(et,De),et.hasAttribute("d")&&(Re=s(et));break;case"rect":De=B(et,De),Re=v(et);break;case"polygon":De=B(et,De),Re=w(et);break;case"polyline":De=B(et,De),Re=E(et);break;case"circle":De=B(et,De),Re=T(et);break;case"ellipse":De=B(et,De),Re=C(et);break;case"line":De=B(et,De),Re=R(et);break;case"defs":Ye=!1;break;case"use":De=B(et,De);var re=et.href.baseVal.substring(1),oe=et.viewportElement.getElementById(re);oe?i(oe,De):console.warn("SVGLoader: 'use node' references non-existent node id: "+re);break;default:}if(Re&&(De.fill!==void 0&&De.fill!=="none"&&Re.color.setStyle(De.fill),ue(Re,mt),Ve.push(Re),Re.userData={node:et,style:De}),Ye)for(var we=et.childNodes,ge=0;ge<we.length;ge++)i(we[ge],De);Le&&(Ee.pop(),Ee.length>0?mt.copy(Ee[Ee.length-1]):mt.identity())}function s(et){for(var De=new mh,Le=new St,Ye=new St,Re=new St,re=!0,oe=!1,we=et.getAttribute("d"),ge=we.match(/[a-df-z][^a-df-z]*/ig),be=0,Ce=ge.length;be<Ce;be++){var P=ge[be],_e=P.charAt(0),ke=P.substr(1).trim();re===!0&&(oe=!0,re=!1);switch(_e){case"M":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2)Le.x=Se[se+0],Le.y=Se[se+1],Ye.x=Le.x,Ye.y=Le.y,se===0?De.moveTo(Le.x,Le.y):De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"H":for(var Se=H(ke),se=0,he=Se.length;se<he;se++)Le.x=Se[se],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"V":for(var Se=H(ke),se=0,he=Se.length;se<he;se++)Le.y=Se[se],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"L":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2)Le.x=Se[se+0],Le.y=Se[se+1],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"C":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=6)De.bezierCurveTo(Se[se+0],Se[se+1],Se[se+2],Se[se+3],Se[se+4],Se[se+5]),Ye.x=Se[se+2],Ye.y=Se[se+3],Le.x=Se[se+4],Le.y=Se[se+5],se===0&&oe===!0&&Re.copy(Le);break;case"S":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=4)De.bezierCurveTo(A(Le.x,Ye.x),A(Le.y,Ye.y),Se[se+0],Se[se+1],Se[se+2],Se[se+3]),Ye.x=Se[se+0],Ye.y=Se[se+1],Le.x=Se[se+2],Le.y=Se[se+3],se===0&&oe===!0&&Re.copy(Le);break;case"Q":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=4)De.quadraticCurveTo(Se[se+0],Se[se+1],Se[se+2],Se[se+3]),Ye.x=Se[se+0],Ye.y=Se[se+1],Le.x=Se[se+2],Le.y=Se[se+3],se===0&&oe===!0&&Re.copy(Le);break;case"T":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2){var me=A(Le.x,Ye.x),xt=A(Le.y,Ye.y);De.quadraticCurveTo(me,xt,Se[se+0],Se[se+1]),Ye.x=me,Ye.y=xt,Le.x=Se[se+0],Le.y=Se[se+1],se===0&&oe===!0&&Re.copy(Le)}break;case"A":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=7){if(Se[se+5]==Le.x&&Se[se+6]==Le.y)continue;var pt=Le.clone();Le.x=Se[se+5],Le.y=Se[se+6],Ye.x=Le.x,Ye.y=Le.y,e(De,Se[se],Se[se+1],Se[se+2],Se[se+3],Se[se+4],pt,Le),se===0&&oe===!0&&Re.copy(Le)}break;case"m":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2)Le.x+=Se[se+0],Le.y+=Se[se+1],Ye.x=Le.x,Ye.y=Le.y,se===0?De.moveTo(Le.x,Le.y):De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"h":for(var Se=H(ke),se=0,he=Se.length;se<he;se++)Le.x+=Se[se],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"v":for(var Se=H(ke),se=0,he=Se.length;se<he;se++)Le.y+=Se[se],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"l":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2)Le.x+=Se[se+0],Le.y+=Se[se+1],Ye.x=Le.x,Ye.y=Le.y,De.lineTo(Le.x,Le.y),se===0&&oe===!0&&Re.copy(Le);break;case"c":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=6)De.bezierCurveTo(Le.x+Se[se+0],Le.y+Se[se+1],Le.x+Se[se+2],Le.y+Se[se+3],Le.x+Se[se+4],Le.y+Se[se+5]),Ye.x=Le.x+Se[se+2],Ye.y=Le.y+Se[se+3],Le.x+=Se[se+4],Le.y+=Se[se+5],se===0&&oe===!0&&Re.copy(Le);break;case"s":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=4)De.bezierCurveTo(A(Le.x,Ye.x),A(Le.y,Ye.y),Le.x+Se[se+0],Le.y+Se[se+1],Le.x+Se[se+2],Le.y+Se[se+3]),Ye.x=Le.x+Se[se+0],Ye.y=Le.y+Se[se+1],Le.x+=Se[se+2],Le.y+=Se[se+3],se===0&&oe===!0&&Re.copy(Le);break;case"q":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=4)De.quadraticCurveTo(Le.x+Se[se+0],Le.y+Se[se+1],Le.x+Se[se+2],Le.y+Se[se+3]),Ye.x=Le.x+Se[se+0],Ye.y=Le.y+Se[se+1],Le.x+=Se[se+2],Le.y+=Se[se+3],se===0&&oe===!0&&Re.copy(Le);break;case"t":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=2){var me=A(Le.x,Ye.x),xt=A(Le.y,Ye.y);De.quadraticCurveTo(me,xt,Le.x+Se[se+0],Le.y+Se[se+1]),Ye.x=me,Ye.y=xt,Le.x=Le.x+Se[se+0],Le.y=Le.y+Se[se+1],se===0&&oe===!0&&Re.copy(Le)}break;case"a":for(var Se=H(ke),se=0,he=Se.length;se<he;se+=7){if(Se[se+5]==0&&Se[se+6]==0)continue;var pt=Le.clone();Le.x+=Se[se+5],Le.y+=Se[se+6],Ye.x=Le.x,Ye.y=Le.y,e(De,Se[se],Se[se+1],Se[se+2],Se[se+3],Se[se+4],pt,Le),se===0&&oe===!0&&Re.copy(Le)}break;case"Z":case"z":De.currentPath.autoClose=!0,De.currentPath.curves.length>0&&(Le.copy(Re),De.currentPath.currentPoint.copy(Le),re=!0);break;default:console.warn(P)}oe=!1}return De}function l(et){if(!et.sheet||!et.sheet.cssRules||!et.sheet.cssRules.length)return;for(var De=0;De<et.sheet.cssRules.length;De++){var Le=et.sheet.cssRules[De];if(Le.type!==1)continue;for(var Ye=Le.selectorText.split(/,/gm).filter(Boolean).map(re=>re.trim()),Re=0;Re<Ye.length;Re++)Me[Ye[Re]]=Object.assign(Me[Ye[Re]]||{},Le.style)}}function e(et,De,Le,Ye,Re,re,oe,we){if(De==0||Le==0){et.lineTo(we.x,we.y);return}Ye=Ye*Math.PI/180,De=Math.abs(De),Le=Math.abs(Le);var ge=(oe.x-we.x)/2,be=(oe.y-we.y)/2,Ce=Math.cos(Ye)*ge+Math.sin(Ye)*be,P=-Math.sin(Ye)*ge+Math.cos(Ye)*be,_e=De*De,ke=Le*Le,Se=Ce*Ce,se=P*P,he=Se/_e+se/ke;if(he>1){var me=Math.sqrt(he);De=me*De,Le=me*Le,_e=De*De,ke=Le*Le}var xt=_e*se+ke*Se,pt=(_e*ke-xt)/xt,ze=Math.sqrt(Math.max(0,pt));Re===re&&(ze=-ze);var At=ze*De*P/Le,gt=-ze*Le*Ce/De,Ft=Math.cos(Ye)*At-Math.sin(Ye)*gt+(oe.x+we.x)/2,Et=Math.sin(Ye)*At+Math.cos(Ye)*gt+(oe.y+we.y)/2,Pt=p(1,0,(Ce-At)/De,(P-gt)/Le),qt=p((Ce-At)/De,(P-gt)/Le,(-Ce-At)/De,(-P-gt)/Le)%(Math.PI*2);et.currentPath.absellipse(Ft,Et,De,Le,Pt,Pt+qt,re===0,Ye)}function p(et,De,Le,Ye){var Re=et*Le+De*Ye,re=Math.sqrt(et*et+De*De)*Math.sqrt(Le*Le+Ye*Ye),oe=Math.acos(Math.max(-1,Math.min(1,Re/re)));return et*Ye-De*Le<0&&(oe=-oe),oe}function v(et){var De=U(et.getAttribute("x")||0),Le=U(et.getAttribute("y")||0),Ye=U(et.getAttribute("rx")||0),Re=U(et.getAttribute("ry")||0),re=U(et.getAttribute("width")),oe=U(et.getAttribute("height")),we=new mh;return we.moveTo(De+2*Ye,Le),we.lineTo(De+re-2*Ye,Le),(Ye!==0||Re!==0)&&we.bezierCurveTo(De+re,Le,De+re,Le,De+re,Le+2*Re),we.lineTo(De+re,Le+oe-2*Re),(Ye!==0||Re!==0)&&we.bezierCurveTo(De+re,Le+oe,De+re,Le+oe,De+re-2*Ye,Le+oe),we.lineTo(De+2*Ye,Le+oe),(Ye!==0||Re!==0)&&we.bezierCurveTo(De,Le+oe,De,Le+oe,De,Le+oe-2*Re),we.lineTo(De,Le+2*Re),(Ye!==0||Re!==0)&&we.bezierCurveTo(De,Le,De,Le,De+2*Ye,Le),we}function w(et){function De(re,oe,we){var ge=U(oe),be=U(we);Re===0?Ye.moveTo(ge,be):Ye.lineTo(ge,be),Re++}var Le=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,Ye=new mh,Re=0;return et.getAttribute("points").replace(Le,De),Ye.currentPath.autoClose=!0,Ye}function E(et){function De(re,oe,we){var ge=U(oe),be=U(we);Re===0?Ye.moveTo(ge,be):Ye.lineTo(ge,be),Re++}var Le=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,Ye=new mh,Re=0;return et.getAttribute("points").replace(Le,De),Ye.currentPath.autoClose=!1,Ye}function T(et){var De=U(et.getAttribute("cx")),Le=U(et.getAttribute("cy")),Ye=U(et.getAttribute("r")),Re=new Ec;Re.absarc(De,Le,Ye,0,Math.PI*2);var re=new mh;return re.subPaths.push(Re),re}function C(et){var De=U(et.getAttribute("cx")),Le=U(et.getAttribute("cy")),Ye=U(et.getAttribute("rx")),Re=U(et.getAttribute("ry")),re=new Ec;re.absellipse(De,Le,Ye,Re,0,Math.PI*2);var oe=new mh;return oe.subPaths.push(re),oe}function R(et){var De=U(et.getAttribute("x1")),Le=U(et.getAttribute("y1")),Ye=U(et.getAttribute("x2")),Re=U(et.getAttribute("y2")),re=new mh;return re.moveTo(De,Le),re.lineTo(Ye,Re),re.currentPath.autoClose=!1,re}function B(et,De){De=Object.assign({},De);var Le={};if(et.hasAttribute("class"))for(var Ye=et.getAttribute("class").split(/\s/).filter(Boolean).map(ge=>ge.trim()),Re=0;Re<Ye.length;Re++)Le=Object.assign(Le,Me["."+Ye[Re]]);et.hasAttribute("id")&&(Le=Object.assign(Le,Me["#"+et.getAttribute("id")]));function re(ge,be,Ce){Ce===void 0&&(Ce=function(_e){return _e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),_e}),et.hasAttribute(ge)&&(De[be]=Ce(et.getAttribute(ge))),Le[ge]&&(De[be]=Ce(Le[ge])),et.style&&et.style[ge]!==""&&(De[be]=Ce(et.style[ge]))}function oe(ge){return Math.max(0,Math.min(1,U(ge)))}function we(ge){return Math.max(0,U(ge))}return re("fill","fill"),re("fill-opacity","fillOpacity",oe),re("opacity","opacity",oe),re("stroke","stroke"),re("stroke-opacity","strokeOpacity",oe),re("stroke-width","strokeWidth",we),re("stroke-linejoin","strokeLineJoin"),re("stroke-linecap","strokeLineCap"),re("stroke-miterlimit","strokeMiterLimit",we),re("visibility","visibility"),De}function A(et,De){return et-(De-et)}function H(et){for(var De=et.split(/[\s,]+|(?=\s?[+\-])/),Le=0;Le<De.length;Le++){var Ye=De[Le];if(Ye.indexOf(".")!==Ye.lastIndexOf("."))for(var Re=Ye.split("."),re=2;re<Re.length;re++)De.splice(Le+re-1,0,"0."+Re[re]);De[Le]=U(Ye)}return De}var G=["mm","cm","in","pt","pc","px"],O={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function U(et){var De="px";if(typeof et=="string"||et instanceof String)for(var Le=0,Ye=G.length;Le<Ye;Le++){var Re=G[Le];if(et.endsWith(Re)){De=Re,et=et.substring(0,et.length-Re.length);break}}var re=void 0;return De==="px"&&n.defaultUnit!=="px"?re=O.in[n.defaultUnit]/n.defaultDPI:(re=O[De][n.defaultUnit],re<0&&(re=O[De].in*n.defaultDPI)),re*parseFloat(et)}function $(et){if(!(et.hasAttribute("transform")||et.nodeName==="use"&&(et.hasAttribute("x")||et.hasAttribute("y"))))return null;var De=ie(et);return Ee.length>0&&De.premultiply(Ee[Ee.length-1]),mt.copy(De),Ee.push(De),De}function ie(et){var De=new rs,Le=Ne;if(et.nodeName==="use"&&(et.hasAttribute("x")||et.hasAttribute("y"))){var Ye=U(et.getAttribute("x")),Re=U(et.getAttribute("y"));De.translate(Ye,Re)}if(et.hasAttribute("transform"))for(var re=et.getAttribute("transform").split(")"),oe=re.length-1;oe>=0;oe--){var we=re[oe].trim();if(we==="")continue;var ge=we.indexOf("("),be=we.length;if(ge>0&&ge<be){var Ce=we.substr(0,ge),P=H(we.substr(ge+1,be-ge-1));Le.identity();switch(Ce){case"translate":if(P.length>=1){var Ye=P[0],Re=Ye;P.length>=2&&(Re=P[1]),Le.translate(Ye,Re)}break;case"rotate":if(P.length>=1){var _e=0,ke=0,Se=0;_e=-P[0]*Math.PI/180,P.length>=3&&(ke=P[1],Se=P[2]),Oe.identity().translate(-ke,-Se),tt.identity().rotate(_e),Ze.multiplyMatrices(tt,Oe),Oe.identity().translate(ke,Se),Le.multiplyMatrices(Oe,Ze)}break;case"scale":if(P.length>=1){var se=P[0],he=se;P.length>=2&&(he=P[1]),Le.scale(se,he)}break;case"skewX":P.length===1&&Le.set(1,Math.tan(P[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":P.length===1&&Le.set(1,0,0,Math.tan(P[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":P.length===6&&Le.set(P[0],P[2],P[4],P[1],P[3],P[5],0,0,1);break}}De.premultiply(Le)}return De}function ue(et,De){function Le(P){at.set(P.x,P.y,1).applyMatrix3(De),P.set(at.x,at.y)}for(var Ye=K(De),Re=et.subPaths,re=0,oe=Re.length;re<oe;re++)for(var we=Re[re],ge=we.curves,be=0;be<ge.length;be++){var Ce=ge[be];Ce.isLineCurve?(Le(Ce.v1),Le(Ce.v2)):Ce.isCubicBezierCurve?(Le(Ce.v0),Le(Ce.v1),Le(Ce.v2),Le(Ce.v3)):Ce.isQuadraticBezierCurve?(Le(Ce.v0),Le(Ce.v1),Le(Ce.v2)):Ce.isEllipseCurve&&(Ye&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),Qe.set(Ce.aX,Ce.aY),Le(Qe),Ce.aX=Qe.x,Ce.aY=Qe.y,Ce.xRadius*=ce(De),Ce.yRadius*=ve(De))}}function K(et){return et.elements[1]!==0||et.elements[3]!==0}function ce(et){var De=et.elements;return Math.sqrt(De[0]*De[0]+De[1]*De[1])}function ve(et){var De=et.elements;return Math.sqrt(De[3]*De[3]+De[4]*De[4])}var Ve=[],Me={},Ee=[],Ne=new rs,Oe=new rs,tt=new rs,Ze=new rs,Qe=new St,at=new Ue,mt=new rs,Ht=new DOMParser().parseFromString(t,"image/svg+xml");i(Ht.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});var Wt={paths:Ve,xml:Ht.documentElement};return Wt}});Fd.getStrokeStyle=function(t,n,i,s,l){return t=t!==void 0?t:1,n=n!==void 0?n:"#000",i=i!==void 0?i:"miter",s=s!==void 0?s:"butt",l=l!==void 0?l:4,{strokeColor:n,strokeWidth:t,strokeLineJoin:i,strokeLineCap:s,strokeMiterLimit:l}};Fd.pointsToStroke=function(t,n,i,s){var l=[],e=[],p=[];if(Fd.pointsToStrokeWithBuffers(t,n,i,s,l,e,p)===0)return null;var v=new Mi;return v.setAttribute("position",new gi(l,3)),v.setAttribute("normal",new gi(e,3)),v.setAttribute("uv",new gi(p,2)),v};Fd.pointsToStrokeWithBuffers=function(){var t=new St,n=new St,i=new St,s=new St,l=new St,e=new St,p=new St,v=new St,w=new St,E=new St,T=new St,C=new St,R=new St,B=new St,A=new St,H=new St,G=new St;return function(O,U,$,ie,ue,K,ce,ve){$=$!==void 0?$:12,ie=ie!==void 0?ie:.001,ve=ve!==void 0?ve:0,O=At(O);var Ve=O.length;if(Ve<2)return 0;var Me=O[0].equals(O[Ve-1]),Ee,Ne=O[0],Oe,tt=U.strokeWidth/2,Ze=1/(Ve-1),Qe=0,at,mt,Ht,Wt=!1,et=0,De=ve*3,Le=ve*2;Se(O[0],O[1],t).multiplyScalar(tt),v.copy(O[0]).sub(t),w.copy(O[0]).add(t),E.copy(v),T.copy(w);for(var Ye=1;Ye<Ve;Ye++){Ee=O[Ye],Ye===Ve-1?Me?Oe=O[1]:Oe=void 0:Oe=O[Ye+1];var Re=t;Se(Ne,Ee,Re),i.copy(Re).multiplyScalar(tt),C.copy(Ee).sub(i),R.copy(Ee).add(i);var re=Qe+Ze;if(at=!1,Oe!==void 0){Se(Ee,Oe,n),i.copy(n).multiplyScalar(tt),B.copy(Ee).sub(i),A.copy(Ee).add(i),mt=!0,i.subVectors(Oe,Ne),Re.dot(i)<0&&(mt=!1),Ye===1&&(Wt=mt),i.subVectors(Oe,Ee),i.normalize();var oe=Math.abs(Re.dot(i));if(oe!==0){var we=tt/oe;i.multiplyScalar(-we),s.subVectors(Ee,Ne),l.copy(s).setLength(we).add(i),H.copy(l).negate();var ge=l.length(),be=s.length();s.divideScalar(be),e.subVectors(Oe,Ee);var Ce=e.length();e.divideScalar(Ce),s.dot(H)<be&&e.dot(H)<Ce&&(at=!0),G.copy(l).add(Ee),H.add(Ee),Ht=!1,at?mt?(A.copy(H),R.copy(H)):(B.copy(H),C.copy(H)):me();switch(U.strokeLineJoin){case"bevel":xt(mt,at,re);break;case"round":pt(mt,at),mt?he(Ee,C,B,re,0):he(Ee,A,R,re,1);break;case"miter":case"miter-clip":default:var P=tt*U.strokeMiterLimit/ge;if(P<1)if(U.strokeLineJoin!=="miter-clip"){xt(mt,at,re);break}else pt(mt,at),mt?(e.subVectors(G,C).multiplyScalar(P).add(C),p.subVectors(G,B).multiplyScalar(P).add(B),se(C,re,0),se(e,re,0),se(Ee,re,.5),se(Ee,re,.5),se(e,re,0),se(p,re,0),se(Ee,re,.5),se(p,re,0),se(B,re,0)):(e.subVectors(G,R).multiplyScalar(P).add(R),p.subVectors(G,A).multiplyScalar(P).add(A),se(R,re,1),se(e,re,1),se(Ee,re,.5),se(Ee,re,.5),se(e,re,1),se(p,re,1),se(Ee,re,.5),se(p,re,1),se(A,re,1));else at?(mt?(se(w,Qe,1),se(v,Qe,0),se(G,re,0),se(w,Qe,1),se(G,re,0),se(H,re,1)):(se(w,Qe,1),se(v,Qe,0),se(G,re,1),se(v,Qe,0),se(H,re,0),se(G,re,1)),mt?B.copy(G):A.copy(G)):mt?(se(C,re,0),se(G,re,0),se(Ee,re,.5),se(Ee,re,.5),se(G,re,0),se(B,re,0)):(se(R,re,1),se(G,re,1),se(Ee,re,.5),se(Ee,re,.5),se(G,re,1),se(A,re,1)),Ht=!0;break}}else me()}else me();!Me&&Ye===Ve-1&&ze(O[0],E,T,mt,!0,Qe),Qe=re,Ne=Ee,v.copy(B),w.copy(A)}if(!Me)ze(Ee,C,R,mt,!1,re);else if(at&&ue){var _e=G,ke=H;Wt!==mt&&(_e=H,ke=G),mt?(Ht||Wt)&&(ke.toArray(ue,0*3),ke.toArray(ue,3*3),Ht&&_e.toArray(ue,1*3)):(Ht||!Wt)&&(ke.toArray(ue,1*3),ke.toArray(ue,3*3),Ht&&_e.toArray(ue,0*3))}return et;function Se(gt,Ft,Et){return Et.subVectors(Ft,gt),Et.set(-Et.y,Et.x).normalize()}function se(gt,Ft,Et){ue&&(ue[De]=gt.x,ue[De+1]=gt.y,ue[De+2]=0,K&&(K[De]=0,K[De+1]=0,K[De+2]=1),De+=3,ce&&(ce[Le]=Ft,ce[Le+1]=Et,Le+=2)),et+=3}function he(gt,Ft,Et,Pt,qt){t.copy(Ft).sub(gt).normalize(),n.copy(Et).sub(gt).normalize();var Xe=Math.PI,Ct=t.dot(n);Math.abs(Ct)<1&&(Xe=Math.abs(Math.acos(Ct))),Xe/=$,i.copy(Ft);for(var zt=0,sn=$-1;zt<sn;zt++)s.copy(i).rotateAround(gt,Xe),se(i,Pt,qt),se(s,Pt,qt),se(gt,Pt,.5),i.copy(s);se(s,Pt,qt),se(Et,Pt,qt),se(gt,Pt,.5)}function me(){se(w,Qe,1),se(v,Qe,0),se(C,re,0),se(w,Qe,1),se(C,re,1),se(R,re,0)}function xt(gt,Ft,Et){Ft?gt?(se(w,Qe,1),se(v,Qe,0),se(C,re,0),se(w,Qe,1),se(C,re,0),se(H,re,1),se(C,Et,0),se(B,Et,0),se(H,Et,.5)):(se(w,Qe,1),se(v,Qe,0),se(R,re,1),se(v,Qe,0),se(H,re,0),se(R,re,1),se(R,Et,1),se(A,Et,0),se(H,Et,.5)):gt?(se(C,Et,0),se(B,Et,0),se(Ee,Et,.5)):(se(R,Et,1),se(A,Et,0),se(Ee,Et,.5))}function pt(gt,Ft){Ft&&(gt?(se(w,Qe,1),se(v,Qe,0),se(C,re,0),se(w,Qe,1),se(C,re,0),se(H,re,1),se(C,Qe,0),se(Ee,re,.5),se(H,re,1),se(Ee,re,.5),se(B,Qe,0),se(H,re,1)):(se(w,Qe,1),se(v,Qe,0),se(R,re,1),se(v,Qe,0),se(H,re,0),se(R,re,1),se(R,Qe,1),se(H,re,0),se(Ee,re,.5),se(Ee,re,.5),se(H,re,0),se(A,Qe,1)))}function ze(gt,Ft,Et,Pt,qt,Xe){switch(U.strokeLineCap){case"round":qt?he(gt,Et,Ft,Xe,.5):he(gt,Ft,Et,Xe,.5);break;case"square":if(qt)t.subVectors(Ft,gt),n.set(t.y,-t.x),i.addVectors(t,n).add(gt),s.subVectors(n,t).add(gt),Pt?(i.toArray(ue,1*3),s.toArray(ue,0*3),s.toArray(ue,3*3)):(i.toArray(ue,1*3),i.toArray(ue,3*3),s.toArray(ue,0*3));else{t.subVectors(Et,gt),n.set(t.y,-t.x),i.addVectors(t,n).add(gt),s.subVectors(n,t).add(gt);var Ct=ue.length;Pt?(i.toArray(ue,Ct-1*3),s.toArray(ue,Ct-2*3),s.toArray(ue,Ct-4*3)):(i.toArray(ue,Ct-2*3),s.toArray(ue,Ct-1*3),s.toArray(ue,Ct-4*3))}break;case"butt":default:break}}function At(gt){for(var Ft=!1,Et=1,Pt=gt.length-1;Et<Pt;Et++)if(gt[Et].distanceTo(gt[Et+1])<ie){Ft=!0;break}if(!Ft)return gt;var qt=[];qt.push(gt[0]);for(var Et=1,Pt=gt.length-1;Et<Pt;Et++)gt[Et].distanceTo(gt[Et+1])>=ie&&qt.push(gt[Et]);return qt.push(gt[gt.length-1]),qt}}}();function xre(t,n){for(var i=-1,s=n.length,l=t.length;++i<s;)t[l+i]=n[i];return t}var sk=xre,Ere=typeof global=="object"&&global&&global.Object===Object&&global,ak=Ere,wre=typeof self=="object"&&self&&self.Object===Object&&self,Are=ak||wre||Function("return this")(),lk=Are,_re=lk.Symbol,Bd=_re,uk=Object.prototype,Mre=uk.hasOwnProperty,Sre=uk.toString,fA=Bd?Bd.toStringTag:void 0;function Tre(t){var n=Mre.call(t,fA),i=t[fA];try{t[fA]=void 0;var s=!0}catch(e){}var l=Sre.call(t);return s&&(n?t[fA]=i:delete t[fA]),l}var ck=Tre,bre=Object.prototype,Cre=bre.toString;function Lre(t){return Cre.call(t)}var fk=Lre,Pre="[object Null]",Rre="[object Undefined]",hk=Bd?Bd.toStringTag:void 0;function Dre(t){return t==null?t===void 0?Rre:Pre:hk&&hk in Object(t)?ck(t):fk(t)}var dk=Dre;function Fre(t){return t!=null&&typeof t=="object"}var vT=Fre,Bre="[object Arguments]";function Nre(t){return vT(t)&&dk(t)==Bre}var zD=Nre,pk=Object.prototype,Ire=pk.hasOwnProperty,Ore=pk.propertyIsEnumerable,Ure=zD(function(){return arguments}())?zD:function(t){return vT(t)&&Ire.call(t,"callee")&&!Ore.call(t,"callee")},mk=Ure,kre=Array.isArray,vk=kre,gk=Bd?Bd.isConcatSpreadable:void 0;function Gre(t){return vk(t)||mk(t)||!!(gk&&t&&t[gk])}var yk=Gre;function xk(t,n,i,s,l){var e=-1,p=t.length;for(i||(i=yk),l||(l=[]);++e<p;){var v=t[e];n>0&&i(v)?n>1?xk(v,n-1,i,s,l):sk(l,v):s||(l[l.length]=v)}return l}var Ek=xk;function Xre(t){var n=t==null?0:t.length;return n?Ek(t,1):[]}var YD=Xre,Hre=ur(Ra()),go=ur(ho()),Zf=class{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(n){this.children.length===0&&this.attach(),this.children.push(n)}removeChild(n){let i=this.children.indexOf(n);this.children.splice(i,1),this.children.length===0&&this.detach()}},gT=class extends Zf{constructor(){super(...arguments);this.payload=[],this.attach=()=>this.payload.forEach(n=>n instanceof Zf&&n.addChild(this)),this.detach=()=>this.payload.forEach(n=>n instanceof Zf&&n.removeChild(this))}},wk=class extends Zf{constructor(){super(...arguments);this.payload={},this.attach=()=>Object.values(this.payload).forEach(n=>n instanceof Zf&&n.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(n=>n instanceof Zf&&n.removeChild(this))}getValue(n){n===void 0&&(n=!1);let i={};for(let s in this.payload){let l=this.payload[s];if(n&&!(l instanceof Zf))continue;i[s]=l instanceof Zf?l[n?"getAnimatedValue":"getValue"]():l}return i}getAnimatedValue(){return this.getValue(!0)}},Ak;function zre(t,n){Ak={fn:t,transform:n}}var _k;function Yre(t){_k=t}var VD=t=>typeof window!="undefined"?window.requestAnimationFrame(t):-1,yT;function Vre(t){yT=t}var Mk=()=>Date.now(),Wre;function jre(t){Wre=t}var Qre=t=>t.current,qre,hA;function Jre(t){hA=t}function xT(t,n,i){if(typeof t=="function")return t;if(Array.isArray(t))return xT({range:t,output:n,extrapolate:i});if(yT&&typeof t.output[0]=="string")return yT(t);let s=t,l=s.output,e=s.range||[0,1],p=s.extrapolateLeft||s.extrapolate||"extend",v=s.extrapolateRight||s.extrapolate||"extend",w=s.easing||(E=>E);return E=>{let T=Kre(E,e);return Zre(E,e[T],e[T+1],l[T],l[T+1],w,p,v,s.map)}}function Zre(t,n,i,s,l,e,p,v,w){let E=w?w(t):t;if(E<n){if(p==="identity")return E;p==="clamp"&&(E=n)}if(E>i){if(v==="identity")return E;v==="clamp"&&(E=i)}return s===l?s:n===i?t<=n?s:l:(n===-Infinity?E=-E:i===Infinity?E=E-n:E=(E-n)/(i-n),E=e(E),s===-Infinity?E=-E:l===Infinity?E=E+s:E=E*(l-s)+s,E)}function Kre(t,n){for(var i=1;i<n.length-1&&!(n[i]>=t);++i);return i-1}var yx=class extends gT{constructor(n,i,s,l){super();this.calc=void 0,this.payload=n instanceof gT&&!(n instanceof yx)?n.getPayload():Array.isArray(n)?n:[n],this.calc=xT(i,s,l)}getValue(){return this.calc(...this.payload.map(n=>n.getValue()))}updateConfig(n,i,s){this.calc=xT(n,i,s)}interpolate(n,i,s){return new yx(this,n,i,s)}},ri={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,n){if(typeof t!==typeof n)return!1;if(ri.str(t)||ri.num(t))return t===n;if(ri.obj(t)&&ri.obj(n)&&Object.keys(t).length+Object.keys(n).length===0)return!0;let i;for(i in t)if(!(i in n))return!1;for(i in n)if(t[i]!==n[i])return!1;return ri.und(i)?t===n:!0}};function $re(t,n){return n===void 0&&(n=!0),i=>(ri.arr(i)?i:Object.keys(i)).reduce((s,l)=>{let e=n?l[0].toLowerCase()+l.substring(1):l;return s[e]=t(e),s},t)}function eie(){let t=go.useState(!1),n=t[1],i=go.useCallback(()=>n(s=>!s),[]);return i}function kv(t,n){return ri.und(t)||ri.nul(t)?n:t}function ET(t){return ri.und(t)?[]:ri.arr(t)?t:[t]}function xx(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return ri.fun(t)?t(...i):t}function tie(t){let n=t.to,i=t.from,s=t.config,l=t.onStart,e=t.onRest,p=t.onFrame,v=t.children,w=t.reset,E=t.reverse,T=t.force,C=t.immediate,R=t.delay,B=t.attach,A=t.destroyed,H=t.interpolateTo,G=t.ref,O=t.lazy,U=ml(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"]);return U}function WD(t){let n=tie(t);if(ri.und(n))return Jr({to:n},t);let i=Object.keys(t).reduce((s,l)=>ri.und(n[l])?Jr({},s,{[l]:t[l]}):s,{});return Jr({to:n},i)}function nie(t,n){return n&&(ri.fun(n)?n(t):ri.obj(n)&&(n.current=t)),t}var Sk=class extends wk{constructor(n,i){super();this.update=void 0,this.payload=n.style?Jr({},n,{style:qre(n.style)}):n,this.update=i,this.attach()}},rie=t=>ri.fun(t)&&!(t.prototype instanceof go.default.Component),Tk=t=>{let n=go.forwardRef((i,s)=>{let l=eie(),e=go.useRef(!0),p=go.useRef(null),v=go.useRef(null),w=go.useCallback(A=>{let H=p.current,G=()=>{let O=!1;v.current&&(O=Ak.fn(v.current,p.current.getAnimatedValue())),(!v.current||O===!1)&&l()};p.current=new Sk(A,G),H&&H.detach()},[]);go.useEffect(()=>()=>{e.current=!1,p.current&&p.current.detach()},[]),go.useImperativeHandle(s,()=>Qre(v,e,l)),w(i);let E=p.current.getValue(),T=E.scrollTop,C=E.scrollLeft,R=ml(E,["scrollTop","scrollLeft"]),B=rie(t)?void 0:A=>v.current=nie(A,s);return go.default.createElement(t,Jr({},R,{ref:B}))});return n},wT={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Kf="[-+]?\\d*\\.?\\d+",AT=Kf+"%";function _T(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var iie=new RegExp("rgb"+_T(Kf,Kf,Kf)),oie=new RegExp("rgba"+_T(Kf,Kf,Kf,Kf)),sie=new RegExp("hsl"+_T(Kf,AT,AT)),aie=new RegExp("hsla"+_T(Kf,AT,AT,Kf)),lie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cie=/^#([0-9a-fA-F]{6})$/,fie=/^#([0-9a-fA-F]{8})$/;function hie(t){let n;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=cie.exec(t))?parseInt(n[1]+"ff",16)>>>0:wT.hasOwnProperty(t)?wT[t]:(n=iie.exec(t))?(Ex(n[1])<<24|Ex(n[2])<<16|Ex(n[3])<<8|255)>>>0:(n=oie.exec(t))?(Ex(n[1])<<24|Ex(n[2])<<16|Ex(n[3])<<8|Lk(n[4]))>>>0:(n=lie.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=fie.exec(t))?parseInt(n[1],16)>>>0:(n=uie.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=sie.exec(t))?(bk(Ck(n[1]),MT(n[2]),MT(n[3]))|255)>>>0:(n=aie.exec(t))?(bk(Ck(n[1]),MT(n[2]),MT(n[3]))|Lk(n[4]))>>>0:null}function jD(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(n-t)*6*i:i<1/2?n:i<2/3?t+(n-t)*(2/3-i)*6:t}function bk(t,n,i){let s=i<.5?i*(1+n):i+n-i*n,l=2*i-s,e=jD(l,s,t+1/3),p=jD(l,s,t),v=jD(l,s,t-1/3);return Math.round(e*255)<<24|Math.round(p*255)<<16|Math.round(v*255)<<8}function Ex(t){let n=parseInt(t,10);return n<0?0:n>255?255:n}function Ck(t){let n=parseFloat(t);return(n%360+360)%360/360}function Lk(t){let n=parseFloat(t);return n<0?0:n>1?255:Math.round(n*255)}function MT(t){let n=parseFloat(t);return n<0?0:n>100?1:n/100}function Pk(t){let n=hie(t);if(n===null)return t;n=n||0;let i=(n&4278190080)>>>24,s=(n&16711680)>>>16,l=(n&65280)>>>8,e=(n&255)/255;return`rgba(${i}, ${s}, ${l}, ${e})`}var ST=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,die=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,pie=new RegExp(`(${Object.keys(wT).join("|")})`,"g"),mie=t=>{let n=t.output.map(l=>l.replace(die,Pk)).map(l=>l.replace(pie,Pk)),i=n[0].match(ST).map(()=>[]);n.forEach(l=>{l.match(ST).forEach((e,p)=>i[p].push(+e))});let s=n[0].match(ST).map((l,e)=>xT(Jr({},t,{output:i[e]})));return l=>{let e=0;return n[0].replace(ST,()=>s[e++](l)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(p,v,w,E,T)=>`rgba(${Math.round(v)}, ${Math.round(w)}, ${Math.round(E)}, ${T})`)}};function Rk(t,n){"update"in t?n.add(t):t.getChildren().forEach(i=>Rk(i,n))}var TT=class extends Zf{constructor(n){var i;super();i=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(s,l){l===void 0&&(l=!0),i.value=s,l&&i.flush()},this.value=n,this.startPosition=n,this.lastPosition=n}flush(){this.animatedStyles.size===0&&Rk(this,this.animatedStyles),this.animatedStyles.forEach(n=>n.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(n,i,s){return new yx(this,n,i,s)}},Dk=class extends gT{constructor(n){super();this.payload=n.map(i=>new TT(i))}setValue(n,i){i===void 0&&(i=!0),Array.isArray(n)?n.length===this.payload.length&&n.forEach((s,l)=>this.payload[l].setValue(s,i)):this.payload.forEach(s=>s.setValue(n,i))}getValue(){return this.payload.map(n=>n.getValue())}interpolate(n,i){return new yx(this,n,i)}},dA=!1,Gv=new Set,QD=()=>{if(!dA)return!1;let t=Mk();for(let n of Gv){let i=!1;for(let s=0;s<n.configs.length;s++){let l=n.configs[s],e,p;for(let v=0;v<l.animatedValues.length;v++){let w=l.animatedValues[v];if(w.done)continue;let E=l.fromValues[v],T=l.toValues[v],C=w.lastPosition,R=T instanceof Zf,B=Array.isArray(l.initialVelocity)?l.initialVelocity[v]:l.initialVelocity;if(R&&(T=T.getValue()),l.immediate){w.setValue(T),w.done=!0;continue}if(typeof E=="string"||typeof T=="string"){w.setValue(T),w.done=!0;continue}if(l.duration!==void 0)C=E+l.easing((t-w.startTime)/l.duration)*(T-E),e=t>=w.startTime+l.duration;else if(l.decay)C=E+B/(1-.998)*(1-Math.exp(-(1-.998)*(t-w.startTime))),e=Math.abs(w.lastPosition-C)<.1,e&&(T=C);else{p=w.lastTime!==void 0?w.lastTime:t,B=w.lastVelocity!==void 0?w.lastVelocity:l.initialVelocity,t>p+64&&(p=t);let A=Math.floor(t-p);for(let U=0;U<A;++U){let $=-l.tension*(C-T),ie=-l.friction*B,ue=($+ie)/l.mass;B=B+ue*1/1e3,C=C+B*1/1e3}let H=l.clamp&&l.tension!==0?E<T?C>T:C<T:!1,G=Math.abs(B)<=l.precision,O=l.tension!==0?Math.abs(T-C)<=l.precision:!0;e=H||G&&O,w.lastVelocity=B,w.lastTime=t}R&&!l.toValues[v].done&&(e=!1),e?(w.value!==T&&(C=T),w.done=!0):i=!0,w.setValue(C),w.lastPosition=C}n.props.onFrame&&(n.values[l.name]=l.interpolation.getValue())}n.props.onFrame&&n.props.onFrame(n.values),i||(Gv.delete(n),n.stop(!0))}return Gv.size?hA?hA():VD(QD):dA=!1,dA},vie=t=>{Gv.has(t)||Gv.add(t),dA||(dA=!0,VD(hA||QD))},gie=t=>{Gv.has(t)&&Gv.delete(t)},yie=0,Fk=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=yie++}update(n){if(!n)return this;let i=WD(n),s=i.delay,l=s===void 0?0:s,e=i.to,p=ml(i,["delay","to"]);if(ri.arr(e)||ri.fun(e))this.queue.push(Jr({},p,{delay:l,to:e}));else if(e){let v={};Object.entries(e).forEach(w=>{let E=w[0],T=w[1],C=Jr({to:{[E]:T},delay:xx(l,E)},p),R=v[C.delay]&&v[C.delay].to;v[C.delay]=Jr({},v[C.delay],C,{to:Jr({},R,C.to)})}),this.queue=Object.values(v)}return this.queue=this.queue.sort((v,w)=>v.delay-w.delay),this.diff(p),this}start(n){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(l=>{let e=l.from,p=e===void 0?{}:e,v=l.to,w=v===void 0?{}:v;ri.obj(p)&&(this.merged=Jr({},p,this.merged)),ri.obj(w)&&(this.merged=Jr({},this.merged,w))});let i=this.local=++this.guid,s=this.localQueue=this.queue;this.queue=[],s.forEach((l,e)=>{let p=l.delay,v=ml(l,["delay"]),w=T=>{e===s.length-1&&i===this.guid&&T&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),n&&n()},E=ri.arr(v.to)||ri.fun(v.to);p?setTimeout(()=>{i===this.guid&&(E?this.runAsync(v,w):this.diff(v).start(w))},p):E?this.runAsync(v,w):this.diff(v).start(w)})}else ri.fun(n)&&this.listeners.push(n),this.props.onStart&&this.props.onStart(),vie(this);return this}stop(n){return this.listeners.forEach(i=>i(n)),this.listeners=[],this}pause(n){return this.stop(!0),n&&gie(this),this}runAsync(n,i){var s=this;let l=n.delay,e=ml(n,["delay"]),p=this.local,v=Promise.resolve(void 0);if(ri.arr(e.to))for(let w=0;w<e.to.length;w++){let E=w,T=Jr({},e,WD(e.to[E]));ri.arr(T.config)&&(T.config=T.config[E]),v=v.then(()=>{if(p===this.guid)return new Promise(C=>this.diff(T).start(C))})}else if(ri.fun(e.to)){let w=0,E;v=v.then(()=>e.to(T=>{let C=Jr({},e,WD(T));return ri.arr(C.config)&&(C.config=C.config[w]),w++,p===this.guid?E=new Promise(R=>this.diff(C).start(R)):void 0},function(T){return T===void 0&&(T=!0),s.stop(T)}).then(()=>E))}v.then(i)}diff(n){this.props=Jr({},this.props,n);let i=this.props,s=i.from,l=s===void 0?{}:s,e=i.to,p=e===void 0?{}:e,v=i.config,w=v===void 0?{}:v,E=i.reverse,T=i.attach,C=i.reset,R=i.immediate;if(E){var B=[p,l];l=B[0],p=B[1]}this.merged=Jr({},l,this.merged,p),this.hasChanged=!1;let A=T&&T(this);if(this.animations=Object.entries(this.merged).reduce((H,G)=>{let O=G[0],U=G[1],$=H[O]||{},ie=ri.num(U),ue=ri.str(U)&&!U.startsWith("#")&&!/\d/.test(U)&&!_k[U],K=ri.arr(U),ce=!ie&&!K&&!ue,ve=ri.und(l[O])?U:l[O],Ve=ie||K||ue?U:1,Me=xx(w,O);A&&(Ve=A.animations[O].parent);let Ee=$.parent,Ne=$.interpolation,Oe=ET(A?Ve.getPayload():Ve),tt,Ze=U;ce&&(Ze=yT({range:[0,1],output:[U,U]})(1));let Qe=Ne&&Ne.getValue(),at=ri.und(Ee),mt=!at&&$.animatedValues.some(De=>!De.done),Ht=!ri.equ(Ze,Qe),Wt=!ri.equ(Ze,$.previous),et=!ri.equ(Me,$.config);if(C||Wt&&Ht||et){if(ie||ue)Ee=Ne=$.parent||new TT(ve);else if(K)Ee=Ne=$.parent||new Dk(ve);else if(ce){let De=$.interpolation&&$.interpolation.calc($.parent.value);De=De!==void 0&&!C?De:ve,$.parent?(Ee=$.parent,Ee.setValue(0,!1)):Ee=new TT(0);let Le={output:[De,U]};$.interpolation?(Ne=$.interpolation,$.interpolation.updateConfig(Le)):Ne=Ee.interpolate(Le)}return Oe=ET(A?Ve.getPayload():Ve),tt=ET(Ee.getPayload()),C&&!ce&&Ee.setValue(ve,!1),this.hasChanged=!0,tt.forEach(De=>{De.startPosition=De.value,De.lastPosition=De.value,De.lastVelocity=mt?De.lastVelocity:void 0,De.lastTime=mt?De.lastTime:void 0,De.startTime=Mk(),De.done=!1,De.animatedStyles.clear()}),xx(R,O)&&Ee.setValue(ce?Ve:U,!1),Jr({},H,{[O]:Jr({},$,{name:O,parent:Ee,interpolation:Ne,animatedValues:tt,toValues:Oe,previous:Ze,config:Me,fromValues:ET(Ee.getValue()),immediate:xx(R,O),initialVelocity:kv(Me.velocity,0),clamp:kv(Me.clamp,!1),precision:kv(Me.precision,.01),tension:kv(Me.tension,170),friction:kv(Me.friction,26),mass:kv(Me.mass,1),duration:Me.duration,easing:kv(Me.easing,De=>De),decay:Me.decay})})}else return Ht?H:(ce&&(Ee.setValue(1,!1),Ne.updateConfig({output:[Ze,Ze]})),Ee.done=!0,this.hasChanged=!0,Jr({},H,{[O]:Jr({},H[O],{previous:Ze})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let H in this.animations)this.interpolations[H]=this.animations[H].interpolation,this.values[H]=this.animations[H].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}},xie=(t,n)=>{let i=go.useRef(!1),s=go.useRef(),l=ri.fun(n),e=go.useMemo(()=>{s.current&&(s.current.map(R=>R.destroy()),s.current=void 0);let C;return[new Array(t).fill().map((R,B)=>{let A=new Fk,H=l?xx(n,B,A):n[B];return B===0&&(C=H.ref),A.update(H),C||A.start(),A}),C]},[t]),p=e[0],v=e[1];s.current=p;let w=go.useImperativeHandle(v,()=>({start:()=>Promise.all(s.current.map(C=>new Promise(R=>C.start(R)))),stop:C=>s.current.forEach(R=>R.stop(C)),get controllers(){return s.current}})),E=go.useMemo(()=>C=>s.current.map((R,B)=>{R.update(l?xx(C,B,R):C[B]),v||R.start()}),[t]);go.useEffect(()=>{i.current?l||E(n):v||s.current.forEach(C=>C.start())}),go.useEffect(()=>(i.current=!0,()=>s.current.forEach(C=>C.destroy())),[]);let T=s.current.map(C=>C.getValues());return l?[T,E,C=>s.current.forEach(R=>R.pause(C))]:T},Bk=t=>{let n=ri.fun(t),i=xie(1,n?t:[t]),s=i[0],l=i[1],e=i[2];return n?[s[0],l,e]:s},Eie=$re(Tk),wx=Eie(Hre);wx.primitive=Tk("primitive");Ew&&(Ew(QD),Jre(()=>vy()));jre("group");Vre(mie);Yre(wT);zre(yy,t=>t);function wie({shape:t,color:n,opacity:i,position:s,rotation:l}){return ao.default.createElement(wx.mesh,{position:s,rotation:l},ao.default.createElement("meshBasicMaterial",{attach:"material",transparent:!0,opacity:i,depthWrite:!1,color:n,side:qD.DoubleSide}),ao.default.createElement("shapeBufferGeometry",{attach:"geometry",args:[t]}))}function Aie({stroke:t,color:n,opacity:i,animate:s}){let l=[0,0,0],[e,p]=ao.useState(()=>Math.random()>.5),v=ao.useMemo(()=>Math.random()>.5,[]),w=ao.useMemo(()=>Math.random()>.5,[]),E=v?e?[w?10:0,w?0:10,0]:[w?-10:0,w?0:-10,0]:[0,0,0];return v&&s&&({position:E}=Bk({from:{position:E},to:{position:E},delay:Math.floor(Math.random()*5e3)}),ao.useEffect(()=>{let T=setInterval(()=>{requestAnimationFrame(()=>{p(C=>!C)})},5e3);return()=>clearInterval(T)},[])),ao.default.createElement(wx.mesh,{geometry:t,position:E,rotation:l},ao.default.createElement("meshBasicMaterial",{attach:"material",transparent:!0,opacity:i,depthWrite:!1,color:n,side:qD.DoubleSide}))}function Xv({shapes:t,strokes:n,opacity:i,animate:s,...l}){return ao.default.createElement("group",{...l},t&&t.map((e,p)=>ao.default.createElement(wie,{animate:!0,opacity:i,key:e.shape.uuid,...e})),n&&n.map((e,p)=>ao.default.createElement(Aie,{animate:!0,opacity:i,key:e.stroke.uuid,...e})))}function JD(t){return t*Math.PI/180}function bT(t){let n=new Fd().parse(t),i=YD(n.paths.map((l,e)=>l.toShapes(!0).map(p=>({shape:p,color:l.userData.style.fill,index:e})))),s=YD(n.paths.map((l,e)=>{let p=l.userData.style.stroke;if(p!==void 0&&p!=="none")return l.subPaths.map(v=>({stroke:Fd.pointsToStroke(v.getPoints(),{...l.userData.style,strokeWidth:1}),color:p}))})).filter(l=>l&&l.stroke);return{shapes:i,strokes:s}}function ZD({width:t,height:n,color:i="#fff",opacity:s=1,ghost:l,children:e,...p}){let{shapes:v,strokes:w}=ao.useMemo(()=>bT(`
      <svg>
        <path d="M16 6H86V8H16V6Z" fill="${i}"/>
        <path d="M14 8L12 6L6 12L8 14L14 8Z" fill="${i}"/>
        <path d="M6 86V16H8V86H6Z" fill="${i}"/>
        <path d="M0 64H2V88L8 94V130H6V95L0 89V64Z" fill="${i}"/>
        <path d="M64 0V2H88L94 8H130V6H95L89 0H64Z" fill="${i}"/>
      </svg>
    `),[i]),{genShapes:E,genStrokes:T}=ao.useMemo(()=>{let R=bT(`
      <svg>
        <path stroke="${i}" d="${vx(t,n,0,0)}" />
      </svg>
    `);return{genShapes:R.shapes,genStrokes:R.strokes}},[t,n,i]),C=(R=0,B)=>ao.default.createElement(ao.default.Fragment,null,ao.default.createElement(Xv,{animate:!0,strokes:T,opacity:s-B}),ao.default.createElement(Xv,{opacity:s-B,shapes:v,strokes:w,scale:[.5,.5,.5],position:[0,0,R],rotation:[0,0,0]}),ao.default.createElement(Xv,{opacity:s-B,shapes:v,strokes:w,scale:[.5,.5,.5],position:[t,0,R],rotation:[0,0,JD(90)]}),ao.default.createElement(Xv,{opacity:s-B,shapes:v,strokes:w,scale:[.5,.5,.5],position:[t,n,R],rotation:[0,0,JD(180)]}),ao.default.createElement(Xv,{opacity:s-B,shapes:v,strokes:w,scale:[.5,.5,.5],position:[0,n,R],rotation:[0,0,JD(270)]}));return ao.default.createElement("group",{...p},ao.default.createElement("group",{position:[0,-n]},C(0,0),C(-15,.9)),e)}function KD({width:t,height:n,color:i,opacity:s}){let{shapes:l,strokes:e}=CT.useMemo(()=>bT(`
      <svg>
        <path stroke="${i}" d="${gx({width:t,height:n,spacing:100,sizeInterval:4})}" />
      </svg>
    `),[t,n,i]);return CT.default.createElement(Xv,{animate:!0,position:[50,50,0],strokes:e,opacity:s})}var Xle=ur(Ra()),Hv=ur(ho()),Nk="geo.min.QQHY6THH.glb";function $D(t){let n=Hv.useRef(),{nodes:i}=bD(`${window.PUBLIC_PATH}${Nk}`,!0);return Xf(({clock:s})=>{let l=(.5+Math.sin(s.getElapsedTime()*1.5))/2;n.current.position.y=l/3,n.current.rotation.x=n.current.rotation.z+=.005}),Hv.default.createElement("group",{...t,dispose:null},Hv.default.createElement("group",{ref:n},Hv.default.createElement("mesh",{geometry:i.geo.geometry},Hv.default.createElement("meshBasicMaterial",{wireframe:!0}))))}var Nd=ur(ho()),LT=ur(Ra()),Ik=class extends LT.BoxBufferGeometry{computeBoundingBox(){this.boundingBox||(this.boundingBox=new LT.Box3),this.boundingBox.makeEmpty()}};hm({BoundlessBoxBufferGeometry:Ik});var _ie=Nd.default.memo(({width:t,height:n,backgroundColor:i,opacity:s,children:l})=>Nd.default.createElement("group",{position:[0,0,.1]},i&&Nd.default.createElement("mesh",{position:[t/2,-n/2,-.1]},Nd.default.createElement("boundlessBoxBufferGeometry",{args:[t,n,.1],attach:"geometry"}),Nd.default.createElement("meshBasicMaterial",{attach:"material",color:i,transparent:s<1,opacity:s})),l)),Mie=Nd.default.memo(({backgroundColor:t,opacity:n,children:i,...s})=>Nd.default.createElement(wc,{...s},(l,e)=>Nd.default.createElement(_ie,{width:l,height:e,opacity:n,backgroundColor:t},i))),pA=Mie,Ua=ur(ho()),tue=ur(Ra()),Ok="SourceCodePro-Regular.JJOABEAW.ttf",Uk="SourceCodePro-SemiBold.QDMRKBAP.ttf",eF=`${window.PUBLIC_PATH}${Ok}`,kk=`${window.PUBLIC_PATH}${Uk}`;function PT({title:t,value:n,color:i="#fff"}){return Ua.default.createElement(pA,{flexDirection:"column"},Ua.default.createElement(Uv,{font:eF,color:"#ccc",fontSize:8},t),Ua.default.createElement(Uv,{font:kk,color:i,fontSize:12},n))}function RT({...t}){return Ua.default.createElement(wc,{padding:10,width:"100%",height:100,flexDirection:"row",alignItems:"stretch"}," */}",Ua.default.createElement(wc,{width:"auto",height:"auto",flexGrow:1,flexBasis:0,alignItems:"stretch",flexDirection:"column"},Ua.default.createElement(pA,{width:"100%",flexBasis:1,flexGrow:1,flexShrink:0,paddingLeft:8,alignItems:"center",flexDirection:"row",justifyContent:"space-between",backgroundColor:"rgb(254, 201, 3)"},Ua.default.createElement(wc,{flexDirection:"column"},Ua.default.createElement(Uv,{font:kk,color:"#000",fontSize:18},"urql"),Ua.default.createElement(Uv,{font:eF,color:"#000",fontSize:6},"FormidableLabs")),Ua.default.createElement(pA,{marginRight:8,width:"auto",paddingLeft:3,paddingRight:3,paddingTop:1,paddingBottom:1,height:"auto",backgroundColor:"#000"},Ua.default.createElement(Uv,{font:eF,color:"#fff",fontSize:8},"MIT License"))),Ua.default.createElement(pA,{width:"100%",flexBasis:1,flexGrow:1,flexShrink:0,alignItems:"center",flexDirection:"row",justifyContent:"space-around"},Ua.default.createElement(PT,{title:"Forks",value:"223"}),Ua.default.createElement(PT,{title:"Stars",color:"rgb(254, 201, 3)",value:"5326"}),Ua.default.createElement(PT,{title:"Watchers",value:"082"}),Ua.default.createElement(PT,{title:"Issues",value:"017"}))))}var Yv=ur(ho()),vh=ur(Ra()),FT=ur(Gk()),Sie=new vh.Vector2(window.innerWidth,window.innerHeight),Tie=["orangered","steelblue","powderblue","skyblue"];function tF(){let t=Yv.useMemo(()=>{let s=new vh.Object3D;function l(v,w){var E=new FT.MeshLine;E.setGeometry(v);var T=new FT.MeshLineMaterial({useMap:!1,color:new vh.Color(Tie[w]),resolution:Sie,sizeAttenuation:!0,lineWidth:2}),C=new vh.Mesh(E.geometry,T);s.add(C)}for(var e=new Float32Array(600),p=0;p<200*3;p+=3)e[p]=-30+.1*p,e[p+1]=5*Math.sin(.01*p),e[p+2]=-20;l(e,0);for(var e=new Float32Array(600),p=0;p<200*3;p+=3)e[p]=-30+.1*p,e[p+1]=5*Math.cos(.02*p),e[p+2]=-10;l(e,1);for(var e=new Float32Array(600),p=0;p<200*3;p+=3)e[p]=-30+.1*p,e[p+1]=5*Math.sin(.01*p)*Math.cos(.005*p),e[p+2]=0;l(e,2);for(var e=new Float32Array(600),p=0;p<200*3;p+=3)e[p]=-30+.1*p,e[p+1]=.02*p+5*Math.sin(.01*p)*Math.cos(.005*p),e[p+2]=10;l(e,3);for(var e=new Float32Array(600),p=0;p<200*3;p+=3)e[p]=-30+.1*p,e[p+1]=Math.exp(.005*p),e[p+2]=20;return l(e,0),s},[]),n=Yv.useRef(),i=0;return Xf(s=>{let l=5*Math.sin(vh.Math.degToRad(i+=.01));n.current.rotation.y=l}),Yv.default.createElement(wx.group,{ref:n,scale:[1.5,1.5,1.5]},Yv.default.createElement("primitive",{dispose:void 0,object:t}))}var df=ur(ho());hm({OrbitControls:dx});var bie=()=>{let t=df.useRef(),{aspect:n,size:i,viewport:s,setDefaultCamera:l}=Hf(),e=1,p=0,v=500,w=v-p,E=i.height/e,T=Math.atan(E/2/w),C=2*T*(180/Math.PI);return df.useEffect(()=>void l(t.current),[]),df.default.createElement("perspectiveCamera",{ref:t,aspect:n,fov:C,position:[i.width-100,i.height-50,v-350],onUpdate:R=>R.updateProjectionMatrix()})},Cie=()=>{let{camera:t,size:n,gl:{domElement:i}}=Hf(),s=df.useRef();return Xf(l=>s.current.update()),df.default.createElement("orbitControls",{enableDamping:!0,enableKeys:!0,target:[n.width-120,n.height-120,0],ref:s,args:[t,i]})};function nF(){return df.default.createElement(df.default.Fragment,null,df.default.createElement(bie,null),df.default.createElement(Cie,null))}var Tce=ur(Ra()),pf=ur(ho()),Ax={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new St(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","	vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","	vUv = uv;","	SMAAEdgeDetectionVS( vUv );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","	vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","	vec4 delta;","	vec3 C = texture2D( colorTex, texcoord ).rgb;","	vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","	vec3 t = abs( C - Cleft );","	delta.x = max( max( t.r, t.g ), t.b );","	vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","	t = abs( C - Ctop );","	delta.y = max( max( t.r, t.g ), t.b );","	vec2 edges = step( threshold, delta.xy );","	if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","		discard;","	vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","	t = abs( C - Cright );","	delta.z = max( max( t.r, t.g ), t.b );","	vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","	t = abs( C - Cbottom );","	delta.w = max( max( t.r, t.g ), t.b );","	float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","	vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","	t = abs( C - Cleftleft );","	delta.z = max( max( t.r, t.g ), t.b );","	vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","	t = abs( C - Ctoptop );","	delta.w = max( max( t.r, t.g ), t.b );","	maxDelta = max( max( maxDelta, delta.z ), delta.w );","	edges.xy *= step( 0.5 * maxDelta, delta.xy );","	return vec4( edges, 0.0, 0.0 );","}","void main() {","	gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join(`
`)},mA={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new St(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","	vPixcoord = texcoord / resolution;","	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","	vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","	vUv = uv;","	SMAABlendingWeightCalculationVS( vUv );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","#if __VERSION__ == 100","vec2 round( vec2 x ) {","	return sign( x ) * floor( abs( x ) + 0.5 );","}","#endif","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","	e.r = bias + e.r * scale;","	return 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","	vec2 e = vec2( 0.0, 1.0 );","	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","		e = texture2D( edgesTex, texcoord, 0.0 ).rg;","		texcoord -= vec2( 2.0, 0.0 ) * resolution;","		if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","	}","	texcoord.x += 0.25 * resolution.x;","	texcoord.x += resolution.x;","	texcoord.x += 2.0 * resolution.x;","	texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","	return texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","	vec2 e = vec2( 0.0, 1.0 );","	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","		e = texture2D( edgesTex, texcoord, 0.0 ).rg;","		texcoord += vec2( 2.0, 0.0 ) * resolution;","		if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","	}","	texcoord.x -= 0.25 * resolution.x;","	texcoord.x -= resolution.x;","	texcoord.x -= 2.0 * resolution.x;","	texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","	return texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","	vec2 e = vec2( 1.0, 0.0 );","	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","		e = texture2D( edgesTex, texcoord, 0.0 ).rg;","		texcoord += vec2( 0.0, 2.0 ) * resolution;","		if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","	}","	texcoord.y -= 0.25 * resolution.y;","	texcoord.y -= resolution.y;","	texcoord.y -= 2.0 * resolution.y;","	texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","	return texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","	vec2 e = vec2( 1.0, 0.0 );","	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","		e = texture2D( edgesTex, texcoord, 0.0 ).rg;","		texcoord -= vec2( 0.0, 2.0 ) * resolution;","		if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","	}","	texcoord.y += 0.25 * resolution.y;","	texcoord.y += resolution.y;","	texcoord.y += 2.0 * resolution.y;","	texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","	return texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","	vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","	texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","	texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","	return texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","	vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","	vec2 e = texture2D( edgesTex, texcoord ).rg;","	if ( e.g > 0.0 ) {","		vec2 d;","		vec2 coords;","		coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","		coords.y = offset[ 1 ].y;","		d.x = coords.x;","		float e1 = texture2D( edgesTex, coords, 0.0 ).r;","		coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","		d.y = coords.x;","		d = d / resolution.x - pixcoord.x;","		vec2 sqrt_d = sqrt( abs( d ) );","		coords.y -= 1.0 * resolution.y;","		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","		weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","	}","	if ( e.r > 0.0 ) {","		vec2 d;","		vec2 coords;","		coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","		coords.x = offset[ 0 ].x;","		d.x = coords.y;","		float e1 = texture2D( edgesTex, coords, 0.0 ).g;","		coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","		d.y = coords.y;","		d = d / resolution.y - pixcoord.y;","		vec2 sqrt_d = sqrt( abs( d ) );","		coords.y -= 1.0 * resolution.y;","		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","		weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","	}","	return weights;","}","void main() {","	gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join(`
`)},BT={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new St(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","	vUv = uv;","	SMAANeighborhoodBlendingVS( vUv );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","	vec4 a;","	a.xz = texture2D( blendTex, texcoord ).xz;","	a.y = texture2D( blendTex, offset[ 1 ].zw ).g;","	a.w = texture2D( blendTex, offset[ 1 ].xy ).a;","	if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","		return texture2D( colorTex, texcoord, 0.0 );","	} else {","		vec2 offset;","		offset.x = a.a > a.b ? a.a : -a.b;","		offset.y = a.g > a.r ? -a.g : a.r;","		if ( abs( offset.x ) > abs( offset.y )) {","			offset.y = 0.0;","		} else {","			offset.x = 0.0;","		}","		vec4 C = texture2D( colorTex, texcoord, 0.0 );","		texcoord += sign( offset ) * resolution;","		vec4 Cop = texture2D( colorTex, texcoord, 0.0 );","		float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","		C.xyz = pow(C.xyz, vec3(2.2));","		Cop.xyz = pow(Cop.xyz, vec3(2.2));","		vec4 mixed = mix(C, Cop, s);","		mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","		return mixed;","	}","}","void main() {","	gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join(`
`)},NT=function(t,n){Oo.call(this),this.edgesRT=new la(t,n,{depthBuffer:!1,generateMipmaps:!1,minFilter:mo,format:lf}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new la(t,n,{depthBuffer:!1,generateMipmaps:!1,minFilter:mo,format:Ql}),this.weightsRT.texture.name="SMAAPass.weights";var i=this,s=new Image;s.src=this.getAreaTexture(),s.onload=function(){i.areaTexture.needsUpdate=!0},this.areaTexture=new Yi,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=s,this.areaTexture.format=lf,this.areaTexture.minFilter=mo,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1;var l=new Image;l.src=this.getSearchTexture(),l.onload=function(){i.searchTexture.needsUpdate=!0},this.searchTexture=new Yi,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=l,this.searchTexture.magFilter=As,this.searchTexture.minFilter=As,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,Ax===void 0&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=cf.clone(Ax.uniforms),this.uniformsEdges.resolution.value.set(1/t,1/n),this.materialEdges=new $i({defines:Object.assign({},Ax.defines),uniforms:this.uniformsEdges,vertexShader:Ax.vertexShader,fragmentShader:Ax.fragmentShader}),this.uniformsWeights=cf.clone(mA.uniforms),this.uniformsWeights.resolution.value.set(1/t,1/n),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new $i({defines:Object.assign({},mA.defines),uniforms:this.uniformsWeights,vertexShader:mA.vertexShader,fragmentShader:mA.fragmentShader}),this.uniformsBlend=cf.clone(BT.uniforms),this.uniformsBlend.resolution.value.set(1/t,1/n),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new $i({uniforms:this.uniformsBlend,vertexShader:BT.vertexShader,fragmentShader:BT.fragmentShader}),this.needsSwap=!1,this.fsQuad=new Oo.FullScreenQuad(null)};NT.prototype=Object.assign(Object.create(Oo.prototype),{constructor:NT,render:function(t,n,i){this.uniformsEdges.tDiffuse.value=i.texture,this.fsQuad.material=this.materialEdges,t.setRenderTarget(this.edgesRT),this.clear&&t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialWeights,t.setRenderTarget(this.weightsRT),this.clear&&t.clear(),this.fsQuad.render(t),this.uniformsBlend.tColor.value=i.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.clear&&t.clear(),this.fsQuad.render(t))},setSize:function(t,n){this.edgesRT.setSize(t,n),this.weightsRT.setSize(t,n),this.materialEdges.uniforms.resolution.value.set(1/t,1/n),this.materialWeights.uniforms.resolution.value.set(1/t,1/n),this.materialBlend.uniforms.resolution.value.set(1/t,1/n)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var rF={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new _n(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},Pm=function(t,n,i,s){Oo.call(this),this.strength=n!==void 0?n:1,this.radius=i,this.threshold=s,this.resolution=t!==void 0?new St(t.x,t.y):new St(256,256),this.clearColor=new _n(0,0,0);var l={minFilter:mo,magFilter:mo,format:Ql};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var e=Math.round(this.resolution.x/2),p=Math.round(this.resolution.y/2);this.renderTargetBright=new la(e,p,l),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var v=0;v<this.nMips;v++){var w=new la(e,p,l);w.texture.name="UnrealBloomPass.h"+v,w.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(w);var E=new la(e,p,l);E.texture.name="UnrealBloomPass.v"+v,E.texture.generateMipmaps=!1,this.renderTargetsVertical.push(E),e=Math.round(e/2),p=Math.round(p/2)}rF===void 0&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var T=rF;this.highPassUniforms=cf.clone(T.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new $i({uniforms:this.highPassUniforms,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var C=[3,5,7,9,11],e=Math.round(this.resolution.x/2),p=Math.round(this.resolution.y/2),v=0;v<this.nMips;v++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(C[v])),this.separableBlurMaterials[v].uniforms.texSize.value=new St(e,p),e=Math.round(e/2),p=Math.round(p/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;var R=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=R,this.bloomTintColors=[new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,MD===void 0&&console.error("UnrealBloomPass relies on CopyShader");var B=MD;this.copyUniforms=cf.clone(B.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new $i({uniforms:this.copyUniforms,vertexShader:B.vertexShader,fragmentShader:B.fragmentShader,blending:$4,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new _n,this.oldClearAlpha=1,this.basic=new ql,this.fsQuad=new Oo.FullScreenQuad(null)};Pm.prototype=Object.assign(Object.create(Oo.prototype),{constructor:Pm,dispose:function(){for(var t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose()},setSize:function(t,n){var i=Math.round(t/2),s=Math.round(n/2);this.renderTargetBright.setSize(i,s);for(var l=0;l<this.nMips;l++)this.renderTargetsHorizontal[l].setSize(i,s),this.renderTargetsVertical[l].setSize(i,s),this.separableBlurMaterials[l].uniforms.texSize.value=new St(i,s),i=Math.round(i/2),s=Math.round(s/2)},render:function(t,n,i,s,l){this.oldClearColor.copy(t.getClearColor()),this.oldClearAlpha=t.getClearAlpha();var e=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),l&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);for(var p=this.renderTargetBright,v=0;v<this.nMips;v++)this.fsQuad.material=this.separableBlurMaterials[v],this.separableBlurMaterials[v].uniforms.colorTexture.value=p.texture,this.separableBlurMaterials[v].uniforms.direction.value=Pm.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[v]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[v].uniforms.colorTexture.value=this.renderTargetsHorizontal[v].texture,this.separableBlurMaterials[v].uniforms.direction.value=Pm.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[v]),t.clear(),this.fsQuad.render(t),p=this.renderTargetsVertical[v];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,l&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(i),this.fsQuad.render(t)),t.setClearColor(this.oldClearColor,this.oldClearAlpha),t.autoClear=e},getSeperableBlurMaterial:function(t){return new $i({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new St(.5,.5)},direction:{value:new St(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;				uniform vec2 direction;								float gaussianPdf(in float x, in float sigma) {					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;				}				void main() {
					vec2 invSize = 1.0 / texSize;					float fSigma = float(SIGMA);					float weightSum = gaussianPdf(0.0, fSigma);					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {						float x = float(i);						float w = gaussianPdf(x, fSigma);						vec2 uvOffset = direction * invSize * x;						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;						diffuseSum += (sample1 + sample2) * w;						weightSum += 2.0 * w;					}					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})},getCompositeMaterial:function(t){return new $i({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:"varying vec2 vUv;				uniform sampler2D blurTexture1;				uniform sampler2D blurTexture2;				uniform sampler2D blurTexture3;				uniform sampler2D blurTexture4;				uniform sampler2D blurTexture5;				uniform sampler2D dirtTexture;				uniform float bloomStrength;				uniform float bloomRadius;				uniform float bloomFactors[NUM_MIPS];				uniform vec3 bloomTintColors[NUM_MIPS];								float lerpBloomFactor(const in float factor) { 					float mirrorFactor = 1.2 - factor;					return mix(factor, mirrorFactor, bloomRadius);				}								void main() {					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + 													 lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + 													 lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + 													 lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + 													 lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );				}"})}});Pm.BlurDirectionX=new St(1,0);Pm.BlurDirectionY=new St(0,1);var Bue={uniforms:{tDiffuse:{value:null},resolution:{value:new St(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join(`
`)},iF={uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 cTextureScreen = texture2D( tDiffuse, vUv );","	float dx = rand( vUv + time );","	vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );","	vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","	cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","	cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","	if( grayscale ) {","		cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","	}","	gl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join(`
`)},IT=function(t,n,i,s){Oo.call(this),iF===void 0&&console.error("FilmPass relies on FilmShader");var l=iF;this.uniforms=cf.clone(l.uniforms),this.material=new $i({uniforms:this.uniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),s!==void 0&&(this.uniforms.grayscale.value=s),t!==void 0&&(this.uniforms.nIntensity.value=t),n!==void 0&&(this.uniforms.sIntensity.value=n),i!==void 0&&(this.uniforms.sCount.value=i),this.fsQuad=new Oo.FullScreenQuad(this.material)};IT.prototype=Object.assign(Object.create(Oo.prototype),{constructor:IT,render:function(t,n,i,s){this.uniforms.tDiffuse.value=i.texture,this.uniforms.time.value+=s,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.clear&&t.clear(),this.fsQuad.render(t))}});var Co=ur(Ra()),oF={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    }
  `,fragmentShader:`
    uniform int byp;
    uniform sampler2D tDiffuse;
    uniform sampler2D tDisp;
    uniform float amount;
    uniform float angle;
    uniform float seed;
    uniform float seed_x;
    uniform float seed_y;
    uniform float distortion_x;
    uniform float distortion_y;
    uniform float col_s;
    varying vec2 vUv;
    float rand(vec2 co) {
      return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
    }
    void main() {
      if (byp < 1) {
        vec2 p = vUv;
        float xs = floor(gl_FragCoord.x / 0.5);
        float ys = floor(gl_FragCoord.y / 0.5);
        vec4 normal = texture2D(tDisp, p * seed * seed);
        if (p.y < distortion_x + col_s && p.y > distortion_x - col_s * seed) {
          if (seed_x > 0.) {
            p.y = 1. - (p.y + distortion_y);
          } else {
            p.y = distortion_y;
          }
        }
        if (p.x < distortion_y + col_s && p.x > distortion_y - col_s * seed) {
          if (seed_y > 0.) {
            p.x = distortion_x;
          } else {
            p.x = 1. - (p.x + distortion_x);
          }
        }
        p.x += normal.x * seed_x * (seed / 5.);
        p.y += normal.y * seed_y * (seed / 5.);
        vec2 offset = amount * vec2(cos(angle), sin(angle));
        vec4 cr = texture2D(tDiffuse, p + offset);
        vec4 cga = texture2D(tDiffuse, p);
        vec4 cb = texture2D(tDiffuse, p - offset);
        gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);
        vec4 snow = 200. * amount * vec4(rand(vec2(xs * seed, ys * seed * 50.)) * 0.05);
        gl_FragColor = gl_FragColor + snow;
      } else {
        gl_FragColor = texture2D(tDiffuse, vUv);
      }
    }
  `},OT=function(t){Oo.call(this),oF===void 0&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var n=oF;this.uniforms=Co.UniformsUtils.clone(n.uniforms),t===void 0&&(t=64),this.uniforms.tDisp.value=this.generateHeightmap(t),this.material=new Co.ShaderMaterial({uniforms:this.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),this.camera=new Co.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new Co.Scene,this.quad=new Co.Mesh(new Co.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0};OT.prototype=Object.assign(Object.create(Oo.prototype),{constructor:OT,render:function(t,n,i,s,l){let e=Math.max(0,this.factor);this.uniforms.tDiffuse.value=i.texture,this.uniforms.seed.value=Math.random()*e,this.uniforms.byp.value=0,e?(this.uniforms.amount.value=Math.random()/90*e,this.uniforms.angle.value=Co.Math.randFloat(-Math.PI,Math.PI)*e,this.uniforms.distortion_x.value=Co.Math.randFloat(0,1),this.uniforms.distortion_y.value=Co.Math.randFloat(0,1),this.uniforms.seed_x.value=Co.Math.randFloat(-.3,.3)*e,this.uniforms.seed_y.value=Co.Math.randFloat(-.3,.3)*e):this.uniforms.byp.value=1,this.quad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),t.render(this.scene,this.camera)):(t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera))},generateHeightmap:function(t){for(var n=new Float32Array(t*t*3),i=t*t,s=0;s<i;s++){var l=Co.Math.randFloat(0,1);n[s*3+0]=l,n[s*3+1]=l,n[s*3+2]=l}var e=new Co.DataTexture(n,t,t,Co.RGBFormat,Co.FloatType);return e.needsUpdate=!0,e}});var pe=ur(Ra());var _x={RED:0,GREEN:1,BLUE:2,ALPHA:3},Lie="uniform sampler2D previousLuminanceBuffer;uniform sampler2D currentLuminanceBuffer;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float previousLuminance=texture2D(previousLuminanceBuffer,vUv,MIP_LEVEL_1X1).r;float currentLuminance=texture2D(currentLuminanceBuffer,vUv,MIP_LEVEL_1X1).r;previousLuminance=max(minLuminance,previousLuminance);currentLuminance=max(minLuminance,currentLuminance);float adaptedLum=previousLuminance+(currentLuminance-previousLuminance)*(1.0-exp(-deltaTime*tau));gl_FragColor.r=adaptedLum;}",Rm="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Xk=class extends pe.ShaderMaterial{constructor(){super({type:"AdaptiveLuminanceMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{previousLuminanceBuffer:new pe.Uniform(null),currentLuminanceBuffer:new pe.Uniform(null),minLuminance:new pe.Uniform(.01),deltaTime:new pe.Uniform(0),tau:new pe.Uniform(1)},fragmentShader:Lie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1}},Pie=`uniform sampler2D inputBuffer;uniform sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,vA=class extends pe.ShaderMaterial{constructor(n=!1,i=!1){super({type:"BokehMaterial",defines:{PASS:n?"2":"1"},uniforms:{kernel64:new pe.Uniform(null),kernel16:new pe.Uniform(null),inputBuffer:new pe.Uniform(null),cocBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(new pe.Vector2),scale:new pe.Uniform(1)},fragmentShader:Pie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1,i&&(this.defines.FOREGROUND="1"),this.generateKernel()}generateKernel(){let n=2.39996323,i=new Float32Array(128),s=new Float32Array(32),l=0,e=0;for(let w=0;w<80;++w){let E=w*n,T=Math.sqrt(w)/Math.sqrt(80),C=T*Math.cos(E),R=T*Math.sin(E);w%5===0?(s[e++]=C,s[e++]=R):(i[l++]=C,i[l++]=R)}let p=[],v=[];for(let w=0;w<128;)p.push(new pe.Vector4(i[w++],i[w++],i[w++],i[w++]));for(let w=0;w<32;)v.push(new pe.Vector4(s[w++],s[w++],s[w++],s[w++]));this.uniforms.kernel64.value=p,this.uniforms.kernel16.value=v}setTexelSize(n,i){this.uniforms.texelSize.value.set(n,i)}},Rie=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focalLength;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focalLength,abs(signedDistance));gl_FragColor.rg=vec2(step(signedDistance,0.0)*magnitude,step(0.0,signedDistance)*magnitude);}`,Hk=class extends pe.ShaderMaterial{constructor(n){super({type:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new pe.Uniform(null),focusDistance:new pe.Uniform(0),focalLength:new pe.Uniform(0),cameraNear:new pe.Uniform(.3),cameraFar:new pe.Uniform(1e3)},fragmentShader:Rie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.adoptCameraSettings(n)}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}adoptCameraSettings(n=null){n!==null&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof pe.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},zk=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,Yk=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,Die=class extends pe.ShaderMaterial{constructor(n=new pe.Vector2){super({type:"ColorEdgesMaterial",defines:{EDGE_DETECTION_MODE:"2",LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1"},uniforms:{inputBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(n)},fragmentShader:zk,vertexShader:Yk,depthWrite:!1,depthTest:!1});this.toneMapped=!1}setLocalContrastAdaptationFactor(n){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=n.toFixed("2"),this.needsUpdate=!0}setEdgeDetectionThreshold(n){let i=Math.min(Math.max(n,.05),.5);this.defines.EDGE_THRESHOLD=i.toFixed("2"),this.needsUpdate=!0}},Fie=`#include <common>
#include <dithering_pars_fragment>
uniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <dithering_fragment>
}`,Bie="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;/*Packing multiple texture coordinates into one varying and using a swizzle toextract them in the fragment shader still causes a dependent texture read.*/varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",sF=class extends pe.ShaderMaterial{constructor(n=new pe.Vector2){super({type:"ConvolutionMaterial",uniforms:{inputBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(new pe.Vector2),halfTexelSize:new pe.Uniform(new pe.Vector2),kernel:new pe.Uniform(0),scale:new pe.Uniform(1)},fragmentShader:Fie,vertexShader:Bie,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.setTexelSize(n.x,n.y),this.kernelSize=Mx.LARGE}getKernel(){return Nie[this.kernelSize]}setTexelSize(n,i){this.uniforms.texelSize.value.set(n,i),this.uniforms.halfTexelSize.value.set(n,i).multiplyScalar(.5)}},Nie=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Mx={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Iie=`uniform sampler2D inputBuffer;uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,aF=class extends pe.ShaderMaterial{constructor(){super({type:"CopyMaterial",uniforms:{inputBuffer:new pe.Uniform(null),opacity:new pe.Uniform(1)},fragmentShader:Iie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1}},Oie=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,Uie=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,Vk=class extends pe.ShaderMaterial{constructor(n=null,i){super({type:"DepthComparisonMaterial",uniforms:{depthBuffer:new pe.Uniform(n),cameraNear:new pe.Uniform(.3),cameraFar:new pe.Uniform(1e3)},fragmentShader:Oie,vertexShader:Uie,depthWrite:!1,depthTest:!1,morphTargets:!0,skinning:!0});this.toneMapped=!1,this.adoptCameraSettings(i)}adoptCameraSettings(n=null){n!==null&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof pe.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA)}},kie=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}/***Returns the index of the most representative depth in the 2x2 neighborhood.*/int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])/4.0;float distances[4]=float[](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4]=float[](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec2 uvs[4]=vec2[](vUv0,vUv1,vUv2,vUv3);vec3 n=texture2D(normalBuffer,uvs[index]).rgb;
#else
vec3 n=vec3(0.0);
#endif
gl_FragColor=vec4(n,d[index]);}`,Gie="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Xie=class extends pe.ShaderMaterial{constructor(){super({type:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new pe.Uniform(null),normalBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(new pe.Vector2)},fragmentShader:kie,vertexShader:Gie,depthWrite:!1,depthTest:!1});this.toneMapped=!1}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setTexelSize(n,i){this.uniforms.texelSize.value.set(n,i)}},Hie=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;varying vec2 vUv;void main(){
#if DEPTH_PACKING_0 == 3201
float d0=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
float d0=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
float d1=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
float d1=texture2D(depthBuffer1,vUv).r;
#endif
if(d0<d1){discard;}gl_FragColor=texture2D(inputBuffer,vUv);}`,Wk=class extends pe.ShaderMaterial{constructor(){super({type:"DepthMaskMaterial",defines:{DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0"},uniforms:{depthBuffer0:new pe.Uniform(null),depthBuffer1:new pe.Uniform(null),inputBuffer:new pe.Uniform(null)},fragmentShader:Hie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1}},jk=class extends pe.ShaderMaterial{constructor(n=new pe.Vector2,i=UT.COLOR){super({type:"EdgeDetectionMaterial",defines:{LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new pe.Uniform(null),depthBuffer:new pe.Uniform(null),predicationBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(n)},fragmentShader:zk,vertexShader:Yk,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.setEdgeDetectionMode(i)}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setEdgeDetectionMode(n){this.defines.EDGE_DETECTION_MODE=n.toFixed(0),this.needsUpdate=!0}setLocalContrastAdaptationFactor(n){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=n.toFixed("6"),this.needsUpdate=!0}setEdgeDetectionThreshold(n){this.defines.EDGE_THRESHOLD=n.toFixed("6"),this.defines.DEPTH_THRESHOLD=(n*.1).toFixed("6"),this.needsUpdate=!0}setPredicationMode(n){this.defines.PREDICATION_MODE=n.toFixed(0),this.needsUpdate=!0}setPredicationBuffer(n){this.uniforms.predicationBuffer.value=n}setPredicationThreshold(n){this.defines.PREDICATION_THRESHOLD=n.toFixed("6"),this.needsUpdate=!0}setPredicationScale(n){this.defines.PREDICATION_SCALE=n.toFixed("6"),this.needsUpdate=!0}setPredicationStrength(n){this.defines.PREDICATION_STRENGTH=n.toFixed("6"),this.needsUpdate=!0}},UT={DEPTH:0,LUMA:1,COLOR:2},zie=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
uniform sampler2D inputBuffer;
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,Yie="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Qk=class extends pe.ShaderMaterial{constructor(n=null,i=null,s=null,l,e=!1){super({type:"EffectMaterial",defines:{DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new pe.Uniform(null),depthBuffer:new pe.Uniform(null),resolution:new pe.Uniform(new pe.Vector2),texelSize:new pe.Uniform(new pe.Vector2),cameraNear:new pe.Uniform(.3),cameraFar:new pe.Uniform(1e3),aspect:new pe.Uniform(1),time:new pe.Uniform(0)},depthWrite:!1,depthTest:!1,dithering:e});this.toneMapped=!1,n!==null&&this.setShaderParts(n),i!==null&&this.setDefines(i),s!==null&&this.setUniforms(s),this.adoptCameraSettings(l)}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setShaderParts(n){return this.fragmentShader=zie.replace(Si.FRAGMENT_HEAD,n.get(Si.FRAGMENT_HEAD)).replace(Si.FRAGMENT_MAIN_UV,n.get(Si.FRAGMENT_MAIN_UV)).replace(Si.FRAGMENT_MAIN_IMAGE,n.get(Si.FRAGMENT_MAIN_IMAGE)),this.vertexShader=Yie.replace(Si.VERTEX_HEAD,n.get(Si.VERTEX_HEAD)).replace(Si.VERTEX_MAIN_SUPPORT,n.get(Si.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(n){for(let i of n.entries())this.defines[i[0]]=i[1];return this.needsUpdate=!0,this}setUniforms(n){for(let i of n.entries())this.uniforms[i[0]]=i[1];return this}adoptCameraSettings(n=null){n!==null&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof pe.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,i){let s=Math.max(n,1),l=Math.max(i,1);this.uniforms.resolution.value.set(s,l),this.uniforms.texelSize.value.set(1/s,1/l),this.uniforms.aspect.value=s/l}},Si={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Vie=`#include <common>
#include <dithering_pars_fragment>
uniform sampler2D inputBuffer;uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);/*Estimate the probability of occlusion at each pixel by summing samplesalong a ray to the light position.*/for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,qk=class extends pe.ShaderMaterial{constructor(n){super({type:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new pe.Uniform(null),lightPosition:new pe.Uniform(n),density:new pe.Uniform(1),decay:new pe.Uniform(1),weight:new pe.Uniform(1),exposure:new pe.Uniform(1),clampMax:new pe.Uniform(1)},fragmentShader:Vie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(n){let i=Math.floor(n);this.defines.SAMPLES_INT=i.toFixed(0),this.defines.SAMPLES_FLOAT=i.toFixed(1),this.needsUpdate=!0}},Wie=`#include <common>
uniform sampler2D inputBuffer;
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,lF=class extends pe.ShaderMaterial{constructor(n=!1,i=null){let s=i!==null;super({type:"LuminanceMaterial",uniforms:{inputBuffer:new pe.Uniform(null),threshold:new pe.Uniform(0),smoothing:new pe.Uniform(1),range:new pe.Uniform(s?i:new pe.Vector2)},fragmentShader:Wie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.colorOutput=n,this.useThreshold=!0,this.useRange=s}get threshold(){return this.uniforms.threshold.value}set threshold(n){this.uniforms.threshold.value=n}get smoothing(){return this.uniforms.smoothing.value}set smoothing(n){this.uniforms.smoothing.value=n}get useThreshold(){return this.defines.THRESHOLD!==void 0}set useThreshold(n){n?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.needsUpdate=!0}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(n){n?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}setColorOutputEnabled(n){this.colorOutput=n}get useRange(){return this.defines.RANGE!==void 0}set useRange(n){n?this.defines.RANGE="1":delete this.defines.RANGE,this.needsUpdate=!0}get luminanceRange(){return this.useRange}set luminanceRange(n){this.useRange=n}setLuminanceRangeEnabled(n){this.useRange=n}},jie=`uniform sampler2D maskTexture;uniform sampler2D inputBuffer;
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
if(mask>0.0){discard;}
#else
if(mask==0.0){discard;}
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=(1.0-mask);
#endif
#if MASK_FUNCTION == 1
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#else
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#endif
#endif
}`,Jk=class extends pe.ShaderMaterial{constructor(n=null){super({type:"MaskMaterial",uniforms:{maskTexture:new pe.Uniform(n),inputBuffer:new pe.Uniform(null),strength:new pe.Uniform(1)},fragmentShader:jie,vertexShader:Rm,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.colorChannel=_x.RED,this.maskFunction=Zk.DISCARD}set maskTexture(n){this.uniforms.maskTexture.value=n}set colorChannel(n){this.defines.COLOR_CHANNEL=n.toFixed(0),this.needsUpdate=!0}set maskFunction(n){this.defines.MASK_FUNCTION=n.toFixed(0),this.needsUpdate=!0}get inverted(){return this.defines.INVERTED!==void 0}set inverted(n){this.inverted&&!n?delete this.defines.INVERTED:n&&(this.defines.INVERTED="1"),this.needsUpdate=!0}get strength(){return this.uniforms.strength.value}set strength(n){this.uniforms.strength.value=n}},Zk={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},Qie="uniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}",qie="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",Kk=class extends pe.ShaderMaterial{constructor(n=new pe.Vector2){super({type:"OutlineMaterial",uniforms:{inputBuffer:new pe.Uniform(null),texelSize:new pe.Uniform(new pe.Vector2)},fragmentShader:Qie,vertexShader:qie,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.setTexelSize(n.x,n.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}setTexelSize(n,i){this.uniforms.texelSize.value.set(n,i)}},Jie=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
uniform sampler2D inputBuffer;uniform sampler2D areaTexture;uniform sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}/***Allows to decode two binary values from a bilinear-filtered access.**Bilinear access for fetching 'e' have a 0.25 offset,and we are interested*in the R and G edges:**+---G---+-------+*|x o R   x|*+-------+-------+**Then,if one of these edge is enabled:*Red:(0.75*X+0.25*1)=>0.25 or 1.0*Green:(0.75*1+0.25*X)=>0.75 or 1.0**This function will unpack the values(mad+mul+round):*wolframalpha.com: round(x*abs(5*x-5*0.75))plot 0 to 1*/vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}/***Diagonal pattern searches.*/vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}/***Calculates the area corresponding to a certain diagonal distance and crossing*edges 'e'.*/vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}/***Searches for diagonal patterns and returns the corresponding weights.*/vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}/***Determines how much length should be added in the last step of the searches.**Takes the bilinearly interpolated edge(see @PSEUDO_GATHER4),and adds 0,1*or 2 depending on which edges and crossing edges are active.*/float searchLength(const in vec2 e,const in float offset){/*The texture is flipped vertically,with left and right cases taking halfof the space horizontally.*/vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}/***Horizontal search for the second pass.*/float searchXLeft(in vec2 texCoord,const in float end){/*@PSEUDO_GATHER4This texCoord has been offset by(-0.25,-0.125)in the vertex shader tosample between edges,thus fetching four edges in a row.Sampling with different offsets in each direction allows to disambiguatewhich edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}/***Vertical search for the second pass.*/float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}/***Determines the areas at each side of the current edge.*/vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}/***Corner detection.*/void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
/*Diagonals have both north and west edges,so searching for them in one ofthe boundaries is enough.*/weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;/*Now fetch the left crossing edges,two at a time using bilinearfiltering. Sampling at-0.25(see @CROSSING_OFFSET)enables to discern whatvalue each edge has.*/float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;/*Translate distances to pixel units for better interleave arithmetic andmemory accesses.*/d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,Zie="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",$k=class extends pe.ShaderMaterial{constructor(n=new pe.Vector2,i=new pe.Vector2){super({type:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new pe.Uniform(null),areaTexture:new pe.Uniform(null),searchTexture:new pe.Uniform(null),texelSize:new pe.Uniform(n),resolution:new pe.Uniform(i)},fragmentShader:Jie,vertexShader:Zie,depthWrite:!1,depthTest:!1});this.toneMapped=!1}setOrthogonalSearchSteps(n){let i=Math.min(Math.max(n,0),112);this.defines.MAX_SEARCH_STEPS_INT=i.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=i.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(n){let i=Math.min(Math.max(n,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=i.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=i.toFixed("1"),this.needsUpdate=!0}setCornerRounding(n){let i=Math.min(Math.max(n,0),100);this.defines.CORNER_ROUNDING=i.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(i/100).toFixed("4"),this.needsUpdate=!0}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(n){n?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}get cornerRounding(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerRounding(n){n?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}},Kie=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#ifndef NORMAL_DEPTH
uniform sampler2D normalBuffer;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(normalDepthBuffer,uv));
#else
return texture2D(normalDepthBuffer,uv).r;
#endif
}
#endif
uniform sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float minRadiusScale;uniform float intensity;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(screenPosition,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){
#ifdef DISTANCE_SCALING
float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;
#else
float radius=RADIUS;
#endif
float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float invSamples=1.0/SAMPLES_FLOAT;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*invSamples;float angle=alpha*rings+baseAngle;vec2 coord=alpha*radius*vec2(cos(angle),sin(angle))*texelSize+uv;if(coord.s<0.0||coord.s>1.0||coord.t<0.0||coord.t>1.0){continue;}
#ifdef NORMAL_DEPTH
float sampleDepth=texture2D(normalDepthBuffer,coord).a;
#else
float sampleDepth=readDepth(coord);
#endif
float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coord,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).rgb,readDepth(vUv));
#endif
float ao=1.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao-=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,1.0,d);ao=clamp(pow(ao,abs(intensity)),0.0,1.0);}gl_FragColor.r=ao;}`,$ie="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",eG=class extends pe.ShaderMaterial{constructor(n){super({type:"SSAOMaterial",defines:{SAMPLES_INT:"0",SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{normalBuffer:new pe.Uniform(null),normalDepthBuffer:new pe.Uniform(null),noiseTexture:new pe.Uniform(null),inverseProjectionMatrix:new pe.Uniform(new pe.Matrix4),projectionMatrix:new pe.Uniform(new pe.Matrix4),texelSize:new pe.Uniform(new pe.Vector2),cameraNear:new pe.Uniform(0),cameraFar:new pe.Uniform(0),distanceCutoff:new pe.Uniform(new pe.Vector2),proximityCutoff:new pe.Uniform(new pe.Vector2),noiseScale:new pe.Uniform(new pe.Vector2),minRadiusScale:new pe.Uniform(.33),intensity:new pe.Uniform(1),fade:new pe.Uniform(.01),bias:new pe.Uniform(0)},fragmentShader:Kie,vertexShader:$ie,depthWrite:!1,depthTest:!1});this.toneMapped=!1,this.adoptCameraSettings(n)}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setTexelSize(n,i){this.uniforms.texelSize.value.set(n,i)}adoptCameraSettings(n=null){if(n!==null){let i=this.uniforms;i.cameraNear.value=n.near,i.cameraFar.value=n.far,n instanceof pe.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0}}},Id=-1,is=class{constructor(n,i=Id,s=Id,l=1){this.resizable=n,this.base=new pe.Vector2(1,1),this.target=new pe.Vector2(i,s),this.s=l}get scale(){return this.s}set scale(n){this.s=n,this.target.x=Id,this.target.y=Id,this.resizable.setSize(this.base.x,this.base.y)}get width(){let n=this.base,i=this.target,s;return i.x!==Id?s=i.x:i.y!==Id?s=Math.round(i.y*(n.x/n.y)):s=Math.round(n.x*this.s),s}set width(n){this.target.x=n,this.resizable.setSize(this.base.x,this.base.y)}get height(){let n=this.base,i=this.target,s;return i.y!==Id?s=i.y:i.x!==Id?s=Math.round(i.x/(n.x/n.y)):s=Math.round(n.y*this.s),s}set height(n){this.target.y=n,this.resizable.setSize(this.base.x,this.base.y)}static get AUTO_SIZE(){return Id}},eoe=new pe.Camera,Dm=null;function toe(){if(Dm===null){let t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),n=new Float32Array([0,0,2,0,0,2]);Dm=new pe.BufferGeometry,Dm.setAttribute!==void 0?(Dm.setAttribute("position",new pe.BufferAttribute(t,3)),Dm.setAttribute("uv",new pe.BufferAttribute(n,2))):(Dm.addAttribute("position",new pe.BufferAttribute(t,3)),Dm.addAttribute("uv",new pe.BufferAttribute(n,2)))}return Dm}var $f=class{constructor(n="Pass",i=new pe.Scene,s=eoe){this.name=n,this.scene=i,this.camera=s,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(n){if(this.rtt===n){let i=this.getFullscreenMaterial();i!==null&&(i.needsUpdate=!0),this.rtt=!n}}getFullscreenMaterial(){return this.screen!==null?this.screen.material:null}setFullscreenMaterial(n){let i=this.screen;i!==null?i.material=n:(i=new pe.Mesh(toe(),n),i.frustumCulled=!1,this.scene===null&&(this.scene=new pe.Scene),this.scene.add(i),this.screen=i)}getDepthTexture(){return null}setDepthTexture(n,i=0){}render(n,i,s,l,e){throw new Error("Render method not implemented!")}setSize(n,i){}initialize(n,i,s){}dispose(){let n=this.getFullscreenMaterial();n!==null&&n.dispose();for(let i of Object.keys(this)){let s=this[i];if(s!==null&&typeof s.dispose=="function"){if(s instanceof pe.Scene)continue;this[i].dispose()}}}},gA=class extends $f{constructor({resolutionScale:n=.5,width:i=is.AUTO_SIZE,height:s=is.AUTO_SIZE,kernelSize:l=Mx.LARGE}={}){super("BlurPass");this.renderTargetA=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B",this.resolution=new is(this,i,s,n),this.convolutionMaterial=new sF,this.ditheredConvolutionMaterial=new sF,this.ditheredConvolutionMaterial.dithering=!0,this.dithering=!1,this.kernelSize=l}get width(){return this.resolution.width}set width(n){this.resolution.width=n}get height(){return this.resolution.height}set height(n){this.resolution.height=n}get scale(){return this.convolutionMaterial.uniforms.scale.value}set scale(n){this.convolutionMaterial.uniforms.scale.value=n,this.ditheredConvolutionMaterial.uniforms.scale.value=n}get kernelSize(){return this.convolutionMaterial.kernelSize}set kernelSize(n){this.convolutionMaterial.kernelSize=n,this.ditheredConvolutionMaterial.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,i,s,l,e){let p=this.scene,v=this.camera,w=this.renderTargetA,E=this.renderTargetB,T=this.convolutionMaterial,C=T.uniforms,R=T.getKernel(),B=i,A,H,G;for(this.setFullscreenMaterial(T),H=0,G=R.length-1;H<G;++H)A=(H&1)===0?w:E,C.kernel.value=R[H],C.inputBuffer.value=B.texture,n.setRenderTarget(A),n.render(p,v),B=A;this.dithering&&(T=this.ditheredConvolutionMaterial,C=T.uniforms,this.setFullscreenMaterial(T)),C.kernel.value=R[H],C.inputBuffer.value=B.texture,n.setRenderTarget(this.renderToScreen?null:s),n.render(p,v)}setSize(n,i){let s=this.resolution;s.base.set(n,i);let l=s.width,e=s.height;this.renderTargetA.setSize(l,e),this.renderTargetB.setSize(l,e),this.convolutionMaterial.setTexelSize(1/l,1/e),this.ditheredConvolutionMaterial.setTexelSize(1/l,1/e)}initialize(n,i,s){!i&&s===pe.UnsignedByteType&&(this.renderTargetA.texture.format=pe.RGBFormat,this.renderTargetB.texture.format=pe.RGBFormat),s!==void 0&&(this.renderTargetA.texture.type=s,this.renderTargetB.texture.type=s)}static get AUTO_SIZE(){return is.AUTO_SIZE}},tG=class extends $f{constructor(){super("ClearMaskPass",null,null);this.needsSwap=!1}render(n,i,s,l,e){let p=n.state.buffers.stencil;p.setLocked(!1),p.setTest(!1)}},nG=new pe.Color,Fm=class extends $f{constructor(n=!0,i=!0,s=!1){super("ClearPass",null,null);this.needsSwap=!1,this.color=n,this.depth=i,this.stencil=s,this.overrideClearColor=null,this.overrideClearAlpha=-1}render(n,i,s,l,e){let p=this.overrideClearColor,v=this.overrideClearAlpha,w=n.getClearAlpha(),E=p!==null,T=v>=0;E?(nG.copy(n.getClearColor()),n.setClearColor(p,T?v:w)):T&&n.setClearAlpha(v),n.setRenderTarget(this.renderToScreen?null:i),n.clear(this.color,this.depth,this.stencil),E?n.setClearColor(nG,w):T&&n.setClearAlpha(w)}},uF=!1,cF=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materialInstanced=null,this.materialSkinning=null,this.setMaterial(n)}setMaterial(n){this.disposeMaterials(),n!==null&&(this.material=n,this.materialInstanced=n.clone(),this.materialInstanced.uniforms=Object.assign({},n.uniforms),this.materialSkinning=n.clone(),this.materialSkinning.uniforms=Object.assign({},n.uniforms),this.materialSkinning.skinning=!0)}render(n,i,s){let l=this.material,e=this.materialSkinning,p=this.materialInstanced,v=this.originalMaterials,w=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,uF){let E=0;i.traverse(T=>{T.isMesh&&(v.set(T,T.material),T.isInstancedMesh?T.material=p:T.isSkinnedMesh?T.material=e:T.material=l,++E)}),n.render(i,s);for(let T of v)T[0].material=T[1];E!==v.size&&v.clear()}else{let E=i.overrideMaterial;i.overrideMaterial=l,n.render(i,s),i.overrideMaterial=E}n.shadowMap.enabled=w}disposeMaterials(){this.materialInstanced!==null&&this.materialInstanced.dispose(),this.materialSkinning!==null&&this.materialSkinning.dispose()}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return uF}static set workaroundEnabled(n){uF=n}},gh=class extends $f{constructor(n,i,s=null){super("RenderPass",n,i);this.needsSwap=!1,this.clearPass=new Fm,this.overrideMaterialManager=s===null?null:new cF(s)}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){let n=this.overrideMaterialManager;return n!==null?n.material:null}set overrideMaterial(n){let i=this.overrideMaterialManager;n!==null?i!==null?i.setMaterial(n):this.overrideMaterialManager=new cF(n):i!==null&&(i.dispose(),this.overrideMaterialManager=null)}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}render(n,i,s,l,e){let p=this.scene,v=this.camera,w=p.background,E=this.renderToScreen?null:i;this.clear&&(this.clearPass.overrideClearColor!==null&&(p.background=null),this.clearPass.render(n,i)),n.setRenderTarget(E),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(n,p,v):n.render(p,v),p.background!==w&&(p.background=w)}},rG=class extends $f{constructor(n,i,{resolutionScale:s=1,width:l=is.AUTO_SIZE,height:e=is.AUTO_SIZE,renderTarget:p}={}){super("DepthPass");this.needsSwap=!1,this.renderPass=new gh(n,i,new pe.MeshDepthMaterial({depthPacking:pe.RGBADepthPacking}));let v=this.renderPass.getClearPass();v.overrideClearColor=new pe.Color(16777215),v.overrideClearAlpha=1,this.renderTarget=p,this.renderTarget===void 0&&(this.renderTarget=new pe.WebGLRenderTarget(1,1,{minFilter:pe.NearestFilter,magFilter:pe.NearestFilter,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target"),this.resolution=new is(this,l,e,s)}get texture(){return this.renderTarget.texture}getResolutionScale(){return this.resolutionScale}setResolutionScale(n){this.resolutionScale=n,this.setSize(this.resolution.base.x,this.resolution.base.y)}render(n,i,s,l,e){let p=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,p)}setSize(n,i){let s=this.resolution;s.base.set(n,i),this.renderTarget.setSize(s.width,s.height)}},Jn={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},noe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",roe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",ioe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",ooe="float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",soe="float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",aoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",loe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",uoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",coe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",foe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",hoe="float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",doe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",poe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",moe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",voe="float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",goe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",yoe="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",xoe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",Eoe=new Map([[Jn.SKIP,null],[Jn.ADD,noe],[Jn.ALPHA,roe],[Jn.AVERAGE,ioe],[Jn.COLOR_BURN,ooe],[Jn.COLOR_DODGE,soe],[Jn.DARKEN,aoe],[Jn.DIFFERENCE,loe],[Jn.EXCLUSION,uoe],[Jn.LIGHTEN,coe],[Jn.MULTIPLY,foe],[Jn.DIVIDE,hoe],[Jn.NEGATION,doe],[Jn.NORMAL,poe],[Jn.OVERLAY,moe],[Jn.REFLECT,voe],[Jn.SCREEN,goe],[Jn.SOFT_LIGHT,yoe],[Jn.SUBTRACT,xoe]]),iG=class extends pe.EventDispatcher{constructor(n,i=1){super();this.blendFunction=n,this.opacity=new pe.Uniform(i)}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n,this.dispatchEvent({type:"change"})}getShaderCode(){return Eoe.get(this.blendFunction)}},qo=class extends pe.EventDispatcher{constructor(n,i,{attributes:s=bu.NONE,blendFunction:l=Jn.SCREEN,defines:e=new Map,uniforms:p=new Map,extensions:v=null,vertexShader:w=null}={}){super();this.name=n,this.attributes=s,this.fragmentShader=i,this.vertexShader=w,this.defines=e,this.uniforms=p,this.extensions=v,this.blendMode=new iG(l),this.blendMode.addEventListener("change",E=>this.setChanged())}setChanged(){this.dispatchEvent({type:"change"})}getAttributes(){return this.attributes}setAttributes(n){this.attributes=n,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(n){this.fragmentShader=n,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(n){this.vertexShader=n,this.setChanged()}setDepthTexture(n,i=0){}update(n,i,s){}setSize(n,i){}initialize(n,i,s){}dispose(){for(let n of Object.keys(this)){let i=this[n];if(i!==null&&typeof i.dispose=="function"){if(i instanceof pe.Scene)continue;this[n].dispose()}}}},bu={NONE:0,DEPTH:1,CONVOLUTION:2};function fF(t,n){let i=[],s;for(;(s=t.exec(n))!==null;)i.push(s[1]);return i}function oG(t,n,i){let s,l;for(let e of n){s="$1"+t+e.charAt(0).toUpperCase()+e.slice(1),l=new RegExp("([^\\.])(\\b"+e+"\\b)","g");for(let p of i.entries())p[1]!==null&&i.set(p[0],p[1].replace(l,s))}}function woe(t,n,i,s,l,e,p){let v=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,w=/(?:varying\s+\w+\s+(\w*))/g,E=n.blendMode,T=new Map([["fragment",n.getFragmentShader()],["vertex",n.getVertexShader()]]),C=T.get("fragment")!==void 0&&T.get("fragment").indexOf("mainImage")>=0,R=T.get("fragment")!==void 0&&T.get("fragment").indexOf("mainUv")>=0,B=[],A=[],H=!1,G=!1;if(T.get("fragment")===void 0)console.error("Missing fragment shader",n);else if(R&&(p&bu.CONVOLUTION)!==0)console.error("Effects that transform UV coordinates are incompatible with convolution effects",n);else if(!C&&!R)console.error("The fragment shader contains neither a mainImage nor a mainUv function",n);else{if(R&&(i.set(Si.FRAGMENT_MAIN_UV,i.get(Si.FRAGMENT_MAIN_UV)+"	"+t+`MainUv(UV);
`),H=!0),T.get("vertex")!==null&&T.get("vertex").indexOf("mainSupport")>=0){let O="	"+t+"MainSupport(";T.get("vertex").indexOf("uv")>=0&&(O+="vUv"),O+=`);
`,i.set(Si.VERTEX_MAIN_SUPPORT,i.get(Si.VERTEX_MAIN_SUPPORT)+O),B=B.concat(fF(w,T.get("vertex"))),A=A.concat(B).concat(fF(v,T.get("vertex")))}if(A=A.concat(fF(v,T.get("fragment"))).concat(Array.from(n.defines.keys()).map(O=>O.replace(/\([\w\s,]*\)/g,""))).concat(Array.from(n.uniforms.keys())),n.uniforms.forEach((O,U)=>e.set(t+U.charAt(0).toUpperCase()+U.slice(1),O)),n.defines.forEach((O,U)=>l.set(t+U.charAt(0).toUpperCase()+U.slice(1),O)),oG(t,A,l),oG(t,A,T),s.set(E.blendFunction,E),C){let O=t+"MainImage(color0, UV, ";(p&bu.DEPTH)!==0&&T.get("fragment").indexOf("depth")>=0&&(O+="depth, ",G=!0),O+=`color1);
	`;let U=t+"BlendOpacity";e.set(U,E.opacity),O+="color0 = blend"+E.getBlendFunction()+"(color0, color1, "+U+`);

	`,i.set(Si.FRAGMENT_MAIN_IMAGE,i.get(Si.FRAGMENT_MAIN_IMAGE)+O),i.set(Si.FRAGMENT_HEAD,i.get(Si.FRAGMENT_HEAD)+"uniform float "+U+`;

`)}i.set(Si.FRAGMENT_HEAD,i.get(Si.FRAGMENT_HEAD)+T.get("fragment")+`
`),T.get("vertex")!==null&&i.set(Si.VERTEX_HEAD,i.get(Si.VERTEX_HEAD)+T.get("vertex")+`
`)}return{varyings:B,transformedUv:H,readDepth:G}}var hF=class extends $f{constructor(n,...i){super("EffectPass");this.setFullscreenMaterial(new Qk(null,null,null,n)),this.effects=i.sort((s,l)=>l.attributes-s.attributes),this.skipRendering=!1,this.uniforms=0,this.varyings=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.getFullscreenMaterial().defines.ENCODE_OUTPUT!==void 0}set encodeOutput(n){if(this.encodeOutput!==n){let i=this.getFullscreenMaterial();i.needsUpdate=!0,n?i.defines.ENCODE_OUTPUT="1":delete i.defines.ENCODE_OUTPUT}}get dithering(){return this.getFullscreenMaterial().dithering}set dithering(n){let i=this.getFullscreenMaterial();i.dithering!==n&&(i.dithering=n,i.needsUpdate=!0)}verifyResources(n){let i=n.capabilities,s=Math.min(i.maxFragmentUniforms,i.maxVertexUniforms);this.uniforms>s&&console.warn("The current rendering context doesn't support more than "+s+" uniforms, but "+this.uniforms+" were defined"),s=i.maxVaryings,this.varyings>s&&console.warn("The current rendering context doesn't support more than "+s+" varyings, but "+this.varyings+" were defined")}updateMaterial(){let n=/\bblend\b/g,i=new Map([[Si.FRAGMENT_HEAD,""],[Si.FRAGMENT_MAIN_UV,""],[Si.FRAGMENT_MAIN_IMAGE,""],[Si.VERTEX_HEAD,""],[Si.VERTEX_MAIN_SUPPORT,""]]),s=new Map,l=new Map,e=new Map,p=new Set,v=0,w=0,E=0,T=!1,C=!1,R;for(let A of this.effects)if(A.blendMode.getBlendFunction()===Jn.SKIP)E|=A.getAttributes()&bu.DEPTH;else if((E&bu.CONVOLUTION)!==0&&(A.getAttributes()&bu.CONVOLUTION)!==0)console.error("Convolution effects cannot be merged",A);else if(E|=A.getAttributes(),R=woe("e"+v++,A,i,s,l,e,E),w+=R.varyings.length,T=T||R.transformedUv,C=C||R.readDepth,A.extensions!==null)for(let H of A.extensions)p.add(H);for(let A of s.values())i.set(Si.FRAGMENT_HEAD,i.get(Si.FRAGMENT_HEAD)+A.getShaderCode().replace(n,"blend"+A.getBlendFunction())+`
`);(E&bu.DEPTH)!==0?(C&&i.set(Si.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+i.get(Si.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,T?(i.set(Si.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+i.get(Si.FRAGMENT_MAIN_UV)),l.set("UV","transformedUv")):l.set("UV","vUv"),i.forEach((A,H,G)=>G.set(H,A.trim().replace(/^#/,`
#`))),this.uniforms=e.size,this.varyings=w,this.skipRendering=v===0,this.needsSwap=!this.skipRendering;let B=this.getFullscreenMaterial();if(B.setShaderParts(i).setDefines(l).setUniforms(e),B.extensions={},p.size>0)for(let A of p)B.extensions[A]=!0;this.needsUpdate=!1}recompile(n){this.updateMaterial(),n!==void 0&&this.verifyResources(n)}getDepthTexture(){return this.getFullscreenMaterial().uniforms.depthBuffer.value}setDepthTexture(n,i=0){let s=this.getFullscreenMaterial();s.uniforms.depthBuffer.value=n,s.depthPacking=i,s.needsUpdate=!0;for(let l of this.effects)l.setDepthTexture(n,i)}render(n,i,s,l,e){let p=this.getFullscreenMaterial(),v=p.uniforms.time.value+l;this.needsUpdate&&this.recompile(n);for(let w of this.effects)w.update(n,i,l);(!this.skipRendering||this.renderToScreen)&&(p.uniforms.inputBuffer.value=i.texture,p.uniforms.time.value=v<=this.maxTime?v:this.minTime,n.setRenderTarget(this.renderToScreen?null:s),n.render(this.scene,this.camera))}setSize(n,i){this.getFullscreenMaterial().setSize(n,i);for(let s of this.effects)s.setSize(n,i)}initialize(n,i,s){this.capabilities=n.capabilities;for(let l of this.effects)l.initialize(n,i,s),l.addEventListener("change",e=>this.handleEvent(e));this.updateMaterial(),this.verifyResources(n)}dispose(){super.dispose();for(let n of this.effects)n.dispose()}handleEvent(n){switch(n.type){case"change":this.needsUpdate=!0;break}}},sG=class extends $f{constructor(n,i){super("MaskPass",n,i);this.needsSwap=!1,this.clearPass=new Fm(!1,!1,!0),this.inverse=!1}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}render(n,i,s,l,e){let p=n.getContext(),v=n.state.buffers,w=this.scene,E=this.camera,T=this.clearPass,C=this.inverse?0:1,R=1-C;v.color.setMask(!1),v.depth.setMask(!1),v.color.setLocked(!0),v.depth.setLocked(!0),v.stencil.setTest(!0),v.stencil.setOp(p.REPLACE,p.REPLACE,p.REPLACE),v.stencil.setFunc(p.ALWAYS,C,4294967295),v.stencil.setClear(R),v.stencil.setLocked(!0),this.clear&&(this.renderToScreen?T.render(n,null):(T.render(n,i),T.render(n,s))),this.renderToScreen?(n.setRenderTarget(null),n.render(w,E)):(n.setRenderTarget(i),n.render(w,E),n.setRenderTarget(s),n.render(w,E)),v.color.setLocked(!1),v.depth.setLocked(!1),v.stencil.setLocked(!1),v.stencil.setFunc(p.EQUAL,1,4294967295),v.stencil.setOp(p.KEEP,p.KEEP,p.KEEP),v.stencil.setLocked(!0)}},dF=class extends $f{constructor(n,i,{resolutionScale:s=1,width:l=is.AUTO_SIZE,height:e=is.AUTO_SIZE,renderTarget:p}={}){super("NormalPass");this.needsSwap=!1,this.renderPass=new gh(n,i,new pe.MeshNormalMaterial);let v=this.renderPass.getClearPass();v.overrideClearColor=new pe.Color(7829503),v.overrideClearAlpha=1,this.renderTarget=p,this.renderTarget===void 0&&(this.renderTarget=new pe.WebGLRenderTarget(1,1,{minFilter:pe.NearestFilter,magFilter:pe.NearestFilter,format:pe.RGBFormat,stencilBuffer:!1}),this.renderTarget.texture.name="NormalPass.Target"),this.resolution=new is(this,l,e,s)}get texture(){return this.renderTarget.texture}getResolutionScale(){return this.resolutionScale}setResolutionScale(n){this.resolutionScale=n,this.setSize(this.resolution.base.x,this.resolution.base.y)}render(n,i,s,l,e){let p=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,p,p)}setSize(n,i){let s=this.resolution;s.base.set(n,i),this.renderTarget.setSize(s.width,s.height)}},aG=class extends $f{constructor(n,i=!0){super("SavePass");this.setFullscreenMaterial(new aF),this.needsSwap=!1,this.renderTarget=n,n===void 0&&(this.renderTarget=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="SavePass.Target"),this.resize=i}get texture(){return this.renderTarget.texture}render(n,i,s,l,e){this.getFullscreenMaterial().uniforms.inputBuffer.value=i.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,i){if(this.resize){let s=Math.max(n,1),l=Math.max(i,1);this.renderTarget.setSize(s,l)}}initialize(n,i,s){!i&&s===pe.UnsignedByteType&&(this.renderTarget.texture.format=pe.RGBFormat),s!==void 0&&(this.renderTarget.texture.type=s)}},ka=class extends $f{constructor(n,i="inputBuffer"){super("ShaderPass");this.setFullscreenMaterial(n),this.uniform=null,this.setInput(i)}setInput(n){let i=this.getFullscreenMaterial();if(this.uniform=null,i!==null){let s=i.uniforms;s!==void 0&&s[n]!==void 0&&(this.uniform=s[n])}}render(n,i,s,l,e){this.uniform!==null&&i!==null&&(this.uniform.value=i.texture),n.setRenderTarget(this.renderToScreen?null:s),n.render(this.scene,this.camera)}},pF=class{constructor(n=null,{depthBuffer:i=!0,stencilBuffer:s=!1,multisampling:l=0,frameBufferType:e}={}){this.renderer=n,this.inputBuffer=null,this.outputBuffer=null,this.renderer!==null&&(this.renderer.autoClear=!1,this.inputBuffer=this.createBuffer(i,s,e,l),this.outputBuffer=this.inputBuffer.clone(),this.enableExtensions()),this.copyPass=new ka(new aF),this.depthTexture=null,this.passes=[],this.autoRenderToScreen=!0}get multisampling(){return this.inputBuffer instanceof pe.WebGLMultisampleRenderTarget?this.inputBuffer.samples:0}set multisampling(n){let i=this.inputBuffer,s=this.multisampling;s>0&&n>0?(this.inputBuffer.samples=n,this.outputBuffer.samples=n):s!==n&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(i.depthBuffer,i.stencilBuffer,i.texture.type,n),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getRenderer(){return this.renderer}enableExtensions(){let n=this.inputBuffer.texture.type,i=this.renderer.capabilities,s=this.renderer.getContext();n!==pe.UnsignedByteType&&(i.isWebGL2?s.getExtension("EXT_color_buffer_float"):s.getExtension("EXT_color_buffer_half_float"))}replaceRenderer(n,i=!0){let s=this.renderer;if(s!==null&&s!==n){let l=s.getSize(new pe.Vector2),e=n.getSize(new pe.Vector2),p=s.domElement.parentNode;this.renderer=n,this.renderer.autoClear=!1,l.equals(e)||this.setSize(),i&&p!==null&&(p.removeChild(s.domElement),p.appendChild(n.domElement)),this.enableExtensions()}return s}createDepthTexture(){let n=this.depthTexture=new pe.DepthTexture;return this.inputBuffer.depthTexture=n,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(n.format=pe.DepthStencilFormat,n.type=pe.UnsignedInt248Type):n.type=pe.UnsignedIntType,n}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let n of this.passes)n.setDepthTexture(null)}}createBuffer(n,i,s,l){let e=this.renderer.getDrawingBufferSize(new pe.Vector2),p=this.renderer.getContext().getContextAttributes().alpha,v={format:!p&&s===pe.UnsignedByteType?pe.RGBFormat:pe.RGBAFormat,minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:i,depthBuffer:n,type:s},w=l>0?new pe.WebGLMultisampleRenderTarget(e.width,e.height,v):new pe.WebGLRenderTarget(e.width,e.height,v);return l>0&&(w.samples=l),w.texture.name="EffectComposer.Buffer",w.texture.generateMipmaps=!1,w}addPass(n,i){let s=this.passes,l=this.renderer,e=l.getContext().getContextAttributes().alpha,p=this.inputBuffer.texture.type,v=l.getDrawingBufferSize(new pe.Vector2);if(n.setSize(v.width,v.height),n.initialize(l,e,p),this.autoRenderToScreen&&(s.length>0&&(s[s.length-1].renderToScreen=!1),n.renderToScreen&&(this.autoRenderToScreen=!1)),i!==void 0?s.splice(i,0,n):s.push(n),this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!0),n.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let w=this.createDepthTexture();for(n of s)n.setDepthTexture(w)}else n.setDepthTexture(this.depthTexture)}removePass(n){let i=this.passes,s=i.indexOf(n),l=i.splice(s,1).length>0;if(l){if(this.depthTexture!==null){let e=(v,w)=>v||w.needsDepthTexture,p=i.reduce(e,!1);p||(n.getDepthTexture()===this.depthTexture&&n.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&(s===i.length&&(n.renderToScreen=!1,i.length>0&&(i[i.length-1].renderToScreen=!0)))}}removeAllPasses(){let n=this.passes;this.deleteDepthTexture(),n.length>0&&(this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!1),this.passes=[])}render(n){let i=this.renderer,s=this.copyPass,l=this.inputBuffer,e=this.outputBuffer,p=!1,v,w,E;for(let T of this.passes)T.enabled&&(T.render(i,l,e,n,p),T.needsSwap&&(p&&(s.renderToScreen=T.renderToScreen,v=i.getContext(),w=i.state.buffers.stencil,w.setFunc(v.NOTEQUAL,1,4294967295),s.render(i,l,e,n,p),w.setFunc(v.EQUAL,1,4294967295)),E=l,l=e,e=E),T instanceof sG?p=!0:T instanceof tG&&(p=!1))}setSize(n,i,s){let l=this.renderer;if(n===void 0||i===void 0){let p=l.getSize(new pe.Vector2);n=p.width,i=p.height}else l.setSize(n,i,s);let e=l.getDrawingBufferSize(new pe.Vector2);this.inputBuffer.setSize(e.width,e.height),this.outputBuffer.setSize(e.width,e.height);for(let p of this.passes)p.setSize(e.width,e.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(let n of this.passes)n.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose()}},mF=class extends Set{constructor(n,i=10){super();this.currentLayer=i,n!==void 0&&this.set(n)}get layer(){return this.currentLayer}set layer(n){let i=this.currentLayer;for(let s of this)s.layers.disable(i),s.layers.enable(n);this.currentLayer=n}clear(){let n=this.layer;for(let i of this)i.layers.disable(n);return super.clear()}set(n){this.clear();for(let i of n)this.add(i);return this}indexOf(n){return this.has(n)?0:-1}add(n){return n.layers.enable(this.layer),super.add(n),this}delete(n){return this.has(n)&&n.layers.disable(this.layer),super.delete(n)}setVisible(n){for(let i of this)n?i.layers.enable(0):i.layers.disable(0);return this}},Aoe="uniform sampler2D texture;uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(texture,uv)*intensity,0.0,1.0);}",kT=class extends qo{constructor({blendFunction:n=Jn.SCREEN,luminanceThreshold:i=.9,luminanceSmoothing:s=.025,resolutionScale:l=.5,intensity:e=1,width:p=is.AUTO_SIZE,height:v=is.AUTO_SIZE,kernelSize:w=Mx.LARGE}={}){super("BloomEffect",Aoe,{blendFunction:n,uniforms:new Map([["texture",new pe.Uniform(null)],["intensity",new pe.Uniform(e)]])});this.renderTarget=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("texture").value=this.renderTarget.texture,this.blurPass=new gA({resolutionScale:l,width:p,height:v,kernelSize:w}),this.blurPass.resolution.resizable=this,this.luminancePass=new ka(new lF(!0)),this.luminanceMaterial.threshold=i,this.luminanceMaterial.smoothing=s}get texture(){return this.renderTarget.texture}get luminanceMaterial(){return this.luminancePass.getFullscreenMaterial()}get resolution(){return this.blurPass.resolution}get width(){return this.resolution.width}set width(n){this.resolution.width=n}get height(){return this.resolution.height}set height(n){this.resolution.height=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get distinction(){return console.warn(this.name,"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead."),1}set distinction(n){console.warn(this.name,"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.")}get intensity(){return this.uniforms.get("intensity").value}set intensity(n){this.uniforms.get("intensity").value=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}update(n,i,s){let l=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(n,i,l),this.blurPass.render(n,l,l)):this.blurPass.render(n,i,l)}setSize(n,i){this.blurPass.setSize(n,i),this.renderTarget.setSize(this.resolution.width,this.resolution.height)}initialize(n,i,s){this.blurPass.initialize(n,i,s),!i&&s===pe.UnsignedByteType&&(this.renderTarget.texture.format=pe.RGBFormat),s!==void 0&&(this.renderTarget.texture.type=s)}},_oe="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",vF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,brightness:i=0,contrast:s=0}={}){super("BrightnessContrastEffect",_oe,{blendFunction:n,uniforms:new Map([["brightness",new pe.Uniform(i)],["contrast",new pe.Uniform(s)]])})}},Moe="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float sum=inputColor.r+inputColor.g+inputColor.b;outputColor=vec4(vec3(sum/3.0),inputColor.a);}",gF=class extends qo{constructor(n=Jn.NORMAL){super("ColorAverageEffect",Moe,{blendFunction:n})}},Soe="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",yF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,bits:i=16}={}){super("ColorDepthEffect",Soe,{blendFunction:n,uniforms:new Map([["factor",new pe.Uniform(1)]])});this.bits=0,this.setBitDepth(i)}getBitDepth(){return this.bits}setBitDepth(n){this.bits=n,this.uniforms.get("factor").value=Math.pow(2,n/3)}},Toe=`varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 color=inputColor;
#ifdef ALPHA
vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;color.r=ra.x;color.b=ba.x;color.a=max(max(ra.y,ba.y),inputColor.a);
#else
color.r=texture2D(inputBuffer,vUvR).r;color.b=texture2D(inputBuffer,vUvB).b;
#endif
outputColor=color;}`,boe="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vUvR=uv+offset;vUvB=uv-offset;}",xF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,offset:i=new pe.Vector2(.001,5e-4)}={}){super("ChromaticAberrationEffect",Toe,{vertexShader:boe,blendFunction:n,attributes:bu.CONVOLUTION,uniforms:new Map([["offset",new pe.Uniform(i)]])})}get offset(){return this.uniforms.get("offset").value}set offset(n){this.uniforms.get("offset").value=n}initialize(n,i,s){i?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA")}},Coe=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,EF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,inverted:i=!1}={}){super("DepthEffect",Coe,{blendFunction:n,attributes:bu.DEPTH});this.inverted=i}get inverted(){return this.defines.has("INVERTED")}set inverted(n){this.inverted!==n&&(n?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}},Loe="uniform sampler2D nearColorBuffer;uniform sampler2D farColorBuffer;uniform sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",wF=class extends qo{constructor(n,{blendFunction:i=Jn.NORMAL,focusDistance:s=0,focalLength:l=.1,bokehScale:e=1,width:p=is.AUTO_SIZE,height:v=is.AUTO_SIZE}={}){super("DepthOfFieldEffect",Loe,{blendFunction:i,attributes:bu.DEPTH,uniforms:new Map([["nearColorBuffer",new pe.Uniform(null)],["farColorBuffer",new pe.Uniform(null)],["nearCoCBuffer",new pe.Uniform(null)],["scale",new pe.Uniform(1)]])});this.camera=n,this.renderTarget=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.format=pe.RGBFormat,this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new ka(new Hk(n));let w=this.circleOfConfusionMaterial;w.uniforms.focusDistance.value=s,w.uniforms.focalLength.value=l,this.blurPass=new gA({width:p,height:v,kernelSize:Mx.MEDIUM}),this.blurPass.resolution.resizable=this,this.maskPass=new ka(new Jk(this.renderTargetCoC.texture));let E=this.maskPass.getFullscreenMaterial();E.maskFunction=Zk.MULTIPLY_RGB_SET_ALPHA,E.colorChannel=_x.GREEN,this.bokehNearBasePass=new ka(new vA(!1,!0)),this.bokehNearFillPass=new ka(new vA(!0,!0)),this.bokehFarBasePass=new ka(new vA(!1,!1)),this.bokehFarFillPass=new ka(new vA(!0,!1)),this.bokehScale=e,this.target=null}get circleOfConfusionMaterial(){return this.cocPass.getFullscreenMaterial()}get resolution(){return this.blurPass.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(n){let i=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];i.map(s=>s.getFullscreenMaterial().uniforms.scale).forEach(s=>{s.value=n}),this.maskPass.getFullscreenMaterial().uniforms.strength.value=n,this.uniforms.get("scale").value=n}calculateFocusDistance(n){let i=this.camera,s=i.far-i.near,l=i.position.distanceTo(n);return Math.min(Math.max(l/s,0),1)}setDepthTexture(n,i=0){let s=this.circleOfConfusionMaterial;s.uniforms.depthBuffer.value=n,s.depthPacking=i}update(n,i,s){let l=this.renderTarget,e=this.renderTargetCoC,p=this.renderTargetCoCBlurred,v=this.renderTargetMasked,w=this.bokehFarBasePass,E=this.bokehFarFillPass,T=w.getFullscreenMaterial().uniforms,C=E.getFullscreenMaterial().uniforms,R=this.bokehNearBasePass,B=this.bokehNearFillPass,A=R.getFullscreenMaterial().uniforms,H=B.getFullscreenMaterial().uniforms;if(this.target!==null){let G=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.uniforms.focusDistance.value=G}this.cocPass.render(n,null,e),this.blurPass.render(n,e,p),this.maskPass.render(n,i,v),T.cocBuffer.value=C.cocBuffer.value=e.texture,w.render(n,v,l),E.render(n,l,this.renderTargetFar),A.cocBuffer.value=H.cocBuffer.value=p.texture,R.render(n,i,l),B.render(n,l,this.renderTargetNear)}setSize(n,i){let s=this.resolution,l=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];l.push(this.renderTargetCoC,this.renderTargetMasked),l.forEach(w=>w.setSize(n,i));let e=s.width,p=s.height;l=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],l.forEach(w=>w.setSize(e,p));let v=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];v.forEach(w=>w.getFullscreenMaterial().setTexelSize(1/e,1/p))}initialize(n,i,s){let l=[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];l.forEach(e=>e.initialize(n,i,s)),this.blurPass.initialize(n,i,pe.UnsignedByteType),!i&&s===pe.UnsignedByteType&&(this.renderTargetNear.texture.type=pe.RGBFormat),s!==void 0&&(this.renderTarget.texture.type=s,this.renderTargetNear.texture.type=s,this.renderTargetFar.texture.type=s,this.renderTargetMasked.texture.type=s)}},Poe="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",AF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,angle:i=Math.PI*.5,scale:s=1}={}){super("DotScreenEffect",Poe,{blendFunction:n,uniforms:new Map([["angle",new pe.Uniform(new pe.Vector2)],["scale",new pe.Uniform(s)]])});this.setAngle(i)}setAngle(n){this.uniforms.get("angle").value.set(Math.sin(n),Math.cos(n))}};function Roe(t,n,i){let s=new Map([[pe.LuminanceFormat,1],[pe.RedFormat,1],[pe.RGFormat,2],[pe.RGBFormat,3],[pe.RGBAFormat,4]]),l;if(s.has(n)||console.error("Invalid noise texture format"),i===pe.UnsignedByteType){l=new Uint8Array(t*s.get(n));for(let e=0,p=l.length;e<p;++e)l[e]=Math.random()*255}else{l=new Float32Array(t*s.get(n));for(let e=0,p=l.length;e<p;++e)l[e]=Math.random()}return l}var _F=class extends pe.DataTexture{constructor(n,i,s=pe.LuminanceFormat,l=pe.UnsignedByteType){super(Roe(n*i,s,l),n,i,s,l)}},Doe="uniform sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seed;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seed.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seed.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seed*(random*0.2);}}",lG="Glitch.Generated";function Cu(t,n){return t+Math.random()*(n-t)}var MF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,chromaticAberrationOffset:i=null,delay:s=new pe.Vector2(1.5,3.5),duration:l=new pe.Vector2(.6,1),strength:e=new pe.Vector2(.3,1),columns:p=.05,ratio:v=.85,perturbationMap:w=null,dtSize:E=64}={}){super("GlitchEffect",Doe,{blendFunction:n,uniforms:new Map([["perturbationMap",new pe.Uniform(null)],["columns",new pe.Uniform(p)],["active",new pe.Uniform(!1)],["random",new pe.Uniform(1)],["seed",new pe.Uniform(new pe.Vector2)],["distortion",new pe.Uniform(new pe.Vector2)]])});this.setPerturbationMap(w===null?this.generatePerturbationMap(E):w),this.delay=s,this.duration=l,this.breakPoint=new pe.Vector2(Cu(this.delay.x,this.delay.y),Cu(this.duration.x,this.duration.y)),this.time=0,this.seed=this.uniforms.get("seed").value,this.distortion=this.uniforms.get("distortion").value,this.mode=yh.SPORADIC,this.strength=e,this.ratio=v,this.chromaticAberrationOffset=i}get active(){return this.uniforms.get("active").value}getPerturbationMap(){return this.uniforms.get("perturbationMap").value}setPerturbationMap(n){let i=this.getPerturbationMap();i!==null&&i.name===lG&&i.dispose(),n.minFilter=n.magFilter=pe.NearestFilter,n.wrapS=n.wrapT=pe.RepeatWrapping,n.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=n}generatePerturbationMap(n=64){let i=new _F(n,n,pe.RGBFormat);return i.name=lG,i}update(n,i,s){let l=this.mode,e=this.breakPoint,p=this.chromaticAberrationOffset,v=this.strength,w=this.time,E=!1,T=0,C=0,R;l!==yh.DISABLED&&(l===yh.SPORADIC&&(w+=s,R=w>e.x,w>=e.x+e.y&&(e.set(Cu(this.delay.x,this.delay.y),Cu(this.duration.x,this.duration.y)),w=0)),T=Math.random(),this.uniforms.get("random").value=T,R&&T>this.ratio||l===yh.CONSTANT_WILD?(E=!0,T*=v.y*.03,C=Cu(-Math.PI,Math.PI),this.seed.set(Cu(-v.y,v.y),Cu(-v.y,v.y)),this.distortion.set(Cu(0,1),Cu(0,1))):(R||l===yh.CONSTANT_MILD)&&(E=!0,T*=v.x*.03,C=Cu(-Math.PI,Math.PI),this.seed.set(Cu(-v.x,v.x),Cu(-v.x,v.x)),this.distortion.set(Cu(0,1),Cu(0,1))),this.time=w),p!==null&&(E?p.set(Math.cos(C),Math.sin(C)).multiplyScalar(T):p.set(0,0)),this.uniforms.get("active").value=E}},yh={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},Foe="uniform sampler2D texture;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(texture,uv);}",SF=new pe.Vector3,uG=new pe.Matrix4,TF=class extends qo{constructor(n,i,{blendFunction:s=Jn.SCREEN,samples:l=60,density:e=.96,decay:p=.9,weight:v=.4,exposure:w=.6,clampMax:E=1,resolutionScale:T=.5,width:C=is.AUTO_SIZE,height:R=is.AUTO_SIZE,kernelSize:B=Mx.SMALL,blur:A=!0}={}){super("GodRaysEffect",Foe,{blendFunction:s,attributes:bu.DEPTH,uniforms:new Map([["texture",new pe.Uniform(null)]])});this.camera=n,this.lightSource=i,this.lightSource.material.depthWrite=!1,this.lightSource.material.transparent=!0,this.lightScene=new pe.Scene,this.screenPosition=new pe.Vector2,this.renderTargetA=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("texture").value=this.renderTargetB.texture,this.renderTargetLight=this.renderTargetA.clone(),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthBuffer=!0,this.renderTargetLight.depthTexture=new pe.DepthTexture,this.renderPassLight=new gh(this.lightScene,n),this.renderPassLight.getClearPass().overrideClearColor=new pe.Color(0),this.clearPass=new Fm(!0,!1,!1),this.clearPass.overrideClearColor=new pe.Color(0),this.blurPass=new gA({resolutionScale:T,width:C,height:R,kernelSize:B}),this.blurPass.resolution.resizable=this,this.depthMaskPass=new ka((H=>{let G=new Wk;return G.uniforms.depthBuffer1.value=H,G})(this.renderTargetLight.depthTexture)),this.godRaysPass=new ka((()=>{let H=new qk(this.screenPosition);return H.uniforms.density.value=e,H.uniforms.decay.value=p,H.uniforms.weight.value=v,H.uniforms.exposure.value=w,H.uniforms.clampMax.value=E,H})()),this.samples=l,this.blur=A}get texture(){return this.renderTargetB.texture}get godRaysMaterial(){return this.godRaysPass.getFullscreenMaterial()}get resolution(){return this.blurPass.resolution}get width(){return this.resolution.width}set width(n){this.resolution.width=n}get height(){return this.resolution.height}set height(n){this.resolution.height=n}get dithering(){return this.godRaysMaterial.dithering}set dithering(n){let i=this.godRaysMaterial;i.dithering=n,i.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(n){this.blurPass.enabled=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}get samples(){return this.godRaysMaterial.samples}set samples(n){this.godRaysMaterial.samples=n}setDepthTexture(n,i=0){let s=this.depthMaskPass.getFullscreenMaterial();s.uniforms.depthBuffer0.value=n,s.defines.DEPTH_PACKING_0=i.toFixed(0)}update(n,i,s){let l=this.lightSource,e=l.parent,p=l.matrixAutoUpdate,v=this.renderTargetA,w=this.renderTargetLight;l.material.depthWrite=!0,l.matrixAutoUpdate=!1,l.updateWorldMatrix(!0,!1),e!==null&&(p||uG.copy(l.matrix),l.matrix.copy(l.matrixWorld)),this.lightScene.add(l),this.renderPassLight.render(n,w),this.clearPass.render(n,v),this.depthMaskPass.render(n,w,v),l.material.depthWrite=!1,l.matrixAutoUpdate=p,e!==null&&(p||l.matrix.copy(uG),e.add(l)),SF.setFromMatrixPosition(l.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((SF.x+1)*.5,-1),2),Math.min(Math.max((SF.y+1)*.5,-1),2)),this.blur&&this.blurPass.render(n,v,v),this.godRaysPass.render(n,v,this.renderTargetB)}setSize(n,i){this.blurPass.setSize(n,i),this.renderPassLight.setSize(n,i),this.depthMaskPass.setSize(n,i),this.godRaysPass.setSize(n,i);let s=this.resolution.width,l=this.resolution.height;this.renderTargetA.setSize(s,l),this.renderTargetB.setSize(s,l),this.renderTargetLight.setSize(s,l)}initialize(n,i,s){this.blurPass.initialize(n,i,s),this.renderPassLight.initialize(n,i,s),this.depthMaskPass.initialize(n,i,s),this.godRaysPass.initialize(n,i,s),!i&&s===pe.UnsignedByteType&&(this.renderTargetA.texture.format=pe.RGBFormat,this.renderTargetB.texture.format=pe.RGBFormat,this.renderTargetLight.texture.format=pe.RGBFormat),s!==void 0&&(this.renderTargetA.texture.type=s,this.renderTargetB.texture.type=s,this.renderTargetLight.texture.type=s)}},Boe="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",bF=class extends qo{constructor({blendFunction:n=Jn.OVERLAY,scale:i=1,lineWidth:s=0}={}){super("GridEffect",Boe,{blendFunction:n,uniforms:new Map([["scale",new pe.Uniform(new pe.Vector2)],["lineWidth",new pe.Uniform(s)]])});this.resolution=new pe.Vector2,this.scale=Math.max(i,1e-6),this.lineWidth=Math.max(s,0)}getScale(){return this.scale}setScale(n){this.scale=n,this.setSize(this.resolution.x,this.resolution.y)}getLineWidth(){return this.lineWidth}setLineWidth(n){this.lineWidth=n,this.setSize(this.resolution.x,this.resolution.y)}setSize(n,i){this.resolution.set(n,i);let s=n/i,l=this.scale*(i*.125);this.uniforms.get("scale").value.set(s*l,l),this.uniforms.get("lineWidth").value=l/i+this.lineWidth}},Noe="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",CF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,hue:i=0,saturation:s=0}={}){super("HueSaturationEffect",Noe,{blendFunction:n,uniforms:new Map([["hue",new pe.Uniform(new pe.Vector3)],["saturation",new pe.Uniform(s)]])});this.setHue(i)}setHue(n){let i=Math.sin(n),s=Math.cos(n);this.uniforms.get("hue").value.set(2*s,-Math.sqrt(3)*i-s,Math.sqrt(3)*i-s).addScalar(1).divideScalar(3)}},Ioe=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,LF=class extends qo{constructor({blendFunction:n=Jn.SCREEN,premultiply:i=!1}={}){super("NoiseEffect",Ioe,{blendFunction:n});this.premultiply=i}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(n){this.premultiply!==n&&(n?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}},Ooe=`uniform sampler2D edgeTexture;uniform sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)? 1.0 : hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,Uoe="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",PF=class extends qo{constructor(n,i,{blendFunction:s=Jn.SCREEN,patternTexture:l=null,edgeStrength:e=1,pulseSpeed:p=0,visibleEdgeColor:v=16777215,hiddenEdgeColor:w=2230538,resolutionScale:E=.5,width:T=is.AUTO_SIZE,height:C=is.AUTO_SIZE,kernelSize:R=Mx.VERY_SMALL,blur:B=!1,xRay:A=!0}={}){super("OutlineEffect",Ooe,{uniforms:new Map([["maskTexture",new pe.Uniform(null)],["edgeTexture",new pe.Uniform(null)],["edgeStrength",new pe.Uniform(e)],["visibleEdgeColor",new pe.Uniform(new pe.Color(v))],["hiddenEdgeColor",new pe.Uniform(new pe.Color(w))],["pulse",new pe.Uniform(1)],["patternScale",new pe.Uniform(1)],["patternTexture",new pe.Uniform(null)]])});this.blendMode.addEventListener("change",G=>{this.blendMode.getBlendFunction()===Jn.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.setBlendFunction(s),this.setPatternTexture(l),this.xRay=A,this.scene=n,this.camera=i,this.renderTargetMask=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,format:pe.RGBFormat}),this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=this.renderTargetMask.clone(),this.renderTargetOutline.texture.name="Outline.Edges",this.renderTargetOutline.depthBuffer=!1,this.renderTargetBlurredOutline=this.renderTargetOutline.clone(),this.renderTargetBlurredOutline.texture.name="Outline.BlurredEdges",this.clearPass=new Fm,this.clearPass.overrideClearColor=new pe.Color(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new rG(n,i),this.maskPass=new gh(n,i,new Vk(this.depthPass.texture,i));let H=this.maskPass.getClearPass();H.overrideClearColor=new pe.Color(16777215),H.overrideClearAlpha=1,this.blurPass=new gA({resolutionScale:E,width:T,height:C,kernelSize:R}),this.blurPass.resolution.resizable=this,this.blur=B,this.outlinePass=new ka(new Kk),this.outlinePass.getFullscreenMaterial().uniforms.inputBuffer.value=this.renderTargetMask.texture,this.time=0,this.selection=new mF,this.pulseSpeed=p}get resolution(){return this.blurPass.resolution}get width(){return this.resolution.width}set width(n){this.resolution.width=n}get height(){return this.resolution.height}set height(n){this.resolution.height=n}get selectionLayer(){return this.selection.layer}set selectionLayer(n){this.selection.layer=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get blur(){return this.blurPass.enabled}set blur(n){this.blurPass.enabled=n,this.uniforms.get("edgeTexture").value=n?this.renderTargetBlurredOutline.texture:this.renderTargetOutline.texture}get xRay(){return this.defines.has("X_RAY")}set xRay(n){this.xRay!==n&&(n?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}setPatternTexture(n){n!==null?(n.wrapS=n.wrapT=pe.RepeatWrapping,this.defines.set("USE_PATTERN","1"),this.uniforms.get("patternTexture").value=n,this.setVertexShader(Uoe)):(this.defines.delete("USE_PATTERN"),this.uniforms.get("patternTexture").value=null,this.setVertexShader(null)),this.setChanged()}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}setSelection(n){return this.selection.set(n),this}clearSelection(){return this.selection.clear(),this}selectObject(n){return this.selection.add(n),this}deselectObject(n){return this.selection.delete(n),this}update(n,i,s){let l=this.scene,e=this.camera,p=this.selection,v=this.uniforms.get("pulse"),w=l.background,E=e.layers.mask;p.size>0?(l.background=null,v.value=1,this.pulseSpeed>0&&(v.value=.625+Math.cos(this.time*this.pulseSpeed*10)*.375),this.time+=s,p.setVisible(!1),this.depthPass.render(n),p.setVisible(!0),e.layers.set(p.layer),this.maskPass.render(n,this.renderTargetMask),e.layers.mask=E,l.background=w,this.outlinePass.render(n,null,this.renderTargetOutline),this.blur&&this.blurPass.render(n,this.renderTargetOutline,this.renderTargetBlurredOutline)):this.time>0&&(this.clearPass.render(n,this.renderTargetMask),this.time=0)}setSize(n,i){this.blurPass.setSize(n,i),this.renderTargetMask.setSize(n,i);let s=this.resolution.width,l=this.resolution.height;this.depthPass.setSize(s,l),this.renderTargetOutline.setSize(s,l),this.renderTargetBlurredOutline.setSize(s,l),this.outlinePass.getFullscreenMaterial().setTexelSize(1/s,1/l)}initialize(n,i,s){this.blurPass.initialize(n,i,pe.UnsignedByteType),s!==void 0&&(this.depthPass.initialize(n,i,s),this.maskPass.initialize(n,i,s),this.outlinePass.initialize(n,i,s))}},koe="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",RF=class extends qo{constructor(n=30){super("PixelationEffect",koe,{uniforms:new Map([["active",new pe.Uniform(!1)],["d",new pe.Uniform(new pe.Vector2)]])});this.resolution=new pe.Vector2,this.granularity=n}getGranularity(){return this.granularity}setGranularity(n){n=Math.floor(n),n%2>0&&(n+=1);let i=this.uniforms;i.get("active").value=n>0,i.get("d").value.set(n,n).divide(this.resolution),this.granularity=n}setSize(n,i){this.resolution.set(n,i),this.setGranularity(this.granularity)}},Goe="uniform float count;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 sl=vec2(sin(uv.y*count),cos(uv.y*count));vec3 scanlines=vec3(sl.x,sl.y,sl.x);outputColor=vec4(scanlines,inputColor.a);}",DF=class extends qo{constructor({blendFunction:n=Jn.OVERLAY,density:i=1.25}={}){super("ScanlineEffect",Goe,{blendFunction:n,uniforms:new Map([["count",new pe.Uniform(0)]])});this.resolution=new pe.Vector2,this.density=i}getDensity(){return this.density}setDensity(n){this.density=n,this.setSize(this.resolution.x,this.resolution.y)}setSize(n,i){this.resolution.set(n,i),this.uniforms.get("count").value=Math.round(i*this.density)}},Vue=Math.PI*.5,Wue=new pe.Vector3,jue=new pe.Vector3,FF=class extends kT{constructor(n,i,s){super(s);this.scene=n,this.camera=i,this.clearPass=new Fm(!0,!0,!1),this.clearPass.overrideClearColor=new pe.Color(0),this.renderPass=new gh(n,i),this.renderPass.clear=!1,this.blackoutPass=new gh(n,i,new pe.MeshBasicMaterial({color:0})),this.blackoutPass.clear=!1,this.backgroundPass=(()=>{let l=new pe.Scene,e=new gh(l,i);return l.background=n.background,e.clear=!1,e})(),this.renderTargetSelection=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!0}),this.renderTargetSelection.texture.name="Bloom.Selection",this.renderTargetSelection.texture.generateMipmaps=!1,this.selection=new mF,this.inverted=!1}get ignoreBackground(){return!this.backgroundPass.enabled}set ignoreBackground(n){this.backgroundPass.enabled=!n}update(n,i,s){let l=this.scene,e=this.camera,p=this.selection,v=this.renderTargetSelection,w=l.background,E=e.layers.mask;this.clearPass.render(n,v),this.ignoreBackground||this.backgroundPass.render(n,v),l.background=null,this.inverted?(e.layers.set(p.layer),this.blackoutPass.render(n,v),e.layers.mask=E,p.setVisible(!1),this.renderPass.render(n,v),p.setVisible(!0)):(p.setVisible(!1),this.blackoutPass.render(n,v),p.setVisible(!0),e.layers.set(p.layer),this.renderPass.render(n,v),e.layers.mask=E),l.background=w,super.update(n,v,s)}setSize(n,i){super.setSize(n,i),this.backgroundPass.setSize(n,i),this.blackoutPass.setSize(n,i),this.renderPass.setSize(n,i),this.renderTargetSelection.setSize(this.resolution.width,this.resolution.height)}initialize(n,i,s){super.initialize(n,i,s),this.backgroundPass.initialize(n,i,s),this.blackoutPass.initialize(n,i,s),this.renderPass.initialize(n,i,s),!i&&s===pe.UnsignedByteType&&(this.renderTargetSelection.texture.format=pe.RGBFormat),s!==void 0&&(this.renderTargetSelection.texture.type=s)}},Xoe="uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,vec3(1.0-0.607*intensity,0.769*intensity,0.189*intensity)),dot(inputColor.rgb,vec3(0.349*intensity,1.0-0.314*intensity,0.168*intensity)),dot(inputColor.rgb,vec3(0.272*intensity,0.534*intensity,1.0-0.869*intensity)));outputColor=vec4(color,inputColor.a);}",BF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,intensity:i=1}={}){super("SepiaEffect",Xoe,{blendFunction:n,uniforms:new Map([["intensity",new pe.Uniform(i)]])})}},Hoe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",zoe="data:image/png;base64,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",Yoe="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",Voe="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",NF=class extends qo{constructor(n,i,s=Vv.HIGH,l=UT.COLOR){super("SMAAEffect",Yoe,{vertexShader:Voe,blendFunction:Jn.NORMAL,attributes:bu.CONVOLUTION|bu.DEPTH,uniforms:new Map([["weightMap",new pe.Uniform(null)]])});this.renderTargetEdges=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1,format:pe.RGBFormat}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.renderTargetWeights.texture.format=pe.RGBAFormat,this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new Fm(!0,!1,!1),this.clearPass.overrideClearColor=new pe.Color(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new ka(new jk(new pe.Vector2,l)),this.weightsPass=new ka(new $k);let e=new pe.Texture(n);e.name="SMAA.Search",e.magFilter=pe.NearestFilter,e.minFilter=pe.NearestFilter,e.format=pe.RGBAFormat,e.generateMipmaps=!1,e.needsUpdate=!0,e.flipY=!0;let p=new pe.Texture(i);p.name="SMAA.Area",p.minFilter=pe.LinearFilter,p.format=pe.RGBAFormat,p.generateMipmaps=!1,p.needsUpdate=!0,p.flipY=!1;let v=this.weightsPass.getFullscreenMaterial();v.uniforms.searchTexture.value=e,v.uniforms.areaTexture.value=p,this.applyPreset(s)}get edgeDetectionMaterial(){return this.edgeDetectionPass.getFullscreenMaterial()}get colorEdgesMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.getFullscreenMaterial()}setEdgeDetectionThreshold(n){this.edgeDetectionPass.getFullscreenMaterial().setEdgeDetectionThreshold(n)}setOrthogonalSearchSteps(n){this.weightsPass.getFullscreenMaterial().setOrthogonalSearchSteps(n)}applyPreset(n){let i=this.edgeDetectionMaterial,s=this.weightsMaterial;switch(n){case Vv.LOW:i.setEdgeDetectionThreshold(.15),s.setOrthogonalSearchSteps(4),s.diagonalDetection=!1,s.cornerRounding=!1;break;case Vv.MEDIUM:i.setEdgeDetectionThreshold(.1),s.setOrthogonalSearchSteps(8),s.diagonalDetection=!1,s.cornerRounding=!1;break;case Vv.HIGH:i.setEdgeDetectionThreshold(.1),s.setOrthogonalSearchSteps(16),s.setDiagonalSearchSteps(8),s.setCornerRounding(25),s.diagonalDetection=!0,s.cornerRounding=!0;break;case Vv.ULTRA:i.setEdgeDetectionThreshold(.05),s.setOrthogonalSearchSteps(32),s.setDiagonalSearchSteps(16),s.setCornerRounding(25),s.diagonalDetection=!0,s.cornerRounding=!0;break}}setDepthTexture(n,i=0){let s=this.edgeDetectionMaterial;s.uniforms.depthBuffer.value=n,s.depthPacking=i}update(n,i,s){this.clearPass.render(n,this.renderTargetEdges),this.edgeDetectionPass.render(n,i,this.renderTargetEdges),this.weightsPass.render(n,this.renderTargetEdges,this.renderTargetWeights)}setSize(n,i){let s=this.edgeDetectionPass.getFullscreenMaterial(),l=this.weightsPass.getFullscreenMaterial();this.renderTargetEdges.setSize(n,i),this.renderTargetWeights.setSize(n,i),l.uniforms.resolution.value.set(n,i),l.uniforms.texelSize.value.set(1/n,1/i),s.uniforms.texelSize.value.copy(l.uniforms.texelSize.value)}dispose(){let n=this.weightsPass.getFullscreenMaterial().uniforms;n.searchTexture.value.dispose(),n.areaTexture.value.dispose(),super.dispose()}static get searchImageDataURL(){return Hoe}static get areaImageDataURL(){return zoe}},Vv={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},Woe=`uniform sampler2D aoBuffer;uniform float luminanceInfluence;
#ifdef DEPTH_AWARE_UPSAMPLING
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && __VERSION__ == 300
vec4 normalDepth[4]=vec4[](textureOffset(normalDepthBuffer,uv,ivec2(0,0)),textureOffset(normalDepthBuffer,uv,ivec2(0,1)),textureOffset(normalDepthBuffer,uv,ivec2(1,0)),textureOffset(normalDepthBuffer,uv,ivec2(1,1)));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4]=ivec2[](ivec2(0,0),ivec2(0,1),ivec2(1,0),ivec2(1,1));ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=linearToRelativeLuminance(inputColor.rgb);ao=mix(ao,1.0,l*luminanceInfluence);
#ifdef COLORIZE
outputColor=vec4(1.0-(1.0-ao)*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(ao),inputColor.a);
#endif
}`,IF=64,OF=class extends qo{constructor(n,i,{blendFunction:s=Jn.MULTIPLY,distanceScaling:l=!0,depthAwareUpsampling:e=!0,normalDepthBuffer:p=null,samples:v=9,rings:w=7,distanceThreshold:E=.97,distanceFalloff:T=.03,rangeThreshold:C=5e-4,rangeFalloff:R=.001,minRadiusScale:B=.33,luminanceInfluence:A=.7,radius:H=.1825,intensity:G=1,bias:O=.025,fade:U=.01,color:$=null,resolutionScale:ie=1,width:ue=is.AUTO_SIZE,height:K=is.AUTO_SIZE}={}){super("SSAOEffect",Woe,{blendFunction:s,attributes:bu.DEPTH,uniforms:new Map([["aoBuffer",new pe.Uniform(null)],["normalDepthBuffer",new pe.Uniform(null)],["luminanceInfluence",new pe.Uniform(A)],["color",new pe.Uniform(null)],["scale",new pe.Uniform(0)]])});this.renderTargetAO=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1,format:pe.RGBFormat}),this.renderTargetAO.texture.name="AO.Target",this.renderTargetAO.texture.generateMipmaps=!1,this.uniforms.get("aoBuffer").value=this.renderTargetAO.texture,this.resolution=new is(this,ue,K,ie),this.r=1,this.camera=n,this.ssaoPass=new ka((()=>{let ce=new _F(IF,IF);ce.wrapS=ce.wrapT=pe.RepeatWrapping;let ve=new eG(n);return ve.uniforms.noiseTexture.value=ce,ve.uniforms.intensity.value=G,ve.uniforms.minRadiusScale.value=B,ve.uniforms.fade.value=U,ve.uniforms.bias.value=O,p!==null?(ve.uniforms.normalDepthBuffer.value=p,ve.defines.NORMAL_DEPTH="1",e&&(this.depthAwareUpsampling=e,this.uniforms.get("normalDepthBuffer").value=p,this.defines.set("THRESHOLD","0.997"))):ve.uniforms.normalBuffer.value=i,ve})()),this.distanceScaling=l,this.samples=v,this.rings=w,this.color=$,this.radius=H>1?H/100:H,this.setDistanceCutoff(E,T),this.setProximityCutoff(C,R)}get ssaoMaterial(){return this.ssaoPass.getFullscreenMaterial()}get samples(){return Number(this.ssaoMaterial.defines.SAMPLES_INT)}set samples(n){let i=this.ssaoMaterial;i.defines.SAMPLES_INT=n.toFixed(0),i.defines.SAMPLES_FLOAT=n.toFixed(1),i.needsUpdate=!0}get rings(){return Number(this.ssaoMaterial.defines.SPIRAL_TURNS)}set rings(n){let i=this.ssaoMaterial;i.defines.SPIRAL_TURNS=n.toFixed(1),i.needsUpdate=!0}get radius(){return this.r}set radius(n){this.r=Math.min(Math.max(n,1e-6),1);let i=this.r*this.resolution.height,s=this.ssaoMaterial;s.defines.RADIUS=i.toFixed(11),s.defines.RADIUS_SQ=(i*i).toFixed(11),s.needsUpdate=!0}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(n){this.depthAwareUpsampling!==n&&(n?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}get distanceScaling(){return this.ssaoMaterial.defines.DISTANCE_SCALING!==void 0}set distanceScaling(n){if(this.distanceScaling!==n){let i=this.ssaoMaterial;n?i.defines.DISTANCE_SCALING="1":delete i.defines.DISTANCE_SCALING,i.needsUpdate=!0}}get color(){return this.uniforms.get("color").value}set color(n){let i=this.uniforms,s=this.defines;n!==null?s.has("COLORIZE")?i.get("color").value.set(n):(s.set("COLORIZE","1"),i.get("color").value=new pe.Color(n),this.setChanged()):s.has("COLORIZE")&&(s.delete("COLORIZE"),i.get("color").value=null,this.setChanged())}setDistanceCutoff(n,i){this.ssaoMaterial.uniforms.distanceCutoff.value.set(Math.min(Math.max(n,0),1),Math.min(Math.max(n+i,0),1))}setProximityCutoff(n,i){this.ssaoMaterial.uniforms.proximityCutoff.value.set(Math.min(Math.max(n,0),1),Math.min(Math.max(n+i,0),1))}setDepthTexture(n,i=0){let s=this.ssaoMaterial;s.defines.NORMAL_DEPTH===void 0&&(s.uniforms.normalDepthBuffer.value=n,s.depthPacking=i)}update(n,i,s){this.ssaoPass.render(n,null,this.renderTargetAO)}setSize(n,i){let s=this.resolution;s.base.set(n,i);let l=s.width,e=s.height;this.renderTargetAO.setSize(l,e),this.ssaoMaterial.setTexelSize(1/l,1/e);let p=this.camera,v=this.ssaoMaterial.uniforms;v.noiseScale.value.set(l,e).divideScalar(IF),v.inverseProjectionMatrix.value.getInverse(p.projectionMatrix),v.projectionMatrix.value.copy(p.projectionMatrix),this.radius=this.r}},joe=`uniform sampler2D texture;
#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)
varying vec2 vUv2;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)
vec4 texel=texelToLinear(texture2D(texture,vUv2));
#else
vec4 texel=texelToLinear(texture2D(texture,uv));
#endif
outputColor=TEXEL;}`,cG=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,UF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,texture:i=null,aspectCorrection:s=!1}={}){super("TextureEffect",joe,{blendFunction:n,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["texture",new pe.Uniform(null)],["scale",new pe.Uniform(1)],["uvTransform",new pe.Uniform(null)]])});this.texture=i,this.aspectCorrection=s}get texture(){return this.uniforms.get("texture").value}set texture(n){let i=this.texture;if(i!==n){let s=i!==null?i.encoding:null;this.uniforms.get("texture").value=n,n!==null&&(n.encoding===pe.sRGBEncoding?this.defines.set("texelToLinear(texel)","sRGBToLinear(texel)"):n.encoding===pe.LinearEncoding?this.defines.set("texelToLinear(texel)","texel"):console.log("Unsupported encoding: "+n.encoding),s!==n.encoding&&this.setChanged())}}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(n){this.aspectCorrection!==n&&(n?(this.uvTransform&&(this.uvTransform=!1),this.defines.set("ASPECT_CORRECTION","1"),this.setVertexShader(cG)):(this.defines.delete("ASPECT_CORRECTION"),this.setVertexShader(null)),this.setChanged())}get uvTransform(){return this.defines.has("UV_TRANSFORM")}set uvTransform(n){this.uvTransform!==n&&(n?(this.aspectCorrection&&(this.aspectCorrection=!1),this.defines.set("UV_TRANSFORM","1"),this.uniforms.get("uvTransform").value=new pe.Matrix3,this.setVertexShader(cG)):(this.defines.delete("UV_TRANSFORM"),this.uniforms.get("uvTransform").value=null,this.setVertexShader(null)),this.setChanged())}setTextureSwizzleRGBA(n,i=n,s=n,l=n){let e="rgba",p="";(n!==_x.RED||i!==_x.GREEN||s!==_x.BLUE||l!==_x.ALPHA)&&(p=[".",e[n],e[i],e[s],e[l]].join("")),this.defines.set("TEXEL","texel"+p),this.setChanged()}update(n,i,s){let l=this.uniforms.get("texture").value;this.uvTransform&&l.matrixAutoUpdate&&(l.updateMatrix(),this.uniforms.get("uvTransform").value.copy(l.matrix))}},Qoe=`uniform sampler2D luminanceMap;uniform float middleGrey;uniform float maxLuminance;uniform float averageLuminance;vec3 toneMap(vec3 c){
#ifdef ADAPTED_LUMINANCE
float lumAvg=texture2D(luminanceMap,vec2(0.5)).r;
#else
float lumAvg=averageLuminance;
#endif
float lumPixel=linearToRelativeLuminance(c);float lumScaled=(lumPixel*middleGrey)/lumAvg;float lumCompressed=(lumScaled*(1.0+(lumScaled/(maxLuminance*maxLuminance))))/(1.0+lumScaled);return lumCompressed*c;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(toneMap(inputColor.rgb),inputColor.a);}`,kF=class extends qo{constructor({blendFunction:n=Jn.NORMAL,adaptive:i=!0,resolution:s=256,middleGrey:l=.6,maxLuminance:e=16,averageLuminance:p=1,adaptationRate:v=2}={}){super("ToneMappingEffect",Qoe,{blendFunction:n,uniforms:new Map([["luminanceMap",new pe.Uniform(null)],["middleGrey",new pe.Uniform(l)],["maxLuminance",new pe.Uniform(e)],["averageLuminance",new pe.Uniform(p)]])});this.renderTargetLuminance=new pe.WebGLRenderTarget(1,1,{minFilter:pe.LinearMipmapLinearFilter!==void 0?pe.LinearMipmapLinearFilter:pe.LinearMipMapLinearFilter,magFilter:pe.LinearFilter,stencilBuffer:!1,depthBuffer:!1,format:pe.RGBFormat}),this.renderTargetLuminance.texture.name="ToneMapping.Luminance",this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetAdapted=this.renderTargetLuminance.clone(),this.renderTargetAdapted.texture.name="ToneMapping.AdaptedLuminance",this.renderTargetAdapted.texture.generateMipmaps=!1,this.renderTargetAdapted.texture.minFilter=pe.LinearFilter,this.renderTargetPrevious=this.renderTargetAdapted.clone(),this.renderTargetPrevious.texture.name="ToneMapping.PreviousLuminance",this.savePass=new aG(this.renderTargetPrevious,!1),this.luminancePass=new ka(new lF);let w=this.luminancePass.getFullscreenMaterial();w.useThreshold=!1,this.adaptiveLuminancePass=new ka(new Xk);let E=this.adaptiveLuminancePass.getFullscreenMaterial().uniforms;E.previousLuminanceBuffer.value=this.renderTargetPrevious.texture,E.currentLuminanceBuffer.value=this.renderTargetLuminance.texture,this.adaptationRate=v,this.resolution=s,this.adaptive=i}get resolution(){return this.renderTargetLuminance.width}set resolution(n){let i=Math.max(0,Math.ceil(Math.log2(n))),s=Math.pow(2,i);this.renderTargetLuminance.setSize(s,s),this.renderTargetPrevious.setSize(s,s),this.renderTargetAdapted.setSize(s,s);let l=this.adaptiveLuminancePass.getFullscreenMaterial();l.defines.MIP_LEVEL_1X1=i.toFixed(1),l.needsUpdate=!0}get adaptive(){return this.defines.has("ADAPTED_LUMINANCE")}set adaptive(n){this.adaptive!==n&&(n?(this.defines.set("ADAPTED_LUMINANCE","1"),this.uniforms.get("luminanceMap").value=this.renderTargetAdapted.texture):(this.defines.delete("ADAPTED_LUMINANCE"),this.uniforms.get("luminanceMap").value=null),this.setChanged())}get adaptationRate(){return this.adaptiveLuminancePass.getFullscreenMaterial().uniforms.tau.value}set adaptationRate(n){this.adaptiveLuminancePass.getFullscreenMaterial().uniforms.tau.value=n}get distinction(){return console.warn(this.name,"The distinction field has been removed."),1}set distinction(n){console.warn(this.name,"The distinction field has been removed.")}update(n,i,s){if(this.adaptive){this.luminancePass.render(n,i,this.renderTargetLuminance);let l=this.adaptiveLuminancePass.getFullscreenMaterial().uniforms;l.deltaTime.value=s,this.adaptiveLuminancePass.render(n,null,this.renderTargetAdapted),this.savePass.render(n,this.renderTargetAdapted)}}setSize(n,i){this.savePass.setSize(n,i)}initialize(n,i,s){let l=new Fm(!0,!1,!1);l.overrideClearColor=new pe.Color(8388607),l.render(n,this.renderTargetPrevious),l.dispose()}},qoe=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#ifdef ESKIL
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#else
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#endif
outputColor=vec4(color,inputColor.a);}`,GF=class extends qo{constructor(n={}){let i=Object.assign({blendFunction:Jn.NORMAL,eskil:!1,offset:.5,darkness:.5},n);super("VignetteEffect",qoe,{blendFunction:i.blendFunction,uniforms:new Map([["offset",new pe.Uniform(i.offset)],["darkness",new pe.Uniform(i.darkness)]])});this.eskil=i.eskil}get eskil(){return this.defines.has("ESKIL")}set eskil(n){this.eskil!==n&&(n?this.defines.set("ESKIL","1"):this.defines.delete("ESKIL"),this.setChanged())}};function Joe(t,n,i){let s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),l=s.getContext("2d"),e=l.createImageData(t,n);return e.data.set(i),s.width=t,s.height=n,l.putImageData(e,0,0),s}var yA=class{constructor(n=0,i=0,s=null){this.width=n,this.height=i,this.data=s}toCanvas(){return typeof document=="undefined"?null:Joe(this.width,this.height,this.data)}static from(n){return new yA(n.width,n.height,n.data)}},XF=class{constructor(n=0,i=0){this.x=n,this.y=i}set(n,i){return this.x=n,this.y=i,this}equals(n){return this===n||this.x===n.x&&this.y===n.y}},HF=class{constructor(){this.min=new XF,this.max=new XF}},Que=new HF,que=new HF,Jue=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),Zue=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],Kue=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],$ue=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])],ece=new Map([[yl([0,0,0,0]),[0,0,0,0]],[yl([0,0,0,1]),[0,0,0,1]],[yl([0,0,1,0]),[0,0,1,0]],[yl([0,0,1,1]),[0,0,1,1]],[yl([0,1,0,0]),[0,1,0,0]],[yl([0,1,0,1]),[0,1,0,1]],[yl([0,1,1,0]),[0,1,1,0]],[yl([0,1,1,1]),[0,1,1,1]],[yl([1,0,0,0]),[1,0,0,0]],[yl([1,0,0,1]),[1,0,0,1]],[yl([1,0,1,0]),[1,0,1,0]],[yl([1,0,1,1]),[1,0,1,1]],[yl([1,1,0,0]),[1,1,0,0]],[yl([1,1,0,1]),[1,1,0,1]],[yl([1,1,1,0]),[1,1,1,0]],[yl([1,1,1,1]),[1,1,1,1]]]);function zF(t,n,i){return t+(n-t)*i}function yl(t){let n=zF(t[0],t[1],1-.25),i=zF(t[2],t[3],1-.25);return zF(n,i,1-.125)}var Zoe=`!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}var n=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,t),this.width=a,this.height=n,this.data=s}return a(t,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:(e=this.width,t=this.height,a=this.data,n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),s=n.getContext("2d"),(r=s.createImageData(e,t)).data.set(a),n.width=e,n.height=t,s.putImageData(r,0,0),n);var e,t,a,n,s,r}}],[{key:"from",value:function(e){return new t(e.width,e.height,e.data)}}]),t}(),s=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.x=a,this.y=n}return a(t,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y}}]),t}(),r=function t(){e(this,t),this.min=new s,this.max=new s},i=new r,y=new r,c=16,u=30,h=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),o=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],w=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],x=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function f(e,t,a){return e+(t-e)*a}function l(e,t){var a,n=t.min,s=t.max,r=.5*Math.sqrt(2*n.x),i=.5*Math.sqrt(2*n.y),y=.5*Math.sqrt(2*s.x),c=.5*Math.sqrt(2*s.y),u=(a=e/32,Math.min(Math.max(a,0),1));return n.set(f(r,n.x,u),f(i,n.y,u)),s.set(f(y,s.x,u),f(c,s.y,u)),t}function b(e,t,a,n){var s,r,i,y,c=t.x-e.x,u=t.y-e.y,h=a,o=a+1,w=e.y+u*(h-e.x)/c,x=e.y+u*(o-e.x)/c;return h>=e.x&&h<t.x||o>e.x&&o<=t.x?Math.sign(w)===Math.sign(x)||Math.abs(w)<1e-4||Math.abs(x)<1e-4?(s=(w+x)/2)<0?n.set(Math.abs(s),0):n.set(0,Math.abs(s)):(r=(y=-e.y*c/u+e.x)>e.x?w*(y-Math.trunc(y))/2:0,i=y<t.x?x*(1-(y-Math.trunc(y)))/2:0,(s=Math.abs(r)>Math.abs(i)?r:-i)<0?n.set(Math.abs(r),Math.abs(i)):n.set(Math.abs(i),Math.abs(r))):n.set(0,0),n}function A(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=y,w=.5+n,x=.5+n-1,f=t+a+1;switch(e){case 0:s.set(0,0);break;case 1:t<=a?b(r.set(0,x),c.set(f/2,0),t,s):s.set(0,0);break;case 2:t>=a?b(r.set(f/2,0),c.set(f,x),t,s):s.set(0,0);break;case 3:b(r.set(0,x),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,x),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 4:t<=a?b(r.set(0,w),c.set(f/2,0),t,s):s.set(0,0);break;case 5:s.set(0,0);break;case 6:Math.abs(n)>0?(b(r.set(0,w),c.set(f,x),t,u),b(r.set(0,w),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,x),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,w),c.set(f,x),t,s);break;case 7:b(r.set(0,w),c.set(f,x),t,s);break;case 8:t>=a?b(r.set(f/2,0),c.set(f,w),t,s):s.set(0,0);break;case 9:Math.abs(n)>0?(b(r.set(0,x),c.set(f,w),t,u),b(r.set(0,x),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,w),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,x),c.set(f,w),t,s);break;case 10:s.set(0,0);break;case 11:b(r.set(0,x),c.set(f,w),t,s);break;case 12:b(r.set(0,w),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,w),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 13:b(r.set(0,x),c.set(f,w),t,s);break;case 14:b(r.set(0,w),c.set(f,x),t,s);break;case 15:s.set(0,0)}return s}function v(e,t,a,n){var s=e.equals(t);if(!s){var r=(e.x+t.x)/2,i=(e.y+t.y)/2;s=(t.y-e.y)*(a-r)+(e.x-t.x)*(n-i)>0}return s}function k(e,t,a,n){var s,r,i;for(s=0,i=0;i<u;++i)for(r=0;r<u;++r)v(e,t,a+r/29,n+i/29)&&++s;return s/900}function U(e,t,a,n,s,r){var i=x[e],y=i[0],c=i[1];return y>0&&(t.x+=s[0],t.y+=s[1]),c>0&&(a.x+=s[0],a.y+=s[1]),r.set(1-k(t,a,1+n,0+n),k(t,a,1+n,1+n))}function d(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=t+a+1;switch(e){case 0:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 1:U(e,r.set(1,0),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 2:U(e,r.set(0,0),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 3:U(e,r.set(1,0),c.set(1+o,0+o),t,n,s);break;case 4:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 5:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 6:U(e,r.set(1,1),c.set(1+o,0+o),t,n,s);break;case 7:U(e,r.set(1,1),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 8:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 9:U(e,r.set(1,0),c.set(1+o,1+o),t,n,s);break;case 10:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 11:U(e,r.set(1,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 12:U(e,r.set(1,1),c.set(1+o,1+o),t,n,s);break;case 13:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 14:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 15:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2)}return s}function g(e,t,a){var n,r,i,y,c,u,h,o,w=new s;for(n=0,r=e.length;n<r;++n)for(h=(u=e[n]).data,o=u.width,y=0;y<o;++y)for(i=0;i<o;++i)a?A(n,i,y,t,w):d(n,i,y,t,w),h[c=2*(y*o+i)]=255*w.x,h[c+1]=255*w.y}function m(e,t,a,n,r,i){var y,c,u,h,o,w,x,f,l,b,A=new s,v=i.data,k=i.width;for(y=0,c=t.length;y<c;++y)for(x=a[y],l=(f=t[y]).data,b=f.width,h=0;h<n;++h)for(u=0;u<n;++u)A.set(x[0]*n+e.x+u,x[1]*n+e.y+h),w=r?2*(h*h*b+u*u):2*(h*b+u),v[o=4*(A.y*k+A.x)]=l[w],v[o+1]=l[w+1],v[o+2]=0,v[o+3]=255}var M=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a=5*h.length*c,r=new Uint8ClampedArray(160*a*4),i=new n(160,a,r),y=Math.pow(15,2)+1,u=[],f=[],l=new s;for(e=0;e<16;++e)u.push(new n(y,y,new Uint8ClampedArray(y*y*2),2)),f.push(new n(20,20,new Uint8ClampedArray(800),2));for(e=0,t=h.length;e<t;++e)g(u,h[e],!0),l.set(0,80*e),m(l,u,w,c,!0,i);for(e=0,t=o.length;e<t;++e)g(f,o[e],!1),l.set(80,80*e),m(l,f,x,20,!1,i);return i}}]),t}(),p=new Map([[q([0,0,0,0]),[0,0,0,0]],[q([0,0,0,1]),[0,0,0,1]],[q([0,0,1,0]),[0,0,1,0]],[q([0,0,1,1]),[0,0,1,1]],[q([0,1,0,0]),[0,1,0,0]],[q([0,1,0,1]),[0,1,0,1]],[q([0,1,1,0]),[0,1,1,0]],[q([0,1,1,1]),[0,1,1,1]],[q([1,0,0,0]),[1,0,0,0]],[q([1,0,0,1]),[1,0,0,1]],[q([1,0,1,0]),[1,0,1,0]],[q([1,0,1,1]),[1,0,1,1]],[q([1,1,0,0]),[1,1,0,0]],[q([1,1,0,1]),[1,1,0,1]],[q([1,1,1,0]),[1,1,1,0]],[q([1,1,1,1]),[1,1,1,1]]]);function C(e,t,a){return e+(t-e)*a}function q(e){var t=C(e[0],e[1],.75),a=C(e[2],e[3],.75);return C(t,a,.875)}function F(e,t){var a=0;return 1===t[3]&&1!==e[1]&&1!==e[3]&&(a+=1),1===a&&1===t[2]&&1!==e[0]&&1!==e[2]&&(a+=1),a}var D=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a,s,r,i,y,c,u,h,o=new Uint8ClampedArray(2178),w=new Uint8ClampedArray(4096);for(t=0;t<33;++t)for(e=0;e<66;++e)a=.03125*e,s=.03125*t,p.has(a)&&p.has(s)&&(i=p.get(a),y=p.get(s),o[r=66*t+e]=127*(c=i,h=void 0,h=0,1===(u=y)[3]&&(h+=1),1===h&&1===u[2]&&1!==c[1]&&1!==c[3]&&(h+=1),h),o[r+33]=127*F(i,y));for(r=0,t=17;t<33;++t)for(e=0;e<64;++e,r+=4)w[r]=o[66*t+e],w[r+3]=255;return new n(64,16,w)}}]),t}();self.addEventListener("message",(function(e){var t=M.generate(),a=D.generate();postMessage({areaImageData:t,searchImageData:a},[t.data.buffer,a.data.buffer]),close()}))}();
`;function Koe(t=!1){let n=URL.createObjectURL(new Blob([Zoe],{type:"text/javascript"})),i=new Worker(n);return new Promise((s,l)=>{i.addEventListener("error",e=>l(e.error)),i.addEventListener("message",e=>{let p=yA.from(e.data.searchImageData),v=yA.from(e.data.areaImageData),w=[p.toCanvas().toDataURL(),v.toCanvas().toDataURL()];!t&&window.localStorage!==void 0&&(localStorage.setItem("smaa-search",w[0]),localStorage.setItem("smaa-area",w[1])),URL.revokeObjectURL(n),s(w)}),i.postMessage(null)})}var YF=class extends pe.Loader{constructor(n){super(n);this.disableCache=!1}load(n=()=>{},i=()=>{}){arguments.length===4?(n=arguments[1],i=arguments[3]):(arguments.length===3||typeof arguments[0]!="function")&&(n=arguments[1],i=()=>{});let s=this.manager,l=new pe.LoadingManager;return s.itemStart("smaa-search"),s.itemStart("smaa-area"),l.itemStart("smaa-search"),l.itemStart("smaa-area"),new Promise((e,p)=>{let v=!this.disableCache&&window.localStorage!==void 0?[localStorage.getItem("smaa-search"),localStorage.getItem("smaa-area")]:[null,null],w=v[0]!==null&&v[1]!==null?Promise.resolve(v):Koe(this.disableCache);w.then(E=>{let T=[new Image,new Image];l.onLoad=()=>{n(T),e(T)},T[0].addEventListener("load",()=>{s.itemEnd("smaa-search"),l.itemEnd("smaa-search")}),T[1].addEventListener("load",()=>{s.itemEnd("smaa-area"),l.itemEnd("smaa-area")}),T[0].src=E[0],T[1].src=E[1]}).catch(E=>{s.itemError("smaa-search"),s.itemError("smaa-area"),i(E),p(E)})})}},mn=ur(ho()),xl=ur(Ra()),e0=(t,n=Jn.NORMAL)=>mn.forwardRef(function(i,s){let{blendFunction:l,opacity:e}=i,p=ml(i,["blendFunction","opacity"]),v=mn.useMemo(()=>new t(p),[p]);return mn.useLayoutEffect(()=>{v.blendMode.blendFunction=l||n,e!==void 0&&(v.blendMode.opacity.value=e)},[l,v.blendMode,e]),mn.default.createElement("primitive",{ref:s,object:v,dispose:null})}),GT=(t,n)=>{let i=t[n];return mn.useMemo(()=>{if(i instanceof xl.Vector2)return new xl.Vector2().set(i.x,i.y);if(Array.isArray(i)){let[s,l]=i;return new xl.Vector2().set(s,l)}},[i])},$oe=()=>{try{var t=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!t.getContext("webgl2"))}catch(n){return!1}},fG=e0(kT,Jn.SCREEN),sce=e0(vF),ace=mn.forwardRef(function(t,n){let i=GT(t,"offset"),s=mn.useMemo(()=>new xF(Jr({},t,{offset:i})),[i,t]);return mn.default.createElement("primitive",{ref:n,object:s,dispose:null})}),lce=mn.forwardRef(function({blendFunction:t=Jn.NORMAL},n){let i=mn.useMemo(()=>new gF(t),[t]);return mn.default.createElement("primitive",{ref:n,object:i,dispose:null})}),uce=e0(yF),cce=e0(EF),Sx=mn.createContext(null),hG=mn.default.memo(mn.forwardRef(({children:t,camera:n,scene:i,renderPriority:s=1,depthBuffer:l,stencilBuffer:e,multisampling:p=8,frameBufferType:v=xl.HalfFloatType},w)=>{let{gl:E,scene:T,camera:C,size:R}=Hf();i=i||T,n=n||C;let[B,A]=mn.useMemo(()=>{let O=new pF(E,{depthBuffer:l,stencilBuffer:e,multisampling:$oe()?p:0,frameBufferType:v});O.addPass(new gh(i,n));let U=new dF(i,n);return O.addPass(U),[O,U]},[n,E,l,e,p,v,i]);mn.useEffect(()=>B==null?void 0:B.setSize(R.width,R.height),[B,R]),Xf((O,U)=>B.render(U),s);let H=mn.useRef();mn.useEffect(()=>{let O;return H.current&&B&&(O=new hF(n,...H.current.__objects),B.addPass(O),O.renderToScreen=!0),()=>{O&&(B==null||B.removePass(O))}},[B,n]);let G=mn.useMemo(()=>({composer:B,normalPass:A,camera:n,scene:i}),[B,A,n,i]);return mn.useImperativeHandle(w,()=>B,[B]),mn.default.createElement(Sx.Provider,{value:G},mn.default.createElement("group",{ref:H},t))})),fce=mn.forwardRef(function(t,n){let{target:i,depthTexture:s}=t,l=ml(t,["target","depthTexture"]),{camera:e}=mn.useContext(Sx),p=mn.useMemo(()=>new wF(e,l),[e,l]);return mn.useLayoutEffect(()=>{if(i){let v=i instanceof xl.Vector3?new xl.Vector3().set(i.x,i.y,i.z):new xl.Vector3().set(i[0],i[1],i[2]);p.target=v}s&&p.setDepthTexture(s.texture,s.packing)},[i,s,p]),mn.default.createElement("primitive",{ref:n,object:p,dispose:null})}),hce=e0(AF),dG=mn.forwardRef(function(t,n){let{active:i}=t,s=ml(t,["active"]),l=GT(s,"delay"),e=GT(s,"duration"),p=GT(s,"strength"),v=mn.useMemo(()=>new MF(Jr({},s,{delay:l,duration:e,strength:p})),[l,e,s,p]);return mn.useLayoutEffect(()=>{v.mode=i?s.mode||yh.SPORADIC:yh.DISABLED},[i,v,s.mode]),mn.default.createElement("primitive",{ref:n,object:v,dispose:null})}),dce=mn.forwardRef(function(t,n){let{camera:i}=mn.useContext(Sx),s=mn.useMemo(()=>new TF(i,t.sun,t),[i,t]);return mn.default.createElement("primitive",{ref:n,object:s,dispose:null})}),pce=mn.forwardRef(function(t,n){let{size:i}=t,s=ml(t,["size"]),l=mn.useMemo(()=>new bF(s),[s]);return mn.useLayoutEffect(()=>{i&&l.setSize(i.width,i.height)},[l,i]),mn.default.createElement("primitive",{ref:n,object:l,dispose:null})}),mce=e0(CF),pG=e0(LF,Jn.COLOR_DODGE),vce=mn.forwardRef(function(t,n){let{selection:i=[],selectionLayer:s=10,blendFunction:l,patternTexture:e,edgeStrength:p,pulseSpeed:v,visibleEdgeColor:w,hiddenEdgeColor:E,width:T,height:C,kernelSize:R,blur:B,xRay:A}=t;ml(t,["selection","selectionLayer","blendFunction","patternTexture","edgeStrength","pulseSpeed","visibleEdgeColor","hiddenEdgeColor","width","height","kernelSize","blur","xRay"]);let{scene:H,camera:G}=mn.useContext(Sx),O=mn.useMemo(()=>new PF(H,G,{blendFunction:l,patternTexture:e,edgeStrength:p,pulseSpeed:v,visibleEdgeColor:w,hiddenEdgeColor:E,width:T,height:C,kernelSize:R,blur:B,xRay:A}),[l,B,G,p,C,E,R,e,v,H,w,T,A]);return mn.useEffect(()=>{O.clearSelection(),O.setSelection(Array.isArray(i)?i.map(U=>U.current):[i.current])},[O,i]),mn.useEffect(()=>{O.selectionLayer=s},[O,s]),mn.default.createElement("primitive",{ref:n,object:O,dispose:null})}),gce=mn.forwardRef(function({granularity:t=5},n){let i=mn.useMemo(()=>new RF(t),[t]);return mn.default.createElement("primitive",{ref:n,object:i,dispose:null})}),yce=e0(DF,Jn.OVERLAY),xce=mn.forwardRef(function({selection:t=[],selectionLayer:n=10,lights:i=[],luminanceThreshold:s,luminanceSmoothing:l,intensity:e,width:p,height:v,kernelSize:w},E){i.length===0&&console.warn("SelectiveBloom requires lights to work.");let{scene:T,camera:C}=mn.useContext(Sx),R=mn.useMemo(()=>new FF(T,C,{blendFunction:Jn.SCREEN,luminanceThreshold:s,luminanceSmoothing:l,intensity:e,width:p,height:v,kernelSize:w}),[C,v,e,w,l,s,T,p]);return mn.useEffect(()=>{R.selection.set(Array.isArray(t)?t.map(B=>B.current):[t.current])},[R,t]),mn.useEffect(()=>{R.selection.layer=n},[R,n]),mn.useEffect(()=>(i.forEach(B=>((A,H)=>{A.current.layers.enable(H.selection.layer)})(B,R)),()=>i.forEach(B=>((A,H)=>{A.current.layers.disable(H.selection.layer)})(B,R))),[R,i,n]),mn.default.createElement("primitive",{ref:E,object:R,dispose:null})}),Ece=e0(BF),wce=mn.forwardRef(function(t,n){let{camera:i,normalPass:s}=mn.useContext(Sx),l=mn.useMemo(()=>new OF(i,s.renderTarget.texture,Jr({blendFunction:Jn.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5},t)),[i,s.renderTarget.texture,t]);return mn.default.createElement("primitive",{ref:n,object:l,dispose:null})}),mG=mn.forwardRef(function({preset:t=Vv.HIGH,edgeDetectionMode:n=UT.COLOR},i){let s=xv(YF,""),l=mn.useMemo(()=>new NF(...s,t,n),[s,t,n]);return mn.default.createElement("primitive",{ref:i,object:l,dispose:null})}),Ace=mn.forwardRef(function(t,n){let{textureSrc:i,texture:s}=t,l=ml(t,["textureSrc","texture"]),e=xv(xl.TextureLoader,i);mn.useLayoutEffect(()=>{e.encoding=xl.sRGBEncoding,e.wrapS=e.wrapT=xl.RepeatWrapping},[e]);let p=mn.useMemo(()=>new UF(Jr({},l,{texture:e||s})),[l,e,s]);return mn.default.createElement("primitive",{ref:n,object:p,dispose:null})}),_ce=e0(kF),Mce=e0(GF);hm({GlitchPass:OT,ShaderPass:lT,RenderPass:uT,FilmPass:IT,UnrealBloomPass:Pm,SMAAPass:NT});function VF(){let t=pf.useRef(),n=pf.useRef(),{scene:i,gl:s,size:l,camera:e,viewport:p}=Hf(),v=p().factor;return pf.default.createElement(pf.Suspense,{fallback:null},pf.default.createElement(hG,{multisamping:0},pf.default.createElement(dG,{delay:[1.5,3.5],duration:[.1,.2],strength:[.05,.1],mode:yh.SPORADIC,active:!0,ratio:.5}),pf.default.createElement(mG,null),pf.default.createElement(pG,{opacity:.1,premultiply:!0,blendFunction:Jn.NORMAL}),pf.default.createElement(fG,{intensity:.5,luminanceSmoothing:.025,luminanceThreshold:.8})))}function xA({color:t="#fff",children:n,...i}){return xi.default.createElement(wc,{...i},(s,l)=>s&&l&&xi.default.createElement(ZD,{color:t,width:s,height:l},n))}var ese=xi.default.memo(({width:t,height:n})=>{let i=50,s=i/2,l=i*2;return xi.default.createElement(xi.default.Fragment,null,xi.default.createElement("ambientLight",{args:[16777215,.5]}),xi.default.createElement("directionalLight",{args:["#fff",.5]}),xi.default.createElement(KD,{width:t,height:n,color:"#fff",opacity:.1}),xi.default.createElement(zU,{scaleFactor:2,flexDirection:"row",position:[0,n,0],size:[t,n,0],padding:s},xi.default.createElement(xA,{marginRight:s,flexBasis:200,height:"100%",color:"#fff"},xi.default.createElement(RT,null)),xi.default.createElement(xA,{marginRight:s,height:"100%",flexShrink:1,flexBasis:0,flexGrow:1,color:"#fff"},xi.default.createElement(wc,{marginTop:10,width:"100%",height:"100%",centerAnchor:!0},(e,p)=>xi.default.createElement(xi.Suspense,{fallback:null},xi.default.createElement($D,{scale:[Math.min(e,p)/3,Math.min(e,p)/3,Math.min(e,p)/3]})))),xi.default.createElement(wc,{width:200,height:"auto"},xi.default.createElement(xA,{width:"100%",flexShrink:1,flexBasis:95,flexGrow:0,color:"#fff",alignItems:"center"},xi.default.createElement(RT,null)),xi.default.createElement(xA,{width:"100%",flexShrink:1,flexBasis:0,flexGrow:4,color:"#fff",alignItems:"center",justifyContent:"center",marginTop:s,padding:10},xi.default.createElement(wc,{centerAnchor:!0},xi.default.createElement(tF,null))),xi.default.createElement(xA,{width:"100%",flexShrink:1,flexBasis:0,flexGrow:8,color:"#fff",marginTop:s}))))});function tse(){let{size:t}=Hf();return xi.default.createElement(ese,{width:t.width,height:t.height})}function WF(){return xi.default.createElement("div",{style:{background:`
          linear-gradient(40deg, rgba(94,123,255,.1), rgba(188,246,255,0) 40%),
          linear-gradient(230deg, rgba(255,123,94,.08), rgba(255,246,188,0) 40%), 
          url("data:image/png;base64,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") center center repeat rgb(14, 14, 14)`,height:"100vh",width:"100vw",margin:-8}},xi.default.createElement(tO,{colorManagement:!1,pixelRatio:window.devicePixelRatio,gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},xi.default.createElement(nF,null),xi.default.createElement(tse,null),xi.default.createElement(PU,null),xi.default.createElement(xi.Suspense,{fallback:null},xi.default.createElement(VF,null))))}var El=ur(ho()),Vi=ur(ho());function EA(){return Vi.createElement("svg",{style:{position:"absolute",width:"100%"}},Vi.createElement("defs",null,Vi.createElement("filter",{id:"filter"},Vi.createElement("feFlood",{floodColor:"black",result:"black"}),Vi.createElement("feFlood",{floodColor:"red",result:"flood1"}),Vi.createElement("feFlood",{floodColor:"limegreen",result:"flood2"}),Vi.createElement("feOffset",{in:"SourceGraphic",dx:"3",dy:"0",result:"off1a"}),Vi.createElement("feOffset",{in:"SourceGraphic",dx:"2",dy:"0",result:"off1b"}),Vi.createElement("feOffset",{in:"SourceGraphic",dx:"-3",dy:"0",result:"off2a"}),Vi.createElement("feOffset",{in:"SourceGraphic",dx:"-2",dy:"0",result:"off2b"}),Vi.createElement("feComposite",{in:"flood1",in2:"off1a",operator:"in",result:"comp1"}),Vi.createElement("feComposite",{in:"flood2",in2:"off2a",operator:"in",result:"comp2"}),Vi.createElement("feMerge",{x:"0",width:"100%",result:"merge1"},Vi.createElement("feMergeNode",{in:"black"}),Vi.createElement("feMergeNode",{in:"comp1"}),Vi.createElement("feMergeNode",{in:"off1b"}),Vi.createElement("animate",{attributeName:"y",id:"y",dur:"4s",values:"104px; 204px; 300px; 105px; 30px; 2px; 2px; 50px; 400px; 105px; 105px; 20px; 63px; 700px; 104px; 40px; 70px; 10px; 400px; 104px; 102px",keyTimes:"0; 0.362; 0.368; 0.421; 0.440; 0.477; 0.518; 0.564; 0.593; 0.613; 0.644; 0.693; 0.721; 0.736; 0.772; 0.818; 0.844; 0.894; 0.925; 0.939; 1",repeatCount:"indefinite"}),Vi.createElement("animate",{attributeName:"heigha",id:"h",dur:"4s",values:"10px; 0px; 10px; 30px; 50px; 0px; 10px; 0px; 0px; 0px; 10px; 50px; 40px; 0px; 0px; 0px; 40px; 30px; 10px; 0px; 50px",keyTimes:"0; 0.362; 0.368; 0.421; 0.440; 0.477; 0.518; 0.564; 0.593; 0.613; 0.644; 0.693; 0.721; 0.736; 0.772; 0.818; 0.844; 0.894; 0.925; 0.939; 1",repeatCount:"indefinite"})),Vi.createElement("feMerge",{x:"0",width:"100%",y:"60px",height:"65px",result:"merge2"},Vi.createElement("feMergeNode",{in:"black"}),Vi.createElement("feMergeNode",{in:"comp2"}),Vi.createElement("feMergeNode",{in:"off2b"}),Vi.createElement("animate",{attributeName:"y",id:"y",dur:"4s",values:"103px; 104px; 69px; 53px; 42px; 104px; 78px; 89px; 96px; 100px; 67px; 50px; 96px; 66px; 88px; 42px; 13px; 100px; 100px; 104px;",keyTimes:"0; 0.055; 0.100; 0.125; 0.159; 0.182; 0.202; 0.236; 0.268; 0.326; 0.357; 0.400; 0.408; 0.461; 0.493; 0.513; 0.548; 0.577; 0.613; 1",repeatCount:"indefinite"}),Vi.createElement("animate",{attributeName:"height",id:"h",dur:"4s",values:"0px; 0px; 0px; 16px; 16px; 12px; 12px; 0px; 0px; 5px; 10px; 22px; 33px; 11px; 0px; 0px; 10px",keyTimes:"0; 0.055; 0.100; 0.125; 0.159; 0.182; 0.202; 0.236; 0.268; 0.326; 0.357; 0.400; 0.408; 0.461; 0.493; 0.513;  1",repeatCount:"indefinite"})),Vi.createElement("feMerge",null,Vi.createElement("feMergeNode",{in:"SourceGraphic"}),Vi.createElement("feMergeNode",{in:"merge1"}),Vi.createElement("feMergeNode",{in:"merge2"})))))}var nse=({children:t})=>{let n=El.default.useRef(),i=El.default.useRef(),[s,l]=El.useState();return El.useEffect(()=>{let e=setInterval(()=>{l(Math.random())},1e3);return()=>clearInterval(e)},[]),El.default.useEffect(()=>{let{offsetWidth:e,offsetHeight:p}=n.current.parentNode,v=i.current.getContext("2d");i.current.width=e,i.current.height=p;let w=Math.floor(Math.random()*2)+.5,E=Math.random()>.9?.6:.4,T=vx(window.innerWidth-40,window.innerHeight-40,20,20);v.strokeStyle="#fff",v.stroke(new Path2D(T)),T+=gx({width:e,height:p}),v.strokeStyle="rgba(255,255,255,.2)",v.stroke(new Path2D(T))},[s]),El.default.createElement("div",{ref:n,style:{filter:"url(#filter)",position:"relative",height:"100%"}},El.default.createElement("canvas",{width:"100%",height:"100%",style:{position:"absolute"},ref:i}),El.default.createElement("div",{style:{margin:"40px 40px 40px 40px",background:"#fff",fontFamily:"Monaco",padding:".3em 1em .2em 1em",display:"inline-block",color:"#333"}},"TRENDING"),El.default.createElement("div",{style:{fontSize:4,fontFamily:"Helvetica Neue",margin:"-20px 20px 20px 40px",width:60,color:"#fff"}},"The highly customizable and versatile GraphQL client with which you add on features like normalized caching as you grow."))};function jF(){return El.default.createElement("div",{style:{background:`
          linear-gradient(40deg, rgba(94,123,255,.1), rgba(188,246,255,0) 40%),
          linear-gradient(230deg, rgba(255,123,94,.08), rgba(255,246,188,0) 40%), 
          url("data:image/png;base64,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") center center repeat rgb(14, 14, 14)`,height:"100vh",width:"100vw",margin:-8}},El.default.createElement(EA,null),El.default.createElement(nse,null),El.default.createElement("div",{style:{fontSize:1500,position:"absolute",top:-1e3,left:0,fontWeight:"bold",fontFamily:"Helvetica Neue",color:"rgba(255,255,255,.01)"}},"S"))}var eu=ur(ho()),rse=()=>{let[t,n]=eu.useState();eu.useEffect(()=>{let p=setInterval(()=>{n(Math.random())},1e3);return()=>clearInterval(p)},[]);let i=Math.floor(Math.random()*2)+.5,s=Math.random()>.9?.6:.4,l=vx(window.innerWidth-40,window.innerHeight-40,20,20),e=gx({width:window.innerWidth,height:window.innerHeight});return eu.default.createElement("div",{style:{filter:"url(#filter)",position:"relative",height:"100%"}},eu.default.createElement("svg",{style:{position:"absolute",width:"100%",height:"100%"}},eu.default.createElement("path",{fill:"transparent",stroke:"rgba(255,255,255,.5)",d:l}),eu.default.createElement("path",{fill:"transparent",stroke:"rgba(255,255,255,.05)",d:e})),eu.default.createElement("div",{style:{margin:"40px 40px 40px 40px",background:"#fff",fontFamily:"Monaco",padding:".3em 1em .2em 1em",display:"inline-block",color:"#333"}},"TRENDING"),eu.default.createElement("div",{style:{fontSize:4,fontFamily:"Helvetica Neue",margin:"-20px 20px 20px 40px",width:60,color:"#fff"}},"The highly customizable and versatile GraphQL client with which you add on features like normalized caching as you grow."))};function QF(){return eu.default.createElement("div",{style:{background:`
          linear-gradient(40deg, rgba(94,123,255,.1), rgba(188,246,255,0) 40%),
          linear-gradient(230deg, rgba(255,123,94,.08), rgba(255,246,188,0) 40%), 
          url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAb/klEQVR4Xn3dW5IcxRJFUemDEcGYYEwwJhgT1zxNq2zrkH310/XIjAh3Pw+PqK7W9z///POXb9++ffv111+//fPPP8/Pv/766156Hnv+559/Pq99//79ee3+/f7779/++OOPb/de77n3bqx73bj3mmvu599///2598Yw3/28++7+u87999pdZ87Ofdfe8/tp3ru2sTwT/Bjbe31+93eNjb3jGkeM7nON3JjD2nr9vffvv/9+++233z55kPvvv//++1MQSZWcTdBNdAM0sBvERIK5BVqkYjW5TZykKq4EtuA3Zwt+jxvIFc2cgrrxmvSCq+uVRPd1/nt84974BSpgyoP5/QQghbi1dqzGems8YPp3z78fQyBRsBYmeQK65wpTBN2gTXqRLVnHLMgX1DLjrr3rmsAyw7gK1gLcYwx6K0CT7jqxWGPv3yJ5DmwtCECLkRIA3KpBWXWPAezu+xTEoFAv6Pt5E92gqi8xKlzZKsruOuhWXONK2rJI0e66srXgKAMFu9Lae63BT2NfrMBU5spBVaNxYNm9JjcY2fhIM7AoIsZU/uThkaxFXDVTQYqi+oLHZU+T2vexSCIgSvJOVwuIJrVsaEGaVDLxFQOWJb0XyCSx8gw8/KnPyWOTXR9RcJJedbj3Ou+jEL/++usvb+jtpOSJHhZp1eT6jmQqFHmwQIho8gRX1AuubKPDV1BrBwJIpf9FIUnuOttAAJ04FaDNiPkqQyvXYt5iufcr2bvrH4ZA5U3CRJswcsCALKBaCAF3rSCbjOqqZFWGiu56QE0Vc+tZW4gmypwd2/q81+LQcvOQ8eak3tnH62e6KIyQ43Zf1tLu8Rz0l7u5gUu0hdBAwXp/pWsna3u7tK/magMlwgLvfjK2AWOma26tlaCO36ZFLMa96yRLEpdVcuN18QMUL+3671qSZI33mpx6jO2K+/3vv/9+uiwoEni1XEC6hhpXza6eoHgmRP9Fyga/7JP4NhCVFuMWHBjYxuQSUSmp1BZIrimj5YYELcPJqUKVme0MseVec80y7mPqUGrhEtfgtmht11z3dh/Jq94zTR1Hg9DqSnZNv3pOrmq2kttCl53uNwdAWXeR3Vg8vvvF2m1CgQcc4jYmsJXtHeNef0ydd/hZGkHSMkdx2pWUol00dBftRSLkFMVlLX+i6RBJfrpXeWur9zX3SRzJ1nhgYJPfhHtc8Gqlb6yCok1J191OUVHu3ochRVrbsLdA2iGQMBNJuAm2G5NYCYRi85RlCgZVvbbyt2uQxOq7e3dPpHEpmwBPsQDj7oX4yswy7U3W3cdjNCWNTbzPxrD6rPoCs9gujOk28WUQ1tQMMcqCq8PV2cobrVUwARVAvGrltHNj7l3TZFhLi11wWRfvYPpkthLUPVRBjdWah7b9lWsxfv/333+fs6xqZOlZ82mLuZpZA5U41JU0hfJ6C9HxWtwtYK97M1HovfeuyXhk4MexjWRXUip3fK3tvWsLvnpDwQJklTRJx7gC567vBvSueRiiGBZXutJEEoA5ku7a1fEyCpJKb691E0jSFsWOJwBHsiVj2/FuYLWZDV5CyVAlq0XTDPAHUtkcVKbvsbnfmhX3y1nHV4PPaa83VdCiS2HU7cas5l4ZYpA9OtDJkSJMKBCWAXbjkmI8zwVu/W0GPC5oPNa5YVR1vps5cdxPHkQp5KPNRiVfAZh/G5nKL5Y8QHOWBW1a2fuJHbcA9KeFW2XFqO4acw25TPCYvu/Gqeiv5LUdbzMgwYDUYxDgKdOsjY8CSzfLC1Jq8ca6dporfQWsYu2JyNP2thuCWt7hucpL8ia+10kyJLkWKouwXZhk9UyqYxtLMlqwanh9aBPaonlchaifSvBuHstI8Wwrq/lp0bGkoJCXm/c5OulF9LES0X5bAtFVgUgHA60PldI14p3LWAIkIwJq57cGWoBIaNdabVesNgzriZUejyWu+WqeWoBeu+BCgHqR1x7JIgVo/ob+fkoncW8mV5nqGU+p2WOVFrIFaRDQyNytTxKLNkBQlPodNpQ9BU73KW1TXVP5E8O23fWw3ZM0NwoJoOb4fEDFyFwoUV1Eu5HqqHsqVV1YE+A0wPhtGnReEkwuLLZA8LiJ62ltQbWdkPUWUGWT6zdpZBxjAOWu6zleEy+vVKZroQCN7/EQL0BIE1/5EHwX1J4eIiyiumvjJMhu7rrIS0zpXi/rWgBi9xSuX3nTrVk7Bom1vkFiVzLrr+Z/y9lXct2Ocz9buvV+jk5QuRXzmHnez3Y29BKqy5g1V0G3YJUdCSBBbVe7d9k5dTHtzHbdlcFKsjkqU5W+Moz0SnS94q21rjfemJIvL2JS4Mrsc/zeVpZh/T+UFgGKib6CWh9a+m+b3L2IxDW5mIABbXXLHB3VdjhNUkGkYE3sAgRQKnHtrLDa3HJQJSmY+37HvNc/bW91s9RsgHpzgwu6yV5GlZpkoRrLdyTBB03MzuuXsGXVG3huTd0/VffF8obqr7oszcgb0o23+wtr77GI4nS/g53muPGesyyJxZR+/AhZTSwJqkeotIJIJKZdEW4B/Ryk1GX2i7JtMUt/Zlp2VhZImaJoJIpQHeat02MgqRfeukhkN8mSb90r4dZmDeudVMD9T5flRVJRrV4UVnPbPd3Ekl9T7Ov1mSLPfQpUttzaera1HiFJDXzX1aah3V/B0i6rBXRK0Zi2uSm7yoQaPlUoS+XD3DfuT4eLbiJBguQT29EUDWVSd/6VHOO2zYO8Ir9U7z6isioYMlZPaQfUpLebrHx6LN71VDLj12gxR8wA7LkCWW9ZJB9Y2K7z7n9MHYp7pHGD9NdsVL7Fepuou/pNWo2efLUVdD291tk1QV+BQ7Iby72muG/+ZSxAlNiuA5PbCcnNxWCOe1xvrUTv5yiALQeV6Z9OeyXd4jtBN2mCJielON3+KhD+02aBDJGsfohTHe/6Vg4aJOZWqtp4fPT6x29kFtmK0xNaiN+OSBuvWPWv5qjspQhtbAD1I1nMTDK7O+chlZlqfhFZSVk/6ntF4h7JCHLZVy9izi1qO52udZuAdjQY0iP++ukB4573yKZorp+JT3LrhwoJ6G0k6i2PX51kQYALPUcpCYDudlf1iO2QaLL7yiTJqJTQ6rtektpGM+u2xDXYSlCN0vWAhO2Nc8FU/2wcG7sCvPmi8UlgZVVOKnmPh/h+CJOBtGqmANZHat5tMbd7EBA9X1PU+bgOS+55k6c4ZYjHxigaK4X3OhnyOnSWlaTNe71WwXcrQIbWqOuPX0mUHH5k9E57q3FNfjdiApU0aC0NizIFZXz6fEFhVqVIYDcvNt16dDdbaGuobArsflZaobUSYe1iaxHsNSrfeyKgMIpYmWpj0P1NC7wbx0eyfEC1JmaSTVxNtsGVjh4v8iRuWUhSyrg1Xsm7JDsxqBQqdPc31lffME6BVUaSacm/ZJoPSHR/nltHTb4e6n25u1zv7yoA12en3ja0G8MGVY1uF1FmLEt6XYtZXXXPIgwCBVcm9Dh7ZaXJlgwMqa6TQJ9pVAq7ye3n+NZCAtv61tvE0iJZ53pgVeSns6wG0gqvYaEg3W6hBEJ+KmllwFfsUpwacYPbzVc9Zg3WGEWy4EnagqzK0LW0uRB3f+MRiNcrysiyTvF57133mDrJ6r6hGo5KbwOUigLspKUomkNoW796h8ahLG3D0e4EgBTJe92ddz31lya7TFQgslqj3sIao6befVg/HtgGor5VKfzpO4Y1oh6TKIYFlLYrJyj6ZoAdpzK1+x5ovEX3awPu4Wtl8d1DEhZE++HUXdeO723+eqJCV/76/hu4loHAo03vt3Ct5WJ4GKJaG2Dp5r0ip21oEVfaCvYr08eI/nZhm4Lq7rbNNXLyRHLcJxHmwX5x9KysiG7jYcy26+QXENoJFvGaEPEZt52t/F98z8awrq+rsIOml5IvQElrV1KErl9sF7dSgAl8oObrWqyzgew1WAE4klJPqHxJvvm6aQQuKtHG5t7bX2yo31VG7z4eZz3m7XrF8Wl7i56iW1KrnRakYNVRiN2kQkATuJu0dlgkqe0qnYe4jmW+u6/gauMAOJXNek0TBPUFgnH3eMl4ilc/a9wALafWU5v4SFbbrtLtqdgXB3DtKgSjOFDJRDt57+siJafmf+MVud1IQSXqWzcWVPebGBqO4UVs10YZ7rpKVaWwcVdmW8jGAHQFvYJa/+fohNG1YkWY16Gxp7/YwshOfiyk5g5dpXUbhMpiNbyIbUJr7hIFgZJF3tzXVliyt3vqnw/pHqXGTFX4rDV23jKderj+rbO7a57fXDSpYKBLx9Tuwket3RtIJB/oCe7eWxZJYiVH4dtoSCrk1cfKrBaXtClEmWAN1mZ+TCA/t4bKrzGAdxHfcaiDYpPYFrI5xM7P90N6TN0FC3j3FyaU1P5sMosE6CxD2smtvmNJ/QVrjdugsLKbRVJShJLUyswiVgKx6O3wtGxs11RZaxPQBqhgaJE+3zFsBSVpg3ANWkpwJasLU0TvS2blg3EDAYYsCstiaOq13UhKLmB4r3N1P4ARCvrVt6GsodLVgknyfpVb4Qvuu7Z5c83nDwes+9fIisa2iS1YzRTbIKJfhKyR99hAkDXpNgPks2AoqjHFuoGqretd349TsVyiemjZ2Ejmrdf8GiGx1sjLeiBeO2jTIXc3z8MQtOpArV57+iIZ9bfj2S7C5FDJ7Oo1FizJCrAtaHv+Nh1roGQA8t7YrSD1pl7XuACG4W93VFaK1zXNU1kCkF3jszH0gkktsAWCwH2tyZbEFkQBfdfPx6I6siau89YboNK4BUuNV8NhHYrcDpHstOBdt/iMJanWUFa5dpks5spoFaRrrsfdOj7foDKhQWo0CiWJd2M7sBptz/nv9f5SmesqW7yCVO1PEiTIlRkoZqQktQgmP7qwnl0VPDe2D8SoRlviyljn4T1lxL1vPkAr426uroPvfCSr+4VKSzsWbKiOl/ZrxK0+2lp029X6h80fhJpToZqoNiLtYJoIyShojLndmybA+2Soa5XUlUBsuXvkbOVVPjC2iiSPn1+2ZlL1CwPUyPthTRnTRFciaHuDk2yFxcZ2bW0pjQ2JXQNG1+CNK5bKpTEksD5kn9FuTHE1B3JRZt6Y/UNmVZQbv/sVie9BafPw+cMBpAH1/VwJcbMCQkoLuZpfiYK20h8ye761m8EmotrdX+YjOW1jxQEEJIm0FjAtZFvcss94Ertgfdt3URwqVH9sR/oU1rdw7WzbcUgk/YbMXlMZu4nWUHc8168smKPtaxdbTS66sbTyuAaKgW8sAgb3G7s/ew323GvGEwu2Ye0bqLGnht/W/D/7kGpu/QNF732JEkQrvmyQnEpWtbSJJHWCLdWru1BZf8GubT8xf6W4ySyCSRTm1/vqX/UVia/0botf4FQm23zc3J8/YFaaS2oTtMcRRX6RUHp3UTZkbQJqvjXom1ehip4bm1Y3QLK6m6+VOfF07PWNrySVxBawZVU7KOAAmLJB0TCwLffT9voDZqVbTXRR6Loal0U2YEm1ZyA5K1lFyFvCmKL79wilHc2bxBVIBUBZWsO+NSgwGfdp35r1jQEg8oKJgLfyWqaS6ebg86VPk23FIOYt6TVEyWzXY8Ke7Rivx9o1+CYKC8zTrq6Fhc6VIWgUmw+ZmhQsBiBx1odWtiS5aJc3eej9PSIqUMsqa/r8vSxmVa1vt1Stb5tmcQbcllcymnQL0UnxjCa00rfUJ5HrJTTeeNbZ9RbJ5tAW7/3YdfP0FOCtQG3T29gosA6w+cVGObx8fApyN0Jvj0m25VsD2++QvG0k2xA0WUU+3/Lh1i28gFiUdb2YSGpIQFtTaK50FqHGq0IAUT1Hu08J6rNl9zYZlfquvWt+PPK+Y9j+HxrRu5+e1ZBVfo+kV5sFIGlFLU2/e5ykShIDv/v6nUforP6uFvOS+s0m3DwtunEa25tsUoMes7RQlVPg6GZTjromcz4FsSgS0ARVCy2k+w2VX3RgSvc3/ZCnZleZM043nisRTzfy44+TNWEtdn2ljQEmWreiAVsRL7Fr8u0e776utUUl180vD6kPWcvl57MPEYBi3M9qaOlrUnpIxkq/+kNbPI/Xh4y/Gy+y1jnInoSRVcmsX0mKn21B64uS0vYfQK1VMc1jbdBdY999l/1QVYYsK9KzD+lflDNIA4PqLqKaqgjdHN6kkANN/ZCqydlCW6Rr1iALhkqDddQryEWLcsxqIgHnXqtMu6ZIbjKxlpmT2LIFcCQc2J14KH6L9RRE0KVtqyegSloT090wNJlMIVuwttIWC2U6mu6EvbfIVwTsbqdozWWW14BsN4HdpyhUrwGA5qZNQIvXxmi/erCNQEH409cRdCAC5xlQh9alI4Q0mE5YWWNib/KkkG+7bS2jJN2YvOmNUbtTBqTGc2uRKIwm0ZJZSTTPsgTqgWI9pDL2pgxtKm6sn34vq4Oj25r2mxYKqOwQnPsVdZNVVFWCttBFqiIL0PzLNs+3i+Qj9Yuy3Doq3fLhOicQZU0bBnJZNfCaRmSZcs8/X4tG/wt2f+tCwPtLANXcbW+hEnLaaejcmliBtakQYNvXFp+Zt4vib4rh+rJbYrpXMAbPM079p8wBpHpIweb+KkcBh0mVvMfU+4cD6G3Ph9rRtBvYBZmgJr3BuV+iBfP/GoOaZ5Pbe5wnQS0ElqX1H2tvkcqKRzp+/N8kBU+lDcuqADysrOi2QaNT9dn4ntNe+wodyAWLTkU4j3HUUFZUH3UoNLuo7hGEBRqXrrc7kSjoW+PsDh4LK2W6H68pZBOJMYrQxqKeUU/Z9rmnHNZhrcYTp/ySTEW56//z14AqHQbsjrTdi4Eg0b13XzdcpKVfUtkOx0eaN8Z+RLsfjElSZWUbkO6MMdLY916TZLxHw3/8FWzSWZlqs1P2aTAkuI2MRqTsrpwBpYbn84WddhxLZcldP/CcX5CttrylZKncM68WkGzWUG9cQa6hY47r6108ruxaqfW8qC3TzH3rlRcFdc++DniUQg6wswzue49U+puLktuk1Xi6j2iCJH+DaPF0WG2rodJ9lTeBek2SoanoN04LtfucSggTrRlro8tEyBZr4ysAt+GolFXu6luNp0b/KFF/c/GtlSu126ZV5yGk+u6xRb1tDNsAGK/+0yZDg0B2auS8h9xUBkih+XvGZv62svUYoGpR6oE6qLbPZSBAF5Cbw1WCz9FJdVkFq3WtZLUb/SCuhZAEBXNNDZV2dszqdk+TG+AWswguI4z7Fl9lsN6ooGvCQKBAKzfy1s0tUGkcbmzsw2QgeNpe/8OOxFSmdsHaVkE65t57+JGWr4ZGhqCPefYTRAlxX8EAlZjb5Fe2uicoKrsBXEOVPCwkZUVxvWqZ1eS3ANbVfF28cl4v/vyJv0WYiSVDZX2A1CShrIrvF+ohXpvcDRlkKmr3Jha8HoBhEEoS+EObkru3RyJQL5l3L/NfbyxT7z5m3QJhasGjAH2t8geE95o5MPhpe28AGg79DA4SabhA0K5G3YTU1It4BWiLaE5mLpCyAa0tvDSHRoFWRvu3sAoyMS9YFs2VPPPY+2BEY20n1QbCB31vH2lomx/J8tvvmyDmyhRvcvuJootn0M/qqAStoUJ8d7Y2p17DyEpb5a6GWnZLqGQUmYqJ3e3WdEeVaaAkNZv4PXq58Xu8VIZgbZsGucPwe/4pCL3s/oAHNElf6bsEoXCDLsUltbLSORXUPEVo2UXne1zStZHPMqBmemuS6JXA/i6wcdpEyIf7K8VNfCWwMkZqmwNjfNreekUPF6HqfrYtroGirmRKnOdFK6kocusfX5l0+3vSIWDAWRBIYltfniEZbce3JSXX3XxSEiqxUr8gNh8T7xr3RPwjWVAg+dXGGlA7jAYk4JUHk7u2RdexKUAlT4H0/O6rVEJ7Udq9yhYNSOpX91r/JEaBZX1FtteAA9IbV5uI9VEStWyrPXwOF+kYFqxel2ZQUJYImPZv9XUyF8w2ChLfLmaLWJmg7dAqkVrnr7S/pl4/acMi7r4vkZgu1kpoO6YC6OJWpLJDUcjsvXfr+GwMJfytRd3NmeIVbVvAIr6Jhv56hcAqPZipWN1U3uP+eifZgEj+ULPUlOgKzVk5LeiAhiwCXz2NibepaHOgqIDTM8GC6dYgns/nIZWOTgBVgq3JWaxqu6YbIPdbqIK8dRuVhGp0W+yVPWvdREElptWD6j3dQG6R2gXpMCtl3ZEXYA4i+W73ZQVqW2B5+ek7hm1ra+aM2Ps0rzJV+VI010mWxdD3lRyLegtUF4INbRgk7m1T2b0AaWvjoMAFiHixak+UC7KyULxYWFCJrazB/nrKZ6feNpGebctYI9bmQpuktJvQStfsu/sVDLmrLLWja0HrA+4T2HNa+uMX6Mxdv+tmt6xuB9kuiv7ftZXOHusXDPeYJ7TopFDRa+JyCtyfP/EHeZCI4iaHyN3MKWSTTiYqg006tECnBWoIukjM08kVVZWRyqzCNkESDUjYwo8UvSgne9s2tz3e8WrWZWSZai01dDL/039OjGrbIUFBWVBG9Us06yuef5X8Grnk0OBNxI1RdFYyKx2CL6rrYRLS5JetTSRW7WtURNHI3P3c3TpVqA0oXLcM9/5np04nGWg1b7W9dFRltGwSdEo8Y5NZBO6XMFtwwUp0tX03hS38m3fVexSp47bb3GOjqoickCFs3Na4e6fm1LrblDxtbz8xbEeCit0zQLudPDmpbJWyGLUtbts/UgaB2815rvAO9rSKKxGuq7G2mSirrK9MaUfXsRVajsr8NjTmJ+0KVR8BFNIKcI8H+h92oNmCFURPX7MqK6DGddigkCarpChC29wacw/tVhIgqh1ff1VT4hTEHC1451cAcSiCddePWjgJFq/xscDrZUAPKYFB3jHp0/auHreLWp2zsDX0oqAbJJ0XDa3nQFd9qhLXZkGRBXHvVW4UHYvM1+MViC1rOoZ7Ki8QXR9ROEwRY5MOHG+s5UHyDjifL31KDG2j9zdYW9DuMXQbTZpkCJjJ3X3mcN8+36KQh7KswGlLK5FlXeVQcrZ9vdd96EZmrN1zzQSDrwzVc8pCjMOQBU+LpDiPDN8HVD7EUW2JWNrtXgWLViclp1rZX8Lzfu+r2WKAbqVs7b3uqUyVXRizPtM4zSXZwILhy4qaef1CrJXqst/7lT3gAcS7/j+/5MALBNnNmkre4FrjFkkwGNXjCkm14Lf3KnMFQwsC9dbXrkaz0ERA6F1v46itBpLGo+AFSBkiNmB689jd/GI1YOwvSxjjWZ//xxCaqp2rszV+wdfgLdwYpICMdS8ApdrGBlGpKsvqEUWa/Yukt9hlq3U0Qczf2AUko22DoMCKjkHWbOzu+MuAlb1axN370/+wUypX+zCjHYOF73kNlqxM7O60HrO9/I25Zi2oFuWu0W1t8m5+wXYtYqz0lY33us7LzzYFe3BaYC3IANP497NHO/zn5qQ4ny6rCRJcDesWpyB+dj9hMe5l4iZa7axRS+qN269FF+kSLCH1j/qG+0lKQUTusLrt9RaPoYu7cVUdyraOa03y4rqa+XrszfE/88fWUihSL7YAAAAASUVORK5CYII=") center center repeat rgb(14, 14, 14)`,height:"100vh",width:"100vw",margin:-8}},eu.default.createElement(EA,null),eu.default.createElement(rse,null),eu.default.createElement("div",{style:{fontSize:1500,position:"absolute",zIndex:1,top:-1e3,left:0,fontWeight:"bold",fontFamily:"Helvetica Neue",color:"rgba(255,255,255,.01)"}},"S"))}vG();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/
/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with tiny-inflate 
(https://github.com/foliojs/tiny-inflate) for use in Troika text rendering. 
Original licenses apply: 
- tiny-inflate: https://github.com/foliojs/tiny-inflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/
/**
 * postprocessing v6.18.0 build Mon Nov 02 2020
 * https://github.com/vanruesc/postprocessing
 * Copyright 2020 Raoul van Rschen
 * @license Zlib
 */
/** @license React v0.20.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.26.1
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=out.js.map
